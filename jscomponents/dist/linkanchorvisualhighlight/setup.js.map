{"mappings":"YAuBA,SAASA,EAAiCC,GAEtC,IAAMC,EAnBV,SAAqBC,EAAMC,GAGvB,IADAA,EAAUA,EAAQC,cACXF,GAAM,CACT,GAAqB,GAAjBA,EAAKG,UAAiBH,EAAKI,UAAYH,EACvC,OAAOD,EAEXA,EAAOA,EAAKK,UAChB,CACA,OAAO,IACX,CAScC,CAAYR,EAAMS,OAAQ,KACpC,GAAU,OAANR,EAAJ,CAGA,IAAMS,EAAmBT,EAAEU,aAAa,QACxC,GAAID,EAAkB,CAClB,IAAKA,EAAiBE,WAAW,KAC7B,OAEJ,IAAMC,EAAiBC,mBACnBJ,EAAiBK,UAAU,IAEzBC,EAAcC,OAAOC,SAASC,eAAeN,GACnDO,QAAQC,IAAIL,GACZA,EAAYM,UAAUC,IAAI,oBAC1BC,YACI,W,OAAMR,EAAYM,UAAUG,OAAO,mB,GACnC,IAER,CAjBI,CAkBR,CAQO,SAASC,EAAsCC,GAElD,IAAMC,EAAUX,OAAOC,SAASC,eAAeQ,GAC3CC,GACAA,EAAQC,iBAAiB,QAAS9B,EAE1C,CClDAkB,OAAOY,iBAAiB,QAAQ,WAE5BH,EAAsC,QAEtCA,EAAsC,mCAE1C,G","sources":["jscomponents/linkanchorvisualhighlight/index.js","jscomponents/linkanchorvisualhighlight/setup.js"],"sourcesContent":["// import debug_mod from 'debug';\n// const debug = debug_mod('eczoo_sitegen.jscomponents.linkanchorvisualhighlight');\n\n\n\n// Utility; cf. https://stackoverflow.com/a/4642894/1694896\nfunction getAncestor(node, tagName)\n{\n    tagName = tagName.toUpperCase();\n    while (node) {\n        if (node.nodeType == 1 && node.nodeName == tagName) {\n            return node;\n        }\n        node = node.parentNode;\n    }\n    return null;\n};\n\n\n// It's apparently a good idea to minimize the number of event listeners, so\n// we can set the listener on the #main content element.  The event can be\n// caught there, too.\n\nfunction possible_link_activated_callback(event)\n{\n    const a = getAncestor(event.target, \"a\");\n    if (a === null) {\n        return;\n    }\n    const link_target_href = a.getAttribute(\"href\");\n    if (link_target_href) {\n        if (!link_target_href.startsWith(\"#\")) {\n            return;\n        }\n        const link_target_id = decodeURIComponent(\n            link_target_href.substring(1)\n        );\n        const link_target = window.document.getElementById(link_target_id);\n        console.log(link_target);\n        link_target.classList.add(\"visual-highlight\");\n        setTimeout(\n            () => link_target.classList.remove(\"visual-highlight\"),\n            1000 // milliseconds\n        );\n    }\n}\n\n\n\n//\n// Flash corresponding anchor (citation or footnote) when a link is clicked to\n// that point\n//\nexport function setupVisualHighlightLinkEventListener(main_element_id)\n{\n    const element = window.document.getElementById(main_element_id);\n    if (element) {\n        element.addEventListener(\"click\", possible_link_activated_callback);\n    }\n}\n\n","import { setupVisualHighlightLinkEventListener } from './index.js'; // 'eczjscomponents/linkanchorvisualhighlight'; //'./index.js';\n\nimport './mystyle.css';\n\n//\n// Install event listener(s) for visual highlight effects on internal links\n// within EC Zoo pages\n//\n\nwindow.addEventListener(\"load\", () => {\n\n    setupVisualHighlightLinkEventListener('main');\n    // also do this for our navigation shortcut \"hamburger\" button\n    setupVisualHighlightLinkEventListener('nav-shortcut-to-navigation-links');\n\n});\n\n"],"names":["$8cb2fc04f507201a$var$possible_link_activated_callback","event","a","node","tagName","toUpperCase","nodeType","nodeName","parentNode","$8cb2fc04f507201a$var$getAncestor","target","link_target_href","getAttribute","startsWith","link_target_id","decodeURIComponent","substring","link_target","window","document","getElementById","console","log","classList","add","setTimeout","remove","$8cb2fc04f507201a$export$8ef812bea0db2fe5","main_element_id","element","addEventListener"],"version":3,"file":"setup.js.map"}