"use strict";
!function(){function e(e,r,n,t){Object.defineProperty(e,r,{get:n,set:t,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(e){return e&&e.__esModule?e.default:e}var t={},a={},i=r.parcelRequire7e58;function o(e,r,n,t,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?r(s):Promise.resolve(s).then(t,a)}function l(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var i=e.apply(r,n);function l(e){o(i,t,a,l,s,"next",e)}function s(e){o(i,t,a,l,s,"throw",e)}l(void 0)}))}}function s(e){if(Array.isArray(e))return e}null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,r){a[e]=r},r.parcelRequire7e58=i),i.register("cizm5",(function(e,r){var n=i("fOdIC");e.exports=function(e){var r=function(e,r){var n=a(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n},t=function(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")};function a(e){var n,t,i,o=null;function l(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(l.enabled){var i=l,o=Number(new Date),s=o-(n||o);i.diff=s,i.prev=n,i.curr=o,n=o,r[0]=a.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var _=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";_++;var t=a.formatters[n];if("function"==typeof t){var o=r[_];e=t.call(i,o),r.splice(_,1),_--}return e})),a.formatArgs.call(i,r);var u=i.log||a.log;u.apply(i,r)}}return l.namespace=e,l.useColors=a.useColors(),l.color=a.selectColor(e),l.extend=r,l.destroy=a.destroy,Object.defineProperty(l,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(t!==a.namespaces&&(t=a.namespaces,i=a.enabled(e)),i)},set:function(e){o=e}}),"function"==typeof a.init&&a.init(l),l}return a.debug=a,a.default=a,a.coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=(0,n.default)(a.names.map(t)).concat((0,n.default)(a.skips.map(t).map((function(e){return"-"+e})))).join(",");return a.enable(""),e},a.enable=function(e){var r;a.save(e),a.namespaces=e,a.names=[],a.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),t=n.length;for(r=0;r<t;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.slice(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=a.skips.length;r<n;r++)if(a.skips[r].test(e))return!1;for(r=0,n=a.names.length;r<n;r++)if(a.names[r].test(e))return!0;return!1},a.humanize=i("90Gbe"),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){a[r]=e[r]})),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}})),i.register("fOdIC",(function(r,n){e(r.exports,"default",(function(){return s}));var t=i("7CaDy"),a=i("8TZNp"),o=i("48THx"),l=i("8X9XF");function s(e){return(0,t.default)(e)||(0,a.default)(e)||(0,l.default)(e)||(0,o.default)()}})),i.register("7CaDy",(function(r,n){e(r.exports,"default",(function(){return a}));var t=i("1GA5j");function a(e){if(Array.isArray(e))return(0,t.default)(e)}})),i.register("1GA5j",(function(r,n){function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}e(r.exports,"default",(function(){return t}))})),i.register("8TZNp",(function(r,n){function t(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e(r.exports,"default",(function(){return t}))})),i.register("48THx",(function(r,n){function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e(r.exports,"default",(function(){return t}))})),i.register("8X9XF",(function(r,n){e(r.exports,"default",(function(){return a}));var t=i("1GA5j");function a(e,r){if(e){if("string"==typeof e)return(0,t.default)(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,t.default)(e,r):void 0}}})),i.register("90Gbe",(function(e,r){var n=i("3Ie7j"),t=1e3,a=6e4,o=36e5,l=864e5,s=6048e5,_=315576e5;function u(e,r,n,t){var a=r>=1.5*n;return Math.round(e/n)+" "+t+(a?"s":"")}e.exports=function(e,r){r=r||{};var i,c,f=void 0===e?"undefined":(0,n.default)(e);if("string"===f&&e.length>0)return function(e){if((e=String(e)).length>100)return;var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!r)return;var n=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*_;case"weeks":case"week":case"w":return n*s;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===f&&isFinite(e))return r.long?(i=e,(c=Math.abs(i))>=l?u(i,c,l,"day"):c>=o?u(i,c,o,"hour"):c>=a?u(i,c,a,"minute"):c>=t?u(i,c,t,"second"):i+" ms"):function(e){var r=Math.abs(e);return r>=l?Math.round(e/l)+"d":r>=o?Math.round(e/o)+"h":r>=a?Math.round(e/a)+"m":r>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}})),i.register("3Ie7j",(function(r,n){function t(e){return e&&e.constructor===Symbol?"symbol":typeof e}e(r.exports,"default",(function(){return t}))})),i.register("47ZFg",(function(r,n){
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var t,a,o;e(r.exports,"Fragment",(function(){return t}),(function(e){return t=e})),e(r.exports,"jsx",(function(){return a}),(function(e){return a=e})),e(r.exports,"jsxs",(function(){return o}),(function(e){return o=e}));var l=i("8XZMw"),s=Symbol.for("react.element"),_=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function d(e,r,n){var t,a={},i=null,o=null;for(t in void 0!==n&&(i=""+n),void 0!==r.key&&(i=""+r.key),void 0!==r.ref&&(o=r.ref),r)u.call(r,t)&&!f.hasOwnProperty(t)&&(a[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps)void 0===a[t]&&(a[t]=r[t]);return{$$typeof:s,type:e,key:i,ref:o,props:a,_owner:c.current}}t=_,a=d,o=d})),i.register("8XZMw",(function(e,r){"use strict";e.exports=i("d7NCR")})),i.register("d7NCR",(function(r,n){e(r.exports,"Children",(function(){return t}),(function(e){return t=e})),e(r.exports,"Component",(function(){return a}),(function(e){return a=e})),e(r.exports,"Fragment",(function(){return o}),(function(e){return o=e})),e(r.exports,"Profiler",(function(){return l}),(function(e){return l=e})),e(r.exports,"PureComponent",(function(){return s}),(function(e){return s=e})),e(r.exports,"StrictMode",(function(){return _}),(function(e){return _=e})),e(r.exports,"Suspense",(function(){return u}),(function(e){return u=e})),e(r.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return c}),(function(e){return c=e})),e(r.exports,"cloneElement",(function(){return f}),(function(e){return f=e})),e(r.exports,"createContext",(function(){return d}),(function(e){return d=e})),e(r.exports,"createElement",(function(){return p}),(function(e){return p=e})),e(r.exports,"createFactory",(function(){return h}),(function(e){return h=e})),e(r.exports,"createRef",(function(){return g}),(function(e){return g=e})),e(r.exports,"forwardRef",(function(){return v}),(function(e){return v=e})),e(r.exports,"isValidElement",(function(){return m}),(function(e){return m=e})),e(r.exports,"lazy",(function(){return w}),(function(e){return w=e})),e(r.exports,"memo",(function(){return y}),(function(e){return y=e})),e(r.exports,"startTransition",(function(){return k}),(function(e){return k=e})),e(r.exports,"unstable_act",(function(){return b}),(function(e){return b=e})),e(r.exports,"useCallback",(function(){return x}),(function(e){return x=e})),e(r.exports,"useContext",(function(){return P}),(function(e){return P=e})),e(r.exports,"useDebugValue",(function(){return O}),(function(e){return O=e})),e(r.exports,"useDeferredValue",(function(){return S}),(function(e){return S=e})),e(r.exports,"useEffect",(function(){return E}),(function(e){return E=e})),e(r.exports,"useId",(function(){return C}),(function(e){return C=e})),e(r.exports,"useImperativeHandle",(function(){return L}),(function(e){return L=e})),e(r.exports,"useInsertionEffect",(function(){return j}),(function(e){return j=e})),e(r.exports,"useLayoutEffect",(function(){return N}),(function(e){return N=e})),e(r.exports,"useMemo",(function(){return z}),(function(e){return z=e})),e(r.exports,"useReducer",(function(){return T}),(function(e){return T=e})),e(r.exports,"useRef",(function(){return M}),(function(e){return M=e})),e(r.exports,"useState",(function(){return I}),(function(e){return I=e})),e(r.exports,"useSyncExternalStore",(function(){return R}),(function(e){return R=e})),e(r.exports,"useTransition",(function(){return D}),(function(e){return D=e})),e(r.exports,"version",(function(){return A}),(function(e){return A=e}));
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var t,a,o,l,s,_,u,c,f,d,p,h,g,v,m,w,y,k,b,x,P,O,S,E,C,L,j,N,z,T,M,I,R,D,A,q=i("3Ie7j"),F=Symbol.for("react.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),H=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),Y=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Z=Symbol.iterator;var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ee={};function re(e,r,n){this.props=e,this.context=r,this.refs=ee,this.updater=n||K}function ne(){}function te(e,r,n){this.props=e,this.context=r,this.refs=ee,this.updater=n||K}re.prototype.isReactComponent={},re.prototype.setState=function(e,r){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")},re.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ne.prototype=re.prototype;var ae=te.prototype=new ne;ae.constructor=te,J(ae,re.prototype),ae.isPureReactComponent=!0;var ie=Array.isArray,oe=Object.prototype.hasOwnProperty,le={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function _e(e,r,n){var t,a={},i=null,o=null;if(null!=r)for(t in void 0!==r.ref&&(o=r.ref),void 0!==r.key&&(i=""+r.key),r)oe.call(r,t)&&!se.hasOwnProperty(t)&&(a[t]=r[t]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var s=Array(l),_=0;_<l;_++)s[_]=arguments[_+2];a.children=s}if(e&&e.defaultProps)for(t in l=e.defaultProps)void 0===a[t]&&(a[t]=l[t]);return{$$typeof:F,type:e,key:i,ref:o,props:a,_owner:le.current}}function ue(e){return"object"==typeof e&&null!==e&&e.$$typeof===F}var ce=/\/+/g;function fe(e,r){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return r[e]}))}(""+e.key):r.toString(36)}function de(e,r,n,t,a){var i=void 0===e?"undefined":(0,q.default)(e);"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case F:case U:o=!0}}if(o)return a=a(o=e),e=""===t?"."+fe(o,0):t,ie(a)?(n="",null!=e&&(n=e.replace(ce,"$&/")+"/"),de(a,r,n,"",(function(e){return e}))):null!=a&&(ue(a)&&(a=function(e,r){return{$$typeof:F,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(ce,"$&/")+"/")+e)),r.push(a)),1;if(o=0,t=""===t?".":t+":",ie(e))for(var l=0;l<e.length;l++){var s=t+fe(i=e[l],l);o+=de(i,r,n,s,a)}else if(s=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Z&&e[Z]||e["@@iterator"])?e:null}(e),"function"==typeof s)for(e=s.call(e),l=0;!(i=e.next()).done;)o+=de(i=i.value,r,n,s=t+fe(i,l++),a);else if("object"===i)throw r=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function pe(e,r,n){if(null==e)return e;var t=[],a=0;return de(e,t,"","",(function(e){return r.call(n,e,a++)})),t}function he(e){if(-1===e._status){var r=e._result;(r=r()).then((function(r){0!==e._status&&-1!==e._status||(e._status=1,e._result=r)}),(function(r){0!==e._status&&-1!==e._status||(e._status=2,e._result=r)})),-1===e._status&&(e._status=0,e._result=r)}if(1===e._status)return e._result.default;throw e._result}var ge={current:null},ve={transition:null};t={map:pe,forEach:function(e,r,n){pe(e,(function(){r.apply(this,arguments)}),n)},count:function(e){var r=0;return pe(e,(function(){r++})),r},toArray:function(e){return pe(e,(function(e){return e}))||[]},only:function(e){if(!ue(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},a=re,o=B,l=W,s=te,_=G,u=Q,c={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:ve,ReactCurrentOwner:le},f=function(e,r,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var t=J({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=r){if(void 0!==r.ref&&(i=r.ref,o=le.current),void 0!==r.key&&(a=""+r.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in r)oe.call(r,s)&&!se.hasOwnProperty(s)&&(t[s]=void 0===r[s]&&void 0!==l?l[s]:r[s])}var s=arguments.length-2;if(1===s)t.children=n;else if(1<s){l=Array(s);for(var _=0;_<s;_++)l[_]=arguments[_+2];t.children=l}return{$$typeof:F,type:e.type,key:a,ref:i,props:t,_owner:o}},d=function(e){return(e={$$typeof:H,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:V,_context:e},e.Consumer=e},p=_e,h=function(e){var r=_e.bind(null,e);return r.type=e,r},g=function(){return{current:null}},v=function(e){return{$$typeof:$,render:e}},m=ue,w=function(e){return{$$typeof:X,_payload:{_status:-1,_result:e},_init:he}},y=function(e,r){return{$$typeof:Y,type:e,compare:void 0===r?null:r}},k=function(e){var r=ve.transition;ve.transition={};try{e()}finally{ve.transition=r}},b=function(){throw Error("act(...) is not supported in production builds of React.")},x=function(e,r){return ge.current.useCallback(e,r)},P=function(e){return ge.current.useContext(e)},O=function(){},S=function(e){return ge.current.useDeferredValue(e)},E=function(e,r){return ge.current.useEffect(e,r)},C=function(){return ge.current.useId()},L=function(e,r,n){return ge.current.useImperativeHandle(e,r,n)},j=function(e,r){return ge.current.useInsertionEffect(e,r)},N=function(e,r){return ge.current.useLayoutEffect(e,r)},z=function(e,r){return ge.current.useMemo(e,r)},T=function(e,r,n){return ge.current.useReducer(e,r,n)},M=function(e){return ge.current.useRef(e)},I=function(e){return ge.current.useState(e)},R=function(e,r,n){return ge.current.useSyncExternalStore(e,r,n)},D=function(){return ge.current.useTransition()},A="18.2.0"})),i.register("8XwGc",(function(e,r){var n=i("aBh4o"),t=r&&!r.nodeType&&r,a=t&&e&&!e.nodeType&&e,o=a&&a.exports===t?n.Buffer:void 0,l=o?o.allocUnsafe:void 0;e.exports=function(e,r){if(r)return e.slice();var n=e.length,t=l?l(n):new e.constructor(n);return e.copy(t),t}})),i.register("aBh4o",(function(e,r){var n=i("eZ9aZ"),t="object"==typeof self&&self&&self.Object===Object&&self,a=n||t||Function("return this")();e.exports=a})),i.register("eZ9aZ",(function(e,n){var t="object"==typeof r&&r&&r.Object===Object&&r;e.exports=t})),i.register("c065E",(function(e,r){var n=i("aBh4o"),t=i("6gKFc"),a=r&&!r.nodeType&&r,o=a&&e&&!e.nodeType&&e,l=o&&o.exports===a?n.Buffer:void 0,s=(l?l.isBuffer:void 0)||t;e.exports=s})),i.register("6gKFc",(function(e,r){e.exports=function(){return!1}})),i.register("iJh8n",(function(e,r){var n=i("eZ9aZ"),t=r&&!r.nodeType&&r,a=t&&e&&!e.nodeType&&e,o=a&&a.exports===t&&n.process,l=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=l})),i.register("8vlNu",(function(r,n){e(r.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return t}),(function(e){return t=e})),e(r.exports,"createPortal",(function(){return a}),(function(e){return a=e})),e(r.exports,"createRoot",(function(){return o}),(function(e){return o=e})),e(r.exports,"findDOMNode",(function(){return l}),(function(e){return l=e})),e(r.exports,"flushSync",(function(){return s}),(function(e){return s=e})),e(r.exports,"hydrate",(function(){return _}),(function(e){return _=e})),e(r.exports,"hydrateRoot",(function(){return u}),(function(e){return u=e})),e(r.exports,"render",(function(){return c}),(function(e){return c=e})),e(r.exports,"unmountComponentAtNode",(function(){return f}),(function(e){return f=e})),e(r.exports,"unstable_batchedUpdates",(function(){return d}),(function(e){return d=e})),e(r.exports,"unstable_renderSubtreeIntoContainer",(function(){return p}),(function(e){return p=e})),e(r.exports,"version",(function(){return h}),(function(e){return h=e}));
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var t,a,o,l,s,_,u,c,f,d,p,h,g=i("3Ie7j"),v=i("8XZMw"),m=i("1qQH9");function w(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y=new Set,k={};function b(e,r){x(e,r),x(e+"Capture",r)}function x(e,r){for(k[e]=r,e=0;e<r.length;e++)y.add(r[e])}var P=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),O=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},C={};function L(e,r,n,t){if(null==r||function(e,r,n,t){if(null!==n&&0===n.type)return!1;switch(void 0===r?"undefined":(0,g.default)(r)){case"function":case"symbol":return!0;case"boolean":return!t&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,r,n,t))return!0;if(t)return!1;if(null!==n)switch(n.type){case 3:return!r;case 4:return!1===r;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function j(e,r,n,t,a,i,o){this.acceptsBooleans=2===r||3===r||4===r,this.attributeName=t,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=o}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){N[e]=new j(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var r=e[0];N[r]=new j(r,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){N[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){N[e]=new j(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){N[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){N[e]=new j(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){N[e]=new j(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){N[e]=new j(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){N[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)}));var z=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}function M(e,r,n,t){var a=N.hasOwnProperty(r)?N[r]:null;(null!==a?0!==a.type:t||!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&(L(r,n,a,t)&&(n=null),t||null===a?function(e){return!!O.call(C,e)||!O.call(E,e)&&(S.test(e)?C[e]=!0:(E[e]=!0,!1))}(r)&&(null===n?e.removeAttribute(r):e.setAttribute(r,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(r=a.attributeName,t=a.attributeNamespace,null===n?e.removeAttribute(r):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,t?e.setAttributeNS(t,r,n):e.setAttribute(r,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var r=e.replace(z,T);N[r]=new j(r,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var r=e.replace(z,T);N[r]=new j(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var r=e.replace(z,T);N[r]=new j(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){N[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)})),N.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){N[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)}));var I=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),D=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),B=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),$=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var Q=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Y=Symbol.iterator;function X(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}var Z,K=Object.assign;function J(e){if(void 0===Z)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);Z=r&&r[1]||""}return"\n"+Z+e}var ee=!1;function re(e,r){if(!e||ee)return"";ee=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(e){var t=e}Reflect.construct(e,[],r)}else{try{r.call()}catch(e){t=e}e.call(r.prototype)}else{try{throw Error()}catch(e){t=e}e()}}catch(r){if(r&&t&&"string"==typeof r.stack){for(var a=r.stack.split("\n"),i=t.stack.split("\n"),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(1!==o||1!==l)do{if(o--,0>--l||a[o]!==i[l]){var s="\n"+a[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=l);break}}}finally{ee=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?J(e):""}function ne(e){switch(e.tag){case 5:return J(e.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1);case 11:return e=re(e.type.render,!1);case 1:return e=re(e.type,!0);default:return""}}function te(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case A:return"Fragment";case D:return"Portal";case F:return"Profiler";case q:return"StrictMode";case W:return"Suspense";case V:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case G:var r=e.render;return(e=e.displayName)||(e=""!==(e=r.displayName||r.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case H:return null!==(r=e.displayName||null)?r:te(e.type)||"Memo";case $:r=e._payload,e=e._init;try{return te(e(r))}catch(e){}}return null}function ae(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=r.render).displayName||e.name||"",r.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(r);case 8:return r===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof r)return r.displayName||r.name||null;if("string"==typeof r)return r}return null}function ie(e){switch(void 0===e?"undefined":(0,g.default)(e)){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function oe(e){var r=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===r||"radio"===r)}function le(e){e._valueTracker||(e._valueTracker=function(e){var r=oe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),t=""+e[r];if(!e.hasOwnProperty(r)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return a.call(this)},set:function(e){t=""+e,i.call(this,e)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return t},setValue:function(e){t=""+e},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}(e))}function se(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),t="";return e&&(t=oe(e)?e.checked?"true":"false":e.value),(e=t)!==n&&(r.setValue(e),!0)}function _e(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(r){return e.body}}function ue(e,r){var n=r.checked;return K({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ce(e,r){var n=null==r.defaultValue?"":r.defaultValue,t=null!=r.checked?r.checked:r.defaultChecked;n=ie(null!=r.value?r.value:n),e._wrapperState={initialChecked:t,initialValue:n,controlled:"checkbox"===r.type||"radio"===r.type?null!=r.checked:null!=r.value}}function fe(e,r){null!=(r=r.checked)&&M(e,"checked",r,!1)}function de(e,r){fe(e,r);var n=ie(r.value),t=r.type;if(null!=n)"number"===t?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===t||"reset"===t)return void e.removeAttribute("value");r.hasOwnProperty("value")?he(e,r.type,n):r.hasOwnProperty("defaultValue")&&he(e,r.type,ie(r.defaultValue)),null==r.checked&&null!=r.defaultChecked&&(e.defaultChecked=!!r.defaultChecked)}function pe(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var t=r.type;if(!("submit"!==t&&"reset"!==t||void 0!==r.value&&null!==r.value))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function he(e,r,n){"number"===r&&_e(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ge=Array.isArray;function ve(e,r,n,t){if(e=e.options,r){r={};for(var a=0;a<n.length;a++)r["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=r.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&t&&(e[n].defaultSelected=!0)}else{for(n=""+ie(n),r=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(t&&(e[a].defaultSelected=!0));null!==r||e[a].disabled||(r=e[a])}null!==r&&(r.selected=!0)}}function me(e,r){if(null!=r.dangerouslySetInnerHTML)throw Error(w(91));return K({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function we(e,r){var n=r.value;if(null==n){if(n=r.children,r=r.defaultValue,null!=n){if(null!=r)throw Error(w(92));if(ge(n)){if(1<n.length)throw Error(w(93));n=n[0]}r=n}null==r&&(r=""),n=r}e._wrapperState={initialValue:ie(n)}}function ye(e,r){var n=ie(r.value),t=ie(r.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==r.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=t&&(e.defaultValue=""+t)}function ke(e){var r=e.textContent;r===e._wrapperState.initialValue&&""!==r&&null!==r&&(e.value=r)}function be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(e,r){return null==e||"http://www.w3.org/1999/xhtml"===e?be(r):"http://www.w3.org/2000/svg"===e&&"foreignObject"===r?"http://www.w3.org/1999/xhtml":e}var Pe,Oe,Se=(Oe=function(e,r){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=r;else{for((Pe=Pe||document.createElement("div")).innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,r,n,t){MSApp.execUnsafeLocalFunction((function(){return Oe(e,r)}))}:Oe);function Ee(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=r)}e.textContent=r}var Ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Le=["Webkit","ms","Moz","O"];function je(e,r,n){return null==r||"boolean"==typeof r||""===r?"":n||"number"!=typeof r||0===r||Ce.hasOwnProperty(e)&&Ce[e]?(""+r).trim():r+"px"}function Ne(e,r){for(var n in e=e.style,r)if(r.hasOwnProperty(n)){var t=0===n.indexOf("--"),a=je(n,r[n],t);"float"===n&&(n="cssFloat"),t?e.setProperty(n,a):e[n]=a}}Object.keys(Ce).forEach((function(e){Le.forEach((function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Ce[r]=Ce[e]}))}));var ze=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,r){if(r){if(ze[e]&&(null!=r.children||null!=r.dangerouslySetInnerHTML))throw Error(w(137,e));if(null!=r.dangerouslySetInnerHTML){if(null!=r.children)throw Error(w(60));if("object"!=typeof r.dangerouslySetInnerHTML||!("__html"in r.dangerouslySetInnerHTML))throw Error(w(61))}if(null!=r.style&&"object"!=typeof r.style)throw Error(w(62))}}function Me(e,r){if(-1===e.indexOf("-"))return"string"==typeof r.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ie=null;function Re(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var De=null,Ae=null,qe=null;function Fe(e){if(e=Ma(e)){if("function"!=typeof De)throw Error(w(280));var r=e.stateNode;r&&(r=Ra(r),De(e.stateNode,e.type,r))}}function Ue(e){Ae?qe?qe.push(e):qe=[e]:Ae=e}function Be(){if(Ae){var e=Ae,r=qe;if(qe=Ae=null,Fe(e),r)for(e=0;e<r.length;e++)Fe(r[e])}}function Ge(e,r){return e(r)}function We(){}var Ve=!1;function He(e,r,n){if(Ve)return e(r,n);Ve=!0;try{return Ge(e,r,n)}finally{Ve=!1,(null!==Ae||null!==qe)&&(We(),Be())}}function $e(e,r){var n=e.stateNode;if(null===n)return null;var t=Ra(n);if(null===t)return null;n=t[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(t=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!t;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(w(231,r,void 0===n?"undefined":(0,g.default)(n)));return n}var Qe=!1;if(P)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){Qe=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch(Oe){Qe=!1}function Xe(e,r,n,t,a,i,o,l,s){var _=Array.prototype.slice.call(arguments,3);try{r.apply(n,_)}catch(e){this.onError(e)}}var Ze=!1,Ke=null,Je=!1,er=null,rr={onError:function(e){Ze=!0,Ke=e}};function nr(e,r,n,t,a,i,o,l,s){Ze=!1,Ke=null,Xe.apply(rr,arguments)}function tr(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do{0!=(4098&(r=e).flags)&&(n=r.return),e=r.return}while(e)}return 3===r.tag?n:null}function ar(e){if(13===e.tag){var r=e.memoizedState;if(null===r&&(null!==(e=e.alternate)&&(r=e.memoizedState)),null!==r)return r.dehydrated}return null}function ir(e){if(tr(e)!==e)throw Error(w(188))}function or(e){return null!==(e=function(e){var r=e.alternate;if(!r){if(null===(r=tr(e)))throw Error(w(188));return r!==e?null:e}for(var n=e,t=r;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(t=a.return)){n=t;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return ir(a),e;if(i===t)return ir(a),r;i=i.sibling}throw Error(w(188))}if(n.return!==t.return)n=a,t=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,t=i;break}if(l===t){o=!0,t=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,t=a;break}if(l===t){o=!0,t=i,n=a;break}l=l.sibling}if(!o)throw Error(w(189))}}if(n.alternate!==t)throw Error(w(190))}if(3!==n.tag)throw Error(w(188));return n.stateNode.current===n?e:r}(e))?lr(e):null}function lr(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var r=lr(e);if(null!==r)return r;e=e.sibling}return null}var sr=m.unstable_scheduleCallback,_r=m.unstable_cancelCallback,ur=m.unstable_shouldYield,cr=m.unstable_requestPaint,fr=m.unstable_now,dr=m.unstable_getCurrentPriorityLevel,pr=m.unstable_ImmediatePriority,hr=m.unstable_UserBlockingPriority,gr=m.unstable_NormalPriority,vr=m.unstable_LowPriority,mr=m.unstable_IdlePriority,wr=null,yr=null;var kr=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(br(e)/xr|0)|0},br=Math.log,xr=Math.LN2;var Pr=64,Or=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Er(e,r){var n=e.pendingLanes;if(0===n)return 0;var t=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var l=o&~a;0!==l?t=Sr(l):0!==(i&=o)&&(t=Sr(i))}else 0!==(o=n&~a)?t=Sr(o):0!==i&&(t=Sr(i));if(0===t)return 0;if(0!==r&&r!==t&&0==(r&a)&&((a=t&-t)>=(i=r&-r)||16===a&&0!=(4194240&i)))return r;if(0!=(4&t)&&(t|=16&n),0!==(r=e.entangledLanes))for(e=e.entanglements,r&=t;0<r;)a=1<<(n=31-kr(r)),t|=e[n],r&=~a;return t}function Cr(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;default:return-1}}function Lr(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jr(){var e=Pr;return 0==(4194240&(Pr<<=1))&&(Pr=64),e}function Nr(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function zr(e,r,n){e.pendingLanes|=r,536870912!==r&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[r=31-kr(r)]=n}function Tr(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var t=31-kr(n),a=1<<t;a&r|e[t]&r&&(e[t]|=r),n&=~a}}var Mr=0;function Ir(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Rr,Dr,Ar,qr,Fr,Ur=!1,Br=[],Gr=null,Wr=null,Vr=null,Hr=new Map,$r=new Map,Qr=[],Yr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xr(e,r){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Hr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(r.pointerId)}}function Zr(e,r,n,t,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:r,domEventName:n,eventSystemFlags:t,nativeEvent:i,targetContainers:[a]},null!==r&&(null!==(r=Ma(r))&&Dr(r)),e):(e.eventSystemFlags|=t,r=e.targetContainers,null!==a&&-1===r.indexOf(a)&&r.push(a),e)}function Kr(e){var r=Ta(e.target);if(null!==r){var n=tr(r);if(null!==n)if(13===(r=n.tag)){if(null!==(r=ar(n)))return e.blockedOn=r,void Fr(e.priority,(function(){Ar(n)}))}else if(3===r&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Jr(e){if(null!==e.blockedOn)return!1;for(var r=e.targetContainers;0<r.length;){var n=cn(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(null!==n)return null!==(r=Ma(n))&&Dr(r),e.blockedOn=n,!1;var t=new(n=e.nativeEvent).constructor(n.type,n);Ie=t,n.target.dispatchEvent(t),Ie=null,r.shift()}return!0}function en(e,r,n){Jr(e)&&n.delete(r)}function rn(){Ur=!1,null!==Gr&&Jr(Gr)&&(Gr=null),null!==Wr&&Jr(Wr)&&(Wr=null),null!==Vr&&Jr(Vr)&&(Vr=null),Hr.forEach(en),$r.forEach(en)}function nn(e,r){e.blockedOn===r&&(e.blockedOn=null,Ur||(Ur=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,rn)))}function tn(e){var r=function(r){return nn(r,e)};if(0<Br.length){nn(Br[0],e);for(var n=1;n<Br.length;n++){var t=Br[n];t.blockedOn===e&&(t.blockedOn=null)}}for(null!==Gr&&nn(Gr,e),null!==Wr&&nn(Wr,e),null!==Vr&&nn(Vr,e),Hr.forEach(r),$r.forEach(r),n=0;n<Qr.length;n++)(t=Qr[n]).blockedOn===e&&(t.blockedOn=null);for(;0<Qr.length&&null===(n=Qr[0]).blockedOn;)Kr(n),null===n.blockedOn&&Qr.shift()}var an=I.ReactCurrentBatchConfig,on=!0;function ln(e,r,n,t){var a=Mr,i=an.transition;an.transition=null;try{Mr=1,_n(e,r,n,t)}finally{Mr=a,an.transition=i}}function sn(e,r,n,t){var a=Mr,i=an.transition;an.transition=null;try{Mr=4,_n(e,r,n,t)}finally{Mr=a,an.transition=i}}function _n(e,r,n,t){if(on){var a=cn(e,r,n,t);if(null===a)ia(e,r,t,un,n),Xr(e,t);else if(function(e,r,n,t,a){switch(r){case"focusin":return Gr=Zr(Gr,e,r,n,t,a),!0;case"dragenter":return Wr=Zr(Wr,e,r,n,t,a),!0;case"mouseover":return Vr=Zr(Vr,e,r,n,t,a),!0;case"pointerover":var i=a.pointerId;return Hr.set(i,Zr(Hr.get(i)||null,e,r,n,t,a)),!0;case"gotpointercapture":return i=a.pointerId,$r.set(i,Zr($r.get(i)||null,e,r,n,t,a)),!0}return!1}(a,e,r,n,t))t.stopPropagation();else if(Xr(e,t),4&r&&-1<Yr.indexOf(e)){for(;null!==a;){var i=Ma(a);if(null!==i&&Rr(i),null===(i=cn(e,r,n,t))&&ia(e,r,t,un,n),i===a)break;a=i}null!==a&&t.stopPropagation()}else ia(e,r,t,null,n)}}var un=null;function cn(e,r,n,t){if(un=null,null!==(e=Ta(e=Re(t))))if(null===(r=tr(e)))e=null;else if(13===(n=r.tag)){if(null!==(e=ar(r)))return e;e=null}else if(3===n){if(r.stateNode.current.memoizedState.isDehydrated)return 3===r.tag?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return un=e,null}function fn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dr()){case pr:return 1;case hr:return 4;case gr:case vr:return 16;case mr:return 536870912;default:return 16}default:return 16}}var dn=null,pn=null,hn=null;function gn(){if(hn)return hn;var e,r,n=pn,t=n.length,a="value"in dn?dn.value:dn.textContent,i=a.length;for(e=0;e<t&&n[e]===a[e];e++);var o=t-e;for(r=1;r<=o&&n[t-r]===a[i-r];r++);return hn=a.slice(e,1<r?1-r:void 0)}function vn(e){var r=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===r&&(e=13):e=r,10===e&&(e=13),32<=e||13===e?e:0}function mn(){return!0}function wn(){return!1}function yn(e){var r=function(r,n,t,a,i){for(var o in this._reactName=r,this._targetInst=t,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?mn:wn,this.isPropagationStopped=wn,this};return K(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==(0,g.default)(e.returnValue)&&(e.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==(0,g.default)(e.cancelBubble)&&(e.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),r}var kn,bn,xn,Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},On=yn(Pn),Sn=K({},Pn,{view:0,detail:0}),En=yn(Sn),Cn=K({},Sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&"mousemove"===e.type?(kn=e.screenX-xn.screenX,bn=e.screenY-xn.screenY):bn=kn=0,xn=e),kn)},movementY:function(e){return"movementY"in e?e.movementY:bn}}),Ln=yn(Cn),jn=yn(K({},Cn,{dataTransfer:0})),Nn=yn(K({},Sn,{relatedTarget:0})),zn=yn(K({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0})),Tn=K({},Pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mn=yn(Tn),In=yn(K({},Pn,{data:0})),Rn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qn(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):!!(e=An[e])&&!!r[e]}function Fn(){return qn}var Un=K({},Sn,{key:function(e){if(e.key){var r=Rn[e.key]||e.key;if("Unidentified"!==r)return r}return"keypress"===e.type?13===(e=vn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(e){return"keypress"===e.type?vn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?vn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Bn=yn(Un),Gn=yn(K({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Wn=yn(K({},Sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn})),Vn=yn(K({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Hn=K({},Cn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$n=yn(Hn),Qn=[9,13,27,32],Yn=P&&"CompositionEvent"in window,Xn=null;P&&"documentMode"in document&&(Xn=document.documentMode);var Zn=P&&"TextEvent"in window&&!Xn,Kn=P&&(!Yn||Xn&&8<Xn&&11>=Xn),Jn=String.fromCharCode(32),et=!1;function rt(e,r){switch(e){case"keyup":return-1!==Qn.indexOf(r.keyCode);case"keydown":return 229!==r.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var tt=!1;var at={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function it(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===r?!!at[e.type]:"textarea"===r}function ot(e,r,n,t){Ue(t),0<(r=la(r,"onChange")).length&&(n=new On("onChange","change",null,n,t),e.push({event:n,listeners:r}))}var lt=null,st=null;function _t(e){Jt(e,0)}function ut(e){if(se(Ia(e)))return e}function ct(e,r){if("change"===e)return r}var ft=!1;if(P){var dt;if(P){var pt="oninput"in document;if(!pt){var ht=document.createElement("div");ht.setAttribute("oninput","return;"),pt="function"==typeof ht.oninput}dt=pt}else dt=!1;ft=dt&&(!document.documentMode||9<document.documentMode)}function gt(){lt&&(lt.detachEvent("onpropertychange",vt),st=lt=null)}function vt(e){if("value"===e.propertyName&&ut(st)){var r=[];ot(r,st,e,Re(e)),He(_t,r)}}function mt(e,r,n){"focusin"===e?(gt(),st=n,(lt=r).attachEvent("onpropertychange",vt)):"focusout"===e&&gt()}function wt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ut(st)}function yt(e,r){if("click"===e)return ut(r)}function kt(e,r){if("input"===e||"change"===e)return ut(r)}var bt="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r};function xt(e,r){if(bt(e,r))return!0;if("object"!=typeof e||null===e||"object"!=typeof r||null===r)return!1;var n=Object.keys(e),t=Object.keys(r);if(n.length!==t.length)return!1;for(t=0;t<n.length;t++){var a=n[t];if(!O.call(r,a)||!bt(e[a],r[a]))return!1}return!0}function Pt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ot(e,r){var n,t=Pt(e);for(e=0;t;){if(3===t.nodeType){if(n=e+t.textContent.length,e<=r&&n>=r)return{node:t,offset:r-e};e=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Pt(t)}}function St(e,r){return!(!e||!r)&&(e===r||(!e||3!==e.nodeType)&&(r&&3===r.nodeType?St(e,r.parentNode):"contains"in e?e.contains(r):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(r))))}function Et(){for(var e=window,r=_e();r instanceof e.HTMLIFrameElement;){try{var n="string"==typeof r.contentWindow.location.href}catch(e){n=!1}if(!n)break;r=_e((e=r.contentWindow).document)}return r}function Ct(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&("input"===r&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===r||"true"===e.contentEditable)}function Lt(e){var r=Et(),n=e.focusedElem,t=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&St(n.ownerDocument.documentElement,n)){if(null!==t&&Ct(n))if(r=t.start,void 0===(e=t.end)&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if((e=(r=n.ownerDocument||document)&&r.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(t.start,a);t=void 0===t.end?i:Math.min(t.end,a),!e.extend&&i>t&&(a=t,t=i,i=a),a=Ot(n,i);var o=Ot(n,t);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((r=r.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>t?(e.addRange(r),e.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),e.addRange(r)))}for(r=[],e=n;e=e.parentNode;)1===e.nodeType&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<r.length;n++)(e=r[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jt=P&&"documentMode"in document&&11>=document.documentMode,Nt=null,zt=null,Tt=null,Mt=!1;function It(e,r,n){var t=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Mt||null==Nt||Nt!==_e(t)||("selectionStart"in(t=Nt)&&Ct(t)?t={start:t.selectionStart,end:t.selectionEnd}:t={anchorNode:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset},Tt&&xt(Tt,t)||(Tt=t,0<(t=la(zt,"onSelect")).length&&(r=new On("onSelect","select",null,r,n),e.push({event:r,listeners:t}),r.target=Nt)))}function Rt(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var Dt={animationend:Rt("Animation","AnimationEnd"),animationiteration:Rt("Animation","AnimationIteration"),animationstart:Rt("Animation","AnimationStart"),transitionend:Rt("Transition","TransitionEnd")},At={},qt={};function Ft(e){if(At[e])return At[e];if(!Dt[e])return e;var r,n=Dt[e];for(r in n)if(n.hasOwnProperty(r)&&r in qt)return At[e]=n[r];return e}P&&(qt=document.createElement("div").style,"AnimationEvent"in window||(delete Dt.animationend.animation,delete Dt.animationiteration.animation,delete Dt.animationstart.animation),"TransitionEvent"in window||delete Dt.transitionend.transition);var Ut=Ft("animationend"),Bt=Ft("animationiteration"),Gt=Ft("animationstart"),Wt=Ft("transitionend"),Vt=new Map,Ht="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $t(e,r){Vt.set(e,r),b(r,[e])}for(var Qt=0;Qt<Ht.length;Qt++){var Yt=Ht[Qt];$t(Yt.toLowerCase(),"on"+(Yt[0].toUpperCase()+Yt.slice(1)))}$t(Ut,"onAnimationEnd"),$t(Bt,"onAnimationIteration"),$t(Gt,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(Wt,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),b("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),b("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),b("onBeforeInput",["compositionend","keypress","textInput","paste"]),b("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zt=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xt));function Kt(e,r,n){var t=e.type||"unknown-event";e.currentTarget=n,function(e,r,n,t,a,i,o,l,s){if(nr.apply(this,arguments),Ze){if(!Ze)throw Error(w(198));var _=Ke;Ze=!1,Ke=null,Je||(Je=!0,er=_)}}(t,r,void 0,e),e.currentTarget=null}function Jt(e,r){r=0!=(4&r);for(var n=0;n<e.length;n++){var t=e[n],a=t.event;t=t.listeners;e:{var i=void 0;if(r)for(var o=t.length-1;0<=o;o--){var l=t[o],s=l.instance,_=l.currentTarget;if(l=l.listener,s!==i&&a.isPropagationStopped())break e;Kt(a,l,_),i=s}else for(o=0;o<t.length;o++){if(s=(l=t[o]).instance,_=l.currentTarget,l=l.listener,s!==i&&a.isPropagationStopped())break e;Kt(a,l,_),i=s}}}if(Je)throw e=er,Je=!1,er=null,e}function ea(e,r){var n=r[ja];void 0===n&&(n=r[ja]=new Set);var t=e+"__bubble";n.has(t)||(aa(r,e,2,!1),n.add(t))}function ra(e,r,n){var t=0;r&&(t|=4),aa(n,e,t,r)}var na="_reactListening"+Math.random().toString(36).slice(2);function ta(e){if(!e[na]){e[na]=!0,y.forEach((function(r){"selectionchange"!==r&&(Zt.has(r)||ra(r,!1,e),ra(r,!0,e))}));var r=9===e.nodeType?e:e.ownerDocument;null===r||r[na]||(r[na]=!0,ra("selectionchange",!1,r))}}function aa(e,r,n,t){switch(fn(r)){case 1:var a=ln;break;case 4:a=sn;break;default:a=_n}n=a.bind(null,r,n,e),a=void 0,!Qe||"touchstart"!==r&&"touchmove"!==r&&"wheel"!==r||(a=!0),t?void 0!==a?e.addEventListener(r,n,{capture:!0,passive:a}):e.addEventListener(r,n,!0):void 0!==a?e.addEventListener(r,n,{passive:a}):e.addEventListener(r,n,!1)}function ia(e,r,n,t,a){var i=t;if(0==(1&r)&&0==(2&r)&&null!==t)e:for(;;){if(null===t)return;var o=t.tag;if(3===o||4===o){var l=t.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===o)for(o=t.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;o=o.return}for(;null!==l;){if(null===(o=Ta(l)))return;if(5===(s=o.tag)||6===s){t=i=o;continue e}l=l.parentNode}}t=t.return}He((function(){var t=i,a=Re(n),o=[];e:{var l=Vt.get(e);if(void 0!==l){var s=On,_=e;switch(e){case"keypress":if(0===vn(n))break e;case"keydown":case"keyup":s=Bn;break;case"focusin":_="focus",s=Nn;break;case"focusout":_="blur",s=Nn;break;case"beforeblur":case"afterblur":s=Nn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=jn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Wn;break;case Ut:case Bt:case Gt:s=zn;break;case Wt:s=Vn;break;case"scroll":s=En;break;case"wheel":s=$n;break;case"copy":case"cut":case"paste":s=Mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Gn}var u=0!=(4&r),c=!u&&"scroll"===e,f=u?null!==l?l+"Capture":null:l;u=[];for(var d,p=t;null!==p;){var h=(d=p).stateNode;if(5===d.tag&&null!==h&&(d=h,null!==f&&(null!=(h=$e(p,f))&&u.push(oa(p,h,d)))),c)break;p=p.return}0<u.length&&(l=new s(l,_,null,n,a),o.push({event:l,listeners:u}))}}if(0==(7&r)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Ie||!(_=n.relatedTarget||n.fromElement)||!Ta(_)&&!_[La])&&(s||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=t,null!==(_=(_=n.relatedTarget||n.toElement)?Ta(_):null)&&(_!==(c=tr(_))||5!==_.tag&&6!==_.tag)&&(_=null)):(s=null,_=t),s!==_)){if(u=Ln,h="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Gn,h="onPointerLeave",f="onPointerEnter",p="pointer"),c=null==s?l:Ia(s),d=null==_?l:Ia(_),(l=new u(h,p+"leave",s,n,a)).target=c,l.relatedTarget=d,h=null,Ta(a)===t&&((u=new u(f,p+"enter",_,n,a)).target=d,u.relatedTarget=c,h=u),c=h,s&&_)e:{for(f=_,p=0,d=u=s;d;d=sa(d))p++;for(d=0,h=f;h;h=sa(h))d++;for(;0<p-d;)u=sa(u),p--;for(;0<d-p;)f=sa(f),d--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=sa(u),f=sa(f)}u=null}else u=null;null!==s&&_a(o,l,s,u,!1),null!==_&&null!==c&&_a(o,c,_,u,!0)}if("select"===(s=(l=t?Ia(t):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var g=ct;else if(it(l))if(ft)g=kt;else{g=wt;var v=mt}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=yt);switch(g&&(g=g(e,t))?ot(o,g,n,a):(v&&v(e,l,t),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&he(l,"number",l.value)),v=t?Ia(t):window,e){case"focusin":(it(v)||"true"===v.contentEditable)&&(Nt=v,zt=t,Tt=null);break;case"focusout":Tt=zt=Nt=null;break;case"mousedown":Mt=!0;break;case"contextmenu":case"mouseup":case"dragend":Mt=!1,It(o,n,a);break;case"selectionchange":if(jt)break;case"keydown":case"keyup":It(o,n,a)}var m;if(Yn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else tt?rt(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Kn&&"ko"!==n.locale&&(tt||"onCompositionStart"!==w?"onCompositionEnd"===w&&tt&&(m=gn()):(pn="value"in(dn=a)?dn.value:dn.textContent,tt=!0)),0<(v=la(t,w)).length&&(w=new In(w,e,null,n,a),o.push({event:w,listeners:v}),m?w.data=m:null!==(m=nt(n))&&(w.data=m))),(m=Zn?function(e,r){switch(e){case"compositionend":return nt(r);case"keypress":return 32!==r.which?null:(et=!0,Jn);case"textInput":return(e=r.data)===Jn&&et?null:e;default:return null}}(e,n):function(e,r){if(tt)return"compositionend"===e||!Yn&&rt(e,r)?(e=gn(),hn=pn=dn=null,tt=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Kn&&"ko"!==r.locale?null:r.data}}(e,n))&&(0<(t=la(t,"onBeforeInput")).length&&(a=new In("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:t}),a.data=m))}Jt(o,r)}))}function oa(e,r,n){return{instance:e,listener:r,currentTarget:n}}function la(e,r){for(var n=r+"Capture",t=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=$e(e,n))&&t.unshift(oa(e,i,a)),null!=(i=$e(e,r))&&t.push(oa(e,i,a))),e=e.return}return t}function sa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function _a(e,r,n,t,a){for(var i=r._reactName,o=[];null!==n&&n!==t;){var l=n,s=l.alternate,_=l.stateNode;if(null!==s&&s===t)break;5===l.tag&&null!==_&&(l=_,a?null!=(s=$e(n,i))&&o.unshift(oa(n,s,l)):a||null!=(s=$e(n,i))&&o.push(oa(n,s,l))),n=n.return}0!==o.length&&e.push({event:r,listeners:o})}var ua=/\r\n?/g,ca=/\u0000|\uFFFD/g;function fa(e){return("string"==typeof e?e:""+e).replace(ua,"\n").replace(ca,"")}function da(e,r,n){if(r=fa(r),fa(e)!==r&&n)throw Error(w(425))}function pa(){}var ha=null,ga=null;function va(e,r){return"textarea"===e||"noscript"===e||"string"==typeof r.children||"number"==typeof r.children||"object"==typeof r.dangerouslySetInnerHTML&&null!==r.dangerouslySetInnerHTML&&null!=r.dangerouslySetInnerHTML.__html}var ma="function"==typeof setTimeout?setTimeout:void 0,wa="function"==typeof clearTimeout?clearTimeout:void 0,ya="function"==typeof Promise?Promise:void 0,ka="function"==typeof queueMicrotask?queueMicrotask:void 0!==ya?function(e){return ya.resolve(null).then(e).catch(ba)}:ma;function ba(e){setTimeout((function(){throw e}))}function xa(e,r){var n=r,t=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===t)return e.removeChild(a),void tn(r);t--}else"$"!==n&&"$?"!==n&&"$!"!==n||t++;n=a}while(n);tn(r)}function Pa(e){for(;null!=e;e=e.nextSibling){var r=e.nodeType;if(1===r||3===r)break;if(8===r){if("$"===(r=e.data)||"$!"===r||"$?"===r)break;if("/$"===r)return null}}return e}function Oa(e){e=e.previousSibling;for(var r=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===r)return e;r--}else"/$"===n&&r++}e=e.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),Ea="__reactFiber$"+Sa,Ca="__reactProps$"+Sa,La="__reactContainer$"+Sa,ja="__reactEvents$"+Sa,Na="__reactListeners$"+Sa,za="__reactHandles$"+Sa;function Ta(e){var r=e[Ea];if(r)return r;for(var n=e.parentNode;n;){if(r=n[La]||n[Ea]){if(n=r.alternate,null!==r.child||null!==n&&null!==n.child)for(e=Oa(e);null!==e;){if(n=e[Ea])return n;e=Oa(e)}return r}n=(e=n).parentNode}return null}function Ma(e){return!(e=e[Ea]||e[La])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ia(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(w(33))}function Ra(e){return e[Ca]||null}var Da=[],Aa=-1;function qa(e){return{current:e}}function Fa(e){0>Aa||(e.current=Da[Aa],Da[Aa]=null,Aa--)}function Ua(e,r){Aa++,Da[Aa]=e.current,e.current=r}var Ba={},Ga=qa(Ba),Wa=qa(!1),Va=Ba;function Ha(e,r){var n=e.type.contextTypes;if(!n)return Ba;var t=e.stateNode;if(t&&t.__reactInternalMemoizedUnmaskedChildContext===r)return t.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=r[a];return t&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),i}function $a(e){return null!=(e=e.childContextTypes)}function Qa(){Fa(Wa),Fa(Ga)}function Ya(e,r,n){if(Ga.current!==Ba)throw Error(w(168));Ua(Ga,r),Ua(Wa,n)}function Xa(e,r,n){var t=e.stateNode;if(r=r.childContextTypes,"function"!=typeof t.getChildContext)return n;for(var a in t=t.getChildContext())if(!(a in r))throw Error(w(108,ae(e)||"Unknown",a));return K({},n,t)}function Za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ba,Va=Ga.current,Ua(Ga,e),Ua(Wa,Wa.current),!0}function Ka(e,r,n){var t=e.stateNode;if(!t)throw Error(w(169));n?(e=Xa(e,r,Va),t.__reactInternalMemoizedMergedChildContext=e,Fa(Wa),Fa(Ga),Ua(Ga,e)):Fa(Wa),Ua(Wa,n)}var Ja=null,ei=!1,ri=!1;function ni(e){null===Ja?Ja=[e]:Ja.push(e)}function ti(){if(!ri&&null!==Ja){ri=!0;var e=0,r=Mr;try{var n=Ja;for(Mr=1;e<n.length;e++){var t=n[e];do{t=t(!0)}while(null!==t)}Ja=null,ei=!1}catch(r){throw null!==Ja&&(Ja=Ja.slice(e+1)),sr(pr,ti),r}finally{Mr=r,ri=!1}}return null}var ai=[],ii=0,oi=null,li=0,si=[],_i=0,ui=null,ci=1,fi="";function di(e,r){ai[ii++]=li,ai[ii++]=oi,oi=e,li=r}function pi(e,r,n){si[_i++]=ci,si[_i++]=fi,si[_i++]=ui,ui=e;var t=ci;e=fi;var a=32-kr(t)-1;t&=~(1<<a),n+=1;var i=32-kr(r)+a;if(30<i){var o=a-a%5;i=(t&(1<<o)-1).toString(32),t>>=o,a-=o,ci=1<<32-kr(r)+a|n<<a|t,fi=i+e}else ci=1<<i|n<<a|t,fi=e}function hi(e){null!==e.return&&(di(e,1),pi(e,1,0))}function gi(e){for(;e===oi;)oi=ai[--ii],ai[ii]=null,li=ai[--ii],ai[ii]=null;for(;e===ui;)ui=si[--_i],si[_i]=null,fi=si[--_i],si[_i]=null,ci=si[--_i],si[_i]=null}var vi=null,mi=null,wi=!1,yi=null;function ki(e,r){var n=H_(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,null===(r=e.deletions)?(e.deletions=[n],e.flags|=16):r.push(n)}function bi(e,r){switch(e.tag){case 5:var n=e.type;return null!==(r=1!==r.nodeType||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r)&&(e.stateNode=r,vi=e,mi=Pa(r.firstChild),!0);case 6:return null!==(r=""===e.pendingProps||3!==r.nodeType?null:r)&&(e.stateNode=r,vi=e,mi=null,!0);case 13:return null!==(r=8!==r.nodeType?null:r)&&(n=null!==ui?{id:ci,overflow:fi}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},(n=H_(18,null,null,0)).stateNode=r,n.return=e,e.child=n,vi=e,mi=null,!0);default:return!1}}function xi(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Pi(e){if(wi){var r=mi;if(r){var n=r;if(!bi(e,r)){if(xi(e))throw Error(w(418));r=Pa(n.nextSibling);var t=vi;r&&bi(e,r)?ki(t,n):(e.flags=-4097&e.flags|2,wi=!1,vi=e)}}else{if(xi(e))throw Error(w(418));e.flags=-4097&e.flags|2,wi=!1,vi=e}}}function Oi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;vi=e}function Si(e){if(e!==vi)return!1;if(!wi)return Oi(e),wi=!0,!1;var r;if((r=3!==e.tag)&&!(r=5!==e.tag)&&(r="head"!==(r=e.type)&&"body"!==r&&!va(e.type,e.memoizedProps)),r&&(r=mi)){if(xi(e))throw Ei(),Error(w(418));for(;r;)ki(e,r),r=Pa(r.nextSibling)}if(Oi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(w(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===r){mi=Pa(e.nextSibling);break e}r--}else"$"!==n&&"$!"!==n&&"$?"!==n||r++}e=e.nextSibling}mi=null}}else mi=vi?Pa(e.stateNode.nextSibling):null;return!0}function Ei(){for(var e=mi;e;)e=Pa(e.nextSibling)}function Ci(){mi=vi=null,wi=!1}function Li(e){null===yi?yi=[e]:yi.push(e)}var ji=I.ReactCurrentBatchConfig;function Ni(e,r){if(e&&e.defaultProps){for(var n in r=K({},r),e=e.defaultProps)void 0===r[n]&&(r[n]=e[n]);return r}return r}var zi=qa(null),Ti=null,Mi=null,Ii=null;function Ri(){Ii=Mi=Ti=null}function Di(e){var r=zi.current;Fa(zi),e._currentValue=r}function Ai(e,r,n){for(;null!==e;){var t=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,null!==t&&(t.childLanes|=r)):null!==t&&(t.childLanes&r)!==r&&(t.childLanes|=r),e===n)break;e=e.return}}function qi(e,r){Ti=e,Ii=Mi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&r)&&(Il=!0),e.firstContext=null)}function Fi(e){var r=e._currentValue;if(Ii!==e)if(e={context:e,memoizedValue:r,next:null},null===Mi){if(null===Ti)throw Error(w(308));Mi=e,Ti.dependencies={lanes:0,firstContext:e}}else Mi=Mi.next=e;return r}var Ui=null;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function Gi(e,r,n,t){var a=r.interleaved;return null===a?(n.next=n,Bi(r)):(n.next=a.next,a.next=n),r.interleaved=n,Wi(e,t)}function Wi(e,r){e.lanes|=r;var n=e.alternate;for(null!==n&&(n.lanes|=r),n=e,e=e.return;null!==e;)e.childLanes|=r,null!==(n=e.alternate)&&(n.childLanes|=r),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Vi=!1;function Hi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $i(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qi(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Yi(e,r,n){var t=e.updateQueue;if(null===t)return null;if(t=t.shared,0!=(2&Gs)){var a=t.pending;return null===a?r.next=r:(r.next=a.next,a.next=r),t.pending=r,Wi(e,n)}return null===(a=t.interleaved)?(r.next=r,Bi(t)):(r.next=a.next,a.next=r),t.interleaved=r,Wi(e,n)}function Xi(e,r,n){if(null!==(r=r.updateQueue)&&(r=r.shared,0!=(4194240&n))){var t=r.lanes;n|=t&=e.pendingLanes,r.lanes=n,Tr(e,n)}}function Zi(e,r){var n=e.updateQueue,t=e.alternate;if(null!==t&&n===(t=t.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=r:i=i.next=r}else a=i=r;return n={baseState:t.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:t.shared,effects:t.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function Ki(e,r,n,t){var a=e.updateQueue;Vi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var s=l,_=s.next;s.next=null,null===o?i=_:o.next=_,o=s;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===l?u.firstBaseUpdate=_:l.next=_,u.lastBaseUpdate=s))}if(null!==i){var c=a.baseState;for(o=0,u=_=s=null,l=i;;){var f=l.lane,d=l.eventTime;if((t&f)===f){null!==u&&(u=u.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,h=l;switch(f=r,d=n,h.tag){case 1:if("function"==typeof(p=h.payload)){c=p.call(d,c,f);break e}c=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=h.payload)?p.call(d,c,f):p))break e;c=K({},c,f);break e;case 2:Vi=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[l]:f.push(l))}else d={eventTime:d,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(_=u=d,s=c):u=u.next=d,o|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(s=c),a.baseState=s,a.firstBaseUpdate=_,a.lastBaseUpdate=u,null!==(r=a.shared.interleaved)){a=r;do{o|=a.lane,a=a.next}while(a!==r)}else null===i&&(a.shared.lanes=0);Zs|=o,e.lanes=o,e.memoizedState=c}}function Ji(e,r,n){if(e=r.effects,r.effects=null,null!==e)for(r=0;r<e.length;r++){var t=e[r],a=t.callback;if(null!==a){if(t.callback=null,t=n,"function"!=typeof a)throw Error(w(191,a));a.call(t)}}}var eo=(new v.Component).refs;function ro(e,r,n,t){n=null==(n=n(t,r=e.memoizedState))?r:K({},r,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&tr(e)===e},enqueueSetState:function(e,r,n){e=e._reactInternals;var t=h_(),a=g_(e),i=Qi(t,a);i.payload=r,null!=n&&(i.callback=n),null!==(r=Yi(e,i,a))&&(v_(r,e,a,t),Xi(r,e,a))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var t=h_(),a=g_(e),i=Qi(t,a);i.tag=1,i.payload=r,null!=n&&(i.callback=n),null!==(r=Yi(e,i,a))&&(v_(r,e,a,t),Xi(r,e,a))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=h_(),t=g_(e),a=Qi(n,t);a.tag=2,null!=r&&(a.callback=r),null!==(r=Yi(e,a,t))&&(v_(r,e,t,n),Xi(r,e,t))}};function to(e,r,n,t,a,i,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(t,i,o):!r.prototype||!r.prototype.isPureReactComponent||(!xt(n,t)||!xt(a,i))}function ao(e,r,n){var t=!1,a=Ba,i=r.contextType;return"object"==typeof i&&null!==i?i=Fi(i):(a=$a(r)?Va:Ga.current,i=(t=null!=(t=r.contextTypes))?Ha(e,a):Ba),r=new r(n,i),e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=no,e.stateNode=r,r._reactInternals=e,t&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),r}function io(e,r,n,t){e=r.state,"function"==typeof r.componentWillReceiveProps&&r.componentWillReceiveProps(n,t),"function"==typeof r.UNSAFE_componentWillReceiveProps&&r.UNSAFE_componentWillReceiveProps(n,t),r.state!==e&&no.enqueueReplaceState(r,r.state,null)}function oo(e,r,n,t){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=eo,Hi(e);var i=r.contextType;"object"==typeof i&&null!==i?a.context=Fi(i):(i=$a(r)?Va:Ga.current,a.context=Ha(e,i)),a.state=e.memoizedState,"function"==typeof(i=r.getDerivedStateFromProps)&&(ro(e,r,i,n),a.state=e.memoizedState),"function"==typeof r.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(r=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),r!==a.state&&no.enqueueReplaceState(a,a.state,null),Ki(e,n,a,t),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,r,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(w(309));var t=n.stateNode}if(!t)throw Error(w(147,e));var a=t,i=""+e;return null!==r&&null!==r.ref&&"function"==typeof r.ref&&r.ref._stringRef===i?r.ref:(r=function(e){var r=a.refs;r===eo&&(r=a.refs={}),null===e?delete r[i]:r[i]=e},r._stringRef=i,r)}if("string"!=typeof e)throw Error(w(284));if(!n._owner)throw Error(w(290,e))}return e}function so(e,r){throw e=Object.prototype.toString.call(r),Error(w(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function uo(e){var r=function(r,n){if(e){var t=r.deletions;null===t?(r.deletions=[n],r.flags|=16):t.push(n)}},n=function(n,t){if(!e)return null;for(;null!==t;)r(n,t),t=t.sibling;return null},t=function(e,r){for(e=new Map;null!==r;)null!==r.key?e.set(r.key,r):e.set(r.index,r),r=r.sibling;return e},a=function(e,r){return(e=Q_(e,r)).index=0,e.sibling=null,e},i=function(r,n,t){return r.index=t,e?null!==(t=r.alternate)?(t=t.index)<n?(r.flags|=2,n):t:(r.flags|=2,n):(r.flags|=1048576,n)},o=function(r){return e&&null===r.alternate&&(r.flags|=2),r},l=function(e,r,n,t){return null===r||6!==r.tag?((r=K_(n,e.mode,t)).return=e,r):((r=a(r,n)).return=e,r)},s=function(e,r,n,t){var i=n.type;return i===A?u(e,r,n.props.children,t,n.key):null!==r&&(r.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===$&&_o(i)===r.type)?((t=a(r,n.props)).ref=lo(e,r,n),t.return=e,t):((t=Y_(n.type,n.key,n.props,null,e.mode,t)).ref=lo(e,r,n),t.return=e,t)},_=function(e,r,n,t){return null===r||4!==r.tag||r.stateNode.containerInfo!==n.containerInfo||r.stateNode.implementation!==n.implementation?((r=J_(n,e.mode,t)).return=e,r):((r=a(r,n.children||[])).return=e,r)},u=function(e,r,n,t,i){return null===r||7!==r.tag?((r=X_(n,e.mode,t,i)).return=e,r):((r=a(r,n)).return=e,r)},c=function(a,o,l,s){for(var _=null,u=null,c=o,f=o=0,g=null;null!==c&&f<l.length;f++){c.index>f?(g=c,c=null):g=c.sibling;var v=p(a,c,l[f],s);if(null===v){null===c&&(c=g);break}e&&c&&null===v.alternate&&r(a,c),o=i(v,o,f),null===u?_=v:u.sibling=v,u=v,c=g}if(f===l.length)return n(a,c),wi&&di(a,f),_;if(null===c){for(;f<l.length;f++)null!==(c=d(a,l[f],s))&&(o=i(c,o,f),null===u?_=c:u.sibling=c,u=c);return wi&&di(a,f),_}for(c=t(a,c);f<l.length;f++)null!==(g=h(c,a,f,l[f],s))&&(e&&null!==g.alternate&&c.delete(null===g.key?f:g.key),o=i(g,o,f),null===u?_=g:u.sibling=g,u=g);return e&&c.forEach((function(e){return r(a,e)})),wi&&di(a,f),_},f=function(a,o,l,s){var _=X(l);if("function"!=typeof _)throw Error(w(150));if(null==(l=_.call(l)))throw Error(w(151));for(var u=_=null,c=o,f=o=0,g=null,v=l.next();null!==c&&!v.done;f++,v=l.next()){c.index>f?(g=c,c=null):g=c.sibling;var m=p(a,c,v.value,s);if(null===m){null===c&&(c=g);break}e&&c&&null===m.alternate&&r(a,c),o=i(m,o,f),null===u?_=m:u.sibling=m,u=m,c=g}if(v.done)return n(a,c),wi&&di(a,f),_;if(null===c){for(;!v.done;f++,v=l.next())null!==(v=d(a,v.value,s))&&(o=i(v,o,f),null===u?_=v:u.sibling=v,u=v);return wi&&di(a,f),_}for(c=t(a,c);!v.done;f++,v=l.next())null!==(v=h(c,a,f,v.value,s))&&(e&&null!==v.alternate&&c.delete(null===v.key?f:v.key),o=i(v,o,f),null===u?_=v:u.sibling=v,u=v);return e&&c.forEach((function(e){return r(a,e)})),wi&&di(a,f),_};function d(e,r,n){if("string"==typeof r&&""!==r||"number"==typeof r)return(r=K_(""+r,e.mode,n)).return=e,r;if("object"==typeof r&&null!==r){switch(r.$$typeof){case R:return(n=Y_(r.type,r.key,r.props,null,e.mode,n)).ref=lo(e,null,r),n.return=e,n;case D:return(r=J_(r,e.mode,n)).return=e,r;case $:return d(e,(0,r._init)(r._payload),n)}if(ge(r)||X(r))return(r=X_(r,e.mode,n,null)).return=e,r;so(e,r)}return null}function p(e,r,n,t){var a=null!==r?r.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==a?null:l(e,r,""+n,t);if("object"==typeof n&&null!==n){switch(n.$$typeof){case R:return n.key===a?s(e,r,n,t):null;case D:return n.key===a?_(e,r,n,t):null;case $:return p(e,r,(a=n._init)(n._payload),t)}if(ge(n)||X(n))return null!==a?null:u(e,r,n,t,null);so(e,n)}return null}function h(e,r,n,t,a){if("string"==typeof t&&""!==t||"number"==typeof t)return e=e.get(n)||null,l(r,e,""+t,a);if("object"==typeof t&&null!==t){switch(t.$$typeof){case R:return e=e.get(null===t.key?n:t.key)||null,s(r,e,t,a);case D:return e=e.get(null===t.key?n:t.key)||null,_(r,e,t,a);case $:return h(e,r,n,(0,t._init)(t._payload),a)}if(ge(t)||X(t))return e=e.get(n)||null,u(r,e,t,a,null);so(r,t)}return null}return function e(t,i,l,s){if("object"==typeof l&&null!==l&&l.type===A&&null===l.key&&(l=l.props.children),"object"==typeof l&&null!==l){switch(l.$$typeof){case R:e:{for(var _=l.key,u=i;null!==u;){if(u.key===_){if((_=l.type)===A){if(7===u.tag){n(t,u.sibling),(i=a(u,l.props.children)).return=t,t=i;break e}}else if(u.elementType===_||"object"==typeof _&&null!==_&&_.$$typeof===$&&_o(_)===u.type){n(t,u.sibling),(i=a(u,l.props)).ref=lo(t,u,l),i.return=t,t=i;break e}n(t,u);break}r(t,u),u=u.sibling}l.type===A?((i=X_(l.props.children,t.mode,s,l.key)).return=t,t=i):((s=Y_(l.type,l.key,l.props,null,t.mode,s)).ref=lo(t,i,l),s.return=t,t=s)}return o(t);case D:e:{for(u=l.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===l.containerInfo&&i.stateNode.implementation===l.implementation){n(t,i.sibling),(i=a(i,l.children||[])).return=t,t=i;break e}n(t,i);break}r(t,i),i=i.sibling}(i=J_(l,t.mode,s)).return=t,t=i}return o(t);case $:return e(t,i,(u=l._init)(l._payload),s)}if(ge(l))return c(t,i,l,s);if(X(l))return f(t,i,l,s);so(t,l)}return"string"==typeof l&&""!==l||"number"==typeof l?(l=""+l,null!==i&&6===i.tag?(n(t,i.sibling),(i=a(i,l)).return=t,t=i):(n(t,i),(i=K_(l,t.mode,s)).return=t,t=i),o(t)):n(t,i)}}var co=uo(!0),fo=uo(!1),po={},ho=qa(po),go=qa(po),vo=qa(po);function mo(e){if(e===po)throw Error(w(174));return e}function wo(e,r){switch(Ua(vo,r),Ua(go,e),Ua(ho,po),e=r.nodeType){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:xe(null,"");break;default:r=xe(r=(e=8===e?r.parentNode:r).namespaceURI||null,e=e.tagName)}Fa(ho),Ua(ho,r)}function yo(){Fa(ho),Fa(go),Fa(vo)}function ko(e){mo(vo.current);var r=mo(ho.current),n=xe(r,e.type);r!==n&&(Ua(go,e),Ua(ho,n))}function bo(e){go.current===e&&(Fa(ho),Fa(go))}var xo=qa(0);function Po(e){for(var r=e;null!==r;){if(13===r.tag){var n=r.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return r}else if(19===r.tag&&void 0!==r.memoizedProps.revealOrder){if(0!=(128&r.flags))return r}else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Oo=[];function So(){for(var e=0;e<Oo.length;e++)Oo[e]._workInProgressVersionPrimary=null;Oo.length=0}var Eo=I.ReactCurrentDispatcher,Co=I.ReactCurrentBatchConfig,Lo=0,jo=null,No=null,zo=null,To=!1,Mo=!1,Io=0,Ro=0;function Do(){throw Error(w(321))}function Ao(e,r){if(null===r)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!bt(e[n],r[n]))return!1;return!0}function qo(e,r,n,t,a,i){if(Lo=i,jo=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Eo.current=null===e||null===e.memoizedState?bl:xl,e=n(t,a),Mo){i=0;do{if(Mo=!1,Io=0,25<=i)throw Error(w(301));i+=1,zo=No=null,r.updateQueue=null,Eo.current=Pl,e=n(t,a)}while(Mo)}if(Eo.current=kl,r=null!==No&&null!==No.next,Lo=0,zo=No=jo=null,To=!1,r)throw Error(w(300));return e}function Fo(){var e=0!==Io;return Io=0,e}function Uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===zo?jo.memoizedState=zo=e:zo=zo.next=e,zo}function Bo(){if(null===No){var e=jo.alternate;e=null!==e?e.memoizedState:null}else e=No.next;var r=null===zo?jo.memoizedState:zo.next;if(null!==r)zo=r,No=e;else{if(null===e)throw Error(w(310));e={memoizedState:(No=e).memoizedState,baseState:No.baseState,baseQueue:No.baseQueue,queue:No.queue,next:null},null===zo?jo.memoizedState=zo=e:zo=zo.next=e}return zo}function Go(e,r){return"function"==typeof r?r(e):r}function Wo(e){var r=Bo(),n=r.queue;if(null===n)throw Error(w(311));n.lastRenderedReducer=e;var t=No,a=t.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,t=t.baseState;var l=o=null,s=null,_=i;do{var u=_.lane;if((Lo&u)===u)null!==s&&(s=s.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),t=_.hasEagerState?_.eagerState:e(t,_.action);else{var c={lane:u,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};null===s?(l=s=c,o=t):s=s.next=c,jo.lanes|=u,Zs|=u}_=_.next}while(null!==_&&_!==i);null===s?o=t:s.next=l,bt(t,r.memoizedState)||(Il=!0),r.memoizedState=t,r.baseState=o,r.baseQueue=s,n.lastRenderedState=t}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,jo.lanes|=i,Zs|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Vo(e){var r=Bo(),n=r.queue;if(null===n)throw Error(w(311));n.lastRenderedReducer=e;var t=n.dispatch,a=n.pending,i=r.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);bt(i,r.memoizedState)||(Il=!0),r.memoizedState=i,null===r.baseQueue&&(r.baseState=i),n.lastRenderedState=i}return[i,t]}function Ho(){}function $o(e,r){var n=jo,t=Bo(),a=r(),i=!bt(t.memoizedState,a);if(i&&(t.memoizedState=a,Il=!0),t=t.queue,il(Xo.bind(null,n,t,e),[e]),t.getSnapshot!==r||i||null!==zo&&1&zo.memoizedState.tag){if(n.flags|=2048,el(9,Yo.bind(null,n,t,a,r),void 0,null),null===Ws)throw Error(w(349));0!=(30&Lo)||Qo(n,r,a)}return a}function Qo(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},null===(r=jo.updateQueue)?(r={lastEffect:null,stores:null},jo.updateQueue=r,r.stores=[e]):null===(n=r.stores)?r.stores=[e]:n.push(e)}function Yo(e,r,n,t){r.value=n,r.getSnapshot=t,Zo(r)&&Ko(e)}function Xo(e,r,n){return n((function(){Zo(r)&&Ko(e)}))}function Zo(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!bt(e,n)}catch(e){return!0}}function Ko(e){var r=Wi(e,1);null!==r&&v_(r,e,1,-1)}function Jo(e){var r=Uo();return"function"==typeof e&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},r.queue=e,e=e.dispatch=vl.bind(null,jo,e),[r.memoizedState,e]}function el(e,r,n,t){return e={tag:e,create:r,destroy:n,deps:t,next:null},null===(r=jo.updateQueue)?(r={lastEffect:null,stores:null},jo.updateQueue=r,r.lastEffect=e.next=e):null===(n=r.lastEffect)?r.lastEffect=e.next=e:(t=n.next,n.next=e,e.next=t,r.lastEffect=e),e}function rl(){return Bo().memoizedState}function nl(e,r,n,t){var a=Uo();jo.flags|=e,a.memoizedState=el(1|r,n,void 0,void 0===t?null:t)}function tl(e,r,n,t){var a=Bo();t=void 0===t?null:t;var i=void 0;if(null!==No){var o=No.memoizedState;if(i=o.destroy,null!==t&&Ao(t,o.deps))return void(a.memoizedState=el(r,n,i,t))}jo.flags|=e,a.memoizedState=el(1|r,n,i,t)}function al(e,r){return nl(8390656,8,e,r)}function il(e,r){return tl(2048,8,e,r)}function ol(e,r){return tl(4,2,e,r)}function ll(e,r){return tl(4,4,e,r)}function sl(e,r){return"function"==typeof r?(e=e(),r(e),function(){r(null)}):null!=r?(e=e(),r.current=e,function(){r.current=null}):void 0}function _l(e,r,n){return n=null!=n?n.concat([e]):null,tl(4,4,sl.bind(null,r,e),n)}function ul(){}function cl(e,r){var n=Bo();r=void 0===r?null:r;var t=n.memoizedState;return null!==t&&null!==r&&Ao(r,t[1])?t[0]:(n.memoizedState=[e,r],e)}function fl(e,r){var n=Bo();r=void 0===r?null:r;var t=n.memoizedState;return null!==t&&null!==r&&Ao(r,t[1])?t[0]:(e=e(),n.memoizedState=[e,r],e)}function dl(e,r,n){return 0==(21&Lo)?(e.baseState&&(e.baseState=!1,Il=!0),e.memoizedState=n):(bt(n,r)||(n=jr(),jo.lanes|=n,Zs|=n,e.baseState=!0),r)}function pl(e,r){var n=Mr;Mr=0!==n&&4>n?n:4,e(!0);var t=Co.transition;Co.transition={};try{e(!1),r()}finally{Mr=n,Co.transition=t}}function hl(){return Bo().memoizedState}function gl(e,r,n){var t=g_(e);if(n={lane:t,action:n,hasEagerState:!1,eagerState:null,next:null},ml(e))wl(r,n);else if(null!==(n=Gi(e,r,n,t))){v_(n,e,t,h_()),yl(n,r,t)}}function vl(e,r,n){var t=g_(e),a={lane:t,action:n,hasEagerState:!1,eagerState:null,next:null};if(ml(e))wl(r,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=r.lastRenderedReducer))try{var o=r.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,bt(l,o)){var s=r.interleaved;return null===s?(a.next=a,Bi(r)):(a.next=s.next,s.next=a),void(r.interleaved=a)}}catch(e){}null!==(n=Gi(e,r,a,t))&&(v_(n,e,t,a=h_()),yl(n,r,t))}}function ml(e){var r=e.alternate;return e===jo||null!==r&&r===jo}function wl(e,r){Mo=To=!0;var n=e.pending;null===n?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function yl(e,r,n){if(0!=(4194240&n)){var t=r.lanes;n|=t&=e.pendingLanes,r.lanes=n,Tr(e,n)}}var kl={readContext:Fi,useCallback:Do,useContext:Do,useEffect:Do,useImperativeHandle:Do,useInsertionEffect:Do,useLayoutEffect:Do,useMemo:Do,useReducer:Do,useRef:Do,useState:Do,useDebugValue:Do,useDeferredValue:Do,useTransition:Do,useMutableSource:Do,useSyncExternalStore:Do,useId:Do,unstable_isNewReconciler:!1},bl={readContext:Fi,useCallback:function(e,r){return Uo().memoizedState=[e,void 0===r?null:r],e},useContext:Fi,useEffect:al,useImperativeHandle:function(e,r,n){return n=null!=n?n.concat([e]):null,nl(4194308,4,sl.bind(null,r,e),n)},useLayoutEffect:function(e,r){return nl(4194308,4,e,r)},useInsertionEffect:function(e,r){return nl(4,2,e,r)},useMemo:function(e,r){var n=Uo();return r=void 0===r?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var t=Uo();return r=void 0!==n?n(r):r,t.memoizedState=t.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},t.queue=e,e=e.dispatch=gl.bind(null,jo,e),[t.memoizedState,e]},useRef:function(e){return e={current:e},Uo().memoizedState=e},useState:Jo,useDebugValue:ul,useDeferredValue:function(e){return Uo().memoizedState=e},useTransition:function(){var e=Jo(!1),r=e[0];return e=pl.bind(null,e[1]),Uo().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var t=jo,a=Uo();if(wi){if(void 0===n)throw Error(w(407));n=n()}else{if(n=r(),null===Ws)throw Error(w(349));0!=(30&Lo)||Qo(t,r,n)}a.memoizedState=n;var i={value:n,getSnapshot:r};return a.queue=i,al(Xo.bind(null,t,i,e),[e]),t.flags|=2048,el(9,Yo.bind(null,t,i,n,r),void 0,null),n},useId:function(){var e=Uo(),r=Ws.identifierPrefix;if(wi){var n=fi;r=":"+r+"R"+(n=(ci&~(1<<32-kr(ci)-1)).toString(32)+n),0<(n=Io++)&&(r+="H"+n.toString(32)),r+=":"}else r=":"+r+"r"+(n=Ro++).toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},xl={readContext:Fi,useCallback:cl,useContext:Fi,useEffect:il,useImperativeHandle:_l,useInsertionEffect:ol,useLayoutEffect:ll,useMemo:fl,useReducer:Wo,useRef:rl,useState:function(){return Wo(Go)},useDebugValue:ul,useDeferredValue:function(e){return dl(Bo(),No.memoizedState,e)},useTransition:function(){return[Wo(Go)[0],Bo().memoizedState]},useMutableSource:Ho,useSyncExternalStore:$o,useId:hl,unstable_isNewReconciler:!1},Pl={readContext:Fi,useCallback:cl,useContext:Fi,useEffect:il,useImperativeHandle:_l,useInsertionEffect:ol,useLayoutEffect:ll,useMemo:fl,useReducer:Vo,useRef:rl,useState:function(){return Vo(Go)},useDebugValue:ul,useDeferredValue:function(e){var r=Bo();return null===No?r.memoizedState=e:dl(r,No.memoizedState,e)},useTransition:function(){return[Vo(Go)[0],Bo().memoizedState]},useMutableSource:Ho,useSyncExternalStore:$o,useId:hl,unstable_isNewReconciler:!1};function Ol(e,r){try{var n="",t=r;do{n+=ne(t),t=t.return}while(t);var a=n}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:r,stack:a,digest:null}}function Sl(e,r,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=r?r:null}}function El(e,r){try{console.error(r.value)}catch(e){setTimeout((function(){throw e}))}}var Cl="function"==typeof WeakMap?WeakMap:Map;function Ll(e,r,n){(n=Qi(-1,n)).tag=3,n.payload={element:null};var t=r.value;return n.callback=function(){i_||(i_=!0,o_=t),El(0,r)},n}function jl(e,r,n){(n=Qi(-1,n)).tag=3;var t=e.type.getDerivedStateFromError;if("function"==typeof t){var a=r.value;n.payload=function(){return t(a)},n.callback=function(){El(0,r)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){El(0,r),"function"!=typeof t&&(null===l_?l_=new Set([this]):l_.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})}),n}function Nl(e,r,n){var t=e.pingCache;if(null===t){t=e.pingCache=new Cl;var a=new Set;t.set(r,a)}else void 0===(a=t.get(r))&&(a=new Set,t.set(r,a));a.has(n)||(a.add(n),e=F_.bind(null,e,r,n),r.then(e,e))}function zl(e){do{var r;if((r=13===e.tag)&&(r=null===(r=e.memoizedState)||null!==r.dehydrated),r)return e;e=e.return}while(null!==e);return null}function Tl(e,r,n,t,a){return 0==(1&e.mode)?(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((r=Qi(-1,1)).tag=2,Yi(n,r,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Ml=I.ReactCurrentOwner,Il=!1;function Rl(e,r,n,t){r.child=null===e?fo(r,null,n,t):co(r,e.child,n,t)}function Dl(e,r,n,t,a){n=n.render;var i=r.ref;return qi(r,a),t=qo(e,r,n,t,i,a),n=Fo(),null===e||Il?(wi&&n&&hi(r),r.flags|=1,Rl(e,r,t,a),r.child):(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,is(e,r,a))}function Al(e,r,n,t,a){if(null===e){var i=n.type;return"function"!=typeof i||$_(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Y_(n.type,null,t,r,r.mode,a)).ref=r.ref,e.return=r,r.child=e):(r.tag=15,r.type=i,ql(e,r,i,t,a))}if(i=e.child,0==(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:xt)(o,t)&&e.ref===r.ref)return is(e,r,a)}return r.flags|=1,(e=Q_(i,t)).ref=r.ref,e.return=r,r.child=e}function ql(e,r,n,t,a){if(null!==e){var i=e.memoizedProps;if(xt(i,t)&&e.ref===r.ref){if(Il=!1,r.pendingProps=t=i,0==(e.lanes&a))return r.lanes=e.lanes,is(e,r,a);0!=(131072&e.flags)&&(Il=!0)}}return Bl(e,r,n,t,a)}function Fl(e,r,n){var t=r.pendingProps,a=t.children,i=null!==e?e.memoizedState:null;if("hidden"===t.mode)if(0==(1&r.mode))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ua(Qs,$s),$s|=n;else{if(0==(1073741824&n))return e=null!==i?i.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Ua(Qs,$s),$s|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},t=null!==i?i.baseLanes:n,Ua(Qs,$s),$s|=t}else null!==i?(t=i.baseLanes|n,r.memoizedState=null):t=n,Ua(Qs,$s),$s|=t;return Rl(e,r,a,n),r.child}function Ul(e,r){var n=r.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function Bl(e,r,n,t,a){var i=$a(n)?Va:Ga.current;return i=Ha(r,i),qi(r,a),n=qo(e,r,n,t,i,a),t=Fo(),null===e||Il?(wi&&t&&hi(r),r.flags|=1,Rl(e,r,n,a),r.child):(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,is(e,r,a))}function Gl(e,r,n,t,a){if($a(n)){var i=!0;Za(r)}else i=!1;if(qi(r,a),null===r.stateNode)as(e,r),ao(r,n,t),oo(r,n,t,a),t=!0;else if(null===e){var o=r.stateNode,l=r.memoizedProps;o.props=l;var s=o.context,_=n.contextType;"object"==typeof _&&null!==_?_=Fi(_):_=Ha(r,_=$a(n)?Va:Ga.current);var u=n.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(l!==t||s!==_)&&io(r,o,t,_),Vi=!1;var f=r.memoizedState;o.state=f,Ki(r,t,o,a),s=r.memoizedState,l!==t||f!==s||Wa.current||Vi?("function"==typeof u&&(ro(r,n,u,t),s=r.memoizedState),(l=Vi||to(r,n,l,t,f,s,_))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(r.flags|=4194308)):("function"==typeof o.componentDidMount&&(r.flags|=4194308),r.memoizedProps=t,r.memoizedState=s),o.props=t,o.state=s,o.context=_,t=l):("function"==typeof o.componentDidMount&&(r.flags|=4194308),t=!1)}else{o=r.stateNode,$i(e,r),l=r.memoizedProps,_=r.type===r.elementType?l:Ni(r.type,l),o.props=_,c=r.pendingProps,f=o.context,"object"==typeof(s=n.contextType)&&null!==s?s=Fi(s):s=Ha(r,s=$a(n)?Va:Ga.current);var d=n.getDerivedStateFromProps;(u="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(l!==c||f!==s)&&io(r,o,t,s),Vi=!1,f=r.memoizedState,o.state=f,Ki(r,t,o,a);var p=r.memoizedState;l!==c||f!==p||Wa.current||Vi?("function"==typeof d&&(ro(r,n,d,t),p=r.memoizedState),(_=Vi||to(r,n,_,t,f,p,s)||!1)?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(t,p,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(t,p,s)),"function"==typeof o.componentDidUpdate&&(r.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(r.flags|=1024)):("function"!=typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(r.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(r.flags|=1024),r.memoizedProps=t,r.memoizedState=p),o.props=t,o.state=p,o.context=s,t=_):("function"!=typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(r.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(r.flags|=1024),t=!1)}return Wl(e,r,n,t,i,a)}function Wl(e,r,n,t,a,i){Ul(e,r);var o=0!=(128&r.flags);if(!t&&!o)return a&&Ka(r,n,!1),is(e,r,i);t=r.stateNode,Ml.current=r;var l=o&&"function"!=typeof n.getDerivedStateFromError?null:t.render();return r.flags|=1,null!==e&&o?(r.child=co(r,e.child,null,i),r.child=co(r,null,l,i)):Rl(e,r,l,i),r.memoizedState=t.state,a&&Ka(r,n,!0),r.child}function Vl(e){var r=e.stateNode;r.pendingContext?Ya(0,r.pendingContext,r.pendingContext!==r.context):r.context&&Ya(0,r.context,!1),wo(e,r.containerInfo)}function Hl(e,r,n,t,a){return Ci(),Li(a),r.flags|=256,Rl(e,r,n,t),r.child}var $l,Ql,Yl,Xl={dehydrated:null,treeContext:null,retryLane:0};function Zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kl(e,r,n){var t,a=r.pendingProps,i=xo.current,o=!1,l=0!=(128&r.flags);if((t=l)||(t=(null===e||null!==e.memoizedState)&&0!=(2&i)),t?(o=!0,r.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ua(xo,1&i),null===e)return Pi(r),null!==(e=r.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&r.mode)?r.lanes=1:"$!"===e.data?r.lanes=8:r.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=r.mode,o=r.child,l={mode:"hidden",children:l},0==(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Z_(l,a,0,null),e=X_(e,a,n,null),o.return=r,e.return=r,o.sibling=e,r.child=o,r.child.memoizedState=Zl(n),r.memoizedState=Xl,e):Jl(r,l));if(null!==(i=e.memoizedState)&&null!==(t=i.dehydrated))return function(e,r,n,t,a,i,o){if(n)return 256&r.flags?(r.flags&=-257,es(e,r,o,t=Sl(Error(w(422))))):null!==r.memoizedState?(r.child=e.child,r.flags|=128,null):(i=t.fallback,a=r.mode,t=Z_({mode:"visible",children:t.children},a,0,null),(i=X_(i,a,o,null)).flags|=2,t.return=r,i.return=r,t.sibling=i,r.child=t,0!=(1&r.mode)&&co(r,e.child,null,o),r.child.memoizedState=Zl(o),r.memoizedState=Xl,i);if(0==(1&r.mode))return es(e,r,o,null);if("$!"===a.data){if(t=a.nextSibling&&a.nextSibling.dataset)var l=t.dgst;return t=l,es(e,r,o,t=Sl(i=Error(w(419)),t,void 0))}if(l=0!=(o&e.childLanes),Il||l){if(null!==(t=Ws)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!=(a&(t.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Wi(e,a),v_(t,e,a,-1))}return j_(),es(e,r,o,t=Sl(Error(w(421))))}return"$?"===a.data?(r.flags|=128,r.child=e.child,r=B_.bind(null,e),a._reactRetry=r,null):(e=i.treeContext,mi=Pa(a.nextSibling),vi=r,wi=!0,yi=null,null!==e&&(si[_i++]=ci,si[_i++]=fi,si[_i++]=ui,ci=e.id,fi=e.overflow,ui=r),r=Jl(r,t.children),r.flags|=4096,r)}(e,r,l,a,t,i,n);if(o){o=a.fallback,l=r.mode,t=(i=e.child).sibling;var s={mode:"hidden",children:a.children};return 0==(1&l)&&r.child!==i?((a=r.child).childLanes=0,a.pendingProps=s,r.deletions=null):(a=Q_(i,s)).subtreeFlags=14680064&i.subtreeFlags,null!==t?o=Q_(t,o):(o=X_(o,l,n,null)).flags|=2,o.return=r,a.return=r,a.sibling=o,r.child=a,a=o,o=r.child,l=null===(l=e.child.memoizedState)?Zl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,r.memoizedState=Xl,a}return e=(o=e.child).sibling,a=Q_(o,{mode:"visible",children:a.children}),0==(1&r.mode)&&(a.lanes=n),a.return=r,a.sibling=null,null!==e&&(null===(n=r.deletions)?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=a,r.memoizedState=null,a}function Jl(e,r){return(r=Z_({mode:"visible",children:r},e.mode,0,null)).return=e,e.child=r}function es(e,r,n,t){return null!==t&&Li(t),co(r,e.child,null,n),(e=Jl(r,r.pendingProps.children)).flags|=2,r.memoizedState=null,e}function rs(e,r,n){e.lanes|=r;var t=e.alternate;null!==t&&(t.lanes|=r),Ai(e.return,r,n)}function ns(e,r,n,t,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:t,tail:n,tailMode:a}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=t,i.tail=n,i.tailMode=a)}function ts(e,r,n){var t=r.pendingProps,a=t.revealOrder,i=t.tail;if(Rl(e,r,t.children,n),0!=(2&(t=xo.current)))t=1&t|2,r.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=r.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rs(e,n,r);else if(19===e.tag)rs(e,n,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}t&=1}if(Ua(xo,t),0==(1&r.mode))r.memoizedState=null;else switch(a){case"forwards":for(n=r.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Po(e)&&(a=n),n=n.sibling;null===(n=a)?(a=r.child,r.child=null):(a=n.sibling,n.sibling=null),ns(r,!1,a,n,i);break;case"backwards":for(n=null,a=r.child,r.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Po(e)){r.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ns(r,!0,n,null,i);break;case"together":ns(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function as(e,r){0==(1&r.mode)&&null!==e&&(e.alternate=null,r.alternate=null,r.flags|=2)}function is(e,r,n){if(null!==e&&(r.dependencies=e.dependencies),Zs|=r.lanes,0==(n&r.childLanes))return null;if(null!==e&&r.child!==e.child)throw Error(w(153));if(null!==r.child){for(n=Q_(e=r.child,e.pendingProps),r.child=n,n.return=r;null!==e.sibling;)e=e.sibling,(n=n.sibling=Q_(e,e.pendingProps)).return=r;n.sibling=null}return r.child}function os(e,r){if(!wi)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?r||null===e.tail?e.tail=null:e.tail.sibling=null:t.sibling=null}}function ls(e){var r=null!==e.alternate&&e.alternate.child===e.child,n=0,t=0;if(r)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,t|=14680064&a.subtreeFlags,t|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,t|=a.subtreeFlags,t|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=t,e.childLanes=n,r}function ss(e,r,n){var t=r.pendingProps;switch(gi(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ls(r),null;case 1:case 17:return $a(r.type)&&Qa(),ls(r),null;case 3:return t=r.stateNode,yo(),Fa(Wa),Fa(Ga),So(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),null!==e&&null!==e.child||(Si(r)?r.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&r.flags)||(r.flags|=1024,null!==yi&&(k_(yi),yi=null))),ls(r),null;case 5:bo(r);var a=mo(vo.current);if(n=r.type,null!==e&&null!=r.stateNode)Ql(e,r,n,t),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!t){if(null===r.stateNode)throw Error(w(166));return ls(r),null}if(e=mo(ho.current),Si(r)){t=r.stateNode,n=r.type;var i=r.memoizedProps;switch(t[Ea]=r,t[Ca]=i,e=0!=(1&r.mode),n){case"dialog":ea("cancel",t),ea("close",t);break;case"iframe":case"object":case"embed":ea("load",t);break;case"video":case"audio":for(a=0;a<Xt.length;a++)ea(Xt[a],t);break;case"source":ea("error",t);break;case"img":case"image":case"link":ea("error",t),ea("load",t);break;case"details":ea("toggle",t);break;case"input":ce(t,i),ea("invalid",t);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},ea("invalid",t);break;case"textarea":we(t,i),ea("invalid",t)}for(var o in Te(n,i),a=null,i)if(i.hasOwnProperty(o)){var l=i[o];"children"===o?"string"==typeof l?t.textContent!==l&&(!0!==i.suppressHydrationWarning&&da(t.textContent,l,e),a=["children",l]):"number"==typeof l&&t.textContent!==""+l&&(!0!==i.suppressHydrationWarning&&da(t.textContent,l,e),a=["children",""+l]):k.hasOwnProperty(o)&&null!=l&&"onScroll"===o&&ea("scroll",t)}switch(n){case"input":le(t),pe(t,i,!0);break;case"textarea":le(t),ke(t);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(t.onclick=pa)}t=a,r.updateQueue=t,null!==t&&(r.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=be(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof t.is?e=o.createElement(n,{is:t.is}):(e=o.createElement(n),"select"===n&&(o=e,t.multiple?o.multiple=!0:t.size&&(o.size=t.size))):e=o.createElementNS(e,n),e[Ea]=r,e[Ca]=t,$l(e,r),r.stateNode=e;e:{switch(o=Me(n,t),n){case"dialog":ea("cancel",e),ea("close",e),a=t;break;case"iframe":case"object":case"embed":ea("load",e),a=t;break;case"video":case"audio":for(a=0;a<Xt.length;a++)ea(Xt[a],e);a=t;break;case"source":ea("error",e),a=t;break;case"img":case"image":case"link":ea("error",e),ea("load",e),a=t;break;case"details":ea("toggle",e),a=t;break;case"input":ce(e,t),a=ue(e,t),ea("invalid",e);break;case"option":default:a=t;break;case"select":e._wrapperState={wasMultiple:!!t.multiple},a=K({},t,{value:void 0}),ea("invalid",e);break;case"textarea":we(e,t),a=me(e,t),ea("invalid",e)}for(i in Te(n,a),l=a)if(l.hasOwnProperty(i)){var s=l[i];"style"===i?Ne(e,s):"dangerouslySetInnerHTML"===i?null!=(s=s?s.__html:void 0)&&Se(e,s):"children"===i?"string"==typeof s?("textarea"!==n||""!==s)&&Ee(e,s):"number"==typeof s&&Ee(e,""+s):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(k.hasOwnProperty(i)?null!=s&&"onScroll"===i&&ea("scroll",e):null!=s&&M(e,i,s,o))}switch(n){case"input":le(e),pe(e,t,!1);break;case"textarea":le(e),ke(e);break;case"option":null!=t.value&&e.setAttribute("value",""+ie(t.value));break;case"select":e.multiple=!!t.multiple,null!=(i=t.value)?ve(e,!!t.multiple,i,!1):null!=t.defaultValue&&ve(e,!!t.multiple,t.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=pa)}switch(n){case"button":case"input":case"select":case"textarea":t=!!t.autoFocus;break e;case"img":t=!0;break e;default:t=!1}}t&&(r.flags|=4)}null!==r.ref&&(r.flags|=512,r.flags|=2097152)}return ls(r),null;case 6:if(e&&null!=r.stateNode)Yl(0,r,e.memoizedProps,t);else{if("string"!=typeof t&&null===r.stateNode)throw Error(w(166));if(n=mo(vo.current),mo(ho.current),Si(r)){if(t=r.stateNode,n=r.memoizedProps,t[Ea]=r,(i=t.nodeValue!==n)&&null!==(e=vi))switch(e.tag){case 3:da(t.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&da(t.nodeValue,n,0!=(1&e.mode))}i&&(r.flags|=4)}else(t=(9===n.nodeType?n:n.ownerDocument).createTextNode(t))[Ea]=r,r.stateNode=t}return ls(r),null;case 13:if(Fa(xo),t=r.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(wi&&null!==mi&&0!=(1&r.mode)&&0==(128&r.flags))Ei(),Ci(),r.flags|=98560,i=!1;else if(i=Si(r),null!==t&&null!==t.dehydrated){if(null===e){if(!i)throw Error(w(318));if(!(i=null!==(i=r.memoizedState)?i.dehydrated:null))throw Error(w(317));i[Ea]=r}else Ci(),0==(128&r.flags)&&(r.memoizedState=null),r.flags|=4;ls(r),i=!1}else null!==yi&&(k_(yi),yi=null),i=!0;if(!i)return 65536&r.flags?r:null}return 0!=(128&r.flags)?(r.lanes=n,r):((t=null!==t)!==(null!==e&&null!==e.memoizedState)&&t&&(r.child.flags|=8192,0!=(1&r.mode)&&(null===e||0!=(1&xo.current)?0===Ys&&(Ys=3):j_())),null!==r.updateQueue&&(r.flags|=4),ls(r),null);case 4:return yo(),null===e&&ta(r.stateNode.containerInfo),ls(r),null;case 10:return Di(r.type._context),ls(r),null;case 19:if(Fa(xo),null===(i=r.memoizedState))return ls(r),null;if(t=0!=(128&r.flags),null===(o=i.rendering))if(t)os(i,!1);else{if(0!==Ys||null!==e&&0!=(128&e.flags))for(e=r.child;null!==e;){if(null!==(o=Po(e))){for(r.flags|=128,os(i,!1),null!==(t=o.updateQueue)&&(r.updateQueue=t,r.flags|=4),r.subtreeFlags=0,t=n,n=r.child;null!==n;)e=t,(i=n).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ua(xo,1&xo.current|2),r.child}e=e.sibling}null!==i.tail&&fr()>t_&&(r.flags|=128,t=!0,os(i,!1),r.lanes=4194304)}else{if(!t)if(null!==(e=Po(o))){if(r.flags|=128,t=!0,null!==(n=e.updateQueue)&&(r.updateQueue=n,r.flags|=4),os(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!wi)return ls(r),null}else 2*fr()-i.renderingStartTime>t_&&1073741824!==n&&(r.flags|=128,t=!0,os(i,!1),r.lanes=4194304);i.isBackwards?(o.sibling=r.child,r.child=o):(null!==(n=i.last)?n.sibling=o:r.child=o,i.last=o)}return null!==i.tail?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=fr(),r.sibling=null,n=xo.current,Ua(xo,t?1&n|2:1&n),r):(ls(r),null);case 22:case 23:return S_(),t=null!==r.memoizedState,null!==e&&null!==e.memoizedState!==t&&(r.flags|=8192),t&&0!=(1&r.mode)?0!=(1073741824&$s)&&(ls(r),6&r.subtreeFlags&&(r.flags|=8192)):ls(r),null;case 24:case 25:return null}throw Error(w(156,r.tag))}function _s(e,r){switch(gi(r),r.tag){case 1:return $a(r.type)&&Qa(),65536&(e=r.flags)?(r.flags=-65537&e|128,r):null;case 3:return yo(),Fa(Wa),Fa(Ga),So(),0!=(65536&(e=r.flags))&&0==(128&e)?(r.flags=-65537&e|128,r):null;case 5:return bo(r),null;case 13:if(Fa(xo),null!==(e=r.memoizedState)&&null!==e.dehydrated){if(null===r.alternate)throw Error(w(340));Ci()}return 65536&(e=r.flags)?(r.flags=-65537&e|128,r):null;case 19:return Fa(xo),null;case 4:return yo(),null;case 10:return Di(r.type._context),null;case 22:case 23:return S_(),null;default:return null}}$l=function(e,r){for(var n=r.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===r)break;for(;null===n.sibling;){if(null===n.return||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ql=function(e,r,n,t){var a=e.memoizedProps;if(a!==t){e=r.stateNode,mo(ho.current);var i,o=null;switch(n){case"input":a=ue(e,a),t=ue(e,t),o=[];break;case"select":a=K({},a,{value:void 0}),t=K({},t,{value:void 0}),o=[];break;case"textarea":a=me(e,a),t=me(e,t),o=[];break;default:"function"!=typeof a.onClick&&"function"==typeof t.onClick&&(e.onclick=pa)}for(_ in Te(n,t),n=null,a)if(!t.hasOwnProperty(_)&&a.hasOwnProperty(_)&&null!=a[_])if("style"===_){var l=a[_];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==_&&"children"!==_&&"suppressContentEditableWarning"!==_&&"suppressHydrationWarning"!==_&&"autoFocus"!==_&&(k.hasOwnProperty(_)?o||(o=[]):(o=o||[]).push(_,null));for(_ in t){var s=t[_];if(l=null!=a?a[_]:void 0,t.hasOwnProperty(_)&&s!==l&&(null!=s||null!=l))if("style"===_)if(l){for(i in l)!l.hasOwnProperty(i)||s&&s.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in s)s.hasOwnProperty(i)&&l[i]!==s[i]&&(n||(n={}),n[i]=s[i])}else n||(o||(o=[]),o.push(_,n)),n=s;else"dangerouslySetInnerHTML"===_?(s=s?s.__html:void 0,l=l?l.__html:void 0,null!=s&&l!==s&&(o=o||[]).push(_,s)):"children"===_?"string"!=typeof s&&"number"!=typeof s||(o=o||[]).push(_,""+s):"suppressContentEditableWarning"!==_&&"suppressHydrationWarning"!==_&&(k.hasOwnProperty(_)?(null!=s&&"onScroll"===_&&ea("scroll",e),o||l===s||(o=[])):(o=o||[]).push(_,s))}n&&(o=o||[]).push("style",n);var _=o;(r.updateQueue=_)&&(r.flags|=4)}},Yl=function(e,r,n,t){n!==t&&(r.flags|=4)};var us=!1,cs=!1,fs="function"==typeof WeakSet?WeakSet:Set,ds=null;function ps(e,r){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){q_(e,r,n)}else n.current=null}function hs(e,r,n){try{n()}catch(n){q_(e,r,n)}}var gs=!1;function vs(e,r,n){var t=r.updateQueue;if(null!==(t=null!==t?t.lastEffect:null)){var a=t=t.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&hs(r,n,i)}a=a.next}while(a!==t)}}function ms(e,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)===e){var t=n.create;n.destroy=t()}n=n.next}while(n!==r)}}function ws(e){var r=e.ref;if(null!==r){var n=e.stateNode;e.tag,e=n,"function"==typeof r?r(e):r.current=e}}function ys(e){var r=e.alternate;null!==r&&(e.alternate=null,ys(r)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(r=e.stateNode)&&(delete r[Ea],delete r[Ca],delete r[ja],delete r[Na],delete r[za])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ks(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ks(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xs(e,r,n){var t=e.tag;if(5===t||6===t)e=e.stateNode,r?8===n.nodeType?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(8===n.nodeType?(r=n.parentNode).insertBefore(e,n):(r=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==r.onclick||(r.onclick=pa));else if(4!==t&&null!==(e=e.child))for(xs(e,r,n),e=e.sibling;null!==e;)xs(e,r,n),e=e.sibling}function Ps(e,r,n){var t=e.tag;if(5===t||6===t)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(4!==t&&null!==(e=e.child))for(Ps(e,r,n),e=e.sibling;null!==e;)Ps(e,r,n),e=e.sibling}var Os=null,Ss=!1;function Es(e,r,n){for(n=n.child;null!==n;)Cs(e,r,n),n=n.sibling}function Cs(e,r,n){if(yr&&"function"==typeof yr.onCommitFiberUnmount)try{yr.onCommitFiberUnmount(wr,n)}catch(e){}switch(n.tag){case 5:cs||ps(n,r);case 6:var t=Os,a=Ss;Os=null,Es(e,r,n),Ss=a,null!==(Os=t)&&(Ss?(e=Os,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Os.removeChild(n.stateNode));break;case 18:null!==Os&&(Ss?(e=Os,n=n.stateNode,8===e.nodeType?xa(e.parentNode,n):1===e.nodeType&&xa(e,n),tn(e)):xa(Os,n.stateNode));break;case 4:t=Os,a=Ss,Os=n.stateNode.containerInfo,Ss=!0,Es(e,r,n),Os=t,Ss=a;break;case 0:case 11:case 14:case 15:if(!cs&&(null!==(t=n.updateQueue)&&null!==(t=t.lastEffect))){a=t=t.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!=(2&i)||0!=(4&i))&&hs(n,r,o),a=a.next}while(a!==t)}Es(e,r,n);break;case 1:if(!cs&&(ps(n,r),"function"==typeof(t=n.stateNode).componentWillUnmount))try{t.props=n.memoizedProps,t.state=n.memoizedState,t.componentWillUnmount()}catch(e){q_(n,r,e)}Es(e,r,n);break;case 21:Es(e,r,n);break;case 22:1&n.mode?(cs=(t=cs)||null!==n.memoizedState,Es(e,r,n),cs=t):Es(e,r,n);break;default:Es(e,r,n)}}function Ls(e){var r=e.updateQueue;if(null!==r){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fs),r.forEach((function(r){var t=G_.bind(null,e,r);n.has(r)||(n.add(r),r.then(t,t))}))}}function js(e,r){var n=r.deletions;if(null!==n)for(var t=0;t<n.length;t++){var a=n[t];try{var i=e,o=r,l=o;e:for(;null!==l;){switch(l.tag){case 5:Os=l.stateNode,Ss=!1;break e;case 3:case 4:Os=l.stateNode.containerInfo,Ss=!0;break e}l=l.return}if(null===Os)throw Error(w(160));Cs(i,o,a),Os=null,Ss=!1;var s=a.alternate;null!==s&&(s.return=null),a.return=null}catch(e){q_(a,r,e)}}if(12854&r.subtreeFlags)for(r=r.child;null!==r;)Ns(r,e),r=r.sibling}function Ns(e,r){var n=e.alternate,t=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(js(r,e),zs(e),4&t){try{vs(3,e,e.return),ms(3,e)}catch(r){q_(e,e.return,r)}try{vs(5,e,e.return)}catch(r){q_(e,e.return,r)}}break;case 1:js(r,e),zs(e),512&t&&null!==n&&ps(n,n.return);break;case 5:if(js(r,e),zs(e),512&t&&null!==n&&ps(n,n.return),32&e.flags){var a=e.stateNode;try{Ee(a,"")}catch(r){q_(e,e.return,r)}}if(4&t&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,s=e.updateQueue;if(e.updateQueue=null,null!==s)try{"input"===l&&"radio"===i.type&&null!=i.name&&fe(a,i),Me(l,o);var _=Me(l,i);for(o=0;o<s.length;o+=2){var u=s[o],c=s[o+1];"style"===u?Ne(a,c):"dangerouslySetInnerHTML"===u?Se(a,c):"children"===u?Ee(a,c):M(a,u,c,_)}switch(l){case"input":de(a,i);break;case"textarea":ye(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;null!=d?ve(a,!!i.multiple,d,!1):f!==!!i.multiple&&(null!=i.defaultValue?ve(a,!!i.multiple,i.defaultValue,!0):ve(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ca]=i}catch(r){q_(e,e.return,r)}}break;case 6:if(js(r,e),zs(e),4&t){if(null===e.stateNode)throw Error(w(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(r){q_(e,e.return,r)}}break;case 3:if(js(r,e),zs(e),4&t&&null!==n&&n.memoizedState.isDehydrated)try{tn(r.containerInfo)}catch(r){q_(e,e.return,r)}break;case 4:default:js(r,e),zs(e);break;case 13:js(r,e),zs(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(n_=fr())),4&t&&Ls(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(cs=(_=cs)||u,js(r,e),cs=_):js(r,e),zs(e),8192&t){if(_=null!==e.memoizedState,(e.stateNode.isHidden=_)&&!u&&0!=(1&e.mode))for(ds=e,u=e.child;null!==u;){for(c=ds=u;null!==ds;){switch(d=(f=ds).child,f.tag){case 0:case 11:case 14:case 15:vs(4,f,f.return);break;case 1:ps(f,f.return);var p=f.stateNode;if("function"==typeof p.componentWillUnmount){t=f,n=f.return;try{r=t,p.props=r.memoizedProps,p.state=r.memoizedState,p.componentWillUnmount()}catch(e){q_(t,n,e)}}break;case 5:ps(f,f.return);break;case 22:if(null!==f.memoizedState){Rs(c);continue}}null!==d?(d.return=f,ds=d):Rs(c)}u=u.sibling}e:for(u=null,c=e;;){if(5===c.tag){if(null===u){u=c;try{a=c.stateNode,_?"function"==typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=c.stateNode,o=null!=(s=c.memoizedProps.style)&&s.hasOwnProperty("display")?s.display:null,l.style.display=je("display",o))}catch(r){q_(e,e.return,r)}}}else if(6===c.tag){if(null===u)try{c.stateNode.nodeValue=_?"":c.memoizedProps}catch(r){q_(e,e.return,r)}}else if((22!==c.tag&&23!==c.tag||null===c.memoizedState||c===e)&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;null===c.sibling;){if(null===c.return||c.return===e)break e;u===c&&(u=null),c=c.return}u===c&&(u=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:js(r,e),zs(e),4&t&&Ls(e);case 21:}}function zs(e){var r=e.flags;if(2&r){try{e:{for(var n=e.return;null!==n;){if(ks(n)){var t=n;break e}n=n.return}throw Error(w(160))}switch(t.tag){case 5:var a=t.stateNode;32&t.flags&&(Ee(a,""),t.flags&=-33),Ps(e,bs(e),a);break;case 3:case 4:var i=t.stateNode.containerInfo;xs(e,bs(e),i);break;default:throw Error(w(161))}}catch(r){q_(e,e.return,r)}e.flags&=-3}4096&r&&(e.flags&=-4097)}function Ts(e,r,n){ds=e,Ms(e,r,n)}function Ms(e,r,n){for(var t=0!=(1&e.mode);null!==ds;){var a=ds,i=a.child;if(22===a.tag&&t){var o=null!==a.memoizedState||us;if(!o){var l=a.alternate,s=null!==l&&null!==l.memoizedState||cs;l=us;var _=cs;if(us=o,(cs=s)&&!_)for(ds=a;null!==ds;)s=(o=ds).child,22===o.tag&&null!==o.memoizedState?Ds(a):null!==s?(s.return=o,ds=s):Ds(a);for(;null!==i;)ds=i,Ms(i,r,n),i=i.sibling;ds=a,us=l,cs=_}Is(e)}else 0!=(8772&a.subtreeFlags)&&null!==i?(i.return=a,ds=i):Is(e)}}function Is(e){for(;null!==ds;){var r=ds;if(0!=(8772&r.flags)){var n=r.alternate;try{if(0!=(8772&r.flags))switch(r.tag){case 0:case 11:case 15:cs||ms(5,r);break;case 1:var t=r.stateNode;if(4&r.flags&&!cs)if(null===n)t.componentDidMount();else{var a=r.elementType===r.type?n.memoizedProps:Ni(r.type,n.memoizedProps);t.componentDidUpdate(a,n.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;null!==i&&Ji(r,i,t);break;case 3:var o=r.updateQueue;if(null!==o){if(n=null,null!==r.child)switch(r.child.tag){case 5:case 1:n=r.child.stateNode}Ji(r,o,n)}break;case 5:var l=r.stateNode;if(null===n&&4&r.flags){n=l;var s=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===r.memoizedState){var _=r.alternate;if(null!==_){var u=_.memoizedState;if(null!==u){var c=u.dehydrated;null!==c&&tn(c)}}}break;default:throw Error(w(163))}cs||512&r.flags&&ws(r)}catch(e){q_(r,r.return,e)}}if(r===e){ds=null;break}if(null!==(n=r.sibling)){n.return=r.return,ds=n;break}ds=r.return}}function Rs(e){for(;null!==ds;){var r=ds;if(r===e){ds=null;break}var n=r.sibling;if(null!==n){n.return=r.return,ds=n;break}ds=r.return}}function Ds(e){for(;null!==ds;){var r=ds;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{ms(4,r)}catch(e){q_(r,n,e)}break;case 1:var t=r.stateNode;if("function"==typeof t.componentDidMount){var a=r.return;try{t.componentDidMount()}catch(e){q_(r,a,e)}}var i=r.return;try{ws(r)}catch(e){q_(r,i,e)}break;case 5:var o=r.return;try{ws(r)}catch(e){q_(r,o,e)}}}catch(e){q_(r,r.return,e)}if(r===e){ds=null;break}var l=r.sibling;if(null!==l){l.return=r.return,ds=l;break}ds=r.return}}var As,qs=Math.ceil,Fs=I.ReactCurrentDispatcher,Us=I.ReactCurrentOwner,Bs=I.ReactCurrentBatchConfig,Gs=0,Ws=null,Vs=null,Hs=0,$s=0,Qs=qa(0),Ys=0,Xs=null,Zs=0,Ks=0,Js=0,e_=null,r_=null,n_=0,t_=1/0,a_=null,i_=!1,o_=null,l_=null,s_=!1,__=null,u_=0,c_=0,f_=null,d_=-1,p_=0;function h_(){return 0!=(6&Gs)?fr():-1!==d_?d_:d_=fr()}function g_(e){return 0==(1&e.mode)?1:0!=(2&Gs)&&0!==Hs?Hs&-Hs:null!==ji.transition?(0===p_&&(p_=jr()),p_):0!==(e=Mr)?e:e=void 0===(e=window.event)?16:fn(e.type)}function v_(e,r,n,t){if(50<c_)throw c_=0,f_=null,Error(w(185));zr(e,n,t),0!=(2&Gs)&&e===Ws||(e===Ws&&(0==(2&Gs)&&(Ks|=n),4===Ys&&b_(e,Hs)),m_(e,t),1===n&&0===Gs&&0==(1&r.mode)&&(t_=fr()+500,ei&&ti()))}function m_(e,r){var n=e.callbackNode;!function(e,r){for(var n=e.suspendedLanes,t=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-kr(i),l=1<<o,s=a[o];-1===s?0!=(l&n)&&0==(l&t)||(a[o]=Cr(l,r)):s<=r&&(e.expiredLanes|=l),i&=~l}}(e,r);var t=Er(e,e===Ws?Hs:0);if(0===t)null!==n&&_r(n),e.callbackNode=null,e.callbackPriority=0;else if(r=t&-t,e.callbackPriority!==r){if(null!=n&&_r(n),1===r)0===e.tag?function(e){ei=!0,ni(e)}(x_.bind(null,e)):ni(x_.bind(null,e)),ka((function(){0==(6&Gs)&&ti()})),n=null;else{switch(Ir(t)){case 1:n=pr;break;case 4:n=hr;break;case 16:default:n=gr;break;case 536870912:n=mr}n=W_(n,w_.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function w_(e,r){if(d_=-1,p_=0,0!=(6&Gs))throw Error(w(327));var n=e.callbackNode;if(D_()&&e.callbackNode!==n)return null;var t=Er(e,e===Ws?Hs:0);if(0===t)return null;if(0!=(30&t)||0!=(t&e.expiredLanes)||r)r=N_(e,t);else{r=t;var a=Gs;Gs|=2;var i=L_();for(Ws===e&&Hs===r||(a_=null,t_=fr()+500,E_(e,r));;)try{T_();break}catch(r){C_(e,r)}Ri(),Fs.current=i,Gs=a,null!==Vs?r=0:(Ws=null,Hs=0,r=Ys)}if(0!==r){if(2===r&&(0!==(a=Lr(e))&&(t=a,r=y_(e,a))),1===r)throw n=Xs,E_(e,0),b_(e,t),m_(e,fr()),n;if(6===r)b_(e,t);else{if(a=e.current.alternate,0==(30&t)&&!function(e){for(var r=e;;){if(16384&r.flags){var n=r.updateQueue;if(null!==n&&null!==(n=n.stores))for(var t=0;t<n.length;t++){var a=n[t],i=a.getSnapshot;a=a.value;try{if(!bt(i(),a))return!1}catch(e){return!1}}}if(n=r.child,16384&r.subtreeFlags&&null!==n)n.return=r,r=n;else{if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}(a)&&(2===(r=N_(e,t))&&(0!==(i=Lr(e))&&(t=i,r=y_(e,i))),1===r))throw n=Xs,E_(e,0),b_(e,t),m_(e,fr()),n;switch(e.finishedWork=a,e.finishedLanes=t,r){case 0:case 1:throw Error(w(345));case 2:case 5:R_(e,r_,a_);break;case 3:if(b_(e,t),(130023424&t)===t&&10<(r=n_+500-fr())){if(0!==Er(e,0))break;if(((a=e.suspendedLanes)&t)!==t){h_(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ma(R_.bind(null,e,r_,a_),r);break}R_(e,r_,a_);break;case 4:if(b_(e,t),(4194240&t)===t)break;for(r=e.eventTimes,a=-1;0<t;){var o=31-kr(t);i=1<<o,(o=r[o])>a&&(a=o),t&=~i}if(t=a,10<(t=(120>(t=fr()-t)?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*qs(t/1960))-t)){e.timeoutHandle=ma(R_.bind(null,e,r_,a_),t);break}R_(e,r_,a_);break;default:throw Error(w(329))}}}return m_(e,fr()),e.callbackNode===n?w_.bind(null,e):null}function y_(e,r){var n=e_;return e.current.memoizedState.isDehydrated&&(E_(e,r).flags|=256),2!==(e=N_(e,r))&&(r=r_,r_=n,null!==r&&k_(r)),e}function k_(e){null===r_?r_=e:r_.push.apply(r_,e)}function b_(e,r){for(r&=~Js,r&=~Ks,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-kr(r),t=1<<n;e[n]=-1,r&=~t}}function x_(e){if(0!=(6&Gs))throw Error(w(327));D_();var r=Er(e,0);if(0==(1&r))return m_(e,fr()),null;var n=N_(e,r);if(0!==e.tag&&2===n){var t=Lr(e);0!==t&&(r=t,n=y_(e,t))}if(1===n)throw n=Xs,E_(e,0),b_(e,r),m_(e,fr()),n;if(6===n)throw Error(w(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,R_(e,r_,a_),m_(e,fr()),null}function P_(e,r){var n=Gs;Gs|=1;try{return e(r)}finally{0===(Gs=n)&&(t_=fr()+500,ei&&ti())}}function O_(e){null!==__&&0===__.tag&&0==(6&Gs)&&D_();var r=Gs;Gs|=1;var n=Bs.transition,t=Mr;try{if(Bs.transition=null,Mr=1,e)return e()}finally{Mr=t,Bs.transition=n,0==(6&(Gs=r))&&ti()}}function S_(){$s=Qs.current,Fa(Qs)}function E_(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wa(n)),null!==Vs)for(n=Vs.return;null!==n;){var t=n;switch(gi(t),t.tag){case 1:null!=(t=t.type.childContextTypes)&&Qa();break;case 3:yo(),Fa(Wa),Fa(Ga),So();break;case 5:bo(t);break;case 4:yo();break;case 13:case 19:Fa(xo);break;case 10:Di(t.type._context);break;case 22:case 23:S_()}n=n.return}if(Ws=e,Vs=e=Q_(e.current,null),Hs=$s=r,Ys=0,Xs=null,Js=Ks=Zs=0,r_=e_=null,null!==Ui){for(r=0;r<Ui.length;r++)if(null!==(t=(n=Ui[r]).interleaved)){n.interleaved=null;var a=t.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,t.next=o}n.pending=t}Ui=null}return e}function C_(e,r){for(;;){var n=Vs;try{if(Ri(),Eo.current=kl,To){for(var t=jo.memoizedState;null!==t;){var a=t.queue;null!==a&&(a.pending=null),t=t.next}To=!1}if(Lo=0,zo=No=jo=null,Mo=!1,Io=0,Us.current=null,null===n||null===n.return){Ys=1,Xs=r,Vs=null;break}e:{var i=e,o=n.return,l=n,s=r;if(r=Hs,l.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){var _=s,u=l,c=u.tag;if(0==(1&u.mode)&&(0===c||11===c||15===c)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=zl(o);if(null!==d){d.flags&=-257,Tl(d,o,l,0,r),1&d.mode&&Nl(i,_,r),s=_;var p=(r=d).updateQueue;if(null===p){var h=new Set;h.add(s),r.updateQueue=h}else p.add(s);break e}if(0==(1&r)){Nl(i,_,r),j_();break e}s=Error(w(426))}else if(wi&&1&l.mode){var g=zl(o);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),Tl(g,o,l,0,r),Li(Ol(s,l));break e}}i=s=Ol(s,l),4!==Ys&&(Ys=2),null===e_?e_=[i]:e_.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r,Zi(i,Ll(0,s,r));break e;case 1:l=s;var v=i.type,m=i.stateNode;if(0==(128&i.flags)&&("function"==typeof v.getDerivedStateFromError||null!==m&&"function"==typeof m.componentDidCatch&&(null===l_||!l_.has(m)))){i.flags|=65536,r&=-r,i.lanes|=r,Zi(i,jl(i,l,r));break e}}i=i.return}while(null!==i)}I_(n)}catch(e){r=e,Vs===n&&null!==n&&(Vs=n=n.return);continue}break}}function L_(){var e=Fs.current;return Fs.current=kl,null===e?kl:e}function j_(){0!==Ys&&3!==Ys&&2!==Ys||(Ys=4),null===Ws||0==(268435455&Zs)&&0==(268435455&Ks)||b_(Ws,Hs)}function N_(e,r){var n=Gs;Gs|=2;var t=L_();for(Ws===e&&Hs===r||(a_=null,E_(e,r));;)try{z_();break}catch(r){C_(e,r)}if(Ri(),Gs=n,Fs.current=t,null!==Vs)throw Error(w(261));return Ws=null,Hs=0,Ys}function z_(){for(;null!==Vs;)M_(Vs)}function T_(){for(;null!==Vs&&!ur();)M_(Vs)}function M_(e){var r=As(e.alternate,e,$s);e.memoizedProps=e.pendingProps,null===r?I_(e):Vs=r,Us.current=null}function I_(e){var r=e;do{var n=r.alternate;if(e=r.return,0==(32768&r.flags)){if(null!==(n=ss(n,r,$s)))return void(Vs=n)}else{if(null!==(n=_s(n,r)))return n.flags&=32767,void(Vs=n);if(null===e)return Ys=6,void(Vs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(r=r.sibling))return void(Vs=r);Vs=r=e}while(null!==r);0===Ys&&(Ys=5)}function R_(e,r,n){var t=Mr,a=Bs.transition;try{Bs.transition=null,Mr=1,function(e,r,n,t){do{D_()}while(null!==__);if(0!=(6&Gs))throw Error(w(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(w(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var t=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-kr(n),i=1<<a;r[a]=0,t[a]=-1,e[a]=-1,n&=~i}}(e,i),e===Ws&&(Vs=Ws=null,Hs=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||s_||(s_=!0,W_(gr,(function(){return D_(),null}))),i=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||i){i=Bs.transition,Bs.transition=null;var o=Mr;Mr=1;var l=Gs;Gs|=4,Us.current=null,function(e,r){if(ha=on,Ct(e=Et())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var t=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(t&&0!==t.rangeCount){n=t.anchorNode;var a=t.anchorOffset,i=t.focusNode;t=t.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var o=0,l=-1,s=-1,_=0,u=0,c=e,f=null;r:for(;;){for(var d;c!==n||0!==a&&3!==c.nodeType||(l=o+a),c!==i||0!==t&&3!==c.nodeType||(s=o+t),3===c.nodeType&&(o+=c.nodeValue.length),null!==(d=c.firstChild);)f=c,c=d;for(;;){if(c===e)break r;if(f===n&&++_===a&&(l=o),f===i&&++u===t&&(s=o),null!==(d=c.nextSibling))break;f=(c=f).parentNode}c=d}n=-1===l||-1===s?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(ga={focusedElem:e,selectionRange:n},on=!1,ds=r;null!==ds;)if(e=(r=ds).child,0!=(1028&r.subtreeFlags)&&null!==e)e.return=r,ds=e;else for(;null!==ds;){r=ds;try{var p=r.alternate;if(0!=(1024&r.flags))switch(r.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var h=p.memoizedProps,g=p.memoizedState,v=r.stateNode,m=v.getSnapshotBeforeUpdate(r.elementType===r.type?h:Ni(r.type,h),g);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=r.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(w(163))}}catch(e){q_(r,r.return,e)}if(null!==(e=r.sibling)){e.return=r.return,ds=e;break}ds=r.return}p=gs,gs=!1}(e,n),Ns(n,e),Lt(ga),on=!!ha,ga=ha=null,e.current=n,Ts(n,e,a),cr(),Gs=l,Mr=o,Bs.transition=i}else e.current=n;if(s_&&(s_=!1,__=e,u_=a),i=e.pendingLanes,0===i&&(l_=null),function(e){if(yr&&"function"==typeof yr.onCommitFiberRoot)try{yr.onCommitFiberRoot(wr,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),m_(e,fr()),null!==r)for(t=e.onRecoverableError,n=0;n<r.length;n++)a=r[n],t(a.value,{componentStack:a.stack,digest:a.digest});if(i_)throw i_=!1,e=o_,o_=null,e;0!=(1&u_)&&0!==e.tag&&D_(),i=e.pendingLanes,0!=(1&i)?e===f_?c_++:(c_=0,f_=e):c_=0,ti()}(e,r,n,t)}finally{Bs.transition=a,Mr=t}return null}function D_(){if(null!==__){var e=Ir(u_),r=Bs.transition,n=Mr;try{if(Bs.transition=null,Mr=16>e?16:e,null===__)var t=!1;else{if(e=__,__=null,u_=0,0!=(6&Gs))throw Error(w(331));var a=Gs;for(Gs|=4,ds=e.current;null!==ds;){var i=ds,o=i.child;if(0!=(16&ds.flags)){var l=i.deletions;if(null!==l){for(var s=0;s<l.length;s++){var _=l[s];for(ds=_;null!==ds;){var u=ds;switch(u.tag){case 0:case 11:case 15:vs(8,u,i)}var c=u.child;if(null!==c)c.return=u,ds=c;else for(;null!==ds;){var f=(u=ds).sibling,d=u.return;if(ys(u),u===_){ds=null;break}if(null!==f){f.return=d,ds=f;break}ds=d}}}var p=i.alternate;if(null!==p){var h=p.child;if(null!==h){p.child=null;do{var g=h.sibling;h.sibling=null,h=g}while(null!==h)}}ds=i}}if(0!=(2064&i.subtreeFlags)&&null!==o)o.return=i,ds=o;else e:for(;null!==ds;){if(0!=(2048&(i=ds).flags))switch(i.tag){case 0:case 11:case 15:vs(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,ds=v;break e}ds=i.return}}var m=e.current;for(ds=m;null!==ds;){var y=(o=ds).child;if(0!=(2064&o.subtreeFlags)&&null!==y)y.return=o,ds=y;else e:for(o=m;null!==ds;){if(0!=(2048&(l=ds).flags))try{switch(l.tag){case 0:case 11:case 15:ms(9,l)}}catch(e){q_(l,l.return,e)}if(l===o){ds=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,ds=k;break e}ds=l.return}}if(Gs=a,ti(),yr&&"function"==typeof yr.onPostCommitFiberRoot)try{yr.onPostCommitFiberRoot(wr,e)}catch(e){}t=!0}return t}finally{Mr=n,Bs.transition=r}}return!1}function A_(e,r,n){e=Yi(e,r=Ll(0,r=Ol(n,r),1),1),r=h_(),null!==e&&(zr(e,1,r),m_(e,r))}function q_(e,r,n){if(3===e.tag)A_(e,e,n);else for(;null!==r;){if(3===r.tag){A_(r,e,n);break}if(1===r.tag){var t=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof t.componentDidCatch&&(null===l_||!l_.has(t))){r=Yi(r,e=jl(r,e=Ol(n,e),1),1),e=h_(),null!==r&&(zr(r,1,e),m_(r,e));break}}r=r.return}}function F_(e,r,n){var t=e.pingCache;null!==t&&t.delete(r),r=h_(),e.pingedLanes|=e.suspendedLanes&n,Ws===e&&(Hs&n)===n&&(4===Ys||3===Ys&&(130023424&Hs)===Hs&&500>fr()-n_?E_(e,0):Js|=n),m_(e,r)}function U_(e,r){0===r&&(0==(1&e.mode)?r=1:(r=Or,0==(130023424&(Or<<=1))&&(Or=4194304)));var n=h_();null!==(e=Wi(e,r))&&(zr(e,r,n),m_(e,n))}function B_(e){var r=e.memoizedState,n=0;null!==r&&(n=r.retryLane),U_(e,n)}function G_(e,r){var n=0;switch(e.tag){case 13:var t=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:t=e.stateNode;break;default:throw Error(w(314))}null!==t&&t.delete(r),U_(e,n)}function W_(e,r){return sr(e,r)}function V_(e,r,n,t){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function H_(e,r,n,t){return new V_(e,r,n,t)}function $_(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Q_(e,r){var n=e.alternate;return null===n?((n=H_(e.tag,r,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Y_(e,r,n,t,a,i){var o=2;if(t=e,"function"==typeof e)$_(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case A:return X_(n.children,a,i,r);case q:o=8,a|=8;break;case F:return(e=H_(12,n,r,2|a)).elementType=F,e.lanes=i,e;case W:return(e=H_(13,n,r,a)).elementType=W,e.lanes=i,e;case V:return(e=H_(19,n,r,a)).elementType=V,e.lanes=i,e;case Q:return Z_(n,a,i,r);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case U:o=10;break e;case B:o=9;break e;case G:o=11;break e;case H:o=14;break e;case $:o=16,t=null;break e}throw Error(w(130,null==e?e:void 0===e?"undefined":(0,g.default)(e),""))}return(r=H_(o,n,r,a)).elementType=e,r.type=t,r.lanes=i,r}function X_(e,r,n,t){return(e=H_(7,e,t,r)).lanes=n,e}function Z_(e,r,n,t){return(e=H_(22,e,t,r)).elementType=Q,e.lanes=n,e.stateNode={isHidden:!1},e}function K_(e,r,n){return(e=H_(6,e,null,r)).lanes=n,e}function J_(e,r,n){return(r=H_(4,null!==e.children?e.children:[],e.key,r)).lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function eu(e,r,n,t,a){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nr(0),this.expirationTimes=Nr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.identifierPrefix=t,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ru(e,r,n,t,a,i,o,l,s){return e=new eu(e,r,n,l,s),1===r?(r=1,!0===i&&(r|=8)):r=0,i=H_(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:t,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hi(i),e}function nu(e,r,n){var t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:D,key:null==t?null:""+t,children:e,containerInfo:r,implementation:n}}function tu(e){if(!e)return Ba;e:{if(tr(e=e._reactInternals)!==e||1!==e.tag)throw Error(w(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if($a(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(null!==r);throw Error(w(171))}if(1===e.tag){var n=e.type;if($a(n))return Xa(e,n,r)}return r}function au(e,r,n,t,a,i,o,l,s){return(e=ru(n,t,!0,e,0,i,0,l,s)).context=tu(null),n=e.current,(i=Qi(t=h_(),a=g_(n))).callback=null!=r?r:null,Yi(n,i,a),e.current.lanes=a,zr(e,a,t),m_(e,t),e}function iu(e,r,n,t){var a=r.current,i=h_(),o=g_(a);return n=tu(n),null===r.context?r.context=n:r.pendingContext=n,(r=Qi(i,o)).payload={element:e},null!==(t=void 0===t?null:t)&&(r.callback=t),null!==(e=Yi(a,r,o))&&(v_(e,a,o,i),Xi(e,a,o)),o}function ou(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function lu(e,r){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<r?n:r}}function su(e,r){lu(e,r),(e=e.alternate)&&lu(e,r)}As=function(e,r,n){if(null!==e)if(e.memoizedProps!==r.pendingProps||Wa.current)Il=!0;else{if(0==(e.lanes&n)&&0==(128&r.flags))return Il=!1,function(e,r,n){switch(r.tag){case 3:Vl(r),Ci();break;case 5:ko(r);break;case 1:$a(r.type)&&Za(r);break;case 4:wo(r,r.stateNode.containerInfo);break;case 10:var t=r.type._context,a=r.memoizedProps.value;Ua(zi,t._currentValue),t._currentValue=a;break;case 13:if(null!==(t=r.memoizedState))return null!==t.dehydrated?(Ua(xo,1&xo.current),r.flags|=128,null):0!=(n&r.child.childLanes)?Kl(e,r,n):(Ua(xo,1&xo.current),null!==(e=is(e,r,n))?e.sibling:null);Ua(xo,1&xo.current);break;case 19:if(t=0!=(n&r.childLanes),0!=(128&e.flags)){if(t)return ts(e,r,n);r.flags|=128}if(null!==(a=r.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ua(xo,xo.current),t)break;return null;case 22:case 23:return r.lanes=0,Fl(e,r,n)}return is(e,r,n)}(e,r,n);Il=0!=(131072&e.flags)}else Il=!1,wi&&0!=(1048576&r.flags)&&pi(r,li,r.index);switch(r.lanes=0,r.tag){case 2:var t=r.type;as(e,r),e=r.pendingProps;var a=Ha(r,Ga.current);qi(r,n),a=qo(null,r,t,e,a,n);var i=Fo();return r.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(r.tag=1,r.memoizedState=null,r.updateQueue=null,$a(t)?(i=!0,Za(r)):i=!1,r.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Hi(r),a.updater=no,r.stateNode=a,a._reactInternals=r,oo(r,t,e,n),r=Wl(null,r,t,!0,i,n)):(r.tag=0,wi&&i&&hi(r),Rl(null,r,a,n),r=r.child),r;case 16:t=r.elementType;e:{switch(as(e,r),e=r.pendingProps,t=(a=t._init)(t._payload),r.type=t,a=r.tag=function(e){if("function"==typeof e)return $_(e)?1:0;if(null!=e){if((e=e.$$typeof)===G)return 11;if(e===H)return 14}return 2}(t),e=Ni(t,e),a){case 0:r=Bl(null,r,t,e,n);break e;case 1:r=Gl(null,r,t,e,n);break e;case 11:r=Dl(null,r,t,e,n);break e;case 14:r=Al(null,r,t,Ni(t.type,e),n);break e}throw Error(w(306,t,""))}return r;case 0:return t=r.type,a=r.pendingProps,Bl(e,r,t,a=r.elementType===t?a:Ni(t,a),n);case 1:return t=r.type,a=r.pendingProps,Gl(e,r,t,a=r.elementType===t?a:Ni(t,a),n);case 3:e:{if(Vl(r),null===e)throw Error(w(387));t=r.pendingProps,a=(i=r.memoizedState).element,$i(e,r),Ki(r,t,null,n);var o=r.memoizedState;if(t=o.element,i.isDehydrated){if(i={element:t,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=i,r.memoizedState=i,256&r.flags){r=Hl(e,r,t,n,a=Ol(Error(w(423)),r));break e}if(t!==a){r=Hl(e,r,t,n,a=Ol(Error(w(424)),r));break e}for(mi=Pa(r.stateNode.containerInfo.firstChild),vi=r,wi=!0,yi=null,n=fo(r,null,t,n),r.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ci(),t===a){r=is(e,r,n);break e}Rl(e,r,t,n)}r=r.child}return r;case 5:return ko(r),null===e&&Pi(r),t=r.type,a=r.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,va(t,a)?o=null:null!==i&&va(t,i)&&(r.flags|=32),Ul(e,r),Rl(e,r,o,n),r.child;case 6:return null===e&&Pi(r),null;case 13:return Kl(e,r,n);case 4:return wo(r,r.stateNode.containerInfo),t=r.pendingProps,null===e?r.child=co(r,null,t,n):Rl(e,r,t,n),r.child;case 11:return t=r.type,a=r.pendingProps,Dl(e,r,t,a=r.elementType===t?a:Ni(t,a),n);case 7:return Rl(e,r,r.pendingProps,n),r.child;case 8:case 12:return Rl(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(t=r.type._context,a=r.pendingProps,i=r.memoizedProps,o=a.value,Ua(zi,t._currentValue),t._currentValue=o,null!==i)if(bt(i.value,o)){if(i.children===a.children&&!Wa.current){r=is(e,r,n);break e}}else for(null!==(i=r.child)&&(i.return=r);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var s=l.firstContext;null!==s;){if(s.context===t){if(1===i.tag){(s=Qi(-1,n&-n)).tag=2;var _=i.updateQueue;if(null!==_){var u=(_=_.shared).pending;null===u?s.next=s:(s.next=u.next,u.next=s),_.pending=s}}i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),Ai(i.return,n,r),l.lanes|=n;break}s=s.next}}else if(10===i.tag)o=i.type===r.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(w(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ai(o,n,r),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===r){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}Rl(e,r,a.children,n),r=r.child}return r;case 9:return a=r.type,t=r.pendingProps.children,qi(r,n),t=t(a=Fi(a)),r.flags|=1,Rl(e,r,t,n),r.child;case 14:return a=Ni(t=r.type,r.pendingProps),Al(e,r,t,a=Ni(t.type,a),n);case 15:return ql(e,r,r.type,r.pendingProps,n);case 17:return t=r.type,a=r.pendingProps,a=r.elementType===t?a:Ni(t,a),as(e,r),r.tag=1,$a(t)?(e=!0,Za(r)):e=!1,qi(r,n),ao(r,t,a),oo(r,t,a,n),Wl(null,r,t,!0,e,n);case 19:return ts(e,r,n);case 22:return Fl(e,r,n)}throw Error(w(156,r.tag))};var _u="function"==typeof reportError?reportError:function(e){console.error(e)};function uu(e){this._internalRoot=e}function cu(e){this._internalRoot=e}function fu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function du(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function pu(){}function hu(e,r,n,t,a){var i=n._reactRootContainer;if(i){var o=i;if("function"==typeof a){var l=a;a=function(){var e=ou(o);l.call(e)}}iu(r,o,e,a)}else o=function(e,r,n,t,a){if(a){if("function"==typeof t){var i=t;t=function(){var e=ou(o);i.call(e)}}var o=au(r,t,e,0,null,!1,0,"",pu);return e._reactRootContainer=o,e[La]=o.current,ta(8===e.nodeType?e.parentNode:e),O_(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof t){var l=t;t=function(){var e=ou(s);l.call(e)}}var s=ru(e,0,!1,null,0,!1,0,"",pu);return e._reactRootContainer=s,e[La]=s.current,ta(8===e.nodeType?e.parentNode:e),O_((function(){iu(r,s,n,t)})),s}(n,r,e,a,t);return ou(o)}cu.prototype.render=uu.prototype.render=function(e){var r=this._internalRoot;if(null===r)throw Error(w(409));iu(e,r,null,null)},cu.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var r=e.containerInfo;O_((function(){iu(null,e,null,null)})),r[La]=null}},cu.prototype.unstable_scheduleHydration=function(e){if(e){var r=qr();e={blockedOn:null,target:e,priority:r};for(var n=0;n<Qr.length&&0!==r&&r<Qr[n].priority;n++);Qr.splice(n,0,e),0===n&&Kr(e)}},Rr=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=Sr(r.pendingLanes);0!==n&&(Tr(r,1|n),m_(r,fr()),0==(6&Gs)&&(t_=fr()+500,ti()))}break;case 13:O_((function(){var r=Wi(e,1);if(null!==r){var n=h_();v_(r,e,1,n)}})),su(e,1)}},Dr=function(e){if(13===e.tag){var r=Wi(e,134217728);if(null!==r)v_(r,e,134217728,h_());su(e,134217728)}},Ar=function(e){if(13===e.tag){var r=g_(e),n=Wi(e,r);if(null!==n)v_(n,e,r,h_());su(e,r)}},qr=function(){return Mr},Fr=function(e,r){var n=Mr;try{return Mr=e,r()}finally{Mr=n}},De=function(e,r,n){switch(r){case"input":if(de(e,n),r=n.name,"radio"===n.type&&null!=r){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var t=n[r];if(t!==e&&t.form===e.form){var a=Ra(t);if(!a)throw Error(w(90));se(t),de(t,a)}}}break;case"textarea":ye(e,n);break;case"select":null!=(r=n.value)&&ve(e,!!n.multiple,r,!1)}},Ge=P_,We=O_;var gu={usingClientEntryPoint:!1,Events:[Ma,Ia,Ra,Ue,Be,P_]},vu={findFiberByHostInstance:Ta,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mu={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=or(e))?null:e.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{wr=wu.inject(mu),yr=wu}catch(e){}}t=gu,a=function(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!fu(r))throw Error(w(200));return nu(e,r,null,n)},o=function(e,r){if(!fu(e))throw Error(w(299));var n=!1,t="",a=_u;return null!=r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(t=r.identifierPrefix),void 0!==r.onRecoverableError&&(a=r.onRecoverableError)),r=ru(e,1,!1,null,0,n,0,t,a),e[La]=r.current,ta(8===e.nodeType?e.parentNode:e),new uu(r)},l=function(e){if(null==e)return null;if(1===e.nodeType)return e;var r=e._reactInternals;if(void 0===r){if("function"==typeof e.render)throw Error(w(188));throw e=Object.keys(e).join(","),Error(w(268,e))}return e=null===(e=or(r))?null:e.stateNode},s=function(e){return O_(e)},_=function(e,r,n){if(!du(r))throw Error(w(200));return hu(null,e,r,!0,n)},u=function(e,r,n){if(!fu(e))throw Error(w(405));var t=null!=n&&n.hydratedSources||null,a=!1,i="",o=_u;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),r=au(r,null,e,1,null!=n?n:null,a,0,i,o),e[La]=r.current,ta(e),t)for(e=0;e<t.length;e++)a=(a=(n=t[e])._getVersion)(n._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[n,a]:r.mutableSourceEagerHydrationData.push(n,a);return new cu(r)},c=function(e,r,n){if(!du(r))throw Error(w(200));return hu(null,e,r,!1,n)},f=function(e){if(!du(e))throw Error(w(40));return!!e._reactRootContainer&&(O_((function(){hu(null,null,e,!1,(function(){e._reactRootContainer=null,e[La]=null}))})),!0)},d=P_,p=function(e,r,n,t){if(!du(n))throw Error(w(200));if(null==e||void 0===e._reactInternals)throw Error(w(38));return hu(e,r,n,!1,t)},h="18.2.0-next-9e3b772b8-20220608"})),i.register("1qQH9",(function(e,r){"use strict";e.exports=i("7UZIw")})),i.register("7UZIw",(function(r,n){
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var t,a,i,o,l,s,_,u,c,f,d,p,h,g,v,m,w,y,k;function b(e,r){var n=e.length;e.push(r);e:for(;0<n;){var t=n-1>>>1,a=e[t];if(!(0<O(a,r)))break e;e[t]=r,e[n]=a,n=t}}function x(e){return 0===e.length?null:e[0]}function P(e){if(0===e.length)return null;var r=e[0],n=e.pop();if(n!==r){e[0]=n;e:for(var t=0,a=e.length,i=a>>>1;t<i;){var o=2*(t+1)-1,l=e[o],s=o+1,_=e[s];if(0>O(l,n))s<a&&0>O(_,l)?(e[t]=_,e[s]=n,t=s):(e[t]=l,e[o]=n,t=o);else{if(!(s<a&&0>O(_,n)))break e;e[t]=_,e[s]=n,t=s}}}return r}function O(e,r){var n=e.sortIndex-r.sortIndex;return 0!==n?n:e.id-r.id}if(e(r.exports,"unstable_now",(function(){return t}),(function(e){return t=e})),e(r.exports,"unstable_IdlePriority",(function(){return a}),(function(e){return a=e})),e(r.exports,"unstable_ImmediatePriority",(function(){return i}),(function(e){return i=e})),e(r.exports,"unstable_LowPriority",(function(){return o}),(function(e){return o=e})),e(r.exports,"unstable_NormalPriority",(function(){return l}),(function(e){return l=e})),e(r.exports,"unstable_Profiling",(function(){return s}),(function(e){return s=e})),e(r.exports,"unstable_UserBlockingPriority",(function(){return _}),(function(e){return _=e})),e(r.exports,"unstable_cancelCallback",(function(){return u}),(function(e){return u=e})),e(r.exports,"unstable_continueExecution",(function(){return c}),(function(e){return c=e})),e(r.exports,"unstable_forceFrameRate",(function(){return f}),(function(e){return f=e})),e(r.exports,"unstable_getCurrentPriorityLevel",(function(){return d}),(function(e){return d=e})),e(r.exports,"unstable_getFirstCallbackNode",(function(){return p}),(function(e){return p=e})),e(r.exports,"unstable_next",(function(){return h}),(function(e){return h=e})),e(r.exports,"unstable_pauseExecution",(function(){return g}),(function(e){return g=e})),e(r.exports,"unstable_requestPaint",(function(){return v}),(function(e){return v=e})),e(r.exports,"unstable_runWithPriority",(function(){return m}),(function(e){return m=e})),e(r.exports,"unstable_scheduleCallback",(function(){return w}),(function(e){return w=e})),e(r.exports,"unstable_shouldYield",(function(){return y}),(function(e){return y=e})),e(r.exports,"unstable_wrapCallback",(function(){return k}),(function(e){return k=e})),"object"==typeof performance&&"function"==typeof performance.now){var S=performance;t=function(){return S.now()}}else{var E=Date,C=E.now();t=function(){return E.now()-C}}var L=[],j=[],N=1,z=null,T=3,M=!1,I=!1,R=!1,D="function"==typeof setTimeout?setTimeout:null,A="function"==typeof clearTimeout?clearTimeout:null,q="undefined"!=typeof setImmediate?setImmediate:null;function F(e){for(var r=x(j);null!==r;){if(null===r.callback)P(j);else{if(!(r.startTime<=e))break;P(j),r.sortIndex=r.expirationTime,b(L,r)}r=x(j)}}function U(e){if(R=!1,F(e),!I)if(null!==x(L))I=!0,J(B);else{var r=x(j);null!==r&&ee(U,r.startTime-e)}}function B(e,r){I=!1,R&&(R=!1,A(H),H=-1),M=!0;var n=T;try{for(F(r),z=x(L);null!==z&&(!(z.expirationTime>r)||e&&!Y());){var a=z.callback;if("function"==typeof a){z.callback=null,T=z.priorityLevel;var i=a(z.expirationTime<=r);r=t(),"function"==typeof i?z.callback=i:z===x(L)&&P(L),F(r)}else P(L);z=x(L)}if(null!==z)var o=!0;else{var l=x(j);null!==l&&ee(U,l.startTime-r),o=!1}return o}finally{z=null,T=n,M=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var G,W=!1,V=null,H=-1,$=5,Q=-1;function Y(){return!(t()-Q<$)}function X(){if(null!==V){var e=t();Q=e;var r=!0;try{r=V(!0,e)}finally{r?G():(W=!1,V=null)}}else W=!1}if("function"==typeof q)G=function(){q(X)};else if("undefined"!=typeof MessageChannel){var Z=new MessageChannel,K=Z.port2;Z.port1.onmessage=X,G=function(){K.postMessage(null)}}else G=function(){D(X,0)};function J(e){V=e,W||(W=!0,G())}function ee(e,r){H=D((function(){e(t())}),r)}a=5,i=1,o=4,l=3,s=null,_=2,u=function(e){e.callback=null},c=function(){I||M||(I=!0,J(B))},f=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<e?Math.floor(1e3/e):5},d=function(){return T},p=function(){return x(L)},h=function(e){switch(T){case 1:case 2:case 3:var r=3;break;default:r=T}var n=T;T=r;try{return e()}finally{T=n}},g=function(){},v=function(){},m=function(e,r){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return r()}finally{T=n}},w=function(e,r,n){var a=t();switch("object"==typeof n&&null!==n?n="number"==typeof(n=n.delay)&&0<n?a+n:a:n=a,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:N++,callback:r,priorityLevel:e,startTime:n,expirationTime:i=n+i,sortIndex:-1},n>a?(e.sortIndex=n,b(j,e),null===x(L)&&e===x(j)&&(R?(A(H),H=-1):R=!0,ee(U,n-a))):(e.sortIndex=i,b(L,e),I||M||(I=!0,J(B))),e},y=Y,k=function(e){var r=T;return function(){var n=T;T=r;try{return e.apply(this,arguments)}finally{T=n}}}}));var u=i("8TZNp");function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f=i("8X9XF");function d(e,r){return s(e)||(0,u.default)(e,r)||(0,f.default)(e,r)||c()}function p(e,r){var n,t,a,i,o=function(e){return function(r){return l([e,r])}},l=function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,t&&(a=2&o[0]?t.return:o[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,o[1])).done)return a;switch(t=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,t=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=r.call(e,s)}catch(e){o=[6,e],t=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}},s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i}Object.create;function h(e){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var g,v,m={},w={},y=w={};function k(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function x(e){if(g===setTimeout)return setTimeout(e,0);if((g===k||!g)&&setTimeout)return g=setTimeout,setTimeout(e,0);try{return g(e,0)}catch(r){try{return g.call(null,e,0)}catch(r){return g.call(this,e,0)}}}!function(){try{g="function"==typeof setTimeout?setTimeout:k}catch(e){g=k}try{v="function"==typeof clearTimeout?clearTimeout:b}catch(e){v=b}}();var P,O,S=[],E=!1,C=-1;function L(){E&&P&&(E=!1,P.length?S=P.concat(S):C=-1,S.length&&j())}function j(){if(!E){var e=x(L);E=!0;for(var r=S.length;r;){for(P=S,S=[];++C<r;)P&&P[C].run();C=-1,r=S.length}P=null,E=!1,function(e){if(v===clearTimeout)return clearTimeout(e);if((v===b||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(e);try{v(e)}catch(r){try{return v.call(null,e)}catch(r){return v.call(this,e)}}}(e)}}function N(e,r){this.fun=e,this.array=r}function z(){}function T(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function M(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function I(e,r,n){return r&&M(e.prototype,r),n&&M(e,n),e}y.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];S.push(new N(e,r)),1!==S.length||E||x(j)},N.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=z,y.addListener=z,y.once=z,y.off=z,y.removeListener=z,y.removeAllListeners=z,y.emit=z,y.prependListener=z,y.prependOnceListener=z,y.listeners=function(e){return[]},y.binding=function(e){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(e){throw new Error("process.chdir is not supported")},y.umask=function(){return 0},m.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+m.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,t=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(t=n))})),e.splice(t,0,r)},m.save=function(e){try{e?m.storage.setItem("debug",e):m.storage.removeItem("debug")}catch(e){}},m.load=function(){var e;try{e=m.storage.getItem("debug")}catch(e){}!e&&void 0!==w&&"env"in w&&(e=void 0);return e},m.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},m.storage=function(){try{return localStorage}catch(e){}}(),m.destroy=(O=!1,function(){O||(O=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],m.log=console.debug||console.log||function(){},(m=i("cizm5")(m)).formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};var R,D=i("fOdIC");R=_;var A;A=cytoscape;var q;function F(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function U(e,r){return U=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},U(e,r)}function B(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&U(e,r)}function G(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function V(e){return W(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}q=cytoscapeFcose;var $=i("3Ie7j");function Q(e,r){return!r||"object"!==(0,$.default)(r)&&"function"!=typeof r?H(e):r}function Y(e){var r=G();return function(){var n,t=V(e);if(r){var a=V(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return Q(this,n)}}function X(e,r){if(void 0===e)throw new Error("get_field_schema(): schema is undefined!");var n=r.split("."),t=n.pop(),a=!0,i=!1,o=void 0;try{for(var l,s=n[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var _=l.value;if("[]"==_&&"array"==e.type&&(e=e.items||{}),"object"!=e.type)throw new Error("get_field_schema(): cannot access ".concat(_," of non-object ")+"type ".concat(e,""));e=(e.properties||{})[_]||{}}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return(e.properties||{})[t]}function Z(e,r){var n,t,a,i,o,l,s,_,u,c,f;return p(this,(function(d){switch(d.label){case 0:if(void 0===e)throw new Error("iterfield(): obj is undefined!");n=r.split("."),t=0,d.label=1;case 1:if(!(t<n.length))return[3,14];if("[]"!=(a=n[t]))return[3,12];i=!0,o=!1,l=void 0,d.label=2;case 2:d.trys.push([2,9,10,11]),s=(e||[])[Symbol.iterator](),d.label=3;case 3:return(i=(_=s.next()).done)?[3,8]:(u=_.value,(c=n.slice(t+1).join("."))?[5,h(Z(u,c))]:[3,5]);case 4:return d.sent(),[3,7];case 5:return[4,u];case 6:d.sent(),d.label=7;case 7:return i=!0,[3,3];case 8:return[3,11];case 9:return f=d.sent(),o=!0,l=f,[3,11];case 10:try{i||null==s.return||s.return()}finally{if(o)throw l}return[7];case 11:return[2];case 12:e=(e||{})[a],d.label=13;case 13:return++t,[3,1];case 14:return[4,e];case 15:return d.sent(),[2]}}))}function K(e,r){if(void 0===e)throw new Error("getfield(): obj is undefined!");var n=r.split("."),t=n.pop(),a=!0,i=!1,o=void 0;try{for(var l,s=n[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){e=e[l.value]||{}}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return e[t]}function J(e,r,n){if(void 0===e)throw new Error("setfield(): obj is undefined!");var t=r.split("."),a=t.pop(),i=!0,o=!1,l=void 0;try{for(var s,_=t[Symbol.iterator]();!(i=(s=_.next()).done);i=!0){var u=s.value;e.hasOwnProperty(u)||(e[u]={}),e=e[u]}}catch(e){o=!0,l=e}finally{try{i||null==_.return||_.return()}finally{if(o)throw l}}e.hasOwnProperty(a)?e[a]=n(e[a]):e[a]=n()}function ee(e,r,n){J(e,r,(function(e){return(e||[]).concat(n)}))}var re,ne=function(){"use strict";function e(){T(this,e),this.zoodb=null}return I(e,[{key:"install_zoo",value:function(e){this.zoodb=e}},{key:"initialize_zoo",value:function(){}},{key:"process_zoo",value:function(){throw new Error("Please reimplement me")}},{key:"prepare_zoo_update_objects",value:function(e){}},{key:"process_zoo_update_objects",value:function(e){this.process_zoo()}},{key:"process_data_dump",value:function(e,r){return e}}]),e}(),te=n(m)("zoodb.dbprocessor.relations"),ae=function(){"use strict";function e(r){var n,t=r.object_type,a=r.relation_spec,i=r.zoodb;T(this,e),this.object_type=t,this.relation_spec=a,this.zoodb=i,this.object_field=a.object_field,this.to_object_type=a.to_object_type,this.allow_null=null!==(n=a.allow_null)&&void 0!==n&&n,this.relation_add_object_field=a.relation_add_object_field,this.relation_primary_key_field=a.relation_primary_key_field,this.value_is_shorthand_object_id=!0===this.relation_primary_key_field;var o,l,s=this.relation_spec.backreference;s?(this.use_backreference=!0,this.backref_relation_primary_key_field=null!==(o=s.relation_primary_key_field)&&void 0!==o?o:this.object_type+"_id",this.backref_relation_object_field=null!==(l=s.relation_object_field)&&void 0!==l?l:this.object_type,this.backref_field=s.field):this.use_backreference=!1;if(!this.zoodb.objects.hasOwnProperty(this.to_object_type))throw new Error("Invalid _zoo_relation definition in ".concat(this.object_type,": ")+"There is no such object type ".concat(this.to_object_type,""));"array"===X(this.zoodb.schema(this.object_type),this.object_field).type?(this.source_has_multiple_relations=!0,this.fully_specified_relation_add_object_field=this.object_field+".[]."+this.relation_add_object_field):(this.source_has_multiple_relations=!1,this.fully_specified_relation_add_object_field=this.object_field+"."+this.relation_add_object_field)}return I(e,[{key:"get_computed_fields",value:function(){var e,r={};return r[this.object_type]=[{fieldname:this.fully_specified_relation_add_object_field,msg:"You are only expected to set ".concat(this.relation_primary_key_field,".")}],this.use_backreference&&(r[this.to_object_type]=(null!==(e=r[this.to_object_type])&&void 0!==e?e:[]).concat([{fieldname:this.backref_field,msg:"This field will be determined automatically."}])),r}},{key:"get_object_relation_objects",value:function(e){var r;return this.source_has_multiple_relations?null!==(r=K(e,this.object_field))&&void 0!==r?r:[]:[K(e,this.object_field)]}},{key:"process_object_relation",value:function(e,r){var n=this;this.get_object_relation_objects(e).forEach((function(t){n._process_single_relation(e,t,r)}))}},{key:"_process_single_relation",value:function(e,r,n){var t=this,a=this.zoodb,i=n.process_object_types,o=this.value_is_shorthand_object_id?r:r[this.relation_primary_key_field];if(null==o&&!this.allow_null)throw new Error("Target object ID in reference cannot be null in "+"".concat(this.object_type," ").concat(e._zoodb.id," .").concat(this.object_field,": ")+" ".concat(JSON.stringify(r)));var l,s=null;if(null!=o&&(s=null!==(l=a.objects[this.to_object_type][o])&&void 0!==l?l:null),null!=o&&null==s)throw new Error("In ".concat(this.object_type," object ").concat(e._zoodb.id," ")+"(".concat(e._zoodb.source_file_path,"): Invalid reference in ")+" ".concat(this.object_field," ")+"to ".concat(this.to_object_type," object with nonexistent ID ").concat(o,""));var _=null;if(_=this.value_is_shorthand_object_id?F({},this.to_object_type+"_id",r):Object.fromEntries(Object.entries(r).filter((function(e){var r=d(e,2),n=r[0];r[1];return n!=t.relation_primary_key_field}))),null!=this.relation_add_object_field&&(r[this.relation_add_object_field]=s),this.use_backreference&&(null==i||i.includes(this.to_object_type))&&null!=s){var u=Object.assign({},_);if(u[this.backref_relation_primary_key_field]=e._zoodb.id,u[this.backref_relation_object_field]=e,!this.backref_field)throw new Error("Invalid field: in backreference: in relation object "+"in ".concat(this.object_type));ee(s,this.backref_field,[u])}}}]),e}(),ie=function(e){"use strict";B(n,e);var r=Y(n);function n(e){var t;return T(this,n),(t=r.call(this)).config=null!=e?e:{},t.relations=null,t}return I(n,[{key:"initialize_zoo",value:function(){var e,r=this;null!==(e=(re=this.config).object_types)&&void 0!==e||(re.object_types=this.zoodb.object_types),this.relations=Object.fromEntries(this.config.object_types.map((function(e){var n,t=(null!==(n=r.zoodb.schema(e)._zoo_relations)&&void 0!==n?n:[]).map((function(n){return new ae({object_type:e,relation_spec:n,zoodb:r.zoodb})}));return[e,t]}))),this.check_all_clean_fields()}},{key:"process_zoo",value:function(){var e=this.zoodb;this.clear_all_relation_fields();var r=this.config.object_types;if(this.relations){var n={process_object_types:this.config.object_types},t=!0,a=!1,i=void 0;try{for(var o,l=r[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var s=o.value;if(te("Processing relations for ".concat(s," object relations")),!this.relations[s])return;var _=e.objects[s],u=!0,c=!1,f=void 0,d=!0,p=!1,h=void 0;try{for(var g,v=Object.values(_)[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var m=g.value;try{for(var w,y=this.relations[s][Symbol.iterator]();!(u=(w=y.next()).done);u=!0){w.value.process_object_relation(m,n)}}catch(e){c=!0,f=e}finally{try{u||null==y.return||y.return()}finally{if(c)throw f}}}}catch(e){p=!0,h=e}finally{try{d||null==v.return||v.return()}finally{if(p)throw h}}}}catch(e){a=!0,i=e}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}}}},{key:"prepare_zoo_update_objects",value:function(e){this.clear_all_relation_fields()}},{key:"clear_all_relation_fields",value:function(){this.check_all_clean_fields({action:function(e){e.object_type;var r=e.object,n=e.computed_relation_fieldinfo;e.value;J(r,n.fieldname,(function(){}))}})}},{key:"check_all_clean_fields",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).action;null==e&&(e=function(e){var r=e.object_type,n=(e.object,e.computed_relation_fieldinfo),t=e.value;throw new Error("".concat(r," object's ").concat(n.fieldname," ")+"field should not be specified manually (got ".concat(JSON.stringify(t),"). ")+n.msg)});var r={},n=!0,t=!1,a=void 0,i=!0,o=!1,l=void 0;try{for(var s,_=Object.entries(this.relations)[Symbol.iterator]();!(i=(s=_.next()).done);i=!0){var u=d(s.value,2),c=(u[0],u[1]);try{for(var f,p=c[Symbol.iterator]();!(n=(f=p.next()).done);n=!0){var h,g=f.value,v=g.get_computed_fields(),m=!0,w=!1,y=void 0;try{for(var k,b=Object.entries(v)[Symbol.iterator]();!(m=(k=b.next()).done);m=!0){var x=d(k.value,2),P=x[0],O=x[1];r[P]=(null!==(h=r[P])&&void 0!==h?h:[]).concat(O)}}catch(e){w=!0,y=e}finally{try{m||null==b.return||b.return()}finally{if(w)throw y}}}}catch(e){t=!0,a=e}finally{try{n||null==p.return||p.return()}finally{if(t)throw a}}}}catch(e){o=!0,l=e}finally{try{i||null==_.return||_.return()}finally{if(o)throw l}}var S=!0,E=!1,C=void 0;try{for(var L,j=Object.entries(r)[Symbol.iterator]();!(S=(L=j.next()).done);S=!0){var N=d(L.value,2),z=N[0],T=N[1],M=!0,I=!1,R=void 0,D=!0,A=!1,q=void 0;try{for(var F,U=Object.values(this.zoodb.objects[z])[Symbol.iterator]();!(D=(F=U.next()).done);D=!0){var B=F.value;try{for(var G,W=T[Symbol.iterator]();!(M=(G=W.next()).done);M=!0){var V=G.value,H=V.fieldname,$=!0,Q=!1,Y=void 0;try{for(var X,K=Z(B,H)[Symbol.iterator]();!($=(X=K.next()).done);$=!0){var J=X.value;void 0!==J&&e({object_type:z,object:B,computed_relation_fieldinfo:V,value:J})}}catch(e){Q=!0,Y=e}finally{try{$||null==K.return||K.return()}finally{if(Q)throw Y}}}}catch(e){I=!0,R=e}finally{try{M||null==W.return||W.return()}finally{if(I)throw R}}}}catch(e){A=!0,q=e}finally{try{D||null==U.return||U.return()}finally{if(A)throw q}}}}catch(e){E=!0,C=e}finally{try{S||null==j.return||j.return()}finally{if(E)throw C}}}},{key:"prepare_data_dump",value:function(e,r){if(r.relations_keep_object_property_pointers)return e;throw new Error("Operation not supported!")}}]),n}(ne);function oe(e,r){return e?e+"."+r:r}function le(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[]";return e?e+"."+r:r}function se(e,r,n,t){var a,i,o,l,s,_,u,c,f,d,g,v,m,w,y,k,b,x,P,O,S,E,C,L,j,N,z,T,M,I,R,D,A,q,F,U;return p(this,(function(p){switch(p.label){case 0:if(null!=n||(n={}),i=null!==(a=n.propfieldname)&&void 0!==a?a:oe,l=null!==(o=n.arrayitemfieldname)&&void 0!==o?o:le,_=null===(s=n.only_schema_properties)||void 0===s||s,void 0===e)return[2];if(!1===r)throw new Error("Invalid object ".concat(null!=e?e:"").concat(t?"."+t:""," with ")+"schema false");if("object"!=typeof r)throw new Error("Expected schema of object type, got ".concat(JSON.stringify(r),""));if(void 0!==t&&null!=n.visit_predicate&&!n.visit_predicate({fieldname:t,fieldschema:r,fieldvalue:e}))return[2];if("object"!=r.type)return[3,18];c=null!==(u=r.properties)&&void 0!==u?u:{},f=_?Object.keys(c):Object.keys(e),d=!0,g=!1,v=void 0,p.label=1;case 1:p.trys.push([1,15,16,17]),m=f[Symbol.iterator](),p.label=2;case 2:if(d=(w=m.next()).done)return[3,14];if(y=w.value,x=null!==(b=null!==(k=(null!=c?c:{})[y])&&void 0!==k?k:r.additionalProperties)&&void 0!==b?b:{},P=e[y],O=se(P,x,n,i(t,y)),S=!0,E=!1,C=void 0,!n.provide_parent)return[3,11];p.label=3;case 3:p.trys.push([3,8,9,10]),L=O[Symbol.iterator](),p.label=4;case 4:return(S=(j=L.next()).done)?[3,7]:(N=j.value,[4,Object.assign({parent:e,parent_index:y},N)]);case 5:p.sent(),p.label=6;case 6:return S=!0,[3,4];case 7:return[3,10];case 8:return U=p.sent(),E=!0,C=U,[3,10];case 9:try{S||null==L.return||L.return()}finally{if(E)throw C}return[7];case 10:return[3,13];case 11:return[5,h(O)];case 12:p.sent(),p.label=13;case 13:return d=!0,[3,2];case 14:return[3,17];case 15:return U=p.sent(),g=!0,v=U,[3,17];case 16:try{d||null==m.return||m.return()}finally{if(g)throw v}return[7];case 17:return[3,34];case 18:if("array"!=r.type)return[3,32];z=0,p.label=19;case 19:if(!(z<e.length))return[3,31];if(M=se(e[z],null!==(T=r.items)&&void 0!==T?T:{},n,l(t,z)),I=!0,R=!1,D=void 0,!n.provide_parent)return[3,28];p.label=20;case 20:p.trys.push([20,25,26,27]),A=M[Symbol.iterator](),p.label=21;case 21:return(I=(q=A.next()).done)?[3,24]:(F=q.value,[4,Object.assign({parent:e,parent_index:z},F)]);case 22:p.sent(),p.label=23;case 23:return I=!0,[3,21];case 24:return[3,27];case 25:return U=p.sent(),R=!0,D=U,[3,27];case 26:try{I||null==A.return||A.return()}finally{if(R)throw D}return[7];case 27:return[3,30];case 28:return[5,h(M)];case 29:p.sent(),p.label=30;case 30:return++z,[3,19];case 31:return[3,34];case 32:return[4,{fieldname:t,fieldvalue:e,fieldschema:r}];case 33:p.sent(),p.label=34;case 34:return[2]}}))}function _e(e,r,n){var t,a,i,o,l,s,_,u,c,f,g,v,m;return p(this,(function(p){switch(p.label){case 0:if(null!=r||(r={}),a=null!==(t=r.propfieldname)&&void 0!==t?t:oe,o=null!==(i=r.arrayitemfieldname)&&void 0!==i?i:le,"object"!=typeof e)throw new Error("Expected schema of object type, got ".concat(JSON.stringify(e),""));if(void 0!==n&&null!=r.visit_predicate&&!r.visit_predicate({fieldname:n,fieldschema:e}))return[2];if(s=!0,_=!1,u=void 0,"object"!=e.type)return[3,9];p.label=1;case 1:p.trys.push([1,6,7,8]),c=Object.entries(e.properties)[Symbol.iterator](),p.label=2;case 2:return(s=(f=c.next()).done)?[3,5]:(g=d(f.value,2),v=g[0],[5,h(_e(g[1],r,a(n,v)))]);case 3:p.sent(),p.label=4;case 4:return s=!0,[3,2];case 5:return[3,8];case 6:return m=p.sent(),_=!0,u=m,[3,8];case 7:try{s||null==c.return||c.return()}finally{if(_)throw u}return[7];case 8:return[3,13];case 9:return"array"!=e.type?[3,11]:[5,h(_e(null!==(l=e.items)&&void 0!==l?l:{},r,o(n)))];case 10:return p.sent(),[3,13];case 11:return[4,{fieldname:n,fieldschema:e}];case 12:p.sent(),p.label=13;case 13:return[2]}}))}D=i("fOdIC"),$=i("3Ie7j");var ue="org.transcrypt.__runtime__",ce={};function fe(e,r,n){var t=e;if(""!=r){for(var a=r.split("."),i=a.length,o=0;o<a.length;o++){if(!t.hasOwnProperty(a[o])){i=o;break}t=t[a[o]]}for(o=i;o<a.length;o++)t[a[o]]={},t=t[a[o]]}var l=!0,s=!1,_=void 0;try{for(var u,c=function(){var e=u.value;Object.defineProperty(t,e,{get:function(){return n[e]},enumerable:!0,configurable:!0})},f=Object.getOwnPropertyNames(n)[Symbol.iterator]();!(l=(u=f.next()).done);l=!0)c()}catch(e){s=!0,_=e}finally{try{l||null==f.return||f.return()}finally{if(s)throw _}}}function de(e,r,n){return e&&(e.hasOwnProperty("__class__")||"string"==typeof e||e instanceof String)?(n&&Object.defineProperty(e,n,{value:function(){var n=[].slice.apply(arguments);return r.apply(null,[e].concat(n))},writable:!0,enumerable:!0,configurable:!0}),function(){var n=[].slice.apply(arguments);return r.apply(null,[e.__proxy__?e.__proxy__:e].concat(n))}):r}function pe(e,r,n){return e.hasOwnProperty("__class__")?function(){var n=[].slice.apply(arguments);return r.apply(null,[e.__class__].concat(n))}:function(){var n=[].slice.apply(arguments);return r.apply(null,[e].concat(n))}}ce.interpreter_name="python",ce.transpiler_name="transcrypt",ce.executor_name=ce.transpiler_name,ce.transpiler_version="3.9.0";var he={__name__:"type",__bases__:[],__new__:function(e,r,n,t){for(var a=function(){var e=[].slice.apply(arguments);return a.__new__(e)},i=n.length-1;i>=0;i--){var o=n[i];for(var l in o){null!=(h=Object.getOwnPropertyDescriptor(o,l))&&Object.defineProperty(a,l,h)}var s=!0,_=!1,u=void 0;try{for(var c,f=Object.getOwnPropertySymbols(o)[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var d=c.value,p=Object.getOwnPropertyDescriptor(o,d);Object.defineProperty(a,d,p)}}catch(e){_=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(_)throw u}}}for(var l in a.__metaclass__=e,a.__name__=r.startsWith("py_")?r.slice(3):r,a.__bases__=n,t){var h=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(a,l,h)}var g=!0,v=!1,m=void 0;try{for(var w,y=Object.getOwnPropertySymbols(t)[Symbol.iterator]();!(g=(w=y.next()).done);g=!0){var k=w.value,b=Object.getOwnPropertyDescriptor(t,k);Object.defineProperty(a,k,b)}}catch(e){v=!0,m=e}finally{try{g||null==y.return||y.return()}finally{if(v)throw m}}return a}};he.__metaclass__=he;var ge={__init__:function(e){},__metaclass__:he,__name__:"object",__bases__:[],__new__:function(e){var r=Object.create(this,{__class__:{value:this,enumerable:!0}});return("__getattr__"in this||"__setattr__"in this)&&(r.__proxy__=new Proxy(r,{get:function(e,r){var n=e[r];return null==n?e.__getattr__(r):n},set:function(e,r,n){try{e.__setattr__(r,n)}catch(t){e[r]=n}return!0}}),r=r.__proxy__),this.__init__.apply(null,[r].concat(e)),r}};function ve(e,r,n,t){return void 0===t&&(t=r[0].__metaclass__),t.__new__(t,e,r,n)}function me(){var e=[].slice.apply(arguments);return"object"==typeof e[0]&&"__call__"in e[0]?e[0].__call__.apply(e[1],e.slice(2)):e[0].apply(e[1],e.slice(2))}ce.executor_name=ce.transpiler_name;function we(e){return e.__kwargtrans__=null,e.constructor=Object,e}function ye(e,r){var n=!0,t=!1,a=void 0;try{for(var i,o=e.__bases__[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;if(r in l)return l[r]}}catch(e){t=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(t)throw a}}throw new Wr("Superclass method not found")}function ke(e,r){return r||(r=function(){}),{get:function(){return e(this)},set:function(e){r(this,e)},enumerable:!0}}function be(e,r,n){e.hasOwnProperty(r)||Object.defineProperty(e,r,n)}function xe(e,r){if(!e)throw Yr(r,new Error)}function Pe(e,r){var n={};for(var t in e)n[t]=e[t];for(var t in r)n[t]=r[t];return n}function Oe(e){var r=[];for(var n in e)r.push(n.startsWith("py_")?n.slice(3):n);return r.sort(),r}function Se(e,r,n){e[r]=n}function Ee(e,r){return r in e?e[r]:e["py_"+r]}function Ce(e,r){try{return r in e||"py_"+r in e}catch(e){return!1}}function Le(e,r){return null!=r&&(r.__contains__ instanceof Function?r.__contains__(e):r.indexOf?r.indexOf(e)>-1:r.hasOwnProperty(e))}function je(e){return e.startswith("__")&&e.endswith("__")||"constructor"==e||e.startswith("py_")}function Ne(e){if(null==e)return 0;if(e.__len__ instanceof Function)return e.__len__();if(void 0!==e.length)return e.length;var r=0;for(var n in e)je(n)||r++;return r}function ze(e){return null!=e&&(["boolean","number"].indexOf(void 0===e?"undefined":(0,$.default)(e))>=0?e:e.__bool__ instanceof Function?!!e.__bool__()&&e:e.__len__ instanceof Function?0!==e.__len__()&&e:(e instanceof Function||0!==Ne(e))&&e)}function Te(e){if("inf"==e)return 1/0;if("-inf"==e)return-1/0;if("nan"==e)return NaN;if(isNaN(parseFloat(e))){if(!1===e)return 0;if(!0===e)return 1;throw $r("could not convert string to float: '"+or(e)+"'",new Error)}return+e}function Me(e){return 0|Te(e)}function Ie(e){return!!ze(e)}function Re(e){var r=void 0===e?"undefined":(0,$.default)(e);if("object"!=r)return"boolean"==r?Ie:"string"==r?or:"number"==r?e%1==0?Me:Te:null;try{return"__class__"in e?e.__class__:ge}catch(e){return r}}function De(e,r){if(r instanceof Array){var n=!0,t=!1,a=void 0;try{for(var i,o=r[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){if(De(e,i.value))return!0}}catch(e){t=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(t)throw a}}return!1}try{var l=e;if(l==r)return!0;for(var s=[].slice.call(l.__bases__);s.length;){if((l=s.shift())==r)return!0;l.__bases__.length&&(s=[].slice.call(l.__bases__).concat(s))}return!1}catch(n){return e==r||r==ge}}function Ae(e,r){try{return De("__class__"in e?e.__class__:Re(e),r)}catch(n){return De(Re(e),r)}}function qe(e){return!(!e||"object"!=typeof e||!("__call__"in e))||"function"==typeof e}function Fe(e){try{return e.__repr__()}catch(i){try{return e.__str__()}catch(i){try{if(null==e)return"None";if(e.constructor==Object){var r="{",n=!1;for(var t in e)if(!je(t)){if(t.isnumeric())var a=t;else a="'"+t+"'";n?r+=", ":n=!0,r+=a+": "+Fe(e[t])}return r+="}"}return"boolean"==typeof e?e.toString().capitalize():e.toString()}catch(r){return"<object of type: "+(void 0===e?"undefined":(0,$.default)(e))+">"}}}}function Ue(e){return String.fromCharCode(e)}function Be(e){return e.charCodeAt(0)}function Ge(e){var r,n;return 1==arguments.length?(r=Math).max.apply(r,(0,D.default)(e)):(n=Math).max.apply(n,arguments)}Te.__name__="float",Te.__bases__=[ge],Me.__name__="int",Me.__bases__=[ge],Number.prototype.__format__=function(e){var r=function(e,r,n,t){null==n&&(n=" "),null==t&&(t=">");var a="",i="";e.startswith(["+","-"])&&(i=e[0],e=e.substr(1)),l&&e.startswith(["0b","0o","0x"])&&(a=e.slice(0,2),e=e.substr(2));var o=r-(e.length+i.length+a.length);switch(t){case"=":return i+a+xr(n,o)+e;case">":return xr(n,o)+i+a+e;case"<":return i+a+e+xr(n,o);case"^":var s=(o%2+2)%2;return xr(n,o=Math.floor(o/2))+i+a+e+xr(n,o+s);default:throw $r("Invalid align type: '"+t+"'",new Error)}},n=function(e){if(-1==e.indexOf("e+")&&("g"==f||"G"==f)){for(var r=e.py_split("."),n=r[0],t=r[1];"0"==t[t.length-1];)t=t.slice(0,-1);e=""!=t?".".join([n,t]):n}return l&&-1==e.indexOf(".")&&(e+="."),e};if(null==e||0==e.strip().length)return this.toString();var t=!1,a=!1,i=0,o=!1,l=!1,s="-",_=">",u=" ",c=void 0,f=void 0,d=this.valueOf(),p=d<0;d=Math.abs(d),e.endswith(["b","c","d","e","E","f","F","g","G","n","o","x","X","%"])?(f=e[e.length-1],e=e.slice(0,-1),"n"==f&&(f=Number.isInteger(d)?"d":"f")):(f=Number.isInteger(d)?"d":"g",a=!0);var h=e.split(".");if(e=h[0],null!=(c=h[1])&&(c=parseInt(c)),e.length>0&&","==e[e.length-1]&&(t=!0,e=e.slice(0,-1)),e.length>0){for(var g="";e&&e[e.length-1].isnumeric();)g=e[e.length-1]+g,e=e.slice(0,-1);g.length>0&&("0"==g[0]?(i=parseInt(g.substr(1)),o=!0):i=parseInt(g)),e.length>0&&"#"==e[e.length-1]&&(l=!0,e=e.slice(0,-1)),e.length>0&&e.endswith(["+","-"," "])&&(s=e[e.length-1],e=e.slice(0,-1)),e.length>0&&e.endswith(["<",">","=","^"])&&(_=e[e.length-1],e=e.slice(0,-1)),e.length>0&&(u=e[0])}if(isNaN(d))d="nan";else if(d==1/0)d="inf";else switch(f){case"b":d=Math.floor(d).toString(2),l&&(d="0b"+d);break;case"c":d=String.fromCharCode(Math.floor(d));break;case"d":d=Math.floor(d).toString(),t&&(d=d.replace(/\B(?=(\d{3})+(?!\d))/g,","));break;case"o":d=Math.floor(d).toString(8),l&&(d="0o"+d);break;case"x":case"X":d=Math.floor(d).toString(16),l&&(d="0x"+d);break;case"e":case"E":null==c&&(c=6);var v=(y=d.toExponential(c).split("e+"))[0],m=y[1];d=n(d=v.toString()+"e+"+r(m.toString(),2,"0"));break;case"f":case"F":case"%":null==c&&(c=6),"%"==f&&(d*=100),d=n(d=d.toFixed(c)),"%"==f&&(d+="%");break;case"g":case"G":null==c&&(c=a?1:6),0==c&&(c=1);var w=!1;if(a)(h=d.toString().split("."))[0].length+h[1].length>=c&&(w=!0);var y;v=(y=d.toExponential(c-1).split("e+"))[0];d=n(d=(w|=!(-4<=(m=y[1])&&m<c))?v.toString()+"e+"+r(m.toString(),2,"0"):d.toFixed(c-1-m));break;default:throw $r("Invalid format type: '"+f+"'",new Error)}return f===f.toUpperCase()&&(d=d.toUpperCase()),"c"!=f&&("-"==s?p&&(d="-"+d):d=p?"-"+d:s+d),o&&(u="0",_="="),i>0&&(d=r(d,i,u,_)),d},Ie.__name__="bool",Ie.__bases__=[Me];Math.abs;function We(e,r){if(null==e)return"None";switch(r=r||"",void 0===e?"undefined":(0,$.default)(e)){case"number":case"string":return e.__format__(r);case"boolean":return r?(e?1:0).__format__(r):or(e);case"object":return"__format__"in e?e.__format__(r):or(e).__format__(r);default:return or(e).__format__(r)}}function Ve(){try{return{value:this.__next__(),done:!1}}catch(e){return{value:void 0,done:!0}}}function He(){var e=this.next();if(e.done)throw Hr(new Error);return e.value}function $e(e){if("string"==typeof e||"__iter__"in e)(r=e.__iter__()).next=Ve;else if("selector"in e){(r=tr(e).__iter__()).next=Ve}else if("next"in e){"__next__"in(r=e)||(r.__next__=He)}else{if(!(Symbol.iterator in e))throw Vr(new Error);var r;(r=e[Symbol.iterator]()).__next__=He}return r[Symbol.iterator]=function(){return r},r}function Qe(e){try{var r=e.__next__()}catch(n){if((r=e.next()).done)throw Hr(new Error);return r.value}if(null==r)throw Hr(new Error);return r}function Ye(e){this.iterable=e,this.index=0}function Xe(e){this.iterable=e,this.index=0}function Ze(e){return(e=e.slice()).reverse(),e}function Ke(){for(var e=[].slice.call(arguments),r=0;r<e.length;r++)"string"==typeof e[r]?e[r]=e[r].split(""):Array.isArray(e[r])||(e[r]=Array.from(e[r]));var n=0==e.length?[]:e.reduce((function(e,r){return e.length<r.length?e:r}));return n.map((function(r,n){return e.map((function(e){return e[n]}))}))}function Je(e){var r=!0,n=!1,t=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){if(Ie(a.value))return!0}}catch(e){n=!0,t=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw t}}return!1}function er(e){var r=!0,n=!1,t=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){if(!Ie(a.value))return!1}}catch(e){n=!0,t=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw t}}return!0}function rr(e){return Ke(function(e,r,n){if(null==r&&(r=e,e=0),null==n&&(n=1),n>0&&e>=r||n<0&&e<=r)return[];for(var t=[],a=e;n>0?a<r:a>r;a+=n)t.push(a);return t}(Ne(e)),e)}function nr(e){if(null==e||"object"==typeof e)return e;var r={};for(var n in obj)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}function tr(e){return e?Array.from(e):[]}function ar(e){var r=e?[].slice.apply(e):[];return r.__class__=ar,r}function ir(e){var r=[];if(e)for(var n=0;n<e.length;n++)r.add(e[n]);return r.__class__=ir,r}Ye.prototype.__next__=function(){if(this.index<this.iterable.length)return this.iterable[this.index++];throw Hr(new Error)},Xe.prototype.next=function(){return this.index<this.iterable.py_keys.length?{value:this.index++,done:!1}:{value:void 0,done:!0}},Array.prototype.__class__=tr,tr.__name__="list",tr.__bases__=[ge],Array.prototype.__iter__=function(){return new Ye(this)},Array.prototype.__getslice__=function(e,r,n){if(e<0&&(e=this.length+e),null==r?r=this.length:r<0?r=this.length+r:r>this.length&&(r=this.length),1==n)return Array.prototype.slice.call(this,e,r);for(var t=tr([]),a=e;a<r;a+=n)t.push(this[a]);return t},Array.prototype.__setslice__=function(e,r,n,t){if(e<0&&(e=this.length+e),null==r?r=this.length:r<0&&(r=this.length+r),null==n)Array.prototype.splice.apply(this,[e,r-e].concat(t));else for(var a=0,i=e;i<r;i+=n)this[i]=t[a++]},Array.prototype.__repr__=function(){if(this.__class__==ir&&!this.length)return"set()";for(var e=this.__class__&&this.__class__!=tr?this.__class__==ar?"(":"{":"[",r=0;r<this.length;r++)r&&(e+=", "),e+=Fe(this[r]);return this.__class__==ar&&1==this.length&&(e+=","),e+=this.__class__&&this.__class__!=tr?this.__class__==ar?")":"}":"]"},Array.prototype.__str__=Array.prototype.__repr__,Array.prototype.append=function(e){this.push(e)},Array.prototype.py_clear=function(){this.length=0},Array.prototype.extend=function(e){this.push.apply(this,e)},Array.prototype.insert=function(e,r){this.splice(e,0,r)},Array.prototype.remove=function(e){var r=this.indexOf(e);if(-1==r)throw $r("list.remove(x): x not in list",new Error);this.splice(r,1)},Array.prototype.index=function(e){return this.indexOf(e)},Array.prototype.py_pop=function(e){return null==e?this.pop():this.splice(e,1)[0]},Array.prototype.py_sort=function(){rn.apply(null,[this].concat([].slice.apply(arguments)))},Array.prototype.__add__=function(e){return tr(this.concat(e))},Array.prototype.__mul__=function(e){for(var r=this,n=1;n<e;n++)r=r.concat(this);return r},Array.prototype.__rmul__=Array.prototype.__mul__,ar.__name__="tuple",ar.__bases__=[ge],ir.__name__="set",ir.__bases__=[ge],Array.prototype.__bindexOf__=function(e){e+="";for(var r=0,n=this.length-1;r<=n;){var t=(r+n)/2|0,a=this[t]+"";if(a<e)r=t+1;else{if(!(a>e))return t;n=t-1}}return-1},Array.prototype.add=function(e){-1==this.indexOf(e)&&this.push(e)},Array.prototype.discard=function(e){var r=this.indexOf(e);-1!=r&&this.splice(r,1)},Array.prototype.isdisjoint=function(e){this.sort();for(var r=0;r<e.length;r++)if(-1!=this.__bindexOf__(e[r]))return!1;return!0},Array.prototype.issuperset=function(e){this.sort();for(var r=0;r<e.length;r++)if(-1==this.__bindexOf__(e[r]))return!1;return!0},Array.prototype.issubset=function(e){return ir(e.slice()).issuperset(this)},Array.prototype.union=function(e){for(var r=ir(this.slice().sort()),n=0;n<e.length;n++)-1==r.__bindexOf__(e[n])&&r.push(e[n]);return r},Array.prototype.intersection=function(e){this.sort();for(var r=ir(),n=0;n<e.length;n++)-1!=this.__bindexOf__(e[n])&&r.push(e[n]);return r},Array.prototype.difference=function(e){for(var r=ir(e.slice().sort()),n=ir(),t=0;t<this.length;t++)-1==r.__bindexOf__(this[t])&&n.push(this[t]);return n},Array.prototype.symmetric_difference=function(e){return this.union(e).difference(this.intersection(e))},Array.prototype.py_update=function(){var e=[].concat.apply(this.slice(),arguments).sort();this.py_clear();for(var r=0;r<e.length;r++)e[r]!=e[r-1]&&this.push(e[r])},Array.prototype.__eq__=function(e){if(this.length!=e.length)return!1;this.__class__==ir&&(this.sort(),e.sort());for(var r=0;r<this.length;r++)if(this[r]!=e[r])return!1;return!0},Array.prototype.__ne__=function(e){return!this.__eq__(e)},Array.prototype.__le__=function(e){if(this.__class__==ir)return this.issubset(e);for(var r=0;r<this.length;r++){if(this[r]>e[r])return!1;if(this[r]<e[r])return!0}return!0},Array.prototype.__ge__=function(e){if(this.__class__==ir)return this.issuperset(e);for(var r=0;r<this.length;r++){if(this[r]<e[r])return!1;if(this[r]>e[r])return!0}return!0},Array.prototype.__lt__=function(e){return this.__class__==ir?this.issubset(e)&&!this.issuperset(e):!this.__ge__(e)},Array.prototype.__gt__=function(e){return this.__class__==ir?this.issuperset(e)&&!this.issubset(e):!this.__le__(e)};function or(e){if("number"==typeof e)return e.toString();try{return e.__str__()}catch(r){try{return Fe(e)}catch(r){return String(e)}}}function lr(e){return this.hasOwnProperty(e)}function sr(){var e=[];for(var r in this)je(r)||e.push(r);return e}function _r(){var e=[];for(var r in this)je(r)||e.push([r,this[r]]);return e}function ur(e){delete this[e]}function cr(){for(var e in this)delete this[e]}function fr(e,r){var n=this[e];return null==n&&(n=this["py_"+e]),null==n?null==r?null:r:n}function dr(e,r){var n=this[e];if(null!=n)return n;var t=null==r?null:r;return this[e]=t,t}function pr(e,r){var n=this[e];if(null!=n)return delete this[e],n;if(void 0===r)throw Qr(e,new Error);return r}function hr(){var e=Object.keys(this)[0];if(null==e)throw Qr("popitem(): dictionary is empty",new Error);var r=ar([e,this[e]]);return delete this[e],r}function gr(e){for(var r in e)this[r]=e[r]}function vr(){var e=[];for(var r in this)je(r)||e.push(this[r]);return e}function mr(e){return this[e]}function wr(e,r){this[e]=r}function yr(e){var r={};if(!e||e instanceof Array){if(e)for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof Array)||2!=t.length)throw $r("dict update sequence element #"+n+" has length "+t.length+"; 2 is required",new Error);var a=t[0],i=t[1];!(e instanceof Array)&&e instanceof Object&&(Ae(e,yr)||(i=yr(i))),r[a]=i}}else if(Ae(e,yr)){var o=e.py_keys();for(n=0;n<o.length;n++){r[a=o[n]]=e[a]}}else{if(!(e instanceof Object))throw $r("Invalid type of object for dict creation",new Error);r=e}return be(r,"__class__",{value:yr,enumerable:!1,writable:!0}),be(r,"__contains__",{value:lr,enumerable:!1}),be(r,"py_keys",{value:sr,enumerable:!1}),be(r,"__iter__",{value:function(){new Ye(this.py_keys())},enumerable:!1}),be(r,Symbol.iterator,{value:function(){new Xe(this.py_keys())},enumerable:!1}),be(r,"py_items",{value:_r,enumerable:!1}),be(r,"py_del",{value:ur,enumerable:!1}),be(r,"py_clear",{value:cr,enumerable:!1}),be(r,"py_get",{value:fr,enumerable:!1}),be(r,"py_setdefault",{value:dr,enumerable:!1}),be(r,"py_pop",{value:pr,enumerable:!1}),be(r,"py_popitem",{value:hr,enumerable:!1}),be(r,"py_update",{value:gr,enumerable:!1}),be(r,"py_values",{value:vr,enumerable:!1}),be(r,"__getitem__",{value:mr,enumerable:!1}),be(r,"__setitem__",{value:wr,enumerable:!1}),r}function kr(e,r){return"object"==typeof e&&"__mod__"in e?e.__mod__(r):"object"==typeof r&&"__rmod__"in r?r.__rmod__(e):(e%r+r)%r}Uint8Array.prototype.__add__=function(e){var r=new Uint8Array(this.length+e.length);return r.set(this),r.set(e,this.length),r},Uint8Array.prototype.__mul__=function(e){for(var r=new Uint8Array(e*this.length),n=0;n<e;n++)r.set(this,n*this.length);return r},Uint8Array.prototype.__rmul__=Uint8Array.prototype.__mul__,String.prototype.__class__=or,or.__name__="str",or.__bases__=[ge],String.prototype.__iter__=function(){new Ye(this)},String.prototype.__repr__=function(){return(-1==this.indexOf("'")?"'"+this+"'":'"'+this+'"').py_replace("\t","\\t").py_replace("\n","\\n")},String.prototype.__str__=function(){return this},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.endswith=function(e){if(!(e instanceof Array))return""==e||this.slice(-e.length)==e;for(var r=0;r<e.length;r++)if(this.slice(-e[r].length)==e[r])return!0;return!1},String.prototype.find=function(e,r){return this.indexOf(e,r)},String.prototype.__getslice__=function(e,r,n){e<0&&(e=this.length+e),null==r?r=this.length:r<0&&(r=this.length+r);var t="";if(1==n)t=this.substring(e,r);else for(var a=e;a<r;a+=n)t=t.concat(this.charAt(a));return t},String.prototype.__format__=function(e){if(null==e||0==e.strip().length)return this.valueOf();var r=0,n="<",t=" ",a=this.valueOf();if("s"==e[e.length-1]&&(e=e.slice(0,-1)),e.length>0){for(var i="";e&&e[e.length-1].isnumeric();)i=e[e.length-1]+i,e=e.slice(0,-1);i.length>0&&(r=parseInt(i)),e.length>0&&e.endswith(["<",">","^"])&&(n=e[e.length-1],e=e.slice(0,-1)),e.length>0&&(t=e[0])}return r>0&&(a=function(e,r,n,t){var a=r-e.length;switch(t){case">":return xr(n,a)+e;case"<":return e+xr(n,a);case"^":var i=(a%2+2)%2;return xr(n,a=Math.floor(a/2))+e+xr(n,a+i);default:return e}}(a,r,t,n)),a},be(String.prototype,"format",{get:function(){return de(this,(function(e){var r=ar([].slice.apply(arguments).slice(1)),n=0;return e.replace(/\{([^\{]*)\}/g,(function(e,t){var a=t.split(":");t=a[0];var i=a[1];a=t.split("!"),t=a[0];var o=a[1],l=void 0;if(""==t&&(t=n++),t==+t&&void 0!==r[t])l=r[t];else{var s=void 0,_=(""+t).indexOf(".");if(-1!=_?(s=t.substring(_+1),t=t.substring(0,_)):-1!=(_=(""+t).indexOf("["))&&(s=t.substring(_+1).slice(0,-1),t=t.substring(0,_)),t==+t&&s&&void 0!==r[t])l=r[t][s];else for(var u=0;u<r.length;u++)if("object"==typeof r[u]&&null!=r[u]&&void 0!==r[u][t]){l=s?r[u][t][s]:r[u][t];break}}if(void 0===l)return e;if("r"==o)l=Fe(l);else if("s"==o)l=or(l);else if("a"==o)throw $r("Conversion to ascii not yet supported: '"+e+"'",new Error);return We(l,i)}))}))},enumerable:!0}),String.prototype.isalnum=function(){return/^[0-9a-zA-Z]{1,}$/.test(this)},String.prototype.isalpha=function(){return/^[a-zA-Z]{1,}$/.test(this)},String.prototype.isdecimal=function(){return/^[0-9]{1,}$/.test(this)},String.prototype.isdigit=function(){return this.isdecimal()},String.prototype.islower=function(){return/^[a-z]{1,}$/.test(this)},String.prototype.isupper=function(){return/^[A-Z]{1,}$/.test(this)},String.prototype.isspace=function(){return/^[\s]{1,}$/.test(this)},String.prototype.isnumeric=function(){return!isNaN(parseFloat(this))&&isFinite(this)},String.prototype.join=function(e){return(e=Array.from(e)).join(this)},String.prototype.lower=function(){return this.toLowerCase()},String.prototype.py_replace=function(e,r,n){return this.split(e,n).join(r)},String.prototype.lstrip=function(){return this.replace(/^\s*/g,"")},String.prototype.rfind=function(e,r){return this.lastIndexOf(e,r)},String.prototype.rsplit=function(e,r){if(null==e||null==e){e=/\s+/;var n=this.strip()}else n=this;if(null==r||-1==r)return n.split(e);var t=n.split(e);if(r<t.length){var a=t.length-r;return[t.slice(0,a).join(e)].concat(t.slice(a))}return t},String.prototype.rstrip=function(){return this.replace(/\s*$/g,"")},String.prototype.py_split=function(e,r){if(null==e||null==e){e=/\s+/;var n=this.strip()}else n=this;if(null==r||-1==r)return n.split(e);var t=n.split(e);return r<t.length?t.slice(0,r).concat([t.slice(r).join(e)]):t},String.prototype.startswith=function(e){if(!(e instanceof Array))return 0==this.indexOf(e);for(var r=0;r<e.length;r++)if(0==this.indexOf(e[r]))return!0;return!1},String.prototype.strip=function(){return this.trim()},String.prototype.upper=function(){return this.toUpperCase()},String.prototype.__mul__=function(e){for(var r="",n=0;n<e;n++)r+=this;return r},String.prototype.__rmul__=String.prototype.__mul__,yr.__name__="dict",yr.__bases__=[ge],be(Function.prototype,"__setdoc__",{value:function(e){return this.__doc__=e,this},enumerable:!1});function br(e){return"object"==typeof e&&"__neg__"in e?e.__neg__():-e}function xr(e,r){return"object"==typeof e&&"__mul__"in e?e.__mul__(r):"object"==typeof r&&"__rmul__"in r?r.__rmul__(e):"string"==typeof e?e.__mul__(r):"string"==typeof r?r.__rmul__(e):e*r}function Pr(e,r){return"object"==typeof e&&"__floordiv__"in e?e.__floordiv__(r):"object"==typeof r&&"__rfloordiv__"in r?r.__rfloordiv__(e):"object"==typeof e&&"__div__"in e?e.__div__(r):"object"==typeof r&&"__rdiv__"in r?r.__rdiv__(e):Math.floor(e/r)}function Or(e,r){return"object"==typeof e&&"__add__"in e?e.__add__(r):"object"==typeof r&&"__radd__"in r?r.__radd__(e):e+r}function Sr(e,r){return"object"==typeof e&&"__sub__"in e?e.__sub__(r):"object"==typeof r&&"__rsub__"in r?r.__rsub__(e):e-r}function Er(e,r){return"object"==typeof e&&"__lshift__"in e?e.__lshift__(r):"object"==typeof r&&"__rlshift__"in r?r.__rlshift__(e):e<<r}function Cr(e,r){return"object"==typeof e&&"__and__"in e?e.__and__(r):"object"==typeof r&&"__rand__"in r?r.__rand__(e):e&r}function Lr(e,r){return"object"==typeof e&&"__eq__"in e?e.__eq__(r):e==r}function jr(e,r){return"object"==typeof e&&"__ne__"in e?e.__ne__(r):e!=r}function Nr(e,r){return"object"==typeof e&&"__lt__"in e?e.__lt__(r):e<r}function zr(e,r){return"object"==typeof e&&"__le__"in e?e.__le__(r):e<=r}function Tr(e,r){return"object"==typeof e&&"__gt__"in e?e.__gt__(r):e>r}function Mr(e,r){return"object"==typeof e&&"__ge__"in e?e.__ge__(r):e>=r}function Ir(e,r){return"object"==typeof e&&"__imul__"in e?e.__imul__(r):"object"==typeof e&&"__mul__"in e?e.__mul__(r):"object"==typeof r&&"__rmul__"in r?r.__rmul__(e):"string"==typeof e?e.__mul__(r):"string"==typeof r?r.__rmul__(e):e*r}function Rr(e,r){return"object"==typeof e&&"__iadd__"in e?e.__iadd__(r):"object"==typeof e&&"__add__"in e?e.__add__(r):"object"==typeof r&&"__radd__"in r?r.__radd__(e):e+r}function Dr(e,r){return"object"==typeof e&&"__isub__"in e?e.__isub__(r):"object"==typeof e&&"__sub__"in e?e.__sub__(r):"object"==typeof r&&"__rsub__"in r?r.__rsub__(e):e-r}function Ar(e,r){return"object"==typeof e&&"__ior__"in e?e.__ior__(r):"object"==typeof e&&"__or__"in e?e.__or__(r):"object"==typeof r&&"__ror__"in r?r.__ror__(e):e|r}function qr(e,r){return"object"==typeof e&&"__getitem__"in e?e.__getitem__(r):("string"==typeof e||e instanceof Array)&&r<0?e[e.length+r]:e[r]}function Fr(e,r,n){"object"==typeof e&&"__setitem__"in e?e.__setitem__(r,n):("string"==typeof e||e instanceof Array)&&r<0?e[e.length+r]=n:e[r]=n}function Ur(e,r,n,t){return"object"==typeof e&&"__getitem__"in e?e.__getitem__([r,n,t]):e.__getslice__(r,n,t)}function Br(e,r,n,t,a){"object"==typeof e&&"__setitem__"in e?e.__setitem__([r,n,t],a):e.__setslice__(r,n,t,a)}var Gr=ve("BaseException",[ge],{__module__:ue}),Wr=ve("Exception",[Gr],{__module__:ue,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();e.__args__=i,jr(r.error,null)?e.stack=r.error.stack:Error?e.stack=new me(Error,null).stack:e.stack="No stack trace available"}))},get __repr__(){return de(this,(function(e){return Tr(me(Ne,null,e.__args__),1)?me((r="{}{}").format,r,e.__class__.__name__,me(Fe,null,me(ar,null,e.__args__))):me(Ne,null,e.__args__)?function(){var r="{}({})";return me(r.format,r,e.__class__.__name__,me(Fe,null,qr(e.__args__,0)))}():function(){var r="{}()";return me(r.format,r,e.__class__.__name__)}();var r}))},get __str__(){return de(this,(function(e){return Tr(me(Ne,null,e.__args__),1)?me(or,null,me(ar,null,e.__args__)):me(Ne,null,e.__args__)?me(or,null,qr(e.__args__,0)):""}))}}),Vr=ve("IterableError",[Wr],{__module__:ue,get __init__(){return de(this,(function(e,r){var n;me((n=Wr).__init__,n,e,"Can't iterate over non-iterable",we({error:r}))}))}}),Hr=ve("StopIteration",[Wr],{__module__:ue,get __init__(){return de(this,(function(e,r){var n;me((n=Wr).__init__,n,e,"Iterator exhausted",we({error:r}))}))}}),$r=ve("ValueError",[Wr],{__module__:ue,get __init__(){return de(this,(function(e,r,n){var t;me((t=Wr).__init__,t,e,r,we({error:n}))}))}}),Qr=ve("KeyError",[Wr],{__module__:ue,get __init__(){return de(this,(function(e,r,n){var t;me((t=Wr).__init__,t,e,r,we({error:n}))}))}}),Yr=ve("AssertionError",[Wr],{__module__:ue,get __init__(){return de(this,(function(e,r,n){var t;r?me((t=Wr).__init__,t,e,r,we({error:n})):function(){var r=Wr;me(r.__init__,r,e,we({error:n}))}()}))}}),Xr=ve("NotImplementedError",[Wr],{__module__:ue,get __init__(){return de(this,(function(e,r,n){var t;me((t=Wr).__init__,t,e,r,we({error:n}))}))}}),Zr=ve("IndexError",[Wr],{__module__:ue,get __init__(){return de(this,(function(e,r,n){var t;me((t=Wr).__init__,t,e,r,we({error:n}))}))}}),Kr=ve("AttributeError",[Wr],{__module__:ue,get __init__(){return de(this,(function(e,r,n){var t;me((t=Wr).__init__,t,e,r,we({error:n}))}))}}),Jr=ve("py_TypeError",[Wr],{__module__:ue,get __init__(){return de(this,(function(e,r,n){var t;me((t=Wr).__init__,t,e,r,we({error:n}))}))}}),en=ve("Warning",[Wr],{__module__:ue}),rn=(ve("UserWarning",[en],{__module__:ue}),ve("DeprecationWarning",[en],{__module__:ue}),ve("RuntimeWarning",[en],{__module__:ue}),function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"iterable":e=a[i];break;case"key":r=a[i];break;case"reverse":n=a[i]}}}var o;r?me((o=e).sort,o,(function(e,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"a":e=a[i];break;case"b":n=a[i]}}}return Tr(me(r,null,e),me(r,null,n))?1:br(1)})):function(){var r=e;me(r.sort,r)}(),n&&function(){var r=e;me(r.reverse,r)}()}),nn=function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"iterable":e=a[i];break;case"key":r=a[i];break;case"reverse":n=a[i]}}}if(Lr(Re(e),yr))var o=me(nr,null,me((l=e).py_keys,l));else o=me(nr,null,e);var l;return me(rn,null,o,r,n),o},tn=function(e,r){return function(){for(var n=[],t=r,a=0;a<Ne(t);a++){var i=qr(t,a);me(n.append,n,me(e,null,i))}return n}()},an=ve("__Terminal__",[ge],{__module__:ue,get __init__(){return de(this,(function(e){e.buffer="";try{e.element=me((r=document).getElementById,r,"__terminal__")}catch(r){e.element=null}var r;e.element&&(e.element.style.overflowX="auto",e.element.style.boxSizing="border-box",e.element.style.padding="5px",e.element.innerHTML="_")}))},get print(){return de(this,(function(e){var r,n,t=" ",a="\n";if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"sep":t=o[l];break;case"end":a=o[l]}}var s=ar([].slice.apply(arguments).slice(1,i+1))}else s=ar();e.buffer=Ur(me((n="{}{}{}").format,n,e.buffer,me((r=t).join,r,function(){for(var e=[],r=s,n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,me(or,null,t))}return e}()),a),br(4096),null,1),e.element?(e.element.innerHTML=function(){var r=function(){var r=e.buffer;return me(r.py_replace,r,"\n","<br>")}();return me(r.py_replace,r," ","&nbsp")}(),e.element.scrollTop=e.element.scrollHeight):function(){var e=console;me(e.log,e,function(){var e=t;return me(e.join,e,function(){for(var e=[],r=s,n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,me(or,null,t))}return e}())}())}()}))},get input(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"question":r=t[a]}}}var i;me((i=e).print,i,me("{}".format,"{}",r),we({end:""}));var o=function(){var r,n=window;return me(n.prompt,n,me("\n".join,"\n",Ur(me((r=e.buffer).py_split,r,"\n"),br(8),null,1)))}();return function(){var r=e;me(r.print,r,o)}(),o}))}}),on=me(an,null);on.print,on.input;String.prototype.startswith=function(e,r){var n=void 0===r?0:r;if(!(e instanceof Array))return this.substring(n,n+e.length)===e;for(var t=0;t<e.length;t++)if(this.substring(n,n+e[t].length)===e[t])return!0;return!1},String.prototype.count=function(e){for(var r=0,n=0;r<this.length;++r)e==this[r]&&++n;return n},String.prototype.rjust=function(e,r){return this.length>=e?this:r.repeat(e-this.length)+this},String.prototype.rstrip=function(e){if(void 0===e)return this.replace(/\s*$/g,"");for(var r=this;r.length&&-1!==e.indexOf(r.slice(-1));)r=r.slice(0,-1);return r},pr=function(e,r){var n=this[e];if(void 0!==n)return delete this[e],n;if(void 0===r)throw Qr(e,new Error);return r},Lr=function(e,r){return"object"==typeof e&&null!=e&&"__eq__"in e?e.__eq__(r):"object"==typeof r&&null!=r&&"__eq__"in r?r.__eq__(e):e==r};var ln,sn=we;$=i("3Ie7j");function _n(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function un(e,r){for(var n,t="",a=0,i=-1,o=0,l=0;l<=e.length;++l){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(i===l-1||1===o);else if(i!==l-1&&2===o){if(t.length<2||2!==a||46!==t.charCodeAt(t.length-1)||46!==t.charCodeAt(t.length-2))if(t.length>2){var s=t.lastIndexOf("/");if(s!==t.length-1){-1===s?(t="",a=0):a=(t=t.slice(0,s)).length-1-t.lastIndexOf("/"),i=l,o=0;continue}}else if(2===t.length||1===t.length){t="",a=0,i=l,o=0;continue}r&&(t.length>0?t+="/..":t="..",a=2)}else t.length>0?t+="/"+e.slice(i+1,l):t=e.slice(i+1,l),a=l-i-1;i=l,o=0}else 46===n&&-1!==o?++o:o=-1}return t}var cn={resolve:function(){for(var e,r="",n=!1,t=arguments.length-1;t>=-1&&!n;t--){var a;t>=0?a=arguments[t]:(void 0===e&&(e=w.cwd()),a=e),_n(a),0!==a.length&&(r=a+"/"+r,n=47===a.charCodeAt(0))}return r=un(r,!n),n?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(_n(e),0===e.length)return".";var r=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=un(e,!r)).length||r||(e="."),e.length>0&&n&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return _n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var n=arguments[r];_n(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":cn.normalize(e)},relative:function(e,r){if(_n(e),_n(r),e===r)return"";if((e=cn.resolve(e))===(r=cn.resolve(r)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var t=e.length,a=t-n,i=1;i<r.length&&47===r.charCodeAt(i);++i);for(var o=r.length-i,l=a<o?a:o,s=-1,_=0;_<=l;++_){if(_===l){if(o>l){if(47===r.charCodeAt(i+_))return r.slice(i+_+1);if(0===_)return r.slice(i+_)}else a>l&&(47===e.charCodeAt(n+_)?s=_:0===_&&(s=0));break}var u=e.charCodeAt(n+_);if(u!==r.charCodeAt(i+_))break;47===u&&(s=_)}var c="";for(_=n+s+1;_<=t;++_)_!==t&&47!==e.charCodeAt(_)||(0===c.length?c+="..":c+="/..");return c.length>0?c+r.slice(i+s):(i+=s,47===r.charCodeAt(i)&&++i,r.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(_n(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,t=-1,a=!0,i=e.length-1;i>=1;--i)if(47===(r=e.charCodeAt(i))){if(!a){t=i;break}}else a=!1;return-1===t?n?"/":".":n&&1===t?"//":e.slice(0,t)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');_n(e);var n,t=0,a=-1,i=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var o=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var s=e.charCodeAt(n);if(47===s){if(!i){t=n+1;break}}else-1===l&&(i=!1,l=n+1),o>=0&&(s===r.charCodeAt(o)?-1==--o&&(a=n):(o=-1,a=l))}return t===a?a=l:-1===a&&(a=e.length),e.slice(t,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){t=n+1;break}}else-1===a&&(i=!1,a=n+1);return-1===a?"":e.slice(t,a)},extname:function(e){_n(e);for(var r=-1,n=0,t=-1,a=!0,i=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47!==l)-1===t&&(a=!1,t=o+1),46===l?-1===r?r=o:1!==i&&(i=1):-1!==r&&(i=-1);else if(!a){n=o+1;break}}return-1===r||-1===t||0===i||1===i&&r===t-1&&r===n+1?"":e.slice(r,t)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+(void 0===e?"undefined":(0,$.default)(e)));return function(e,r){var n=r.dir||r.root,t=r.base||(r.name||"")+(r.ext||"");return n?n===r.root?n+t:n+e+t:t}("/",e)},parse:function(e){_n(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,t=e.charCodeAt(0),a=47===t;a?(r.root="/",n=1):n=0;for(var i=-1,o=0,l=-1,s=!0,_=e.length-1,u=0;_>=n;--_)if(47!==(t=e.charCodeAt(_)))-1===l&&(s=!1,l=_+1),46===t?-1===i?i=_:1!==u&&(u=1):-1!==i&&(u=-1);else if(!s){o=_+1;break}return-1===i||-1===l||0===u||1===u&&i===l-1&&i===o+1?-1!==l&&(r.base=r.name=0===o&&a?e.slice(1,l):e.slice(o,l)):(0===o&&a?(r.name=e.slice(1,i),r.base=e.slice(1,l)):(r.name=e.slice(o,i),r.base=e.slice(o,l)),r.ext=e.slice(i,l)),o>0?r.dir=e.slice(0,o-1):a&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};cn.posix=cn,ln=cn;var fn=function(){"use strict";function e(r,n,t){T(this,e),this.object_type=r,this.object_id=n,this.source_path=t}return I(e,[{key:"get_source_directory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n(ln).join(e,n(ln).dirname(this.source_path))}},{key:"toString",value:function(){return"".concat(this.object_type," ").concat(this.object_id," in ").concat(this.source_path,"")}}]),e}(),dn={};e(dn,"LatexWalkerNodesParseError",(function(){return Nn})),e(dn,"LatexWalkerEndOfStream",(function(){return zn})),e(dn,"ParsingState",(function(){return Ba})),e(dn,"LatexWalkerParsingStateEventHandler",(function(){return mt})),e(dn,"LatexNodesCollector",(function(){return $a})),e(dn,"ParsingStateDeltaWalkerEvent",(function(){return dt})),e(dn,"ParsedArgumentsInfo",(function(){return lt})),e(dn,"LatexTokenListTokenReader",(function(){return Et})),e(dn,"logger",(function(){return kn})),e(dn,"LatexContextDbBase",(function(){return st})),e(dn,"_unicode_from_str",(function(){return xn})),e(dn,"LatexWalkerParseErrorFormatter",(function(){return Cn})),e(dn,"to_str",(function(){return Pn})),e(dn,"LatexTokenReader",(function(){return Na})),e(dn,"SingleParsedArgumentInfo",(function(){return ot})),e(dn,"format_pos",(function(){return Ln})),e(dn,"LatexWalkerError",(function(){return Sn})),e(dn,"LatexToken",(function(){return xt})),e(dn,"ParsedArguments",(function(){return Dn})),e(dn,"ParsingStateDeltaReplaceParsingState",(function(){return ft})),e(dn,"get_updated_parsing_state_from_delta",(function(){return gt})),e(dn,"CallableSpecBase",(function(){return kt})),e(dn,"__all__",(function(){return On})),e(dn,"LatexTokenReaderBase",(function(){return St})),e(dn,"_basestring",(function(){return bn})),e(dn,"LatexWalkerTokenParseError",(function(){return jn})),e(dn,"LatexWalkerParseError",(function(){return En})),e(dn,"ParsingStateDeltaLeaveMathMode",(function(){return ht})),e(dn,"LatexWalkerBase",(function(){return yt})),e(dn,"ParsingStateDeltaEnterMathMode",(function(){return pt})),e(dn,"LatexArgumentSpec",(function(){return Rn})),e(dn,"ParsingStateDelta",(function(){return ct}));var pn={};e(pn,"getLogger",(function(){return vn})),e(pn,"basicConfig",(function(){return mn}));D=i("fOdIC");n(m).formatters.r=function(e){return Fe(e)};var hn=function(){"use strict";function e(r){var t=this;T(this,e),this.scope=r,this._debug_fn=n(m)(this.scope),this._debug_fn_star=n(m)(this.scope+"*"),this.error=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=n[n.length-1];i&&null===i.__kwargtrans__&&t._process_kwargs(i),t._debug_fn_star.apply(t,["[[logging.ERROR]] !! "+e].concat((0,D.default)(n)))},this.critical=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=n[n.length-1];i&&null===i.__kwargtrans__&&t._process_kwargs(i),t._debug_fn_star.apply(t,["[[logging.CRITICAL]] !! "+e].concat((0,D.default)(n)))},this.warning=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=n[n.length-1];i&&null===i.__kwargtrans__&&t._process_kwargs(i),t._debug_fn_star.apply(t,["[[logging.WARNING]] !! "+e].concat((0,D.default)(n)))},this.info=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=n[n.length-1];i&&null===i.__kwargtrans__&&t._process_kwargs(i),t._debug_fn_star.apply(t,[e].concat((0,D.default)(n)))},this.debug=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=n[n.length-1];i&&null===i.__kwargtrans__&&t._process_kwargs(i),t._debug_fn.apply(t,["logging.debug ~~ "+e].concat((0,D.default)(n)))}}return I(e,[{key:"_process_kwargs",value:function(e){e.exc_info&&console.trace()}}]),e}();var gn={};function vn(e){var r=gn[e];return null==r&&(r=new hn(e),gn[e]=r),r}function mn(){}var wn={};fe(wn,"",pn);var yn="pylatexenc.latexnodes._exctypes",kn=me(wn.getLogger,wn,yn),bn=or,xn=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("x"===t)e=n[t]}}return e},Pn=or,On=["LatexWalkerError","LatexWalkerParseError","LatexWalkerParseErrorFormatter","LatexWalkerNodesParseError","LatexWalkerTokenParseError","LatexWalkerEndOfStream"],Sn=ve("LatexWalkerError",[Wr],{__module__:yn}),En=ve("LatexWalkerParseError",[Sn],{__module__:yn,get __init__(){return de(this,(function(e,r,n,t,a,i,o){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;var l,s=yr();if(arguments.length){var _=arguments.length-1;if(arguments[_]&&arguments[_].hasOwnProperty("__kwargtrans__")){var u=arguments[_--];for(var c in u)switch(c){case"self":e=u[c];break;case"msg":r=u[c];break;case"s":n=u[c];break;case"pos":t=u[c];break;case"lineno":a=u[c];break;case"colno":i=u[c];break;case"error_type_info":o=u[c];break;default:s[c]=u[c]}delete s.__kwargtrans__}}if(e.input_source=me((l=s).py_pop,l,"input_source",null),e.msg=r,e.s=n,e.pos=t,e.lineno=a,e.colno=i,e.error_type_info=o,e.open_contexts=function(){var e=s;return me(e.py_pop,e,"open_contexts",[])}(),ze(s)){var f=me($r,null,Or("Unexpected keyword argument(s) to LatexWalkerParseError(): ",me(Fe,null,s)));throw f.__cause__=null,f}me(me(ye,null,En,"__init__"),null,e,function(){var r=me(Cn,null,e);return me(r.to_display_string,r)}())}))},get __str__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return a=me(Cn,null,e),me(a.to_display_string,a);var a}))}}),Cn=ve("LatexWalkerParseErrorFormatter",[ge],{__module__:yn,get __init__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"exc":r=t[a]}}}me(me(ye,null,Cn,"__init__"),null,e),e.exc=r}))},get format_open_blocks(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a=e.exc;if(ze(!ze(a.open_contexts)))return null;for(var i,o="",l=me(Ze,null,a.open_contexts),s=0;s<Ne(l);s++){var _=qr(l,s),u=_,c=u[0],f=u[1],d=u[2],p=u[3];o=me(Rr,null,o,(i=void 0,me((i="{empty:4}{loc:<18}  {what}\n").format,i,we({empty:"",loc:me(Ln,null,f,d,p),what:c}))))}return o}))},get format_pos(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(Ln,null,e.exc.pos,e.exc.lineno,e.exc.colno)}))},get format_full_traceback(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=e.exc,o="";if(ze(i.input_source))o=me(Rr,null,o,me((a="  in {}").format,a,i.input_source));var l;o=me(Rr,null,o,me(" {}".format," {}",me((l=e).format_pos,l)));if(ze(i.open_contexts))o=me(Rr,null,o,"\nOpen LaTeX blocks:\n"),o=me(Rr,null,o,function(){var r=e;return me(r.format_open_blocks,r)}());return o}))},get to_display_string(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=e.exc,o=me(Pn,null,i.msg);return o=me(Rr,null,o,me((a=e).format_full_traceback,a))}))}}),Ln=function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"pos":e=a[i];break;case"lineno":r=a[i];break;case"colno":n=a[i]}}}return ze(null!==r)?ze(null!==n)?me((o="@ (line {}, col {})").format,o,r,n):function(){var e="@ line {}";return me(e.format,e,r)}():ze(null!==e)?function(){var r="@ char pos {}";return me(r.format,r,e)}():"@ <unknown>";var o},jn=ve("LatexWalkerTokenParseError",[En],{__module__:yn,get __init__(){return de(this,(function(e,r,n){var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"recovery_token_placeholder":r=i[o];break;case"recovery_token_at_pos":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,jn,"__init__"),null,e,we(t)),e.recovery_token_placeholder=r,e.recovery_token_at_pos=n}))}}),Nn=ve("LatexWalkerNodesParseError",[En],{__module__:yn,get __init__(){return de(this,(function(e,r,n,t,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;var i=yr();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"recovery_nodes":r=l[s];break;case"recovery_parsing_state_delta":n=l[s];break;case"recovery_at_token":t=l[s];break;case"recovery_past_token":a=l[s];break;default:i[s]=l[s]}delete i.__kwargtrans__}}me(me(ye,null,Nn,"__init__"),null,e,we(i)),e.recovery_nodes=r,e.recovery_parsing_state_delta=n,e.recovery_at_token=t,e.recovery_past_token=a}))}}),zn=ve("LatexWalkerEndOfStream",[Sn],{__module__:yn,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="";if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"final_space":r=t[a]}}}me(me(ye,null,zn,"__init__"),null,e),e.final_space=r}))}}),Tn={};function Mn(e,r){for(var n in r){(i=r[n]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n,i)}if(Object.getOwnPropertySymbols)for(var t=Object.getOwnPropertySymbols(r),a=0;a<t.length;a++){var i,o=t[a];(i=r[o]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o,i)}return e}e(Tn,"_unicode_from_str",(function(){return qn})),e(Tn,"LatexNode",(function(){return Fn})),e(Tn,"LatexCharsNode",(function(){return Un})),e(Tn,"LatexGroupNode",(function(){return Bn})),e(Tn,"LatexCommentNode",(function(){return Gn})),e(Tn,"LatexMacroNode",(function(){return Wn})),e(Tn,"LatexEnvironmentNode",(function(){return Vn})),e(Tn,"LatexSpecialsNode",(function(){return $n})),e(Tn,"LatexMathNode",(function(){return Qn})),e(Tn,"LatexNodeList",(function(){return Xn})),e(Tn,"_update_posposend_from_nodelist",(function(){return Kn})),e(Tn,"_get_content_as_chars",(function(){return Zn})),e(Tn,"LatexNodesVisitor",(function(){return Jn})),e(Tn,"latex_node_types",(function(){return et})),e(Tn,"__all__",(function(){return rt})),e(Tn,"LatexWalkerParseError",(function(){return En})),e(Tn,"ParsedArguments",(function(){return Dn}));var In="pylatexenc.latexnodes._parsedargs",Rn=ve("LatexArgumentSpec",[ge],{__module__:In,get __init__(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"parser":r=i[o];break;case"argname":n=i[o];break;case"parsing_state_delta":t=i[o]}}}e.parser=r,e.argname=n,e.parsing_state_delta=t}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="{cls}(argname={argname!r}, parser={parser!r}, parsing_state_delta={parsing_state_delta!r})").format,a,we({cls:e.__class__.__name__,argname:e.argname,parser:e.parser,parsing_state_delta:e.parsing_state_delta}));var a}))},get to_json_object(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a=me(yr,null,we({parser:e.parser,argname:e.argname,parsing_state_delta:e.parsing_state_delta}));return a}))},get __eq__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}return ze(Lr(e.parser,r.parser))&&ze(Lr(e.argname,r.argname))&&Lr(e.parsing_state_delta,r.parsing_state_delta)}))}}),Dn=ve("ParsedArguments",[ge],{__module__:In,get __init__(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"argnlist":r=i[o];break;case"arguments_spec_list":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}var l,s=me((l=t).py_pop,l,"argspec",null);if(me(me(ye,null,Dn,"__init__"),null,e,we(t)),ze(ze(null===n)&&null!==s))n=s;e.argnlist=ze(r)?r:[],e.arguments_spec_list=ze(n)?n:[]}))},_fields:ar(["arguments_spec_list","argnlist"]),get accept_node_visitor(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"visitor":r=t[a]}}}if(ze(null!==e.argnlist))for(var i=e.argnlist,o=0;o<Ne(i);o++){var l=qr(i,o);ze(null!==l)&&(s=void 0,me((s=l).accept_node_visitor,s,r))}var s;!function(){var n=r;me(n.visit_parsed_arguments,n,e)}()}))},get __eq__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}return ze(Lr(e.arguments_spec_list,r.arguments_spec_list))&&Lr(e.argnlist,r.argnlist)}))},get to_json_object(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(yr,null,we({arguments_spec_list:e.arguments_spec_list,argnlist:e.argnlist}))}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="{}(arguments_spec_list={!r}, argnlist={!r})").format,a,e.__class__.__name__,e.arguments_spec_list,e.argnlist);var a}))}}),An="pylatexenc.latexnodes.nodes",qn=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("x"===t)e=n[t]}}return e},Fn=ve("LatexNode",[ge],{__module__:An,get __init__(){return de(this,(function(e,r,n,t,a,i,o){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;var l=yr();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var _=arguments[s--];for(var u in _)switch(u){case"self":e=_[u];break;case"_fields":r=_[u];break;case"_redundant_fields":n=_[u];break;case"parsing_state":t=_[u];break;case"pos":a=_[u];break;case"pos_end":i=_[u];break;case"latex_walker":o=_[u];break;default:l[u]=_[u]}delete l.__kwargtrans__}}var c,f=me((c=l).py_pop,c,"len",null);me(me(ye,null,Fn,"__init__"),null,e,we(l)),e.parsing_state=t,e.latex_walker=o,e.pos=a,e.pos_end=i,ze(ze(null===i)&&null!==f)&&(e.pos_end=Or(e.pos,f)),e._fields=me(ar,null,Or(["pos","pos_end","parsing_state","latex_walker"],me(tr,null,r))),ze(null!==n)?e._redundant_fields=me(ar,null,Or(Or(me(tr,null,e._fields),["len"]),me(tr,null,n))):e._redundant_fields=me(ar,null,Or(me(tr,null,e._fields),["len"]))}))},get nodeType(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Fn}))},get isNodeType(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"t":r=t[a]}}}return me(Ae,null,e,r)}))},get _get_len(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(ze(null===e.pos)||null===e.pos_end)?null:Sr(e.pos_end,e.pos)}))},get latex_verbatim(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}if(ze(null===e.latex_walker)){var a=me(Jr,null,"Can't use latex_verbatim() on node because we don't have any latex_walker set");throw a.__cause__=null,a}return Ur(e.latex_walker.s,e.pos,e.pos_end,1)}))},get __eq__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}return ze(null!==r)&&ze(me((i=e).nodeType,i)===function(){var e=r;return me(e.nodeType,e)}())&&ze(r.parsing_state===e.parsing_state)&&ze(r.latex_walker===e.latex_walker)&&ze(ze(ze(null===r.pos)&&null===e.pos)||Lr(r.pos,e.pos))&&ze(ze(ze(null===r.pos_end)&&null===e.pos_end)||Lr(r.pos_end,e.pos_end))&&me(er,null,function(){for(var n=[],t=e._fields,a=0;a<Ne(t);a++){var i=qr(t,a);me(n.append,n,ze(ze(null===me(Ee,null,e,i))&&null===me(Ee,null,r,i))||Lr(me(Ee,null,e,i),me(Ee,null,r,i)))}return $e(n)}());var i}))},get __ne__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}return NotImplemented}))},__hash__:null,get __unicode__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(qn,null,me((a=e).__str__,a));var a}))},get __str__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a=e).__repr__,a);var a}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Or(Or(Or((a=e,me(a.nodeType,a)).__name__,"("),me(", ".join,", ",function(){for(var r,n=[],t=e._fields,a=0;a<Ne(t);a++){var i=qr(t,a);r=void 0,me(n.append,n,me((r="{}={!r}").format,r,i,me(Ee,null,e,i)))}return n}())),")");var a}))},get accept_node_visitor(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"visitor":r=t[a]}}}var i;me((i=r).visit_unknown_node,i,e)}))},get to_json_object_with_latexwalker(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"latexwalker":r=t[a]}}}for(var i,o,l=yr({nodetype:e.__class__.__name__}),s=e._fields,_=0;_<Ne(s);_++){var u=qr(s,_);ze(Lr(u,"spec"))?Fr(l,u,me(Fe,null,e.spec)):ze(Lr(u,"latex_walker"))||Fr(l,u,me(Ee,null,e,u))}return me((o=l).py_update,o,me((i=r).pos_to_lineno_colno,i,e.pos,we({as_dict:!0}))),l}))},get format_pos(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(null!==e.latex_walker)?me((a=e.latex_walker).format_pos,a,e.pos):function(){var r="[@ pos {}]";return me(r.format,r,me(Fe,null,e.pos))}();var a}))}});Object.defineProperty(Fn,"len",ke.call(Fn,Fn._get_len));var Un=ve("LatexCharsNode",[Fn],{__module__:An,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"chars":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}me(me(ye,null,Un,"__init__"),null,e,we(Pe({_fields:ar(["chars"])},n))),e.chars=r}))},get nodeType(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Un}))},get accept_node_visitor(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"visitor":r=t[a]}}}var i;me((i=r).visit_chars_node,i,e)}))}}),Bn=ve("LatexGroupNode",[Fn],{__module__:An,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}var o,l=me((o=n).py_pop,o,"delimiters",ar(["{","}"]));me(me(ye,null,Bn,"__init__"),null,e,we(Pe({_fields:ar(["nodelist","delimiters"])},n))),e.nodelist=r,e.delimiters=l}))},get nodeType(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Bn}))},get accept_node_visitor(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"visitor":r=t[a]}}}if(ze(null!==e.nodelist))for(var i=e.nodelist,o=0;o<Ne(i);o++){var l=qr(i,o);ze(null!==l)&&(s=void 0,me((s=l).accept_node_visitor,s,r))}var s;!function(){var n=r;me(n.visit_group_node,n,e)}()}))}}),Gn=ve("LatexCommentNode",[Fn],{__module__:An,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"comment":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}var o,l=me((o=n).py_pop,o,"comment_post_space","");me(me(ye,null,Gn,"__init__"),null,e,we(Pe({_fields:ar(["comment","comment_post_space"])},n))),e.comment=r,e.comment_post_space=l}))},get nodeType(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Gn}))},get accept_node_visitor(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"visitor":r=t[a]}}}var i;me((i=r).visit_comment_node,i,e)}))}}),Wn=ve("LatexMacroNode",[Fn],{__module__:An,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"macroname":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}var o,l=me((o=n).py_pop,o,"nodeargd",me(Dn,null)),s=function(){var e=n;return me(e.py_pop,e,"macro_post_space","")}(),_=function(){var e=n;return me(e.py_pop,e,"spec",null)}();me(me(ye,null,Wn,"__init__"),null,e,we(Pe({_fields:ar(["macroname","spec","nodeargd","macro_post_space"]),_redundant_fields:ar(["nodeoptarg","nodeargs"])},n))),e.macroname=r,e.spec=_,e.nodeargd=l,e.macro_post_space=s}))},get nodeType(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Wn}))},get accept_node_visitor(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"visitor":r=t[a]}}}var i;ze(null!==e.nodeargd)&&me((i=e.nodeargd).accept_node_visitor,i,r),function(){var n=r;me(n.visit_macro_node,n,e)}()}))}}),Vn=ve("LatexEnvironmentNode",[Fn],{__module__:An,get __init__(){return de(this,(function(e,r,n){var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"environmentname":r=i[o];break;case"nodelist":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}var l,s=me((l=t).py_pop,l,"nodeargd",me(Dn,null)),_=function(){var e=t;return me(e.py_pop,e,"spec",null)}();me(me(ye,null,Vn,"__init__"),null,e,we(Pe({_fields:ar(["environmentname","spec","nodelist","nodeargd"]),_redundant_fields:ar(["envname","optargs","args"])},t))),e.environmentname=r,e.spec=_,e.nodelist=n,e.nodeargd=s}))},get _get_envname(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e.environmentname}))},get nodeType(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Vn}))},get accept_node_visitor(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"visitor":r=t[a]}}}var i;if(ze(null!==e.nodeargd)&&me((i=e.nodeargd).accept_node_visitor,i,r),ze(null!==e.nodelist))for(var o=e.nodelist,l=0;l<Ne(o);l++){var s=qr(o,l);ze(null!==s)&&function(){var e=s;me(e.accept_node_visitor,e,r)}()}!function(){var n=r;me(n.visit_environment_node,n,e)}()}))}});Object.defineProperty(Vn,"envname",ke.call(Vn,Vn._get_envname));var Hn,$n=ve("LatexSpecialsNode",[Fn],{__module__:An,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"specials_chars":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}var o,l=me((o=n).py_pop,o,"spec",null),s=function(){var e=n;return me(e.py_pop,e,"nodeargd",null)}();me(me(ye,null,$n,"__init__"),null,e,we(Pe({_fields:ar(["specials_chars","spec","nodeargd"])},n))),e.specials_chars=r,e.spec=l,e.nodeargd=s}))},get nodeType(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return $n}))},get accept_node_visitor(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"visitor":r=t[a]}}}var i;ze(null!==e.nodeargd)&&me((i=e.nodeargd).accept_node_visitor,i,r),function(){var n=r;me(n.visit_specials_node,n,e)}()}))}}),Qn=ve("LatexMathNode",[Fn],{__module__:An,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=[];var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"displaytype":r=i[o];break;case"nodelist":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}var l,s=me((l=t).py_pop,l,"delimiters",ar([null,null]));me(me(ye,null,Qn,"__init__"),null,e,we(Pe({_fields:ar(["displaytype","nodelist","delimiters"])},t))),e.displaytype=r,e.nodelist=n,e.delimiters=s}))},get nodeType(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Qn}))},get accept_node_visitor(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"visitor":r=t[a]}}}if(ze(null!==e.nodelist))for(var i=e.nodelist,o=0;o<Ne(i);o++){var l=qr(i,o);ze(null!==l)&&(s=void 0,me((s=l).accept_node_visitor,s,r))}var s;!function(){var n=r;me(n.visit_math_node,n,e)}()}))}}),Yn={},Xn=ve("LatexNodeList",[ge],(Hn={__module__:An,get __init__(){return de(this,(function(e,r){var n,t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"nodelist":r=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}if(ze(me(Ae,null,r,Xn))){var l=r;return e.nodelist=l.nodelist,e.parsing_state=l.parsing_state,e.latex_walker=l.latex_walker,e.pos=l.pos,void(e.pos_end=l.pos_end)}if(e.nodelist=r,ze(null===e.nodelist)&&me((n=logger).warning,n,"You're creating a LatexNodeList with nodelist=None. That's likely to cause crashes!"),e.parsing_state=function(){var e=t;return me(e.py_pop,e,"parsing_state",null)}(),e.latex_walker=function(){var e=t;return me(e.py_pop,e,"latex_walker",null)}(),e.pos=function(){var e=t;return me(e.py_pop,e,"pos",null)}(),e.pos_end=function(){var e=t;return me(e.py_pop,e,"pos_end",null)}(),ze(me(Ne,null,t))){var s=me($r,null,Or("Unexpected keyword arguments to LatexNodeList: ",me(Fe,null,t)));throw s.__cause__=null,s}var _=me(Kn,null,e.pos,e.pos_end,e.nodelist);e.pos=_[0],e.pos_end=_[1]}))},_fields:ar(["nodelist","parsing_state","latex_walker","pos","pos_end"]),get _get_len(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(ze(null===e.pos)||null===e.pos_end)?null:Sr(e.pos_end,e.pos)}))},get __iter__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(null===e.nodelist)?me($e,null,[]):me($e,null,e.nodelist)}))}},F(Hn,Symbol.iterator,(function(){return this.__iter__()})),Yn.__getitem__=Yn.__getitem__||{},Yn.__getitem__.get=function(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"index":r=t[a]}}}try{if(ze(Lr(me(Ne,null,r),3))){var i=r,o=i[0],l=i[1],s=i[2];return Ur(e.nodelist,o,l,s)}}catch(e){}if(ze(ze(me(Ae,null,r,Me))&&Nr(r,0)))r=Or(me(Ne,null,e.nodelist),r);return qr(e.nodelist,r)}))},Yn.__len__=Yn.__len__||{},Yn.__len__.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(Ne,null,e.nodelist)}))},Yn.latex_verbatim=Yn.latex_verbatim||{},Yn.latex_verbatim.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me("".join,"",function(){for(var r,n=[],t=e.nodelist,a=0;a<Ne(t);a++){var i=qr(t,a);ze(null!==i)&&(r=void 0,me(n.append,n,me((r=i).latex_verbatim,r)))}return n}())}))},Yn.accept_node_visitor=Yn.accept_node_visitor||{},Yn.accept_node_visitor.get=function(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"visitor":r=t[a]}}}if(ze(null!==e.nodelist))for(var i=e.nodelist,o=0;o<Ne(i);o++){var l=qr(i,o);ze(null!==l)&&(s=void 0,me((s=l).accept_node_visitor,s,r))}var s;!function(){var n=r;me(n.visit_node_list,n,e)}()}))},Yn.filter=Yn.filter||{},Yn.filter.get=function(){return de(this,(function(e,r,n,t,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!1;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"node_predicate_fn":r=o[l];break;case"skip_none":n=o[l];break;case"skip_comments":t=o[l];break;case"skip_whitespace_char_nodes":a=o[l]}}}if(ze(null!==e.latex_walker))var s=e.latex_walker.make_nodelist;else s=function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("nl"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}return me(Xn,null,e,we(r))};var _=function(e){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)if("n"===l)e=o[l]}}return!ze(ze(n)&&null===e)&&(!ze(ze(t)&&(s=e,me(s.isNodeType,s,Gn)))&&(!ze(ze(a)&&ze(function(){var r=e;return me(r.isNodeType,r,Un)}())&&Lr(me(Ne,null,function(){var r=e.chars;return me(r.strip,r)}()),0))&&(!ze(null!==r)||me(r,null,e))));var s},u=function(){for(var r=[],n=e.nodelist,t=0;t<Ne(n);t++){var a=qr(n,t);ze(me(_,null,a))&&me(r.append,r,a)}return r}();return me(s,null,u,we({parsing_state:e.parsing_state,pos:ze(me(Ne,null,u))?null:e.pos_end,pos_end:ze(me(Ne,null,u))?null:e.pos_end}))}))},Yn.split_at_node=Yn.split_at_node||{},Yn.split_at_node.get=function(){return de(this,(function(e,r,n,t,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"node_predicate_fn":r=o[l];break;case"skip_none":n=o[l];break;case"keep_separators":t=o[l];break;case"max_split":a=o[l]}}}var s=[[]];if(ze(ze(null!==a)&&Lr(a,0)))var _=!0;else _=!1;for(var u,c=e.nodelist,f=0;f<Ne(c);f++){var d=qr(c,f);if(!ze(ze(n)&&null===d))if(ze(ze(!ze(_))&&me(r,null,d))){if(ze(t)?(u=void 0,me((u=s).append,u,[d])):function(){var e=s;me(e.append,e,[])}(),ze(ze(null!==a)&&Mr(me(Ne,null,s),a)))_=!0}else!function(){var e=qr(s,Sr(me(Ne,null,s),1));me(e.append,e,d)}()}if(ze(null!==e.latex_walker))var p=e.latex_walker.make_nodelist;else p=function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("nl"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}return me(Xn,null,e,we(r))};return function(){for(var r=[],n=s,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,me(p,null,a,we({parsing_state:e.parsing_state})))}return r}()}))},Yn.split_at_chars=Yn.split_at_chars||{},Yn.split_at_chars.get=function(){return de(this,(function(e,r,n,t,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"sep_chars":r=o[l];break;case"max_split":n=o[l];break;case"keep_empty":t=o[l];break;case"skip_none":a=o[l]}}}var s=[],_=function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"m":e=t[a];break;case"offset":r=t[a]}}}if(ze(null===e))return ar([br(1),null]);if(ze(ze(me(Ce,null,e,"start"))&&me(Ce,null,e,"end")))return ar([Or(r,(i=e,me(i.start,i))),Or(r,function(){var r=e;return me(r.end,r)}())]);var i;if(ze(ze(!ze(e))||!ze(me(Ne,null,e))))return ar([br(1),null]);var o=e,l=o[0],s=o[1];if(ze(null===l))l=br(1);else l=Or(r,l);return ar([l,s=Or(r,s)])},u=function(e,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"chars":e=i[o];break;case"pos":t=i[o]}}}if(ze(ze(null!==n)&&Mr(me(Ne,null,s),n)))return ar([br(1),me(Ne,null,e)]);if(ze(me(Ce,null,r,"search"))){var l=me((u=r).search,u,Ur(e,t,null,1));return me(_,null,l,t)}var u;if(ze(me(qe,null,r))){l=me(r,null,e,t);return me(_,null,l)}var c=function(){var n=e;return me(n.find,n,r,t)}();return ze(ze(null===c)||Lr(c,br(1)))?ar([br(1),null]):ar([c,Or(c,me(Ne,null,r))])},c=e.latex_walker;if(ze(null!==c))var f=c.make_node,d=c.make_nodelist;else f=function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("cls"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}return me(e,null,we(r))},d=function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("nl"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}return me(Xn,null,e,we(r))};for(var p,h=function(r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"chars":r=o[l];break;case"n":n=o[l];break;case"rel_pos":t=o[l];break;case"rel_pos_end":a=o[l]}}}return me(f,null,Un,we({parsing_state:e.parsing_state,pos:Or(n.pos,t),pos_end:Or(n.pos,a),chars:r}))},g=function(r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"nodes":r=a[i];break;case"pos_end":n=a[i]}}}var o,l=me(d,null,r,we({parsing_state:e.parsing_state,pos:ze(me(Ne,null,r))?null:n,pos_end:n}));me((o=s).append,o,l)},v=[],m=e.nodelist,w=0;w<Ne(m);w++){var y=qr(m,w);if(ze(null===y))ze(!ze(a))&&(p=void 0,me((p=v).append,p,y));else if(ze(function(){var e=y;return me(e.isNodeType,e,Un)}()))for(var k=0;ze(!0);){var b=k,x=me(u,null,y.chars,b),P=x[0];k=x[1];if(!ze(jr(P,br(1)))){if(ze(Lr(b,0))){!function(){var e=v;me(e.append,e,y)}();break}ze(me(Ne,null,O=Ur(y.chars,b,null,1)))&&function(){var e=v;me(e.append,e,me(h,null,O,y,b,me(Ne,null,y.chars)))}();break}var O=Ur(y.chars,b,P,1);if(ze(Lr(b,0))){ze(me(Ne,null,O))&&function(){var e=v;me(e.append,e,me(h,null,O,y,b,P))}(),ze(ze(me(Ne,null,v))||t)&&me(g,null,v,we({pos_end:Or(y.pos,P)}));v=[]}else{var S=[];if(ze(me(Ne,null,O)))S=[me(h,null,O,y,b,P)];ze(ze(me(Ne,null,S))||t)&&me(g,null,S,we({pos_end:Or(y.pos,P)}))}}else!function(){var e=v;me(e.append,e,y)}()}return ze(ze(v)||t)&&me(g,null,v,we({pos_end:e.pos_end})),s}))},Yn.get_content_as_chars=Yn.get_content_as_chars||{},Yn.get_content_as_chars.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(Zn,null,e.nodelist)}))},Yn.__eq__=Yn.__eq__||{},Yn.__eq__.get=function(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}return ze(me(Ae,null,r,tr))?Lr(e.nodelist,r):ze(Lr(e.nodelist,r.nodelist))&&ze(ze(ze(null===e.pos)&&null===r.pos)||Lr(e.pos,r.pos))&&(ze(ze(null===e.pos_end)&&null===r.pos_end)||Lr(e.pos_end,r.pos_end))}))},Yn.to_json_object=Yn.to_json_object||{},Yn.to_json_object.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e.nodelist}))},Yn.__repr__=Yn.__repr__||{},Yn.__repr__.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="LatexNodeList({nodelist!r}, pos={pos!r}, pos_end={pos_end!r})").format,a,we({nodelist:e.nodelist,pos:e.pos,pos_end:e.pos_end}));var a}))},Mn(Hn,Yn),Hn));Object.defineProperty(Xn,"len",ke.call(Xn,Xn._get_len));var Zn=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("nodelist"===t)e=n[t]}}if(ze(null===e))return"";for(var a,i=[],o=e,l=0;l<Ne(o);l++){var s=qr(o,l);if(!ze(null===s)&&!ze((a=void 0,a=s,me(a.isNodeType,a,Gn))))if(ze(function(){var e=s;return me(e.isNodeType,e,Bn)}()))!function(){var e=i;me(e.append,e,me(Zn,null,s.nodelist))}();else{if(!ze(function(){var e=s;return me(e.isNodeType,e,Un)}())){var _=me(En,null,function(){var e="Expected simple characters only, got {}";return me(e.format,e,s.__class__.__name__)}(),we({pos:s.pos}));throw _.__cause__=null,_}!function(){var e=i;me(e.append,e,s.chars)}()}}return me("".join,"",i)},Kn=function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"pos":e=a[i];break;case"pos_end":r=a[i];break;case"nodelist":n=a[i]}}}if(ze(null===e)){for(var o=!1,l=n,s=0;s<Ne(l);s++){if(ze(null!==(_=qr(l,s)))){e=_.pos;o=!0;break}}if(!o)e=null}if(ze(null===r)){for(o=!1,l=me(Ze,null,n),s=0;s<Ne(l);s++){var _;if(ze(null!==(_=qr(l,s)))){r=_.pos_end;o=!0;break}}if(!o)r=null}return ar([e,r])},Jn=ve("LatexNodesVisitor",[ge],{__module__:An,get visit(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}}))},get visit_chars_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i;me((i=e).visit,i,r)}))},get visit_group_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i;me((i=e).visit,i,r)}))},get visit_comment_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i;me((i=e).visit,i,r)}))},get visit_macro_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i;me((i=e).visit,i,r)}))},get visit_environment_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i;me((i=e).visit,i,r)}))},get visit_specials_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i;me((i=e).visit,i,r)}))},get visit_math_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i;me((i=e).visit,i,r)}))},get visit_node_list(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"nodes":r=t[a]}}}var i;me((i=e).visit,i,r)}))},get visit_parsed_arguments(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsed_args":r=t[a]}}}var i;me((i=e).visit,i,r)}))},get visit_unknown_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i;me((i=e).visit,i,r)}))},get start(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i;me((i=r).accept_node_visitor,i,e)}))}}),et=[Fn,Un,Bn,Gn,Wn,Vn,$n,Qn],rt=Or(function(){for(var e=[],r=et,n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,t.__name__)}return e}(),["LatexNodeList","LatexNodesVisitor"]),nt={};fe(nt,"",pn);var tt="pylatexenc.latexnodes._parsedargsinfo",at=or,it=me(nt.getLogger,nt,tt),ot=ve("SingleParsedArgumentInfo",[ge],{__module__:tt,get __init__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"argument_node_object":r=t[a]}}}me(me(ye,null,ot,"__init__"),null,e),e.argument_node_object=r}))},get was_provided(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return null!==e.argument_node_object}))},get get_content_nodelist(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=e.argument_node_object;if(ze(null===i))e.nodelist=me(Xn,null,[null]);else{if(ze(me(Ae,null,i,Xn)))return i;if(ze(me((a=i).isNodeType,a,Bn)))return i.nodelist}return me(Xn,null,[i])}))},get get_content_as_chars(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=me((a=e).get_content_nodelist,a);return function(){var e=i;return me(e.get_content_as_chars,e)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="{}(argument_node_object={!r})").format,a,e.__class__.__name__,e.argument_node_object);var a}))},get __eq__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}return ze(ze(null===e.argument_node_object)&&null===r.argument_node_object)||Lr(e.argument_node_object,r.argument_node_object)}))}}),lt=ve("ParsedArgumentsInfo",[ge],{__module__:tt,get __init__(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsed_arguments":r=a[i];break;case"node":n=a[i]}}}var o;me(me(ye,null,lt,"__init__"),null,e),e.parsed_arguments=r,e.node=n,ze(null!==e.node)?(e.node_pos=e.node.pos,ze(ze(null===e.parsed_arguments)&&me(Ce,null,e.node,"nodeargd"))?e.parsed_arguments=e.node.nodeargd:e.parsed_arguments=null):e.node_pos=null,ze(ze(null===e.parsed_arguments)&&null===e.node)&&me((o=it).warning,o,"You created ParsedArgumentsInfo with both node=None and parsed_arguments=None, might be a bug in your code?")}))},get get_argument_info(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"arg":r=t[a]}}}var i;if(ze(null===e.parsed_arguments))throw(o=me(En,null,"Cannot get argument information, there were no arguments specified",we({pos:e.node_pos}))).__cause__=null,o;if(ze(me(Ae,null,p=r,at))){for(var o,l=p,s=!1,_=me(rr,null,e.parsed_arguments.arguments_spec_list),u=0;u<Ne(_);u++){var c=qr(_,u),f=c[0],d=c[1];if(ze(Lr(d.argname,l))){var p=f;s=!0;break}}if(!s)throw(o=me(En,null,me((i="Cannot find argument named {}").format,i,l),we({pos:e.node_pos}))).__cause__=null,o}return me(ot,null,qr(e.parsed_arguments.argnlist,p))}))},get get_all_arguments_info(){return de(this,(function(e,r,n,t,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"args":r=o[l];break;case"allow_additional_arguments":n=o[l];break;case"skip_nonexistent_arguments":t=o[l];break;case"return_argnames_only":a=o[l]}}}if(ze(null===e.parsed_arguments)){if(ze(t))return yr({});var s="Missing arguments";if(ze(null!==e.node))s=me((_="Missing arguments to {!r}").format,_,e.node);throw(k=me(En,null,s,e.node_pos)).__cause__=null,k}for(var _,u=yr({}),c=me(ir,null),f=me(ir,null),d=me(rr,null,e.parsed_arguments.arguments_spec_list),p=0;p<Ne(d);p++){var h=qr(d,p),g=h[0],v=h[1],m=qr(e.parsed_arguments.argnlist,g),w=!1,y=null;if(ze(null!==r)){if(ze(Le(v.argname,r))){w=!0,y=v.argname;!function(){var e=c;me(e.add,e,v.argname)}()}else if(ze(Le(g,r))){w=!0,y=g;!function(){var e=f;me(e.add,e,g)}()}}else w=!0;if(ze(!ze(w))){if(ze(!ze(n))){var k=me(En,null,function(){var e="Got unexpected argument {}";return me(e.format,e,v.argname)}(),we({pos:ze(null!==m)?m.pos:null}));throw k.__cause__=null,k}}else{var b=me(ot,null,m);ze(ze(!ze(a))&&null!==y)?Fr(u,y,b):ze(v.argname)?Fr(u,v.argname,b):Fr(u,g,b)}}if(ze(ze(!ze(t))&&null!==r))for(d=r,p=0;p<Ne(d);p++){var x=qr(d,p);if(ze(ze(!Le(x,c))&&!Le(x,f))){k=me($r,null,function(){var e="Missing argument {}";return me(e.format,e,ze(me(Ae,null,x,at))?Or(Or("",x),""):me(or,null,x))}());throw k.__cause__=null,k}}return u}))}}),st=ve("LatexContextDbBase",[ge],{__module__:"pylatexenc.latexnodes._latexcontextdbbase",get get_macro_spec(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"macroname":r=t[a]}}}return null}))},get get_environment_spec(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"environmentname":r=t[a]}}}return null}))},get get_specials_spec(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"specials_chars":r=t[a]}}}return null}))},get test_for_specials(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"s":r=i[o];break;case"pos":n=i[o];break;case"parsing_state":t=i[o]}}}return null}))}}),_t={};fe(_t,"",pn);var ut="pylatexenc.latexnodes._parsingstatedelta",ct=(me(_t.getLogger,_t,ut),ve("ParsingStateDelta",[ge],{__module__:ut,get __init__(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"set_attributes":r=i[o];break;case"_fields":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,ct,"__init__"),null,e,we(t)),e.set_attributes=ze(r)?me(yr,null,r):null,e._fields=ze(null!==n)?n:ar(["set_attributes"])}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Or(Or(Or(e.__class__.__name__,"("),me(", ".join,", ",function(){for(var r,n=[],t=e._fields,a=0;a<Ne(t);a++){var i=qr(t,a);r=void 0,me(n.append,n,me((r="{}={!r}").format,r,i,me(Ee,null,e,i,"<??>")))}return n}())),")")}))},get get_updated_parsing_state(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":r=a[i];break;case"latex_walker":n=a[i]}}}return ze(e.set_attributes)?me((o=r).sub_context,o,we(e.set_attributes)):r;var o}))}})),ft=ve("ParsingStateDeltaReplaceParsingState",[ct],{__module__:ut,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"set_parsing_state":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}me(me(ye,null,ft,"__init__"),null,e,we(Pe({_fields:ar(["set_parsing_state"])},n))),e.set_parsing_state=r}))},get get_updated_parsing_state(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":r=a[i];break;case"latex_walker":n=a[i]}}}return ze(null!==e.set_parsing_state)?e.set_parsing_state:r}))}}),dt=ve("ParsingStateDeltaWalkerEvent",[ct],{__module__:ut,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"walker_event_name":r=a[i];break;case"walker_event_kwargs":n=a[i]}}}me(me(ye,null,dt,"__init__"),null,e,we({_fields:ar(["walker_event_name","walker_event_kwargs"])})),e.walker_event_name=r,e.walker_event_kwargs=n}))},get get_updated_parsing_state(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":r=a[i];break;case"latex_walker":n=a[i]}}}var o,l=me((o=n).parsing_state_event_handler,o),s=me(Ee,null,l,e.walker_event_name),_=me(s,null,we(e.walker_event_kwargs));return me(gt,null,r,_,n)}))}}),pt=ve("ParsingStateDeltaEnterMathMode",[dt],{__module__:ut,get __init__(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"math_mode_delimiter":r=a[i];break;case"trigger_token":n=a[i]}}}me(me(ye,null,pt,"__init__"),null,e,we({walker_event_name:"enter_math_mode",walker_event_kwargs:me(yr,null,we({math_mode_delimiter:r,trigger_token:n}))}))}))}}),ht=ve("ParsingStateDeltaLeaveMathMode",[dt],{__module__:ut,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"trigger_token":r=t[a]}}}me(me(ye,null,ht,"__init__"),null,e,we({walker_event_name:"leave_math_mode",walker_event_kwargs:me(yr,null,we({trigger_token:r}))}))}))}}),gt=function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"parsing_state":e=a[i];break;case"parsing_state_delta":r=a[i];break;case"latex_walker":n=a[i]}}}return ze(null===r)?e:me((o=r).get_updated_parsing_state,o,e,n);var o},vt="pylatexenc.latexnodes._walkerbase",mt=ve("LatexWalkerParsingStateEventHandler",[ge],{__module__:vt,get enter_math_mode(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"math_mode_delimiter":r=a[i];break;case"trigger_token":n=a[i]}}}return me(ct,null,we({set_attributes:me(yr,null,we({in_math_mode:!0,math_mode_delimiter:r}))}))}))},get leave_math_mode(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"trigger_token":r=t[a]}}}return me(ct,null,we({set_attributes:me(yr,null,we({in_math_mode:!1,math_mode_delimiter:null}))}))}))}}),wt=me(mt,null),yt=ve("LatexWalkerBase",[ge],{__module__:vt,get parsing_state_event_handler(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return wt}))},get parse_content(){return de(this,(function(e,r,n,t,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;var i=yr();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"parser":r=l[s];break;case"token_reader":n=l[s];break;case"parsing_state":t=l[s];break;case"open_context":a=l[s];break;default:i[s]=l[s]}delete i.__kwargtrans__}}var _=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement parse_content()");throw _.__cause__=null,_}))},get make_node(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node_class":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}var o=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement make_node()");throw o.__cause__=null,o}))},get make_nodelist(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}var o=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement make_nodelist()");throw o.__cause__=null,o}))},get make_nodes_collector(){return de(this,(function(e,r,n){var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token_reader":r=i[o];break;case"parsing_state":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}var l=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement make_nodes_collector()");throw l.__cause__=null,l}))},get make_latex_group_parser(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"delimiters":r=t[a]}}}var i=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement make_latex_group_parser()");throw i.__cause__=null,i}))},get make_latex_math_parser(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"math_mode_delimiters":r=t[a]}}}var i=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement make_latex_math_parser()");throw i.__cause__=null,i}))},get check_tolerant_parsing_ignore_error(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"exc":r=t[a]}}}return r}))},get format_node_pos(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}return Or("character position ",me(Fe,null,r.pos))}))}}),kt=ve("CallableSpecBase",[ge],{__module__:"pylatexenc.latexnodes._callablespecbase",get get_node_parser(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token":r=t[a]}}}var i=me(RuntimeError,null,"Subclasses must reimplement get_node_parser()");throw i.__cause__=null,i}))}}),bt=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("x"===t)e=n[t]}}return e},xt=ve("LatexToken",[ge],{__module__:"pylatexenc.latexnodes._token",get __init__(){return de(this,(function(e,r,n,t,a,i,o){if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i="";if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o="";var l=yr();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var _=arguments[s--];for(var u in _)switch(u){case"self":e=_[u];break;case"tok":r=_[u];break;case"arg":n=_[u];break;case"pos":t=_[u];break;case"pos_end":a=_[u];break;case"pre_space":i=_[u];break;case"post_space":o=_[u];break;default:l[u]=_[u]}delete l.__kwargtrans__}}var c,f=me((c=l).py_pop,c,"len",null);if(e.tok=r,e.arg=n,e.pos=t,e.pos_end=a,e.pre_space=i,e.post_space=o,ze(ze(null===a)&&ze(null!==f)&&null!==t)&&(e.pos_end=Or(t,f)),ze(l)){var d=me($r,null,Or("Unexpected arguments to LatexToken(): ",me(Fe,null,l)));throw d.__cause__=null,d}e._fields=["tok","arg","pos","pos_end","pre_space"],ze(Le(e.tok,ar(["macro","comment"])))&&function(){var r=e._fields;me(r.append,r,"post_space")}(),me(me(ye,null,xt,"__init__"),null,e)}))},get _get_len(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(ze(null===e.pos)||null===e.pos_end)?null:Sr(e.pos_end,e.pos)}))},get __unicode__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(bt,null,me((a=e).__str__,a));var a}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Or(Or("LatexToken(",me(", ".join,", ",function(){for(var r,n=[],t=e._fields,a=0;a<Ne(t);a++){var i=qr(t,a);r=void 0,me(n.append,n,me((r="{}={!r}").format,r,i,me(Ee,null,e,i)))}return n}())),")")}))},get __str__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a=e).__repr__,a);var a}))},get __eq__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}return me(er,null,function(){for(var n=[],t=e._fields,a=0;a<Ne(t);a++){var i=qr(t,a);me(n.append,n,ze(ze(null===me(Ee,null,e,i))&&null===me(Ee,null,r,i))||Lr(me(Ee,null,e,i),me(Ee,null,r,i)))}return $e(n)}())}))},__hash__:null});Object.defineProperty(xt,"len",ke.call(xt,xt._get_len));var Pt={};fe(Pt,"",pn);var Ot="pylatexenc.latexnodes._tokenreaderbase",St=(me(Pt.getLogger,Pt,Ot),ve("LatexTokenReaderBase",[ge],{__module__:Ot,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}me(me(ye,null,St,"__init__"),null,e,we(r))}))},get make_token(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}return me(xt,null,we(r))}))},get move_to_token(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":r=a[i];break;case"rewind_pre_space":n=a[i]}}}var o=me(RuntimeError,null,"LatexTokenReaderBase subclasses must reimplement rewind_to_token()");throw o.__cause__=null,o}))},get move_past_token(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":r=a[i];break;case"fastforward_post_space":n=a[i]}}}var o=me(RuntimeError,null,"LatexTokenReaderBase subclasses must reimplement move_past_token()");throw o.__cause__=null,o}))},get peek_token(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}var i=me(RuntimeError,null,"LatexTokenReaderBase subclasses must reimplement peek_token()");throw i.__cause__=null,i}))},get peek_token_or_none(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}try{return me((i=e).peek_token,i,we({parsing_state:r}))}catch(e){if(Ae(e,zn))return null;throw e}var i}))},get next_token(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}var i,o=me((i=e).peek_token,i,we({parsing_state:r}));return function(){var r=e;me(r.move_past_token,r,o)}(),o}))},get cur_pos(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a=me(RuntimeError,null,"LatexTokenReaderBase subclasses must reimplement cur_pos()");throw a.__cause__=null,a}))},get peek_space_chars(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}var i=me(RuntimeError,null,"This token reader does not support character-level access");throw i.__cause__=null,i}))},get skip_space_chars(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}var i=me(RuntimeError,null,"This token reader does not support character-level access");throw i.__cause__=null,i}))},get peek_chars(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"num_chars":r=a[i];break;case"parsing_state":n=a[i]}}}var o=me(RuntimeError,null,"This token reader does not support character-level access");throw o.__cause__=null,o}))},get next_chars(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"num_chars":r=a[i];break;case"parsing_state":n=a[i]}}}var o=me(RuntimeError,null,"This token reader does not support character-level access");throw o.__cause__=null,o}))},get move_to_pos_chars(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"pos":r=t[a]}}}var i=me(RuntimeError,null,"This token reader does not support character-level access");throw i.__cause__=null,i}))}})),Et=ve("LatexTokenListTokenReader",[St],{__module__:Ot,get __init__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token_list":r=t[a]}}}me(me(ye,null,Et,"__init__"),null,e),e.token_list=r,e._idx=0}))},get peek_token(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}if(ze(Mr(e._idx,me(Ne,null,e.token_list)))){var i=me(zn,null);throw i.__cause__=null,i}return qr(e.token_list,e._idx)}))},get next_token(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}var i,o=me((i=e).peek_token,i,r);return e._idx=me(Rr,null,e._idx,1),o}))},get _find_tok_idx(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":r=a[i];break;case"methname":n=a[i]}}}try{var o=me(Qe,null,function(){for(var n=[],t=me(rr,null,e.token_list),a=0;a<Ne(t);a++){var i=qr(t,a),o=i[0];ze(i[1]===r)&&me(n.append,n,o)}return $e(n)}())}catch(e){if(Ae(e,Hr)){var l=me(Zr,null,me((s="{}({!r}): no such token in list").format,s,n,r));throw l.__cause__=null,l}throw e}var s;return o}))},get move_to_token(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":r=a[i];break;case"rewind_pre_space":n=a[i]}}}var o;e._idx=me((o=e)._find_tok_idx,o,r,"move_to_token")}))},get move_past_token(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":r=a[i];break;case"fastforward_post_space":n=a[i]}}}var o;e._idx=Or(me((o=e)._find_tok_idx,o,r,"move_past_token"),1)}))},get cur_pos(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return(a=e,me(a.peek_token,a,null)).pos;var a}))},get final_pos(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return qr(e.token_list,Sr(me(Ne,null,e.token_list),1)).pos_end}))}}),Ct={};e(Ct,"T",(function(){return Bt})),e(Ct,"TEMPLATE",(function(){return Gt})),e(Ct,"I",(function(){return Wt})),e(Ct,"IGNORECASE",(function(){return Vt})),e(Ct,"L",(function(){return Ht})),e(Ct,"LOCALE",(function(){return $t})),e(Ct,"M",(function(){return Qt})),e(Ct,"MULTILINE",(function(){return Yt})),e(Ct,"S",(function(){return Xt})),e(Ct,"DOTALL",(function(){return Zt})),e(Ct,"U",(function(){return Kt})),e(Ct,"UNICODE",(function(){return Jt})),e(Ct,"X",(function(){return ea})),e(Ct,"VERBOSE",(function(){return ra})),e(Ct,"DEBUG",(function(){return na})),e(Ct,"A",(function(){return ta})),e(Ct,"ASCII",(function(){return aa})),e(Ct,"Y",(function(){return ia})),e(Ct,"STICKY",(function(){return oa})),e(Ct,"G",(function(){return la})),e(Ct,"GLOBAL",(function(){return sa})),e(Ct,"J",(function(){return _a})),e(Ct,"JSSTRICT",(function(){return ua})),e(Ct,"error",(function(){return ca})),e(Ct,"ReIndexError",(function(){return fa})),e(Ct,"Match",(function(){return da})),e(Ct,"compile",(function(){return ga})),e(Ct,"escape",(function(){return Oa})),e(Ct,"Regex",(function(){return pa})),e(Ct,"PyRegExp",(function(){return ha})),e(Ct,"search",(function(){return va})),e(Ct,"match",(function(){return ma})),e(Ct,"fullmatch",(function(){return wa})),e(Ct,"py_split",(function(){return ya})),e(Ct,"findall",(function(){return ka})),e(Ct,"finditer",(function(){return ba})),e(Ct,"sub",(function(){return xa})),e(Ct,"subn",(function(){return Pa})),e(Ct,"purge",(function(){return Sa})),e(Ct,"translate",(function(){return Ft}));var Lt={};fe(Lt,"",Ct);var jt="re.translate",Nt="aiLmsux",zt=ve("Group",[ge],{__module__:jt,get __init__(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"start":r=i[o];break;case"end":n=i[o];break;case"klass":t=i[o]}}}e.start=r,e.end=n,e.klass=t}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(or,null,ar([e.start,e.end,e.klass]))}))}}),Tt=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("tokens"===t)e=n[t]}}for(var a,i=[],o=0,l=e,s=0;s<Ne(l);s++){var _=qr(l,s);if(ze((a=void 0,me((a=_.py_name).startswith,a,"("))))!function(){var e=i;me(e.append,e,me(zt,null,o,null,_.py_name))}();else if(ze(Lr(_.py_name,")")))for(var u=me(Ze,null,i),c=0;c<Ne(u);c++){var f=qr(u,c);ze(null===f.end)&&(f.end=o)}o=me(Rr,null,o,1)}return i},Mt=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("tokens"===t)e=n[t]}}me(Tt,null,e);for(var a=0,i=e,o=0;o<Ne(i);o++){var l=qr(i,o);if(ze(Lr(l.py_name,"(")))a=me(Rr,null,a,1)}return a},It=function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"groupInfo":e=a[i];break;case"namedGroups":r=a[i];break;case"groupRef":n=a[i]}}}try{var o=me(Me,null,n)}catch(e){o=qr(r,n)}for(var l=0,s=e,_=0;_<Ne(s);_++){var u=qr(s,_);if(ze(Lr(u.klass,"(")))if(ze(Lr(l=me(Rr,null,l,1),o)))return u}},Rt=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"tokens":e=t[a];break;case"namedGroups":r=t[a]}}}for(var i,o=[],l=me(Tt,null,e),s=l,_=0;_<Ne(s);_++){var u=qr(s,_);if(ze(Lr(u.klass,"(?<"))){var c=Ur(e,0,null,1),f=Ur(e,0,null,1),d=u.start,p=u.end,h=qr(e,Or(d,1)).py_name,g=me(It,null,l,r,h),v=qr(e,Or(g.end,1));if(ze(ze(Le(v.py_name,["?","*"]))||(i=void 0,me((i=v.py_name).startswith,i,"{0,")))){ze(Lr(v.py_name,"?"))?Fr(c,Or(g.end,1),null):ze(Lr(v.py_name,"*"))?Fr(c,Or(g.end,1),me(Dt,null,"+")):ze(function(){var e=v.py_name;return me(e.startswith,e,"{0,")}())&&Br(qr(c,Or(g.end,1)).py_name,0,3,null,"{1,"),Fr(f,Or(g.end,1),null);for(var m=!1,w=d;w<p;w++)if(ze(Lr(qr(e,w).py_name,"|"))){m=!0;!function(){var e=f;me(e.py_pop,e,p)}(),Br(c,w,Or(p,1),null,[]),Br(f,d,Or(w,1),null,[]);break}ze(!ze(m))&&(Br(f,d,Or(p,1),null,[]),function(){var e=c;me(e.py_pop,e,p)}()),Br(c,d,Or(d,3),null,[]),Br(f,g.start,Or(g.end,1),null,[me(Dt,null,"("),me(Dt,null,")")]),function(){var e=c;me(e.remove,e,null)}(),function(){var e=f;me(e.remove,e,null)}(),function(){var e=o;me(e.append,e,c)}(),function(){var e=o;me(e.append,e,f)}()}else{for(w=d;w<p;w++)if(ze(Lr(qr(c,w).py_name,"|"))){c=Ur(e,0,w,1);!function(){var r=c;me(r.extend,r,Ur(e,Or(p,1),null,1))}();break}Br(c,d,Or(d,3),null,[]),function(){var e=o;me(e.append,e,c)}()}break}}if(ze(!ze(o)))return[e];var y=[];for(s=o,_=0;_<Ne(s);_++){var k=qr(s,_);!function(){var e=y;me(e.extend,e,me(Rt,null,k,r))}()}return y},Dt=ve("Token",[ge],{__module__:jt,get __init__(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"py_name":r=i[o];break;case"paras":n=i[o];break;case"pure":t=i[o]}}}if(ze(null===n))n=[];e.py_name=r,e.paras=n,e.pure=t,e.isModeGroup=!1}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e.py_name}))},get resolve(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}for(var a="",i=e.paras,o=0;o<Ne(i);o++){var l=qr(i,o);a=me(Rr,null,a,me(or,null,l))}return Or(e.py_name,a)}))}}),At=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"stack":e=t[a];break;case"queue":r=t[a]}}}var i,o=!ze(me(Ie,null,r));if(ze(!ze(o))){me((i=e).append,i,me(Dt,null,qr(r,0),[],!0));r=Ur(r,1,null,1)}return ar([e,r,o])},qt=function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"stack":e=i[o];break;case"queue":r=i[o];break;case"namedGroups":n=i[o];break;case"flags":t=i[o]}}}var l=!1,s=Sr(me(Ne,null,e),1);if(ze(Nr(me(Ne,null,e),2))){e=(v=me(At,null,e,r))[0],r=v[1],l=v[2];return ar([e,r,t,l])}var _,u,c=ze(Tr(me(Ne,null,e),0))?qr(e,s):me(Dt,null,""),f=ze(Tr(me(Ne,null,e),1))?qr(e,Sr(s,1)):me(Dt,null,"");if(ze(false)){for(var d=e,p=0;p<Ne(d);p++){var h=qr(d,p);_=void 0,u=void 0,me((u=console).log,u,me((_=h).resolve,_),"\t",we({end:""}))}!function(){var e=console;me(e.log,e,"")}()}if(ze(Lr(f.py_name,"\\")))ze(Lr(c.py_name,"A"))?Br(e,br(2),null,null,[me(Dt,null,"^")]):ze(Lr(c.py_name,"a"))?Br(e,br(2),null,null,[me(Dt,null,"\\07")]):ze(Lr(c.py_name,"Z"))?Br(e,br(2),null,null,[me(Dt,null,"$")]):Br(e,br(2),null,null,[me(Dt,null,Or("\\",c.py_name))]);else if(ze(ze(Lr(c.py_name,"$"))&&c.pure))!function(){var r=e;me(r.py_pop,r)}(),function(){var r=e;me(r.extend,r,[me(Dt,null,"(?="),me(Dt,null,"\\n"),me(Dt,null,"?"),me(Dt,null,"$"),me(Dt,null,")")])}();else if(ze(Lr(f.py_name,"{"))){ze(ze(Lr(c.py_name,","))&&Lr(me(Ne,null,f.paras),0))?(function(){var e=f.paras;me(e.append,e,"0")}(),function(){var e=f.paras;me(e.append,e,",")}()):ze(Lr(c.py_name,"}"))?(!function(){var e=f.paras;me(e.append,e,"}")}(),f.py_name=function(){var e=f;return me(e.resolve,e)}(),f.paras=[]):function(){var e=f.paras;me(e.append,e,c.py_name)}();e=Ur(e,0,br(1),1)}else if(ze(ze(Lr(f.py_name,"["))&&Lr(c.py_name,"^")))Br(e,br(2),null,null,[me(Dt,null,"[^")]);else if(ze(ze(Lr(f.py_name,"("))&&Lr(c.py_name,"?")))Br(e,br(2),null,null,[me(Dt,null,"(?")]);else if(ze(ze(Le(f.py_name,["*","+","?"]))&&Lr(c.py_name,"?")))Br(e,br(2),null,null,[me(Dt,null,Or(f.py_name,"?"))]);else if(ze(ze(f.isModeGroup)&&Lr(c.py_name,")")))e=Ur(e,0,br(2),1);else if(ze(Lr(f.py_name,"(?")))if(ze(Le(c.py_name,Nt))){if(ze(Lr(c.py_name,"i")))t=me(Ar,null,t,Lt.IGNORECASE);else if(ze(Lr(c.py_name,"L")))t=me(Ar,null,t,Lt.LOCALE);else if(ze(Lr(c.py_name,"m")))t=me(Ar,null,t,Lt.MULTILINE);else if(ze(Lr(c.py_name,"s")))t=me(Ar,null,t,Lt.DOTALL);else if(ze(Lr(c.py_name,"u")))t=me(Ar,null,t,Lt.UNICODE);else if(ze(Lr(c.py_name,"x")))t=me(Ar,null,t,Lt.VERBOSE);else if(ze(Lr(c.py_name,"a")))t=me(Ar,null,t,Lt.ASCII);!function(){var r=e;me(r.py_pop,r)}(),f.isModeGroup=!0}else{ze(Lr(c.py_name,"("))&&(c.py_name="<");var g=me(Dt,null,Or("(?",c.py_name));Br(e,br(2),null,null,[g])}else if(ze(Lr(f.py_name,"(?<")))ze(Lr(c.py_name,")"))?(Br(e,br(1),null,null,[me(Dt,null,me("".join,"",f.paras)),me(Dt,null,">")]),f.paras=[]):(function(){var e=f.paras;me(e.append,e,c.py_name)}(),function(){var r=e;me(r.py_pop,r)}());else if(ze(Lr(f.py_name,"(?P")))Br(e,br(2),null,null,[me(Dt,null,Or("(?P",c.py_name))]);else if(ze(Lr(f.py_name,"(?P<")))ze(Lr(c.py_name,">"))?(Fr(n,me("".join,"",f.paras),Or(me(Mt,null,e),1)),Br(e,br(2),null,null,[me(Dt,null,"(")])):(function(){var e=f.paras;me(e.append,e,c.py_name)}(),function(){var r=e;me(r.py_pop,r)}());else if(ze(Lr(f.py_name,"(?P=")))ze(Lr(c.py_name,")"))?Br(e,br(2),null,null,[me(Dt,null,Or("\\",me(or,null,qr(n,qr(f.paras,0)))))]):ze(!ze(f.paras))?(function(){var e=f.paras;me(e.append,e,c.py_name)}(),function(){var r=e;me(r.py_pop,r)}()):(Fr(f.paras,0,me(Rr,null,qr(f.paras,0),c.py_name)),function(){var r=e;me(r.py_pop,r)}());else if(ze(Lr(f.py_name,"(?#")))if(ze(Lr(c.py_name,")")))e=Ur(e,0,br(2),1);else e=Ur(e,0,br(1),1);else{var v;e=(v=me(At,null,e,r))[0],r=v[1],l=v[2]}return ar([e,r,t,l])},Ft=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("rgx"===t)e=n[t]}}for(var a=[],i=me(tr,null,e),o=0,l=me(yr,null),s=0;ze(!0);){if(ze(Tr(s=me(Rr,null,s,1),1e3))){var _=me(Wr,null,"Too many iterations in converting regex from Python to JavaScript");throw _.__cause__=null,_}var u=me(qt,null,a,i,l,o),c=(a=u[0],i=u[1],o=u[2],u[3]);if(ze(c))break}for(var f,d=me(Rt,null,a,l),p=me(Ne,null,d),h=[],g=0;g<me(Ne,null,d);g++)f=void 0,me((f=h).extend,f,qr(d,g)),ze(Nr(g,Sr(me(Ne,null,d),1)))&&function(){var e=h;me(e.append,e,me(Dt,null,"|"))}();me(Tt,null,a=h);for(var v=[],m=a,w=0;w<Ne(m);w++){var y=qr(m,w),k=function(){var e=y;return me(e.resolve,e)}();if(ze(ze(Cr(o,Lt.DOTALL))&&Lr(k,".")))k="[\\s\\S]";!function(){var e=v;me(e.append,e,k)}()}return ar([v,o,l,me(Mt,null,a),p])},Ut="re",Bt=Er(1,0),Gt=Bt,Wt=Er(1,1),Vt=Wt,Ht=Er(1,2),$t=Ht,Qt=Er(1,3),Yt=Qt,Xt=Er(1,4),Zt=Xt,Kt=Er(1,5),Jt=Kt,ea=Er(1,6),ra=ea,na=Er(1,7),ta=Er(1,8),aa=ta,ia=Er(1,16),oa=ia,la=Er(1,17),sa=la,_a=Er(1,19),ua=_a,ca=ve("error",[Wr],{__module__:Ut,get __init__(){return de(this,(function(e,r,n,t,a,i){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=0;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"msg":r=l[s];break;case"error":n=l[s];break;case"pattern":t=l[s];break;case"flags":a=l[s];break;case"pos":i=l[s]}}}var _;me((_=Wr).__init__,_,e,r,we({error:n})),e.pattern=t,e.flags=a,e.pos=i}))}}),fa=ve("ReIndexError",[Zr],{__module__:Ut,get __init__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a;me((a=Zr).__init__,a,e,"no such group")}))}}),da=ve("Match",[ge],{__module__:Ut,get __init__(){return de(this,(function(e,r,n,t,a,i,o){if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"mObj":r=s[_];break;case"string":n=s[_];break;case"pos":t=s[_];break;case"endpos":a=s[_];break;case"rObj":i=s[_];break;case"namedGroups":o=s[_]}}}for(var u,c=me(rr,null,r),f=0;f<Ne(c);f++){var d=qr(c,f),p=d[0];d[1];Fr(r,p,ze(Lr(qr(r,p),void 0))?null:qr(r,p))}e._obj=r,e._pos=t,e._endpos=a,e._re=i,e._string=n,e._namedGroups=o,e._lastindex=me((u=e)._lastMatchGroup,u),ze(null!==e._namedGroups)?e._lastgroup=qr(e._namedGroups,e._lastindex):e._lastgroup=null}))},get _getPos(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._pos}))},get _setPos(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"val":r=t[a]}}}var i=me(Kr,null,"readonly attribute");throw i.__cause__=null,i}))},get _getEndPos(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._endpos}))},get _setEndPos(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"val":r=t[a]}}}var i=me(Kr,null,"readonly attribute");throw i.__cause__=null,i}))},get _getRe(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._re}))},get _setRe(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"val":r=t[a]}}}var i=me(Kr,null,"readonly attribute");throw i.__cause__=null,i}))},get _getString(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._string}))},get _setString(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"val":r=t[a]}}}var i=me(Kr,null,"readonly attribute");throw i.__cause__=null,i}))},get _getLastGroup(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._lastgroup}))},get _setLastGroup(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"val":r=t[a]}}}var i=me(Kr,null,"readonly attribute");throw i.__cause__=null,i}))},get _getLastIndex(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._lastindex}))},get _setLastIndex(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"val":r=t[a]}}}var i=me(Kr,null,"readonly attribute");throw i.__cause__=null,i}))},get _lastMatchGroup(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}if(ze(Tr(me(Ne,null,e._obj),1))){for(var a=Sr(me(Ne,null,e._obj),1);a>0;a--)if(ze(null!==qr(e._obj,a)))return a;return null}return null}))},get expand(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"template":r=t[a]}}}var i=me(Xr,null);throw i.__cause__=null,i}))},get group(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}var a=ar([].slice.apply(arguments).slice(1,r+1))}else a=ar();var i,o=[];if(ze(Tr(me(Ne,null,a),0)))for(var l=a,s=0;s<Ne(l);s++){var _=qr(l,s);if(ze(Re(_)===or)){if(!ze(null!==e._namedGroups))throw(u=me(Xr,null,"No NamedGroups Available")).__cause__=null,u;if(ze(!Le(_,(i=void 0,i=e._namedGroups,me(i.py_keys,i)))))throw(u=me(fa,null)).__cause__=null,u;!function(){var r=o;me(r.append,r,qr(e._obj,qr(e._namedGroups,_)))}()}else{var u;if(ze(Mr(_,me(Ne,null,e._obj))))throw(u=me(fa,null)).__cause__=null,u;!function(){var r=o;me(r.append,r,qr(e._obj,_))}()}}else!function(){var r=o;me(r.append,r,qr(e._obj,0))}();return ze(Lr(me(Ne,null,o),1))?qr(o,0):me(ar,null,o)}))},get groups(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"py_default":r=t[a]}}}if(ze(Tr(me(Ne,null,e._obj),1))){var i=Ur(e._obj,1,null,1);return me(ar,null,function(){for(var e=[],n=i,t=0;t<Ne(n);t++){var a=qr(n,t);me(e.append,e,ze(null!==a)?a:r)}return e}())}return me(ar,null)}))},get groupdict(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"py_default":r=t[a]}}}if(ze(null!==e._namedGroups)){for(var i=yr({}),o=me((f=e._namedGroups).py_items,f),l=0;l<Ne(o);l++){var s=qr(o,l),_=s[0],u=s[1],c=qr(e._obj,u);Fr(i,_,ze(null!==c)?c:r)}return i}var f,d=me(Xr,null,"No NamedGroups Available");throw d.__cause__=null,d}))},get start(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"group":r=t[a]}}}var i,o=0;if(ze(Re(r)===or)){if(!ze(null!==e._namedGroups))throw(l=me(Xr,null,"No NamedGroups Available")).__cause__=null,l;if(ze(!Le(r,(i=e._namedGroups,me(i.py_keys,i)))))throw(l=me(fa,null)).__cause__=null,l;o=qr(e._namedGroups,r)}else o=r;if(ze(Mr(o,me(Ne,null,e._obj))))throw(l=me(fa,null)).__cause__=null,l;if(ze(Lr(o,0)))return e._obj.index;if(ze(null!==qr(e._obj,o))){var l,s=me(ga,null,me(Oa,null,qr(e._obj,o)),e._re.flags),_=function(){var r=s;return me(r.search,r,qr(e._obj,0))}();if(ze(_))return Or(e._obj.index,function(){var e=_;return me(e.start,e)}());throw(l=me(Wr,null,"Failed to find capture group")).__cause__=null,l}return br(1)}))},get end(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"group":r=t[a]}}}var i,o=0;if(ze(Re(r)===or)){if(!ze(null!==e._namedGroups))throw(l=me(Xr,null,"No NamedGroups Available")).__cause__=null,l;if(ze(!Le(r,(i=e._namedGroups,me(i.py_keys,i)))))throw(l=me(fa,null)).__cause__=null,l;o=qr(e._namedGroups,r)}else o=r;if(ze(Mr(o,me(Ne,null,e._obj))))throw(l=me(fa,null)).__cause__=null,l;if(ze(Lr(o,0)))return Or(e._obj.index,me(Ne,null,qr(e._obj,0)));if(ze(null!==qr(e._obj,o))){var l,s=me(ga,null,me(Oa,null,qr(e._obj,o)),e._re.flags),_=function(){var r=s;return me(r.search,r,qr(e._obj,0))}();if(ze(_))return Or(e._obj.index,function(){var e=_;return me(e.end,e)}());throw(l=me(Wr,null,"Failed to find capture group")).__cause__=null,l}return br(1)}))},get span(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"group":r=t[a]}}}return ar([(i=e,me(i.start,i,r)),function(){var n=e;return me(n.end,n,r)}()]);var i}))}});Object.defineProperty(da,"pos",ke.call(da,da._getPos,da._setPos)),Object.defineProperty(da,"endpos",ke.call(da,da._getEndPos,da._setEndPos)),Object.defineProperty(da,"re",ke.call(da,da._getRe,da._setRe)),Object.defineProperty(da,"string",ke.call(da,da._getString,da._setString)),Object.defineProperty(da,"lastgroup",ke.call(da,da._getLastGroup,da._setLastGroup)),Object.defineProperty(da,"lastindex",ke.call(da,da._getLastIndex,da._setLastIndex));var pa=ve("Regex",[ge],{__module__:Ut,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"pattern":r=a[i];break;case"flags":n=a[i]}}}if(ze(!ze(Tr(Cr(n,aa),0))))n=me(Ar,null,n,Jt);e._flags=n;var o,l=me((o=e)._compileWrapper,o,r,n);e._jsFlags=l[0],e._obj=l[1],e._jspattern=r,e._pypattern=r;l=function(){var t=e;return me(t._compileWrapper,t,Or(r,"|"),n)}(),l[0];var s=l[1];e._groups=Sr(function(){var e=s;return me(e.exec,e,"")}().length,1),e._groupindex=null}))},get _getPattern(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=me((a=e._pypattern).py_replace,a,"\\","\\\\");return i}))},get _setPattern(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"val":r=t[a]}}}var i=me(Kr,null,"readonly attribute");throw i.__cause__=null,i}))},get _getFlags(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._flags}))},get _setFlags(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"val":r=t[a]}}}var i=me(Kr,null,"readonly attribute");throw i.__cause__=null,i}))},get _getGroups(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._groups}))},get _setGroups(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"val":r=t[a]}}}var i=me(Kr,null,"readonly attribute");throw i.__cause__=null,i}))},get _getGroupIndex(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(null===e._groupindex)?yr({}):e._groupindex}))},get _setGroupIndex(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"val":r=t[a]}}}var i=me(Kr,null,"readonly attribute");throw i.__cause__=null,i}))},get _compileWrapper(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"pattern":r=a[i];break;case"flags":n=a[i]}}}var o,l=me((o=e)._convertFlags,o,n),s=null,_=null;try{s=new RegExp(r,l)}catch(e){_=e}if(ze(null!==_)){var u=me(ca,null,_.message,_,r,n);throw u.__cause__=null,u}return ar([l,s])}))},get _convertFlags(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"flags":r=t[a]}}}var i=[ar([na,""]),ar([Vt,"i"]),ar([Yt,"m"]),ar([oa,"y"]),ar([sa,"g"]),ar([Jt,"u"])],o=me("".join,"",function(){for(var e=[],n=i,t=0;t<Ne(n);t++){var a=qr(n,t);ze(Tr(Cr(qr(a,0),r),0))&&me(e.append,e,qr(a,1))}return e}());return o}))},get _getTargetStr(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":r=i[o];break;case"pos":n=i[o];break;case"endpos":t=i[o]}}}var l=me(Ne,null,r);if(ze(null!==t)&&ze(Nr(t,l)))l=t;if(ze(Nr(l,0)))l=0;var s=Ur(r,n,l,1);return s}))},get _patternHasCaptures(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Tr(e._groups,0)}))},get search(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":r=i[o];break;case"pos":n=i[o];break;case"endpos":t=i[o]}}}if(ze(null===t))t=me(Ne,null,r);var l,s=e._obj,_=me((l=s).exec,l,r);return ze(_)?ze(ze(Nr(_.index,n))||Tr(_.index,t))?null:me(da,null,_,r,n,t,e,e._groupindex):null}))},get match(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":r=i[o];break;case"pos":n=i[o];break;case"endpos":t=i[o]}}}var l=r;if(ze(null!==t))l=Ur(l,0,t,1);else t=me(Ne,null,r);var s,_=e._obj,u=me((s=_).exec,s,l);return ze(u)&&ze(Lr(u.index,n))?me(da,null,u,r,n,t,e,e._groupindex):null}))},get fullmatch(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":r=i[o];break;case"pos":n=i[o];break;case"endpos":t=i[o]}}}var l=r,s=me(Ne,null,r);if(ze(null!==t))l=Ur(l,0,t,1),s=t;var _,u=e._obj,c=me((_=u).exec,_,l);if(ze(c)){var f=Or(c.index,me(Ne,null,qr(c,0)));return ze(ze(Lr(c.index,n))&&Lr(f,s))?me(da,null,c,r,n,s,e,e._groupindex):null}return null}))},get py_split(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"string":r=a[i];break;case"maxsplit":n=a[i]}}}if(ze(Nr(n,0)))return[r];var o,l=e._obj;if(ze(Lr(n,0)))return me((o=r).py_split,o,l);for(var s=me(Ar,null,s=e._flags,sa),_=function(){var r=e;return me(r._compileWrapper,r,e._jspattern,s)}(),u=(_[0],l=_[1],[]),c=null,f=0,d=0;d<n;d++){var p=function(){var e=l;return me(e.exec,e,r)}();if(!ze(p))break;f=me(Rr,null,f,1);if(ze(null!==c)){var h=Or(c.index,me(Ne,null,qr(c,0))),g=Ur(r,h,p.index,1);!function(){var e=u;me(e.append,e,g)}(),ze(Tr(me(Ne,null,p),1))&&function(){var e=u;me(e.extend,e,Ur(p,1,null,1))}()}else{g=Ur(r,0,p.index,1);!function(){var e=u;me(e.append,e,g)}(),ze(Tr(me(Ne,null,p),1))&&function(){var e=u;me(e.extend,e,Ur(p,1,null,1))}()}c=p}if(ze(null!==c)){var v=Or(c.index,me(Ne,null,qr(c,0))),m=Ur(r,v,null,1);!function(){var e=u;me(e.append,e,m)}()}return u}))},get _findAllMatches(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":r=i[o];break;case"pos":n=i[o];break;case"endpos":t=i[o]}}}for(var l,s=me((l=e)._getTargetStr,l,r,n,t),_=me(Ar,null,_=e._flags,sa),u=function(){var r=e;return me(r._compileWrapper,r,e._jspattern,_)}(),c=(u[0],u[1]),f=[];ze(!0);){var d=function(){var e=c;return me(e.exec,e,s)}();if(!ze(d))break;!function(){var e=f;me(e.append,e,d)}()}return f}))},get findall(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":r=i[o];break;case"pos":n=i[o];break;case"endpos":t=i[o]}}}var l,s=me((l=e)._findAllMatches,l,r,n,t),_=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("m"===t)e=n[t]}}return ze(Tr(me(Ne,null,e),2))?me(ar,null,Ur(e,1,null,1)):ze(Lr(me(Ne,null,e),2))?qr(e,1):qr(e,0)},u=me(tn,null,_,s);return u}))},get finditer(){return de(this,(function(e,r,n,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":r=i[o];break;case"pos":n=i[o];break;case"endpos":t=i[o]}}}var l,s=me((l=e)._findAllMatches,l,r,n,t),_=me(tn,null,(function(n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)if("m"===i)n=a[i]}}return me(da,null,n,r,0,me(Ne,null,r),e,e._groupindex)}),s);return me($e,null,_)}))},get sub(){return de(this,(function(e,r,n,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"repl":r=i[o];break;case"string":n=i[o];break;case"count":t=i[o]}}}var l,s=me((l=e).subn,l,r,n,t),_=s[0];s[1];return _}))},get subn(){return de(this,(function(e,r,n,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"repl":r=i[o];break;case"string":n=i[o];break;case"count":t=i[o]}}}for(var l,s=me(Ar,null,s=e._flags,sa),_=me((l=e)._compileWrapper,l,e._jspattern,s),u=(_[0],_[1]),c="",f=0,d=br(1);ze(!0);){if(ze(Tr(t,0)))if(ze(Mr(f,t)))return ze(Nr(d,0))?ar([c,f]):ar([c=me(Rr,null,c,Ur(n,d,p.index,1)),f]);var p=function(){var e=u;return me(e.exec,e,n)}();if(!ze(p))return ze(Nr(d,0))?ar([n,0]):ar([c=me(Rr,null,c,Ur(n,d,null,1)),f]);if(ze(Nr(d,0)))var c=me(Rr,null,c,Ur(n,0,p.index,1));else c=me(Rr,null,c,Ur(n,d,p.index,1));if(ze(me(qe,null,r))){var h=me(r,null,me(da,null,p,n,0,me(Ne,null,n),e,e._groupindex));c=me(Rr,null,c,h)}else c=me(Rr,null,c,r);f=me(Rr,null,f,1),d=Or(p.index,me(Ne,null,qr(p,0)))}}))}});Object.defineProperty(pa,"pattern",ke.call(pa,pa._getPattern,pa._setPattern)),Object.defineProperty(pa,"flags",ke.call(pa,pa._getFlags,pa._setFlags)),Object.defineProperty(pa,"groups",ke.call(pa,pa._getGroups,pa._setGroups)),Object.defineProperty(pa,"groupindex",ke.call(pa,pa._getGroupIndex,pa._setGroupIndex));var ha=ve("PyRegExp",[pa],{__module__:Ut,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"pyPattern":r=a[i];break;case"flags":n=a[i]}}}var o,l=me(Ft,null,r),s=l[0],_=l[1],u=l[2],c=l[3],f=l[4],d=(n=me(Ar,null,n,_),me("".join,"",s));me((o=pa).__init__,o,e,d,n),e._pypattern=r,e._nsplits=f,e._jsTokens=s,e._capgroups=c,e._groupindex=u}))}}),ga=function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"pattern":e=t[a];break;case"flags":r=t[a]}}}if(ze(Cr(r,ua)))var i=me(pa,null,e,r);else i=me(ha,null,e,r);return i},va=function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"pattern":e=a[i];break;case"string":r=a[i];break;case"flags":n=a[i]}}}var o,l=me(ga,null,e,n);return me((o=l).search,o,r)},ma=function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"pattern":e=a[i];break;case"string":r=a[i];break;case"flags":n=a[i]}}}var o,l=me(ga,null,e,n);return me((o=l).match,o,r)},wa=function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"pattern":e=a[i];break;case"string":r=a[i];break;case"flags":n=a[i]}}}var o,l=me(ga,null,e,n);return me((o=l).fullmatch,o,r)},ya=function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"pattern":e=i[o];break;case"string":r=i[o];break;case"maxsplit":n=i[o];break;case"flags":t=i[o]}}}var l,s=me(ga,null,e,t);return me((l=s).py_split,l,r,n)},ka=function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"pattern":e=a[i];break;case"string":r=a[i];break;case"flags":n=a[i]}}}var o,l=me(ga,null,e,n);return me((o=l).findall,o,r)},ba=function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"pattern":e=a[i];break;case"string":r=a[i];break;case"flags":n=a[i]}}}var o,l=me(ga,null,e,n);return me((o=l).finditer,o,r)},xa=function(e,r,n,t,a){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=0;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"pattern":e=o[l];break;case"repl":r=o[l];break;case"string":n=o[l];break;case"count":t=o[l];break;case"flags":a=o[l]}}}var s,_=me(ga,null,e,a);return me((s=_).sub,s,r,n,t)},Pa=function(e,r,n,t,a){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=0;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"pattern":e=o[l];break;case"repl":r=o[l];break;case"string":n=o[l];break;case"count":t=o[l];break;case"flags":a=o[l]}}}var s,_=me(ga,null,e,a);return me((s=_).subn,s,r,n,t)},Oa=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("string"===t)e=n[t]}}var a=null,i=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("m"===t)e=n[t]}}return ze(Lr(qr(e,0),"\\"))?"\\\\\\\\":Or("\\\\",qr(e,0))},o=/[^A-Za-z:;\d]/g;if(ze(null!==(a=e.replace(o,i))))return a;var l=me(Wr,null,"Failed to escape the passed string");throw l.__cause__=null,l},Sa=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var r=arguments[e--];for(var n in r);}}},Ea={},Ca={};fe(Ea,"",pn),fe(Ca,"",Ct);var La="pylatexenc.latexnodes._tokenreader",ja=me(Ea.getLogger,Ea,La),Na=ve("LatexTokenReader",[St],{__module__:La,get __init__(){return de(this,(function(e,r){var n,t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"s":r=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}if(me(me(ye,null,Na,"__init__"),null,e),e.s=r,e.tolerant_parsing=me((n=t).py_pop,n,"tolerant_parsing",!1),ze(t)){var l=me($r,null,function(){var e="Invalid argument(s) to LatexTokenReader: {!r}";return me(e.format,e,t)}());throw l.__cause__=null,l}e._pos=0}))},get move_to_token(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":r=a[i];break;case"rewind_pre_space":n=a[i]}}}if(ze(n))var o=Sr(r.pos,me(Ne,null,r.pre_space));else o=r.pos;var l;me((l=e)._advance_to_pos,l,o)}))},get move_past_token(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":r=a[i];break;case"fastforward_post_space":n=a[i]}}}var o,l=r.pos_end;if(ze(!ze(n))){var s=me(Ee,null,r,"post_space",null);if(ze(s))l=me(Dr,null,l,me(Ne,null,s))}me((o=e)._advance_to_pos,o,l)}))},get peek_chars(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"num_chars":r=a[i];break;case"parsing_state":n=a[i]}}}if(ze(Mr(e._pos,me(Ne,null,e.s)))){var o=me(zn,null);throw o.__cause__=null,o}return Ur(e.s,e._pos,Or(e._pos,r),1)}))},get next_chars(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"num_chars":r=a[i];break;case"parsing_state":n=a[i]}}}var o,l=me((o=e).peek_chars,o,r,n);return e._pos=me(Rr,null,e._pos,r),ze(Tr(e._pos,me(Ne,null,e.s)))&&(e._pos=me(Ne,null,e.s)),l}))},get cur_pos(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._pos}))},get move_to_pos_chars(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"pos":r=t[a]}}}var i;me((i=e)._advance_to_pos,i,r)}))},get _advance_to_pos(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"pos":r=t[a]}}}e._pos=r}))},get skip_space_chars(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}var i,o=me((i=e).impl_peek_space_chars,i,e.s,e._pos,r),l=o[0],s=o[1],_=o[2];return function(){var r=e;me(r._advance_to_pos,r,_)}(),ar([l,s,_])}))},get peek_space_chars(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}return me((i=e).impl_peek_space_chars,i,e.s,e._pos,r);var i}))},get peek_token(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}try{return me((o=e).impl_peek_token,o,r)}catch(r){if(Ae(r,jn)){var i=r;if(ze(e.tolerant_parsing))return function(){var r=e;me(r.move_to_pos_chars,r,i.recovery_token_at_pos)}(),i.recovery_token_placeholder;throw r.__cause__=null,r}throw r}var o}))},get impl_peek_token(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state":r=t[a]}}}var i;me((i=ja).debug,i,"impl_peek_token(): parsing_state = %r, pos=%r",r,e._pos);var o=e.s,l=me(Ne,null,o),s=e._pos,_=function(){var n=e;return me(n.impl_peek_space_chars,n,o,s,r)}(),u=_[0],c=_[1],f=_[2];if(ze(ze(r.enable_double_newline_paragraphs)&&Mr(function(){var e=u;return me(e.count,e,"\n")}(),2))){var d=function(){var e=u;return me(e.find,e,"\n")}(),p=Or(function(){var e=u;return me(e.rfind,e,"\n")}(),1),h=(u=Ur(u,0,d,1),Or(c,d)),g=Or(c,p);if(ze(null!==r.latex_context)){try{var v=function(){var e=r.latex_context;return me(e.get_specials_spec,e,we({specials_chars:"\n\n"}))}()}catch(e){if(!Ae(e,Qr))throw e;v=null}if(ze(ze(null!==v)&&Lr(v.specials_chars,"\n\n")))return function(){var r=e;return me(r.make_token,r,we({tok:"specials",arg:v,pos:h,pos_end:g,pre_space:u}))}()}return function(){var r=e;return me(r.make_token,r,we({tok:"char",arg:"\n\n",pos:h,pos_end:g,pre_space:u}))}()}if(ze(Mr(s=f,l))){var m=me(zn,null,we({final_space:u}));throw m.__cause__=null,m}var w=qr(o,s);if(function(){var e=ja;me(e.debug,e,"Char at %d: %r",s,w)}(),ze(ze(Le(w,r._math_delims_info_startchars))&&r.enable_math)){var y=function(){var n=e;return me(n.impl_maybe_read_math_mode_delimiter,n,o,s,r,u)}();if(ze(null!==y))return y}if(ze(Lr(w,r.macro_escape_char))){if(ze(r.enable_environments)){if(ze(function(){var e=o;return me(e.startswith,e,"begin",Or(s,1))}()))var k="begin";else if(ze(function(){var e=o;return me(e.startswith,e,"end",Or(s,1))}()))k="end";else k=null;if(function(){var e,r=ja;me(r.debug,r,"beginend=%r; s.startswith('begin',pos+1)=%r; s[pos+1:pos+7]=%r",k,me((e=o).startswith,e,"begin",Or(s,1)),Ur(o,Or(s,1),Or(s,7),1))}(),ze(k)){var b=Or(Or(s,1),me(Ne,null,k));if(ze(ze(Mr(b,me(Ne,null,o)))||!Le(qr(o,b),r.macro_alpha_chars)))return function(){var n=e;return me(n.impl_read_environment,n,we({s:o,pos:s,parsing_state:r,beginend:k,pre_space:u}))}()}}if(ze(r.enable_macros))return function(){var n=e;return me(n.impl_read_macro,n,we({s:o,pos:s,parsing_state:r,pre_space:u}))}()}if(ze(ze(r.enable_comments)&&ze(Lr(w,qr(r.comment_start,0)))&&function(){var e=o;return me(e.startswith,e,r.comment_start,s)}()))return function(){var n=e;return me(n.impl_read_comment,n,we({s:o,pos:s,parsing_state:r,pre_space:u}))}();if(ze(r.enable_groups)){if(ze(Le(w,r._latex_group_delimchars_by_open)))return function(){var r=e;return me(r.make_token,r,we({tok:"brace_open",arg:w,pos:s,pos_end:Or(s,1),pre_space:u}))}();if(ze(Le(w,r._latex_group_delimchars_close)))return function(){var r=e;return me(r.make_token,r,we({tok:"brace_close",arg:w,pos:s,pos_end:Or(s,1),pre_space:u}))}()}if(ze(ze(null!==r.latex_context)&&r.enable_specials)){v=function(){var e=r.latex_context;return me(e.test_for_specials,e,o,s,we({parsing_state:r}))}();if(function(){var e=ja;me(e.debug,e,"tested for specials at %s -> %r",Or(Ur(o,s,Or(s,3),1),"..."),v)}(),ze(null!==v))return function(){var r=e;return me(r.make_token,r,we({tok:"specials",arg:v,pos:s,pos_end:Or(s,me(Ne,null,v.specials_chars)),pre_space:u}))}()}return function(){var n=e;return me(n.impl_char_token,n,w,s,Or(s,1),r,u)}()}))},get impl_peek_space_chars(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"s":r=i[o];break;case"pos":n=i[o];break;case"parsing_state":t=i[o]}}}for(var l,s=n,_="";ze(!0)&&!ze(Mr(s,me(Ne,null,r)));){var u=qr(r,s);if(ze(!ze((l=void 0,l=u,me(l.isspace,l)))))break;_=me(Rr,null,_,u),s=me(Rr,null,s,1)}return ar([_,n,s])}))},get impl_char_token(){return de(this,(function(e,r,n,t,a,i){if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"c":r=l[s];break;case"pos":n=l[s];break;case"pos_end":t=l[s];break;case"parsing_state":a=l[s];break;case"pre_space":i=l[s]}}}if(ze(Le(r,a.forbidden_characters))){var _=me(jn,null,we({s:e.s,pos:n,msg:(u="Character is forbidden here: {} ({:#x})",me(u.format,u,r,me(Be,null,r))),error_type_info:yr({what:"token_forbidden_character",forbidden_character:r}),recovery_token_placeholder:function(){var a=e;return me(a.make_token,a,we({tok:"char",arg:r,pos:n,pos_end:t,pre_space:i}))}(),recovery_token_at_pos:t}));throw _.__cause__=null,_}var u;return function(){var a=e;return me(a.make_token,a,we({tok:"char",arg:r,pos:n,pos_end:t,pre_space:i}))}()}))},get impl_maybe_read_math_mode_delimiter(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"s":r=o[l];break;case"pos":n=o[l];break;case"parsing_state":t=o[l];break;case"pre_space":a=o[l]}}}if(ze(t.in_math_mode)){var s=t._math_expecting_close_delim_info;if(ze(null!==s)){var _=qr(s,"close_delim"),u=qr(s,"tok");if(me((c=ja).debug,c,"expecting close math mode delimiter: delim %r, tok %r",_,u),ze(function(){var e=r;return me(e.startswith,e,_,n)}()))return function(){var e=ja;me(e.debug,e,"we did encounter that expected delim & tok at pos = %r;we have s[pos:pos+10]=%r",n,Ur(r,n,Or(n,10),1))}(),function(){var r=e;return me(r.make_token,r,we({tok:u,arg:_,pos:n,pos_end:Or(n,me(Ne,null,_)),pre_space:a}))}()}}for(var c,f=t._math_all_delims_by_len,d=0;d<Ne(f);d++){var p=qr(f,d),h=p[0],g=p[1];if(ze(function(){var e=r;return me(e.startswith,e,h,n)}()))return function(){var e=ja;me(e.debug,e,"Encountered opening math delim %r (tok %r) at pos = %r;we have s[pos:pos+10]=%r",h,g,n,Ur(r,n,Or(n,10),1))}(),function(){var r=e;return me(r.make_token,r,we({tok:g,arg:h,pos:n,pos_end:Or(n,me(Ne,null,h)),pre_space:a}))}()}return null}))},get impl_read_macro(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"s":r=o[l];break;case"pos":n=o[l];break;case"parsing_state":t=o[l];break;case"pre_space":a=o[l]}}}var s,_;if(ze(jr(qr(r,n),t.macro_escape_char)))throw(s=me($r,null,"Internal error, expected '\\' in impl_read_macro()")).__cause__=null,s;if(ze(Mr(Or(n,1),me(Ne,null,r))))throw(s=me(jn,null,we({s:r,pos:Or(n,1),msg:(_="Expected macro name after {} escape character",me(_.format,_,t.macro_escape_char)),error_type_info:yr({what:"token_end_of_stream_immediately_after_escape_character"}),recovery_token_placeholder:function(){var r=e;return me(r.make_token,r,we({tok:"char",arg:"",pos:n,pos_end:n,pre_space:a}))}(),recovery_token_at_pos:me(Ne,null,r)}))).__cause__=null,s;var u=qr(r,Or(n,1)),c=u,f=Le(u,t.macro_alpha_chars),d=Or(n,2);if(ze(f))for(;ze(ze(Nr(d,me(Ne,null,r)))&&Le(qr(r,d),t.macro_alpha_chars));)c=me(Rr,null,c,qr(r,d)),d=me(Rr,null,d,1);var p="";if(ze(f)){var h=function(){var n=e;return me(n.impl_peek_space_chars,n,r,d,t)}(),g=(p=h[0],h[1]),v=h[2];if(ze(Mr(function(){var e=p;return me(e.count,e,"\n")}(),2))){var m=function(){var e=p;return me(e.find,e,"\n")}();v=Or(g,m),p=Ur(p,0,m,1)}d=v}return function(){var r=e;return me(r.make_token,r,we({tok:"macro",arg:c,pos:n,pos_end:d,pre_space:a,post_space:p}))}()}))},rx_environment_name:me(Ca.compile,Ca,"\\s*\\{(?P<environmentname>[A-Za-z0-9*._ :/!^()\\[\\]-]+)\\}"),get parse_latex_environment_name(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"pos":r=i[o];break;case"beginend":n=i[o];break;case"pos_envname":t=i[o]}}}var l,s=me((l=e.rx_environment_name).match,l,Ur(e.s,t,null,1));if(ze(null===s))return ar([null,null]);var _=Or(t,function(){var e=s;return me(e.end,e)}());return ar([function(){var e=s;return me(e.group,e,"environmentname")}(),_])}))},get impl_read_environment(){return de(this,(function(e,r,n,t,a,i){if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"s":r=l[s];break;case"pos":n=l[s];break;case"parsing_state":t=l[s];break;case"beginend":a=l[s];break;case"pre_space":i=l[s]}}}var _;if(ze(jr(Ur(r,n,Or(Or(n,1),me(Ne,null,a)),1),Or(t.macro_escape_char,a))))throw(h=me($r,null,me((_="Internal error, expected {}{} in read_environment()").format,_,t.macro_escape_char,a))).__cause__=null,h;var u=Or(Or(n,1),me(Ne,null,a)),c=function(){var r=e;return me(r.parse_latex_environment_name,r,n,a,u)}(),f=c[0],d=c[1];if(function(){var e=ja;me(e.debug,e,"Getting environment name at %r -> %r, is {align}?=%r",Or(Or("...|",Ur(r,u,Or(u,35),1)),"|..."),d,Lr(Ur(r,u,Or(u,me(Ne,null,"{align}")),1),"{align}"))}(),ze(null===f)){var p=Or(t.macro_escape_char,a),h=me(jn,null,we({s:r,msg:function(){var e="Bad \\{} call: expected {{environmentname}}";return me(e.format,e,a)}(),pos:n,error_type_info:yr({what:"token_error_parse_beginend_environment_name",beginend:a,macro_beginend:p}),recovery_token_placeholder:me(xt,null,we({tok:"char",arg:p,pos:n,pos_end:Or(n,me(Ne,null,p)),pre_space:i})),recovery_token_at_pos:Or(n,me(Ne,null,p))}));throw h.__cause__=null,h}var g=function(){var r=e;return me(r.make_token,r,we({tok:Or(a,"_environment"),arg:f,pos:n,pos_end:d,pre_space:i}))}();return function(){var e=ja;me(e.debug,e,"read environment token %r",g)}(),g}))},get impl_read_comment(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"s":r=o[l];break;case"pos":n=o[l];break;case"parsing_state":t=o[l];break;case"pre_space":a=o[l]}}}if(ze(!ze((_=r,me(_.startswith,_,t.comment_start,n))))){var s=me($r,null,function(){var e="Internal error, expected comment start {} in read_comment()";return me(e.format,e,t.comment_start)}());throw s.__cause__=null,s}var _,u=Or(n,me(Ne,null,t.comment_start)),c=function(){var e=r;return me(e.find,e,"\n",u)}();if(ze(Lr(c,br(1))))var f=me(Ne,null,r),d=me(Ne,null,r),p="";else{var h=function(){var n=e;return me(n.impl_peek_space_chars,n,r,c,t)}(),g=(p=h[0],h[1]),v=h[2];if(ze(Mr(function(){var e=p;return me(e.count,e,"\n")}(),2))){var m=function(){var e=p;return me(e.find,e,"\n")}();v=Or(g,m),p=Ur(p,0,m,1)}f=c,d=v}return function(){var t=e;return me(t.make_token,t,we({tok:"comment",arg:Ur(r,u,f,1),pos:n,pos_end:d,pre_space:a,post_space:p}))}()}))}}),za=(D=i("fOdIC"),{});e(za,"fn_unique_object_id",(function(){return Ia}));var Ta,Ma,Ia=(Ta=0,Ma=new WeakMap,function(e){return Ma.has(e)||Ma.set(e,++Ta),Ma.get(e)}),Ra={},Da={};fe(Da,"",za),fe(Ra,"",pn);var Aa="pylatexenc.latexnodes._parsingstate",qa=me(Ra.getLogger,Ra,Aa),Fa=Or(me("".join,"",function(){for(var e=[],r=0;r<26;r++)me(e.append,e,me(Ue,null,Or(me(Be,null,"a"),r)));return e}()),me("".join,"",function(){for(var e=[],r=0;r<26;r++)me(e.append,e,me(Ue,null,Or(me(Be,null,"A"),r)));return e}())),Ua=Da.fn_unique_object_id,Ba=ve("ParsingState",[ge],{__module__:Aa,_fields:ar(["s","latex_context","in_math_mode","math_mode_delimiter","latex_group_delimiters","latex_inline_math_delimiters","latex_display_math_delimiters","enable_double_newline_paragraphs","enable_macros","enable_environments","enable_comments","enable_groups","enable_specials","enable_math","macro_alpha_chars","macro_escape_char","comment_start","forbidden_characters"]),get __init__(){return de(this,(function(e){var r,n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)if("self"===i)e=a[i];else n[i]=a[i];delete n.__kwargtrans__}}me(me(ye,null,Ba,"__init__"),null,e),e._parent_parsing_state_info=me((r=n).py_pop,r,"_parent_parsing_state_info",ar([null,yr({})])),function(){var r=e;me(r.set_fields,r,we(n))}(),function(){var r=e;me(r.finalize_state,r)}()}))},get set_fields(){return de(this,(function(e,r,n,t,a,i,o,l,s,_,u,c,f,d,p,h,g,v,m){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(void 0===l||null!=l&&l.hasOwnProperty("__kwargtrans__"))l=null;if(void 0===s||null!=s&&s.hasOwnProperty("__kwargtrans__"))s=!0;if(void 0===_||null!=_&&_.hasOwnProperty("__kwargtrans__"))_=!0;if(void 0===u||null!=u&&u.hasOwnProperty("__kwargtrans__"))u=!0;if(void 0===c||null!=c&&c.hasOwnProperty("__kwargtrans__"))c=!0;if(void 0===f||null!=f&&f.hasOwnProperty("__kwargtrans__"))f=!0;if(void 0===d||null!=d&&d.hasOwnProperty("__kwargtrans__"))d=!0;if(void 0===p||null!=p&&p.hasOwnProperty("__kwargtrans__"))p=!0;if(void 0===h||null!=h&&h.hasOwnProperty("__kwargtrans__"))h=Fa;if(void 0===g||null!=g&&g.hasOwnProperty("__kwargtrans__"))g="\\";if(void 0===v||null!=v&&v.hasOwnProperty("__kwargtrans__"))v="%";if(void 0===m||null!=m&&m.hasOwnProperty("__kwargtrans__"))m="";if(arguments.length){var w=arguments.length-1;if(arguments[w]&&arguments[w].hasOwnProperty("__kwargtrans__")){var y=arguments[w--];for(var k in y)switch(k){case"self":e=y[k];break;case"s":r=y[k];break;case"latex_context":n=y[k];break;case"in_math_mode":t=y[k];break;case"math_mode_delimiter":a=y[k];break;case"latex_group_delimiters":i=y[k];break;case"latex_inline_math_delimiters":o=y[k];break;case"latex_display_math_delimiters":l=y[k];break;case"enable_double_newline_paragraphs":s=y[k];break;case"enable_macros":_=y[k];break;case"enable_environments":u=y[k];break;case"enable_comments":c=y[k];break;case"enable_groups":f=y[k];break;case"enable_specials":d=y[k];break;case"enable_math":p=y[k];break;case"macro_alpha_chars":h=y[k];break;case"macro_escape_char":g=y[k];break;case"comment_start":v=y[k];break;case"forbidden_characters":m=y[k]}}}var b;e.s=r,e.latex_context=n,e.in_math_mode=t,e.math_mode_delimiter=a,ze(ze(!ze(e.in_math_mode))&&e.math_mode_delimiter)&&(me((b=qa).warning,b,"ParsingState: You set math_mode_delimiter=%r but in_math_mode is False",e.math_mode_delimiter),e.math_mode_delimiter=null),e.latex_group_delimiters=ze(null!==i)?i:[ar(["{","}"])],e.latex_inline_math_delimiters=ze(null!==o)?o:[ar(["$","$"]),ar(["\\(","\\)"])],e.latex_display_math_delimiters=ze(null!==l)?l:[ar(["$$","$$"]),ar(["\\[","\\]"])],e.enable_double_newline_paragraphs=s,e.enable_macros=_,e.enable_environments=u,e.enable_comments=c,e.enable_groups=f,e.enable_specials=d,e.enable_math=p,e.macro_alpha_chars=h,e.macro_escape_char=g,e.comment_start=v,e.forbidden_characters=m}))},get _finalize_state_latex_group_delimiters_info(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parent":r=a[i];break;case"kwargs":n=a[i]}}}if(ze(ze(null!==r)&&!Le("latex_group_delimiters",n)))return e._latex_group_delimchars_by_open=r._latex_group_delimchars_by_open,void(e._latex_group_delimchars_close=r._latex_group_delimchars_close);var o=me.apply(void 0,[Ke,null].concat((0,D.default)(e.latex_group_delimiters))),l=(o[0],o[1]);e._latex_group_delimchars_by_open=me(yr,null,e.latex_group_delimiters),e._latex_group_delimchars_close=me(ir,null,l)}))},get _finalize_state_latex_math_delim_info(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parent":r=a[i];break;case"kwargs":n=a[i]}}}if(ze(ze(null!==r)&&ze(!Le("latex_inline_math_delimiters",n))&&!Le("latex_display_math_delimiters",n)))return e._math_delims_info_startchars=r._math_delims_info_startchars,e._math_all_delims_by_len=r._math_all_delims_by_len,e._math_delims_info_by_open=r._math_delims_info_by_open,void(e._math_delims_close=r._math_delims_close);e._math_delims_info_startchars=me("".join,"",function(){for(var r=[],n=Or(e.latex_inline_math_delimiters,e.latex_display_math_delimiters),t=0;t<Ne(n);t++)for(var a=qr(n,t),i=0;i<Ne(a);i++){var o=qr(a,i);me(r.append,r,Ur(o,0,1,1))}return r}()),e._math_all_delims_by_len=me(nn,null,function(){for(var r=[],n=ar([ar([e.latex_inline_math_delimiters,"mathmode_inline"]),ar([e.latex_display_math_delimiters,"mathmode_display"])]),t=0;t<Ne(n);t++)for(var a=qr(n,t),i=a[0],o=a[1],l=me(ir,null,function(){for(var e=[],r=i,n=0;n<Ne(r);n++)for(var t=qr(r,n),a=0;a<Ne(t);a++){var o=qr(t,a);me(e.append,e,o)}return e}()),s=0;s<Ne(l);s++){var _=qr(l,s);me(r.append,r,ar([_,o]))}return r}(),we({key:function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("x"===t)e=n[t]}}return me(Ne,null,qr(e,0))},reverse:!0})),e._math_delims_info_by_open=me(yr,null,Or(function(){for(var r=[],n=e.latex_inline_math_delimiters,t=0;t<Ne(n);t++){var a=qr(n,t),i=a[0],o=a[1];me(r.append,r,ar([i,me(yr,null,we({close_delim:o,tok:"mathmode_inline"}))]))}return r}(),function(){for(var r=[],n=e.latex_display_math_delimiters,t=0;t<Ne(n);t++){var a=qr(n,t),i=a[0],o=a[1];me(r.append,r,ar([i,me(yr,null,we({close_delim:o,tok:"mathmode_display"}))]))}return r}())),e._math_delims_close=me(ir,null,function(){for(var r,n=[],t=me((r=e._math_delims_info_by_open).py_items,r),a=0;a<Ne(t);a++){var i=qr(t,a),o=(i[0],i[1]);me(n.append,n,qr(o,"close_delim"))}return n}())}))},get _finalize_state_inmathmode_info(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parent":r=a[i];break;case"kwargs":n=a[i]}}}ze(ze(null!==r)&&ze(!Le("in_math_mode",n))&&!Le("math_mode_delimiter",n))?e._math_expecting_close_delim_info=r._math_expecting_close_delim_info:ze(!ze(e.in_math_mode))?e._math_expecting_close_delim_info=null:ze(Le(e.math_mode_delimiter,e._math_delims_info_by_open))?e._math_expecting_close_delim_info=qr(e._math_delims_info_by_open,e.math_mode_delimiter):e._math_expecting_close_delim_info=null}))},get finalize_state(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=e._parent_parsing_state_info,o=i[0],l=i[1];me((a=e)._finalize_state_latex_group_delimiters_info,a,o,l),function(){var r=e;me(r._finalize_state_latex_math_delim_info,r,o,l)}(),function(){var r=e;me(r._finalize_state_inmathmode_info,r,o,l)}()}))},get sub_context(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}var i,o=me((i=e).get_fields,i),l=function(){for(var e,n=[],t=me((e=r).py_items,e),a=0;a<Ne(t);a++){var i=qr(t,a),l=i[0],s=i[1];ze(!ze(me(Ga,null,s,qr(o,l))))&&me(n.append,n,[l,s])}return yr(n)}();!function(){var e=o;me(e.py_update,e,l)}();var s=function(){var r=e;return me(r.__class__,r,we(Pe({_parent_parsing_state_info:ar([e,l])},o)))}();return function(){var n=qa;me(n.debug,n,"%s.sub_context(%r): %r --\x3e %r",e.__class__.__name__,r,e,s)}(),s}))},get get_fields(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(yr,null,function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,ar([a,me(Ee,null,e,a)]))}return r}())}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=e.__class__.__name__,o=me((a="{}<{:#x}>").format,a,i,me(Ua,null,e)),l=e._parent_parsing_state_info,s=l[0],_=l[1];return ze(!ze(s))?o:Or(Or(Or(o,function(){var e="(<{:#x}> {} ";return me(e.format,e,me(Ua,null,s),"")}()),me(", ".join,", ",function(){for(var e,r,n=[],t=me((e=_).py_items,e),a=0;a<Ne(t);a++){var i=qr(t,a),o=i[0],l=i[1];ze(!Le(o,ar(["s"])))&&(r=void 0,me(n.append,n,me((r="{}={!r}").format,r,o,l)))}return n}())),")")}))},get to_json_object(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return function(){for(var r,n,t=[],a=(n=me((r=e).get_fields,r),me(n.py_items,n)),i=0;i<Ne(a);i++){var o=qr(a,i),l=o[0],s=o[1];ze(!Le(l,ar(["latex_context","s"])))&&me(t.append,t,[l,s])}return yr(t)}()}))}}),Ga=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"a":e=t[a];break;case"b":r=t[a]}}}return ze(ze(null===e)&&null===r)||Lr(e,r)},Wa={};fe(Wa,"",pn);var Va="pylatexenc.latexnodes._nodescollector",Ha=me(Wa.getLogger,Wa,Va),$a=ve("LatexNodesCollector",[ge],{__module__:Va,ReachedEndOfStream:ve("ReachedEndOfStream",[Wr],{__module__:Va}),ReachedStoppingCondition:ve("ReachedStoppingCondition",[Wr],{__module__:Va,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"stop_data":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}me(me(ye,null,$a.ReachedStoppingCondition,"__init__"),null,e,we(n)),e.stop_data=r}))}}),get __init__(){return de(this,(function(e,r,n,t,a,i,o,l){if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(void 0===l||null!=l&&l.hasOwnProperty("__kwargtrans__"))l=!0;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var _=arguments[s--];for(var u in _)switch(u){case"self":e=_[u];break;case"latex_walker":r=_[u];break;case"token_reader":n=_[u];break;case"parsing_state":t=_[u];break;case"stop_token_condition":a=_[u];break;case"stop_nodelist_condition":i=_[u];break;case"make_child_parsing_state":o=_[u];break;case"include_stop_token_pre_space_chars":l=_[u]}}}me(me(ye,null,$a,"__init__"),null,e),e.latex_walker=r,e.token_reader=n,e.stop_token_condition=a,e.stop_nodelist_condition=i,e.include_stop_token_pre_space_chars=l,e._stop_token_condition_met=!1,e._stop_token_condition_met_token=null,e._stop_nodelist_condition_met=!1,e._stop_condition_stop_data=null,e._reached_end_of_stream=!1,e.parsing_state=t,e.start_parsing_state=t,e._nodelist=[],e._pending_chars_pos=null,e._pending_chars="",e._finalized=!1,e._make_child_parsing_state_fn=o}))},get get_final_nodelist(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}if(ze(!ze(e._finalized))){var a=me(RuntimeError,null,"Call to get_final_nodelist() before finalize()");throw a.__cause__=null,a}return me((i=e.latex_walker).make_nodelist,i,we({nodelist:e._nodelist,parsing_state:e.start_parsing_state}));var i}))},get get_parser_parsing_state_delta(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}if(ze(!ze(e._finalized))){var a=me(RuntimeError,null,"Call to get_parser_parsing_state_delta() before finalize()");throw a.__cause__=null,a}return ze(e.start_parsing_state===e.parsing_state)?null:me(ft,null,we({set_parsing_state:e.parsing_state}))}))},get pos_start(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}try{var a=me(Qe,null,function(){for(var r=[],n=e._nodelist,t=0;t<Ne(n);t++){var a=qr(n,t);ze(null!==a)&&me(r.append,r,a.pos)}return $e(r)}())}catch(e){if(!Ae(e,Hr))throw e;a=null}return ze(null!==a)?a:e._pending_chars_pos}))},get pos_end(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}try{var a=me(Qe,null,function(){for(var r=[],n=me(Ze,null,e._nodelist),t=0;t<Ne(n);t++){var a=qr(n,t);ze(null!==a)&&me(r.append,r,a)}return $e(r)}())}catch(e){if(!Ae(e,Hr))throw e;a=null}return ze(null===a)?null:a.pos_end}))},get stop_token_condition_met(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._stop_token_condition_met}))},get stop_token_condition_met_token(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._stop_token_condition_met_token}))},get stop_nodelist_condition_met(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._stop_nodelist_condition_met}))},get stop_condition_stop_data(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._stop_condition_stop_data}))},get reached_end_of_stream(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._reached_end_of_stream}))},get is_finalized(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._finalized}))},get finalize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}if(!ze(e._finalized)){var a,i=me((a=e).flush_pending_chars,a);if(e._finalized=!0,ze(null!==i)){!function(){var e=Ha;me(e.debug,e,"finalize(): raising exc=%r",i)}();var o=i;throw o.__cause__=null,o}}}))},get push_pending_chars(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"chars":r=a[i];break;case"pos":n=a[i]}}}e._pending_chars=me(Rr,null,e._pending_chars,r),ze(null===e._pending_chars_pos)&&(e._pending_chars_pos=n)}))},get flush_pending_chars(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}if(ze(!ze(e._pending_chars)))return null;var a=ar([e._pending_chars_pos,e._pending_chars]),i=a[0],o=a[1];e._pending_chars="",e._pending_chars_pos=null;var l,s=me((l=e.latex_walker).make_node,l,Un,we({parsing_state:e.parsing_state,chars:o,pos:i,pos_end:Or(i,me(Ne,null,o))}));return function(){var r=e;return me(r.push_to_nodelist,r,s)}()}))},get push_to_nodelist(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}if(ze(e._finalized)){var i=me(RuntimeError,null,"You already called finalize()");throw i.__cause__=null,i}var o;me((o=e._nodelist).append,o,r);var l=function(){var r=e;return me(r._check_nodelist_stop_condition,r)}();return ze(null!==l)?l:null}))},get update_state_from_parsing_state_delta(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"parsing_state_delta":r=t[a]}}}if(ze(null!==r)){var i=e.parsing_state;e.parsing_state=me((o=r).get_updated_parsing_state,o,e.parsing_state,e.latex_walker),function(){var n=Ha;me(n.debug,n,"Updated parsing state using parsing_state_delta %r: %r  %r",r,i,e.parsing_state)}()}var o}))},get _check_nodelist_stop_condition(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=e.stop_nodelist_condition;if(ze(null!==i)){var o=me(i,null,e._nodelist);if(ze(o))return e._stop_nodelist_condition_met=!0,me((a=Ha).debug,a,"nodes collector reached nodelist stop condition; nodelist = %r",e._nodelist),function(){var e=$a;return me(e.ReachedStoppingCondition,e,we({stop_data:o}))}()}return null}))},get _check_token_stop_condition(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"tok":r=t[a]}}}var i,o=e.stop_token_condition;if(ze(null!==o)){var l=me(o,null,r);if(ze(l))return e._stop_token_condition_met=!0,e._stop_token_condition_met_token=r,me((i=Ha).debug,i,"nodes collector reached token stop condition; tok = %r, current node list = %r",r,e._nodelist),function(){var e=$a;return me(e.ReachedStoppingCondition,e,we({stop_data:l}))}()}return null}))},get process_tokens(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}try{for(;ze(!0);)i=void 0,me((i=e).process_one_token,i)}catch(r){if(Ae(r,$a.ReachedStoppingCondition)){var a=r;return e._stop_condition_stop_data=a.stop_data,void function(){var e=Ha;me(e.debug,e,"nodes collector process_tokens() reached stop condition")}()}if(Ae(r,$a.ReachedEndOfStream)){a=r;return e._reached_end_of_stream=!0,void function(){var e=Ha;me(e.debug,e,"nodes collector process_tokens() reached end of stream")}()}if(Ae(r,Sn)){a=r;throw function(){var e=Ha;me(e.debug,e,"process_tokens() - relaying error -- %r",a)}(),r.__cause__=null,r}throw r}finally{!function(){var r=e;me(r.finalize,r)}()}var i}))},get process_one_token(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}if(ze(e._finalized)){var a=me(RuntimeError,null,"You already called finalize()");throw a.__cause__=null,a}var i,o=e.latex_walker,l=e.token_reader;try{var s=me((i=l).next_token,i,we({parsing_state:e.parsing_state}));!function(){var e=Ha;me(e.debug,e,"nodes collector read token %r",s)}()}catch(e){if(!Ae(e,zn))throw e;var _=e,u=me(Ee,null,_,"final_space",null);if(!ze(u)){var c=function(){var e=$a;return me(e.ReachedEndOfStream,e)}();c.pos_end=function(){var e=l;return me(e.cur_pos,e)}(),function(){var e=Ha;me(e.debug,e,"process_one_token(): reached end of stream, exc=%r",c)}();var f=c;throw f.__cause__=null,f}var d=Or(function(){var e=l;return me(e.cur_pos,e)}(),me(Ne,null,u));s=function(){var e=l;return me(e.make_token,e,we({tok:"char",arg:"",pre_space:u,pos:d,pos_end:d}))}();!function(){var e=l;me(e.move_past_token,e,s)}()}var p=function(){var r=e;return me(r._check_token_stop_condition,r,s)}();if(ze(null!==p)){if(ze(e.include_stop_token_pre_space_chars)){!function(){var r=e;me(r.push_pending_chars,r,we({chars:s.pre_space,pos:Sr(s.pos,me(Ne,null,s.pre_space))}))}();var h=!1}else h=!0;!function(){var e=l;me(e.move_to_token,e,s,we({rewind_pre_space:h}))}(),p.pos_end=s.pos_end,function(){var e=Ha;me(e.debug,e,"process_one_token(): stop token condition reached, exc=%r",p)}();var g=p;throw g.__cause__=null,g}if(ze(Lr(s.tok,"char")))!function(){var r=e;me(r.push_pending_chars,r,we({chars:Or(s.pre_space,s.arg),pos:Sr(s.pos,me(Ne,null,s.pre_space))}))}();else{if(ze(e._pending_chars)){e._pending_chars=me(Rr,null,e._pending_chars,s.pre_space),s.pre_space="";p=function(){var r=e;return me(r.flush_pending_chars,r)}();if(ze(null!==p)){!function(){var e=l;me(e.move_to_token,e,s,we({rewind_pre_space:!1}))}(),p.pos_end=s.pos,function(){var e=Ha;me(e.debug,e,"process_one_token(): stop condition reached (a), exc=%r",p)}();var v=p;throw v.__cause__=null,v}}else if(ze(s.pre_space)){var m=function(){var r=o;return me(r.make_node,r,Un,we({parsing_state:e.parsing_state,chars:s.pre_space,pos:Sr(s.pos,me(Ne,null,s.pre_space)),pos_end:s.pos}))}();s.pre_space="";p=function(){var r=e;return me(r.push_to_nodelist,r,m)}();if(ze(null!==p)){!function(){var e=l;me(e.move_to_token,e,s,we({rewind_pre_space:!1}))}(),p.pos_end=s.pos,function(){var e=Ha;me(e.debug,e,"process_one_token(): stop condition reached (b), exc=%r",p)}();var w=p;throw w.__cause__=null,w}}if(ze(Lr(s.tok,"brace_close"))){var y=me(Nn,null,we({msg:function(){var e="Unexpected mismatching closing delimiter {}";return me(e.format,e,s.arg)}(),pos:s.pos,recovery_past_token:s,error_type_info:yr({what:"nodes_unexpected_closing_group_delimiter",delimiter:s.arg})}));throw y.__cause__=null,y}if(ze(Lr(s.tok,"end_environment"))){var k=me(Nn,null,we({msg:function(){var e="Unexpected closing environment: {}";return me(e.format,e,s.arg)}(),pos:s.pos,recovery_past_token:s,error_type_info:yr({what:"nodes_unexpected_end_environment",environmentname:s.arg})}));throw k.__cause__=null,k}if(ze(ze(Le(s.tok,ar(["mathmode_inline","mathmode_display"])))&&!Le(s.arg,e.parsing_state._math_delims_info_by_open))){var b=me(Nn,null,we({msg:function(){var e="Unexpected closing math mode token {}";return me(e.format,e,s.arg)}(),pos:s.pos,recovery_past_token:s,error_type_info:yr({what:"nodes_unexpected_closing_math_delimiter",mathmode_type:s.tok,delimiter:s.arg})}));throw b.__cause__=null,b}if(ze(Lr(s.tok,"comment")))!function(){var r=e;me(r.parse_comment_node,r,s)}();else if(ze(Lr(s.tok,"brace_open")))!function(){var r=e;me(r.parse_latex_group,r,s)}();else if(ze(Lr(s.tok,"macro")))!function(){var r=e;me(r.parse_macro,r,s)}();else if(ze(Lr(s.tok,"begin_environment")))!function(){var r=e;me(r.parse_environment,r,s)}();else if(ze(Lr(s.tok,"specials")))!function(){var r=e;me(r.parse_specials,r,s)}();else{if(!ze(Le(s.tok,ar(["mathmode_inline","mathmode_display"])))){var x=me(En,null,function(){var e="Unknown token type: {}";return me(e.format,e,s.tok)}(),we({pos:s.pos}));throw x.__cause__=null,x}!function(){var r=e;me(r.parse_math,r,s)}()}}}))},get make_child_parsing_state(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":r=a[i];break;case"node_class":n=a[i]}}}return ze(null!==e._make_child_parsing_state_fn)?me((o=e)._make_child_parsing_state_fn,o,we({parsing_state:r,node_class:n})):e.parsing_state;var o}))},get parse_comment_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"tok":r=t[a]}}}var i,o=me((i=e.latex_walker).make_node,i,Gn,we({parsing_state:e.parsing_state,comment:r.arg,comment_post_space:r.post_space,pos:r.pos,pos_end:r.pos_end})),l=function(){var r=e;return me(r.push_to_nodelist,r,o)}();if(ze(null!==l)){l.pos_end=r.pos_end,function(){var e=Ha;me(e.debug,e,"parse_comment_node(): stop_exc=%r",l)}();var s=l;throw s.__cause__=null,s}}))},get parse_latex_group(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"tok":r=t[a]}}}var i;me((i=Ha).debug,i,"nodes collector is now parsing a latex group, %r",r),function(){var n=e.token_reader;me(n.move_to_token,n,r,we({rewind_pre_space:!1}))}();var o=function(){var n=e.latex_walker;return me(n.make_latex_group_parser,n,we({delimiters:r.arg}))}(),l=function(){var r,n=e.latex_walker;return me(n.parse_content,n,o,we({token_reader:e.token_reader,parsing_state:(r=e,me(r.make_child_parsing_state,r,e.parsing_state,Bn))}))}(),s=l[0],_=l[1];ze(null!==_)&&function(){var e=Ha;me(e.warning,e,"parsing_state_delta is ignored after parsing a LaTeX group: %r",_)}();var u=function(){var r=e;return me(r.push_to_nodelist,r,s)}();if(ze(null!==u)){u.pos_end=s.pos_end,function(){var e=Ha;me(e.debug,e,"parse_latex_group(): stop_exc=%r",u)}();var c=u;throw c.__cause__=null,c}!function(){var e=Ha;me(e.debug,e,"nodes collector finished parsing group  %r",s)}()}))},get parse_macro(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"tok":r=t[a]}}}var i,o=r.arg,l=null;if(ze(null!==e.parsing_state.latex_context))l=me((i=e.parsing_state.latex_context).get_macro_spec,i,o);if(ze(null===l)){var s=function(){var n,t=e.latex_walker;return me(t.check_tolerant_parsing_ignore_error,t,me(En,null,we({msg:(n="Encountered unknown macro \\{}",me(n.format,n,o)),pos:r.pos,error_type_info:yr({what:"nodes_unknown_macro_name",macroname:o})})))}();if(ze(null!==s)){var _=s;throw _.__cause__=null,_}l=null}var u=Wn,c=function(){var e="macro \\{}";return me(e.format,e,o)}();return function(){var n=e;return me(n.parse_invocable_token_type,n,r,l,u,c)}()}))},get parse_environment(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"tok":r=t[a]}}}var i,o=e.latex_walker,l=r.arg;if(ze(null===(u=me((i=e.parsing_state.latex_context).get_environment_spec,i,l)))){var s=function(){var e,n=o;return me(n.check_tolerant_parsing_ignore_error,n,me(En,null,we({msg:(e="Encountered unknown environment {}{}{}",me(e.format,e,"{",l,"}")),pos:r.pos,error_type_info:yr({what:"nodes_unknown_environment_name",environmentname:l})})))}();if(ze(null!==s)){var _=s;throw _.__cause__=null,_}var u=null}var c=Vn,f=function(){var e="environment {}{}{}";return me(e.format,e,"{",l,"}")}();return function(){var n=e;return me(n.parse_invocable_token_type,n,r,u,c,f)}()}))},get parse_specials(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"tok":r=t[a]}}}var i,o=r.arg,l=$n,s=me((i="specials {}").format,i,me(Ee,null,o,"specials_chars","<unkonwn>"));return function(){var n=e;return me(n.parse_invocable_token_type,n,r,o,l,s)}()}))},get parse_invocable_token_type(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"tok":r=o[l];break;case"spec":n=o[l];break;case"node_class":t=o[l];break;case"what":a=o[l]}}}var s,_=e.latex_walker,u=e.token_reader;if(ze(null!==n))var c=me((s=n).get_node_parser,s,r);else c=null;if(ze(null===c)){var f=function(){var e,n=_;return me(n.check_tolerant_parsing_ignore_error,n,me(En,null,we({msg:(e="No parser found for callable token {!r}",me(e.format,e,r)),pos:r.pos})))}();if(ze(null!==f))throw function(){var e=Ha;me(e.debug,e,"parse_invocable_token_type(): no-parser error, exc=%r",f)}(),(g=f).__cause__=null,g;var d=null,p=null}else{var h=function(){var n,i=_;return me(i.parse_content,i,c,u,me((n=e).make_child_parsing_state,n,e.parsing_state,t),we({open_context:ar([a,r])}))}();d=h[0],p=h[1]}if(function(){var r=e;me(r.update_state_from_parsing_state_delta,r,p)}(),ze(null===d))!function(){var e=Ha;me(e.warning,e,"Parser %r produced no node (None) for token %r",c,r)}();else{var g;f=function(){var r=e;return me(r.push_to_nodelist,r,d)}();if(ze(null!==f))throw f.pos_end=d.pos_end,function(){var e=Ha;me(e.debug,e,"parse_invocable_token_type(): exc=%r",f)}(),(g=f).__cause__=null,g}}))},get parse_math(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"tok":r=t[a]}}}var i;me((i=Ha).debug,i,"parse_math, tok=%r",r),function(){var n=e.token_reader;me(n.move_to_token,n,r,we({rewind_pre_space:!1}))}();var o=function(){var r=e;return me(r.make_child_parsing_state,r,e.parsing_state,Qn)}();!function(){var e=Ha;me(e.debug,e,"child_math_parsing_state = %r",o)}();var l=function(){var n=e.latex_walker;return me(n.make_latex_math_parser,n,we({math_mode_delimiters:r.arg}))}(),s=function(){var r=e.latex_walker;return me(r.parse_content,r,l,we({token_reader:e.token_reader,parsing_state:o}))}(),_=s[0],u=s[1];if(function(){var r=e;me(r.update_state_from_parsing_state_delta,r,u)}(),ze(null===_))!function(){var e=Ha;me(e.warning,e,"Math parser produced no node (None) for token %r",r)}();else{var c=function(){var r=e;return me(r.push_to_nodelist,r,_)}();if(ze(null!==c)){c.pos_end=_.pos_end,function(){var e=Ha;me(e.debug,e,"parse_math_node(): stop_exc=%r",c)}();var f=c;throw f.__cause__=null,f}}}))}}),Qa={};fe(Qa,"",pn);var Ya="llm.llmrendercontext",Xa=(me(Qa.getLogger,Qa,Ya),ve("LLMRenderContext",[ge],{__module__:Ya,is_standalone_mode:!1,is_first_pass:!0,get __init__(){return de(this,(function(e,r){var n=null,t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"fragment_renderer":r=i[o];break;case"doc":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,Xa,"__init__"),null,e,we(t)),e.doc=n,e.fragment_renderer=r,e.pass_name=null,e.is_first_pass=!0,e._logical_state=yr({}),e._nodes_determined_as_delayed=yr({})}))},get supports_feature(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"feature_name":r=t[a]}}}return!1}))},get feature_render_manager(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"feature_name":r=t[a]}}}return null}))},get register_delayed_render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"fragment_renderer":n=a[i]}}}var o=me(RuntimeError,null,"This render context does not support delayed rendering");throw o.__cause__=null,o}))},get get_delayed_render_content(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i=me(RuntimeError,null,"This render context does not support delayed rendering");throw i.__cause__=null,i}))},get get_is_delayed_render(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}if(ze(Le(r.node_id,e._nodes_determined_as_delayed)))return qr(e._nodes_determined_as_delayed,r.node_id);if(ze(me(qe,null,i=r.llm_specinfo.delayed_render)))var i=me(is_delayed_render,null,r,render_context);return Fr(e._nodes_determined_as_delayed,r.node_id,i),i}))},get set_render_pass(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"pass_name":r=t[a]}}}e.pass_name=r,ze(null===r)?e.is_first_pass=!0:e.is_first_pass=!1}))},get get_logical_state(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"domainname":r=t[a]}}}return ze(!Le(r,e._logical_state))&&Fr(e._logical_state,r,yr({})),qr(e._logical_state,r)}))},get push_logical_state(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"domainname":r=i[o];break;case"propname":n=i[o];break;case"value":t=i[o]}}}return me(Za,null,e,r,n,t)}))}})),Za=ve("_RenderContextPushLogicalState",[ge],{__module__:Ya,get __init__(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"render_context":r=o[l];break;case"domainname":n=o[l];break;case"propname":t=o[l];break;case"value":a=o[l]}}}me(me(ye,null,Za,"__init__"),null,e),e.render_context=r,e.domainname=n,e.propname=t,e.value=a}))},get __enter__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=me((a=e.render_context).get_logical_state,a,e.domainname);ze(Le(e.propname,i))?(e.old_value_exists=!0,e.old_value=qr(i,e.propname)):(e.old_value_exists=!1,e.old_value=null),Fr(i,e.propname,e.value)}))},get __exit__(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"exc_type":r=i[o];break;case"exc_value":n=i[o];break;case"traceback":t=i[o]}}}var l,s=me((l=e.render_context).get_logical_state,l,e.domainname);ze(!ze(e.old_value_exists))?function(){var r=s;me(r.py_pop,r,e.propname)}():Fr(s,e.propname,e.old_value)}))}}),Ka=ve("LLMStandaloneModeRenderContext",[Xa],{__module__:Ya,is_standalone_mode:!0,get __init__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"fragment_renderer":r=t[a]}}}me(me(ye,null,Ka,"__init__"),null,e,we({fragment_renderer:r}))}))},get supports_feature(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"feature_name":r=t[a]}}}return!1}))},get feature_render_manager(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"feature_name":r=t[a]}}}var i=me($r,null,"There are no document features when rendering LLM text in standalone mode (reqested {})".format(r));throw i.__cause__=null,i}))},get register_delayed_render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"fragment_renderer":n=a[i]}}}var o=me($r,null,"Cannot render nodes with delayed content in standalone mode".format());throw o.__cause__=null,o}))},get get_delayed_render_content(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i=me($r,null,"There's no delayed render content in standalone mode".format());throw i.__cause__=null,i}))}}),Ja={};e(Ja,"LatexParserBase",(function(){return ei})),e(Ja,"LatexOptionalCharsMarkerParser",(function(){return Si})),e(Ja,"LatexDelimitedExpressionParserOpeningDelimiterNotFound",(function(){return pi})),e(Ja,"LatexVerbatimEnvironmentContentsParser",(function(){return ai})),e(Ja,"LatexDelimitedGroupParserInfo",(function(){return vi})),e(Ja,"LatexSingleNodeParser",(function(){return _i})),e(Ja,"LatexDelimitedVerbatimParser",(function(){return ti})),e(Ja,"LatexGeneralNodesParser",(function(){return si})),e(Ja,"LatexDelimitedExpressionParser",(function(){return gi})),e(Ja,"LatexVerbatimBaseParser",(function(){return ni})),e(Ja,"LatexCharsCommaSeparatedListParser",(function(){return Mi})),e(Ja,"LatexCharsGroupParser",(function(){return Ti})),e(Ja,"LatexExpressionParser",(function(){return xi})),e(Ja,"LatexDelimitedGroupParser",(function(){return mi})),e(Ja,"get_standard_argument_parser",(function(){return Ni})),e(Ja,"LatexOptionalSquareBracketsParser",(function(){return Oi})),e(Ja,"LatexDelimitedExpressionParserInfo",(function(){return hi})),e(Ja,"LatexStandardArgumentParser",(function(){return zi})),e(Ja,"LatexMathParser",(function(){return Ui})),e(Ja,"LatexTackOnInformationFieldMacrosParser",(function(){return Ri}));var ei=ve("LatexParserBase",[ge],{__module__:"pylatexenc.latexnodes.parsers._base",get __init__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}me(me(ye,null,ei,"__init__"),null,e)}))},get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}var s=me(RuntimeError,null,"LatexParserBase subclasses must reimplement parse()");throw s.__cause__=null,s}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return!0}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="<{}>").format,a,e.__class__.__name__);var a}))}}),ri="pylatexenc.latexnodes.parsers._verbatim",ni=ve("LatexVerbatimBaseParser",[ei],{__module__:ri,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}me(me(ye,null,ni,"__init__"),null,e,we(r))}))},VerbatimInfo:ve("VerbatimInfo",[ge],{__module__:ri,get __init__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}me(me(ye,null,ni.VerbatimInfo,"__init__"),null,e),e.parsed_delimiters=ar([null,null])}))}}),get new_char_check_stop_condition(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"char":r=o[l];break;case"verbatim_string":n=o[l];break;case"verbatim_info":t=o[l];break;case"parsing_state":a=o[l]}}}return!!ze(n)}))},get error_end_of_stream(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"pos":r=o[l];break;case"recovery_nodes":n=o[l];break;case"latex_walker":t=o[l];break;case"verbatim_info":a=o[l]}}}var s=me(Nn,null,we({msg:"End of stream reached while reading verbatim content",pos:r,recovery_nodes:n,error_type_info:yr({what:"verbatim_unexpected_end_of_stream",verbatim_delimiters:a.parsed_delimiters})}));throw s.__cause__=null,s}))},get finalize_verbatim_string(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"verbatim_string":r=a[i];break;case"verbatim_info":n=a[i]}}}return n.pos_start=n.content_pos_start,n.pos_end=Or(n.content_pos_start,me(Ne,null,r)),r}))},get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}var s,_=me((s=ni).VerbatimInfo,s);return _.original_pos=function(){var e=n;return me(e.cur_pos,e)}(),function(){var i=e;return me(i.read_verbatim_content,i,r,n,t,we(Pe({verbatim_info:_},a)))}()}))},get read_verbatim_content(){return de(this,(function(e,r,n,t,a){var i=yr();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"latex_walker":r=l[s];break;case"token_reader":n=l[s];break;case"parsing_state":t=l[s];break;case"verbatim_info":a=l[s];break;default:i[s]=l[s]}delete i.__kwargtrans__}}var _,u="",c=!1,f=!1;for(a.content_pos_start=me((_=n).cur_pos,_);ze(!ze(c));){try{var d=function(){var e=n;return me(e.next_chars,e,1,we({parsing_state:t}))}()}catch(e){if(!Ae(e,zn))throw e;d=null,f=!0}var p=function(){var r=e;return me(r.new_char_check_stop_condition,r,d,u,a,t)}();if(ze(p)){c=!0;ze(ze(!0!==p)&&ze(null!==d)&&qr(p,"put_back_char"))&&function(){var e,r=n;me(r.move_to_pos_chars,r,Sr(me((e=n).cur_pos,e),1))}()}else{if(ze(null===d))break;u=me(Rr,null,u,d)}}u=function(){var r=e;return me(r.finalize_verbatim_string,r,u,a)}();var h=a.pos_start,g=a.pos_end,v=function(){var e=r;return me(e.make_node,e,Un,we({chars:u,pos:h,pos_end:g,parsing_state:t}))}();return ze(ze(!ze(c))&&f)?function(){var n=e;return me(n.error_end_of_stream,n,we({pos:g,recovery_nodes:v,latex_walker:r,verbatim_info:a}))}():ar([v,null])}))}}),ti=ve("LatexDelimitedVerbatimParser",[ni],{__module__:ri,get __init__(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"delimiters":r=i[o];break;case"auto_delimiters":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,ti,"__init__"),null,e,we(t)),e.delimiters=r,ze(null!==n)?e.auto_delimiters=me(yr,null,n):e.auto_delimiters=yr({"{":"}","[":"]","<":">","(":")"}),e.depth_counter=1,e.parsed_delimiters=null}))},get new_char_check_stop_condition(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"char":r=o[l];break;case"verbatim_string":n=o[l];break;case"verbatim_info":t=o[l];break;case"parsing_state":a=o[l]}}}if(ze(null===r))return!1;if(ze(Lr(r,qr(t.parsed_delimiters,1)))){if(e.depth_counter=me(Dr,null,e.depth_counter,1),ze(zr(e.depth_counter,0)))return!0}else ze(Lr(r,qr(t.parsed_delimiters,0)))&&(e.depth_counter=me(Rr,null,e.depth_counter,1));return!1}))},get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}var s,_=me((s=ni).VerbatimInfo,s);if(function(){var e=n;me(e.skip_space_chars,e,t)}(),_.original_pos=function(){var e=n;return me(e.cur_pos,e)}(),ze(null===e.delimiters)){var u=function(){var e=n;return me(e.next_chars,e,1,we({parsing_state:t}))}(),c=function(){var r=e.auto_delimiters;return me(r.py_get,r,u,u)}();_.parsed_delimiters=ar([u,c])}else{_.parsed_delimiters=e.delimiters;var f=function(){var e=n;return me(e.next_chars,e,1,we({parsing_state:t}))}();if(ze(jr(f,qr(_.parsed_delimiters,0)))){var d=me(En,null,we({msg:function(){var e="Expected opening delimiter {} for verbatim content";return me(e.format,e,qr(_.parsed_delimiters,0))}(),pos:pos,error_type_info:yr({what:"verbatim_expected_opening_delimiter_not_found",expected_delimiters:_.parsed_delimiters})}));throw d.__cause__=null,d}}var p=function(){var i=e;return me(i.read_verbatim_content,i,r,n,t,we(Pe({verbatim_info:_},a)))}(),h=p[0],g=(p[1],function(){var e,n=r;return me(n.make_node,n,Bn,we({delimiters:_.parsed_delimiters,nodelist:(e=r,me(e.make_nodelist,e,[h],we({parsing_state:t}))),pos:_.original_pos,pos_end:Or(h.pos_end,me(Ne,null,qr(_.parsed_delimiters,1))),parsing_state:t}))}());return ar([g,null])}))}}),ai=ve("LatexVerbatimEnvironmentContentsParser",[ni],{__module__:ri,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="verbatim";var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"environment_name":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}me(me(ye,null,ai,"__init__"),null,e,we(n)),e.environment_name=r}))},get new_char_check_stop_condition(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"char":r=o[l];break;case"verbatim_string":n=o[l];break;case"verbatim_info":t=o[l];break;case"parsing_state":a=o[l]}}}return!!ze((s=n,me(s.endswith,s,t.end_environment_code)))&&yr({put_back_char:!0});var s}))},get finalize_verbatim_string(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"verbatim_string":r=a[i];break;case"verbatim_info":n=a[i]}}}var o,l=n.end_environment_code;xe(me((o=r).endswith,o,l));r=Ur(r,0,br(me(Ne,null,l)),1);var s=n.original_pos;if(ze(function(){var e=r;return me(e.startswith,e,"\n")}()))r=Ur(r,1,null,1),s=me(Rr,null,s,1);return n.pos_start=s,n.pos_end=Or(s,me(Ne,null,r)),r}))},get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}var s,_=me((s=ni).VerbatimInfo,s);_.original_pos=function(){var e=n;return me(e.cur_pos,e)}(),_.end_environment_code=Or(Or(Or(t.macro_escape_char,"end{"),e.environment_name),"}");var u=function(){var i=e;return me(i.read_verbatim_content,i,r,n,t,_,we(a))}(),c=u[0],f=(u[1],function(){var e=r;return me(e.make_nodelist,e,[c],we({parsing_state:t}))}());return ar([f,null])}))}}),ii=(D=i("fOdIC"),{});fe(ii,"",pn);var oi="pylatexenc.latexnodes.parsers._generalnodes",li=me(ii.getLogger,ii,oi),si=ve("LatexGeneralNodesParser",[ei],{__module__:oi,get __init__(){return de(this,(function(e,r,n,t,a,i,o,l,s){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(void 0===l||null!=l&&l.hasOwnProperty("__kwargtrans__"))l=!0;if(void 0===s||null!=s&&s.hasOwnProperty("__kwargtrans__"))s=null;var _=yr();if(arguments.length){var u=arguments.length-1;if(arguments[u]&&arguments[u].hasOwnProperty("__kwargtrans__")){var c=arguments[u--];for(var f in c)switch(f){case"self":e=c[f];break;case"stop_token_condition":r=c[f];break;case"stop_nodelist_condition":n=c[f];break;case"require_stop_condition_met":t=c[f];break;case"stop_condition_message":a=c[f];break;case"make_child_parsing_state":i=c[f];break;case"handle_stop_condition_token":o=c[f];break;case"include_stop_token_pre_space_chars":l=c[f];break;case"handle_stop_data":s=c[f];break;default:_[f]=c[f]}delete _.__kwargtrans__}}me(me(ye,null,si,"__init__"),null,e,we(_)),e.stop_token_condition=r,e.stop_nodelist_condition=n,e.require_stop_condition_met=t,e.stop_condition_message=a,e.make_child_parsing_state=i,e.handle_stop_condition_token=o,e.handle_stop_data=s,e.include_stop_token_pre_space_chars=l}))},get make_nodes_collector(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"latex_walker":r=i[o];break;case"token_reader":n=i[o];break;case"parsing_state":t=i[o]}}}return me((l=r).make_nodes_collector,l,we({token_reader:n,parsing_state:t,stop_token_condition:e.stop_token_condition,stop_nodelist_condition:e.stop_nodelist_condition,make_child_parsing_state:e.make_child_parsing_state,include_stop_token_pre_space_chars:e.include_stop_token_pre_space_chars}));var l}))},get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}var s,_=me((s=n).cur_pos,s),u=function(){var a=e;return me(a.make_nodes_collector,a,r,n,t)}();try{!function(){var e=u;me(e.process_tokens,e)}()}catch(e){if(Ae(e,En)){var c=e;!function(){var e=li;me(e.debug,e,"Got parse error while reading general nodes: %r",c)}();var f=function(){var e=u;return me(e.get_final_nodelist,e)}();ze(null===f.pos)&&(f.pos=_),ze(null===f.pos_end)&&(f.pos_end=_);var d=me(Nn,null,we({msg:c.msg,pos:c.pos,open_contexts:c.open_contexts,error_type_info:c.error_type_info,recovery_nodes:f,recovery_parsing_state_delta:function(){var e=u;return me(e.get_parser_parsing_state_delta,e)}()}));throw d.__cause__=null,d}throw e}var p=function(){var e=u;return me(e.get_final_nodelist,e)}();ze(null===p.pos)&&(p.pos=_),ze(null===p.pos_end)&&(p.pos_end=_);var h=function(){var e=u;return me(e.stop_token_condition_met,e)}(),g=function(){var e=u;return me(e.stop_nodelist_condition_met,e)}();if(ze(!ze(e.require_stop_condition_met)))var v=!0;else{v=!1;if(ze(null!==e.stop_token_condition)){if(ze(h))v=!0}else if(ze(null!==e.stop_nodelist_condition)){if(ze(g))v=!0}else v=!0}if(function(){var r=li;me(r.debug,r,"finished parsing general nodes; self.require_stop_condition_met=%r, stop_token_condition=%r, stop_token_condition_met=%r, stop_nodelist_condition=%r, stop_nodelist_condition_met=%r;met_a_required_stop_condition=%r",e.require_stop_condition_met,e.stop_token_condition,h,e.stop_nodelist_condition,g,v)}(),ze(!ze(v))){if(ze(null===(m=e.stop_condition_message)))var m="End of stream encountered while parsing nodes without stop condition being met [reporting starting position]";var w=me(Nn,null,we({msg:m,pos:function(){var e=u;return me(e.pos_start,e)}(),recovery_nodes:p,recovery_parsing_state_delta:function(){var e=u;return me(e.get_parser_parsing_state_delta,e)}(),error_type_info:yr({what:"nodes_generalnodes_required_stop_condition_not_met",stop_condition_message:e.stop_condition_message})})),y=w;throw y.__cause__=null,y}if(ze(ze(h)&&null!==e.handle_stop_condition_token)){var k=function(){var e=u;return me(e.stop_token_condition_met_token,e)}();ze(null!==k)&&function(){var a=e;me(a.handle_stop_condition_token,a,k,we({latex_walker:r,token_reader:n,parsing_state:t}))}()}var b=function(){var e=u;return me(e.stop_condition_stop_data,e)}();ze(ze(null!==b)&&null!==e.handle_stop_data)&&function(){var a=e;me(a.handle_stop_data,a,b,we({latex_walker:r,token_reader:n,parsing_state:t}))}();var x=p,P=function(){var e=u;return me(e.get_parser_parsing_state_delta,e)}();return function(){var e=li;me(e.debug,e,"parser - we got final nodelist - %r",x)}(),ar([x,P])}))}}),_i=ve("LatexSingleNodeParser",[si],{__module__:oi,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"stop_on_comment":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}me(me(ye,null,_i,"__init__"),null,e,we(Pe({stop_nodelist_condition:e._stop_nodelist_condition,require_stop_condition_met:!1},n))),e.stop_on_comment=r}))},get _stop_nodelist_condition(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"nodelist":r=t[a]}}}var i=r;if(ze(!ze(e.stop_on_comment)))i=function(){for(var e,r=[],n=i,t=0;t<Ne(n);t++){var a=qr(n,t);ze(!ze((e=void 0,e=a,me(e.isNodeType,e,Gn))))&&me(r.append,r,a)}return r}();return!!ze(Mr(me(Ne,null,i),1))}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return!1}))}}),ui={};fe(ui,"",pn);var ci="pylatexenc.latexnodes.parsers._delimited",fi=me(ui.getLogger,ui,ci),di=or,pi=ve("LatexDelimitedExpressionParserOpeningDelimiterNotFound",[Wr],{__module__:ci,get __init__(){return de(this,(function(e,r,n){var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"first_tokens":r=i[o];break;case"msg":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,pi,"__init__"),null,e,we(t)),e.first_tokens=r,e.msg=n}))}}),hi=ve("LatexDelimitedExpressionParserInfo",[ge],{__module__:ci,get get_group_parsing_state(){return pe(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"cls":e=o[l];break;case"parsing_state":r=o[l];break;case"delimiters":n=o[l];break;case"delimited_expression_parser":t=o[l];break;case"latex_walker":a=o[l]}}}return r}))},get get_acceptable_open_delimiter_list(){return pe(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"cls":e=o[l];break;case"delimiters":r=o[l];break;case"group_parsing_state":n=o[l];break;case"delimited_expression_parser":t=o[l];break;case"latex_walker":a=o[l]}}}return[]}))},get parse_initial(){return pe(this,(function(e,r,n,t,a,i,o){if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"cls":e=s[_];break;case"delimiters":r=s[_];break;case"allow_pre_space":n=s[_];break;case"latex_walker":t=s[_];break;case"token_reader":a=s[_];break;case"group_parsing_state":i=s[_];break;case"delimited_expression_parser":o=s[_]}}}var u,c=me((u=a).next_token,u,we({parsing_state:i})),f=!0;if(ze(ze(!ze(n))&&c.pre_space))f=!1;else if(ze(!ze(function(){var n=e;return me(n.is_opening_delimiter,n,we({delimiters:r,first_token:c,group_parsing_state:i,delimited_expression_parser:o,latex_walker:t}))}())))f=!1;if(ze(!ze(f))){var d=function(){var n=e;return me(n.get_acceptable_open_delimiter_list,n,we({delimiters:r,group_parsing_state:i,delimited_expression_parser:o,latex_walker:t}))}();if(ze(!ze(d)))var p="??";else p=me(", ".join,", ",function(){for(var e,r=[],n=d,t=0;t<Ne(n);t++){var a=qr(n,t);e=void 0,me(r.append,r,me((e="{}").format,e,a))}return r}());var h=me(pi,null,we({msg:function(){var e="Expected an opening LaTeX delimiter ({}), got {}/{}{}";return me(e.format,e,p,c.tok,c.arg,ze(c.pre_space)?" with leading whitespace":"")}(),first_tokens:[c]}));throw h.__cause__=null,h}return[c]}))},get is_opening_delimiter(){return pe(this,(function(e,r,n,t,a,i){if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"cls":e=l[s];break;case"delimiters":r=l[s];break;case"first_token":n=l[s];break;case"group_parsing_state":t=l[s];break;case"delimited_expression_parser":a=l[s];break;case"latex_walker":i=l[s]}}}var _=me(RuntimeError,null,"Subclasses must reimplement is_opening_delimiter()");throw _.__cause__=null,_}))},get check_opening_delimiter(){return pe(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"cls":e=i[o];break;case"delimiters":r=i[o];break;case"parsed_opening_delimiter":n=i[o];break;case"latex_walker":t=i[o]}}}if(ze(null===r))return!0;if(ze(me(Ae,null,r,di)))var l=r;else l=qr(r,0);return!ze(jr(n,l))}))},get __init__(){return de(this,(function(e,r,n,t,a,i,o){if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"delimited_expression_parser":r=s[_];break;case"opening_delimiter_tokens":n=s[_];break;case"group_parsing_state":t=s[_];break;case"parsing_state":a=s[_];break;case"delimiters":i=s[_];break;case"latex_walker":o=s[_]}}}me(me(ye,null,hi,"__init__"),null,e),e.delimited_expression_parser=r,e.opening_delimiter_tokens=n,ze(n)?e.first_token=qr(n,0):e.first_token=null,e.group_parsing_state=t,e.parsing_state=a,e.delimiters=i,e.latex_walker=o,e.contents_parsing_state=e.group_parsing_state,e.child_parsing_state_delta=null,e.parsed_delimiters=ar([null,null])}))},get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a;e.contents_parsing_state=e.group_parsing_state,e.child_parsing_state_delta=null,e.parsed_delimiters=me((a=e).get_parsed_delimiters,a)}))},get stop_token_condition(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token":r=t[a]}}}var i=me(RuntimeError,null,"Subclasses must reimplement stop_token_condition()");throw i.__cause__=null,i}))},get handle_stop_condition_token(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"token":r=o[l];break;case"latex_walker":n=o[l];break;case"token_reader":t=o[l];break;case"parsing_state":a=o[l]}}}var s;me((s=t).move_past_token,s,r),function(){var e=fi;me(e.debug,e,"LatexDelimitedExpressionParser moved token reader past token %r",r)}()}))},get make_child_parsing_state(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":r=a[i];break;case"node_class":n=a[i]}}}return ze(null!==e.child_parsing_state_delta)?(me((o=fi).debug,o,"Requested child parsing state, applying delta %r",e.child_parsing_state_delta),me(gt,null,e.group_parsing_state,e.child_parsing_state_delta,e.latex_walker)):(function(){var e=fi;me(e.debug,e,"Requested child parsing state, keeping default %r",r)}(),r);var o}))},get get_matching_delimiter(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"opening_delimiter":r=t[a]}}}return r}))},get get_parsed_delimiters(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=e.first_token;if(ze(null===(o=e.delimiters)))var o=i.arg;if(ze(me(Ae,null,o,di))){var l=o,s=me((a=e).get_matching_delimiter,a,l);return ar([l,s])}return o}))},get make_content_parser(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"latex_walker":r=a[i];break;case"token_reader":n=a[i]}}}if(ze(qr(e.parsed_delimiters,1)))var o=me((l="matching {}").format,l,qr(e.parsed_delimiters,1));else o="matching closing delimiter";var l;return me(si,null,we({make_child_parsing_state:e.make_child_parsing_state,stop_token_condition:e.stop_token_condition,require_stop_condition_met:!0,handle_stop_condition_token:e.handle_stop_condition_token,stop_condition_message:function(){var r="Expected {} after {}";return me(r.format,r,o,qr(e.parsed_delimiters,0))}()}))}))},get get_open_context_description(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ar([(a="Delimited expression {}{}",me.apply(void 0,[a.format,a].concat((0,D.default)(e.parsed_delimiters)))),e.first_token]);var a}))},get make_group_node_and_parsing_state_delta(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"nodelist":t=o[l];break;case"parsing_state_delta":a=o[l]}}}var s,_=me((s=n).cur_pos,s),u=function(){var n=r;return me(n.make_node,n,Bn,we({nodelist:t,parsing_state:e.group_parsing_state,delimiters:e.parsed_delimiters,pos:e.first_token.pos,pos_end:_}))}();return ar([u,a])}))}}),gi=ve("LatexDelimitedExpressionParser",[ei],{__module__:ci,get __init__(){return de(this,(function(e,r,n,t,a,i){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!1;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=!0;var o=yr();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"delimiters":r=s[_];break;case"delimited_expression_parser_info_class":n=s[_];break;case"optional":t=s[_];break;case"allow_pre_space":a=s[_];break;case"discard_parsing_state_delta":i=s[_];break;default:o[_]=s[_]}delete o.__kwargtrans__}}me(me(ye,null,gi,"__init__"),null,e,we(o)),e.delimiters=r,e.optional=t,e.allow_pre_space=a,e.discard_parsing_state_delta=i,e.delimited_expression_parser_info_class=n}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e.optional}))},get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}var s,_=me((s=e.delimited_expression_parser_info_class).get_group_parsing_state,s,we({parsing_state:t,delimiters:e.delimiters,delimited_expression_parser:e,latex_walker:r})),u=null;try{u=function(){var t=e.delimited_expression_parser_info_class;return me(t.parse_initial,t,we({delimiters:e.delimiters,allow_pre_space:e.allow_pre_space,latex_walker:r,token_reader:n,group_parsing_state:_,delimited_expression_parser:e}))}()}catch(t){if(Ae(t,pi)){var c=t,f=null;if(ze(ze(null!==c.first_tokens)&&me(Ne,null,c.first_tokens)))f=qr(c.first_tokens,0);if(ze(e.optional))return ze(ze(null!==c.first_tokens)&&me(Ne,null,c.first_tokens))&&function(){var e=n;me(e.move_to_token,e,f)}(),ar([null,null]);var d=null;if(ze(null!==f))d=f;var p=me(Nn,null,we({msg:c.msg,pos:d,recovery_nodes:function(){var e=r;return me(e.make_nodelist,e,[],we({parsing_state:_,pos:f.pos,pos_end:f.pos}))}(),recovery_at_token:f,error_type_info:yr({what:"nodes_delimited_expected_opening_delimiter_not_found",first_tokens:c.first_tokens})}));throw p.__cause__=null,p}throw t}var h=function(){var n=e;return me(n.delimited_expression_parser_info_class,n,e,we({opening_delimiter_tokens:u,group_parsing_state:_,parsing_state:t,delimiters:e.delimiters,latex_walker:r}))}();!function(){var e=h;me(e.initialize,e)}();var g=function(){var e=h;return me(e.make_content_parser,e,r,n)}(),v=function(){var e,t=r;return me(t.parse_content,t,g,we({token_reader:n,parsing_state:h.contents_parsing_state,open_context:(e=h,me(e.get_open_context_description,e))}))}(),m=v[0],w=v[1];if(ze(ze(e.discard_parsing_state_delta)&&null!==w)){!function(){var e=fi;me(e.debug,e,"Discarding parsing state changes after delimited expression: %r",w)}();w=null}v=function(){var e=h;return me(e.make_group_node_and_parsing_state_delta,e,we({latex_walker:r,token_reader:n,nodelist:m,parsing_state_delta:w}))}();var y=v[0];return ar([y,w=v[1]])}))}}),vi=ve("LatexDelimitedGroupParserInfo",[hi],{__module__:ci,get get_group_parsing_state(){return pe(this,(function(e,r,n,t,a){var i,o=yr();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"cls":e=s[_];break;case"parsing_state":r=s[_];break;case"delimiters":n=s[_];break;case"delimited_expression_parser":t=s[_];break;case"latex_walker":a=s[_];break;default:o[_]=s[_]}delete o.__kwargtrans__}}if(ze(null===n))return r;if(ze(me(Ae,null,n,di))){if(ze(!Le(n,r._latex_group_delimchars_by_open))){var u=me($r,null,me((i="Delimiter {} not a valid latex group delimiter ({!r})").format,i,n,r.latex_group_delimiters));throw u.__cause__=null,u}return r}for(var c=me(ar,null,n),f=r.latex_group_delimiters,d=0;d<Ne(f);d++){var p=qr(f,d);if(ze(Lr(c,p)))return r}return function(){var e=r;return me(e.sub_context,e,we({latex_group_delimiters:Or(r.latex_group_delimiters,[c])}))}()}))},get get_acceptable_open_delimiter_list(){return pe(this,(function(e,r,n,t,a){var i=yr();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"cls":e=l[s];break;case"delimiters":r=l[s];break;case"group_parsing_state":n=l[s];break;case"delimited_expression_parser":t=l[s];break;case"latex_walker":a=l[s];break;default:i[s]=l[s]}delete i.__kwargtrans__}}return ze(null!==r)?ze(me(Ae,null,r,di))?[r]:[qr(r,0)]:function(){for(var e=[],r=n.latex_group_delimiters,t=0;t<Ne(r);t++){var a=qr(r,t),i=a[0];a[1];me(e.append,e,i)}return e}()}))},get is_opening_delimiter(){return pe(this,(function(e,r,n,t,a,i){var o,l=yr();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var _=arguments[s--];for(var u in _)switch(u){case"cls":e=_[u];break;case"delimiters":r=_[u];break;case"first_token":n=_[u];break;case"group_parsing_state":t=_[u];break;case"delimited_expression_parser":a=_[u];break;case"latex_walker":i=_[u];break;default:l[u]=_[u]}delete l.__kwargtrans__}}return!ze(jr(n.tok,"brace_open"))&&!ze(!ze((o=e,me(o.check_opening_delimiter,o,we({delimiters:r,parsed_opening_delimiter:n.arg,latex_walker:i})))))}))},get stop_token_condition(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token":r=t[a]}}}return!!ze(ze(Lr(r.tok,"brace_close"))&&Lr(r.arg,qr(e.parsed_delimiters,1)))&&(me((i=fi).debug,i,"LatexDelimitedGroupParser encountered the expected closing brace %r",r),!0);var i}))},get get_matching_delimiter(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"opening_delimiter":r=t[a]}}}return qr(e.group_parsing_state._latex_group_delimchars_by_open,r)}))}}),mi=ve("LatexDelimitedGroupParser",[gi],{__module__:ci,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=vi;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"delimiters":r=i[o];break;case"delimited_expression_parser_info_class":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,mi,"__init__"),null,e,we(Pe({delimiters:r,delimited_expression_parser_info_class:n},t)))}))}}),wi={};fe(wi,"",pn);var yi="pylatexenc.latexnodes.parsers._expression",ki=me(wi.getLogger,wi,yi),bi=ve("_TryAgainWithSkippedCommentNodes",[Wr],{__module__:yi,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"skipped_comment_nodes":r=a[i];break;case"pos":n=a[i]}}}me(me(ye,null,bi,"__init__"),null,e,"<internal>"),e.skipped_comment_nodes=r,e.pos=n}))}}),xi=ve("LatexExpressionParser",[ei],{__module__:yi,get __init__(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"include_skipped_comments":r=i[o];break;case"single_token_requiring_arg_is_error":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,xi,"__init__"),null,e,we(t)),e.include_skipped_comments=r,e.single_token_requiring_arg_is_error=n}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return!1}))},get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}for(var s,_=me((s=t).sub_context,s,we({enable_environments:!1})),u=[];ze(!0);){try{var c=function(){var i=e;return me(i._parse_single_token,i,r,n,_,we(Pe({parsing_state:t},a)))}()}catch(e){if(Ae(e,bi)){var f=e;u=me(Rr,null,u,f.skipped_comment_nodes);continue}throw e}if(ze(!ze(u=me(Rr,null,u,c))))var d=function(){var e,t=r;return me(t.make_nodelist,t,[],we({pos:(e=n,me(e.cur_pos,e)),pos_end:function(){var e=n;return me(e.cur_pos,e)}()}))}();else if(ze(Lr(me(Ne,null,u),1)))d=qr(u,0);else{var p=function(){var e=r;return me(e.make_nodelist,e,u)}();d=function(){var e=r;return me(e.make_node,e,Bn,we({parsing_state:t,nodelist:p,delimiters:ar(["",""]),pos:p.pos,pos_end:p.pos_end}))}()}return function(){var e=ki;me(e.debug,e,"thenodelist = %r",d)}(),ar([d,null])}}))},get _parse_single_token(){return de(this,(function(e,r,n,t,a){var i,o=yr();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"latex_walker":r=s[_];break;case"token_reader":n=s[_];break;case"expr_parsing_state":t=s[_];break;case"parsing_state":a=s[_];break;default:o[_]=s[_]}delete o.__kwargtrans__}}try{var u=me((i=n).next_token,i,we({parsing_state:t}))}catch(e){if(!Ae(e,jn)){if(Ae(e,zn)){f=e,d=function(){var e,t=r;return me(t.check_tolerant_parsing_ignore_error,t,me(En,null,"End of input encountered but we expected an expression",we({pos:(e=n,me(e.cur_pos,e)),error_type_info:yr({what:"expression_required_got_unexpected",unexpected:"end_of_stream"})})))}();if(ze(null!==d))throw(c=d).__cause__=null,c;return[]}throw e}var c,f=e,d=function(){var e=r;return me(e.check_tolerant_parsing_ignore_error,e,f)}();if(ze(null!==d))throw(c=d).__cause__=null,c;u=d.recovery_token_placeholder;!function(){var e=n;me(e.move_to_pos_chars,e,d.recovery_token_at_pos)}()}if(ze(Lr(u.tok,"macro"))){var p=u.arg;if(ze(ze(e.single_token_requiring_arg_is_error)&&Le(p,ar(["begin","end"])))){d=function(){var e,n=r;return me(n.check_tolerant_parsing_ignore_error,n,me(En,null,me((e="Expected expression, got \\{}").format,e,p),we({pos:u.pos,error_type_info:yr({what:"expression_required_got_unexpected",unexpected:"beginend",beginend:p})})))}();if(ze(null!==d)){var h=d;throw h.__cause__=null,h}return[function(){var e=r;return me(e.make_node,e,Wn,we({parsing_state:a,macroname:p,spec:null,nodeargd:null,macro_post_space:u.post_space,pos:u.pos,pos_end:u.pos_end}))}()]}var g=function(){var e=a.latex_context;return me(e.get_macro_spec,e,p)}(),v=function(){var n,t=e;return me(t._check_if_requires_args,t,r,g,u,me((n="a single macro \\{}").format,n,p))}();return[function(){var e=r;return me(e.make_node,e,Wn,we({parsing_state:a,macroname:u.arg,spec:g,nodeargd:v,macro_post_space:u.post_space,pos:u.pos,pos_end:u.pos_end}))}()]}if(ze(Lr(u.tok,"specials"))){var m=u.arg;v=function(){var n,t=e;return me(t._check_if_requires_args,t,r,m,u,me((n="specials {}").format,n,m.specials_chars))}();return[function(){var e=r;return me(e.make_node,e,$n,we({parsing_state:a,specials_chars:m.specials_chars,spec:m,nodeargd:v,pos:u.pos,pos_end:u.pos_end}))}()]}if(ze(Lr(u.tok,"comment"))){if(ze(e.include_skipped_comments))var w=[function(){var e=r;return me(e.make_node,e,Gn,we({parsing_state:a,comment:u.arg,comment_post_space:u.post_space,pos:u.pos,pos_end:u.pos_end}))}()];else w=[];var y=me(bi,null,w,u.pos);throw y.__cause__=null,y}if(ze(Lr(u.tok,"brace_open"))){!function(){var e=n;me(e.move_to_token,e,u)}();var k=function(){var e=r;return me(e.parse_content,e,me(mi,null,we({delimiters:u.arg})),we({token_reader:n,parsing_state:a}))}(),b=k[0],x=k[1];return function(){var e=ki;me(e.debug,e,"Got groupnode = %r",b)}(),ze(null!==x)&&function(){var e=ki;me(e.warning,e,"Ignoring parsing_state_delta after parsing an expression group!")}(),[b]}if(ze(Lr(u.tok,"brace_close"))){!function(){var e=n;me(e.move_to_token,e,u)}();d=me(Nn,null,we({msg:function(){var e="Expected LaTeX expression, got closing brace {}";return me(e.format,e,u.arg)}(),pos:u.pos,recovery_nodes:function(){var e=r;return me(e.make_node,e,Un,we({parsing_state:a,chars:"",pos:u.pos,pos_end:u.pos}))}(),recovery_at_token:u,error_type_info:yr({what:"expression_required_got_unexpected",unexpected:"closing_latex_group",delimiter:u.arg})}));d._error_was_unexpected_closing_brace_in_expression=!0;var P=d;throw P.__cause__=null,P}if(ze(Lr(u.tok,"char")))return[function(){var e=r;return me(e.make_node,e,Un,we({parsing_state:a,chars:u.arg,pos:u.pos,pos_end:u.pos_end}))}()];if(ze(Le(u.tok,ar(["mathmode_inline","mathmode_display"])))){if(ze(function(){var e=u.arg;return me(e.startswith,e,"\\")}()))var O=function(){var e=r;return me(e.make_node,e,Wn,we({parsing_state:a,macroname:u.arg,macro_post_space:u.post_space,pos:u.pos,pos_end:u.pos_end}))}();else O=function(){var e=r;return me(e.make_node,e,Un,we({parsing_state:a,chars:u.arg,pos:u.pos,pos_end:u.pos_end}))}();var S=me(Nn,null,function(){var e="Unexpected math mode delimiter {}, was expecting a LaTeX expression";return me(e.format,e,u.arg)}(),we({pos:u.pos,recovery_nodes:O,recovery_past_token:u,error_type_info:yr({what:"expression_required_got_unexpected",unexpected:"math_mode_delimiter",mathmode_type:u.tok,delimiter:u.arg})}));throw S.__cause__=null,S}var E=me(En,null,function(){var e="Unknown token type: {}";return me(e.format,e,u.tok)}(),we({pos:u.pos}));throw E.__cause__=null,E}))},get _check_if_requires_args(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"spec":n=o[l];break;case"got_token":t=o[l];break;case"what_we_got":a=o[l]}}}if(ze(e.single_token_requiring_arg_is_error)){var s=(f=me((c=n).get_node_parser,c,t),me(f.contents_can_be_empty,f));if(function(){var e=ki;me(e.debug,e,"Checking if %s/%s requires an arg: %r",t.tok,t.arg,s)}(),ze(!ze(s))){var _=function(){var e=r;return me(e.check_tolerant_parsing_ignore_error,e,me(En,null,function(){var e="Expected a LaTeX expression but got {} which expects arguments; did you mean to provide an expression in {{curly braces}} ?";return me(e.format,e,a)}(),we({pos:t.pos,error_type_info:yr({what:"expression_required_got_unexpected",unexpected:"callable_with_mandatory_arguments",callable_token:t})})))}();if(ze(null!==_)){var u=_;throw u.__cause__=null,u}return null}}var c,f;return me(Dn,null)}))}}),Pi="pylatexenc.latexnodes.parsers._optionals",Oi=ve("LatexOptionalSquareBracketsParser",[mi],{__module__:Pi,get __init__(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=ar(["[","]"]);if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"delimiters":r=i[o];break;case"optional":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,Oi,"__init__"),null,e,we(Pe({delimiters:r,optional:n},t)))}))}}),Si=ve("LatexOptionalCharsMarkerParser",[ei],{__module__:Pi,get __init__(){return de(this,(function(e,r,n,t,a,i){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=!0;var o,l,s,_=yr();if(arguments.length){var u=arguments.length-1;if(arguments[u]&&arguments[u].hasOwnProperty("__kwargtrans__")){var c=arguments[u--];for(var f in c)switch(f){case"self":e=c[f];break;case"chars":r=c[f];break;case"following_arg_parser":n=c[f];break;case"include_chars_node_before_following_arg":t=c[f];break;case"return_none_instead_of_empty":a=c[f];break;case"allow_pre_space":i=c[f];break;default:_[f]=c[f]}delete _.__kwargtrans__}}if(me(me(ye,null,Si,"__init__"),null,e,we(_)),e.chars=me(" ".join," ",(l=me((o=r).strip,o),me(l.py_split,l))),e.following_arg_parser=n,e.include_chars_node_before_following_arg=t,e.return_none_instead_of_empty=a,e.allow_pre_space=i,ze(!ze(e.chars))){var d=me($r,null,me((s="Invalid chars={!r}, needs to be non-empty string (after stripping whitespce)").format,s,r));throw d.__cause__=null,d}}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return!0}))},get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}var s,_=me((s=n).peek_token,s,we({parsing_state:t})),u=null,c="",f=!1,d=null;try{for(;ze(!0);){var p=function(){var e=n;return me(e.next_token,e,we({parsing_state:t}))}();if(ze(null===d))if(ze(ze((d=p).pre_space)&&!ze(e.allow_pre_space)))return ar([null,null]);if(ze(jr(p.tok,"char")))break;if(ze(ze(c)&&p.pre_space))var c=me(Rr,null,c," ");if(ze(Lr(c=me(Rr,null,c,p.arg),e.chars))){f=!0,u=p.pos_end;break}if(ze(!ze(function(){var r=e.chars;return me(r.startswith,r,c)}())))break}}finally{ze(!ze(f))&&function(){var e=n;me(e.move_to_token,e,_)}()}if(ze(!ze(f))){if(ze(e.return_none_instead_of_empty))return ar([null,null]);var h=function(){var e=r;return me(e.make_nodelist,e,[],we({pos:orig_pos_token.pos,pos_end:orig_pos_token.pos,parsing_state:t}))}();return ar([h,null])}var g=[];if(ze(e.include_chars_node_before_following_arg))g=me(Rr,null,g,[function(){var n=r;return me(n.make_node,n,Un,we({parsing_state:t,chars:e.chars,pos:_.pos,pos_end:u}))}()]);var v=null;if(ze(null!==e.following_arg_parser)){var m=function(){var a=r;return me(a.parse_content,a,e.following_arg_parser,we({token_reader:n,parsing_state:t}))}(),w=m[0];v=m[1],g=me(Rr,null,g,w)}g=function(){var e=r;return me(e.make_nodelist,e,g,we({parsing_state:t}))}();return ar([g,v])}))}}),Ei={};fe(Ei,"",pn);var Ci="pylatexenc.latexnodes.parsers._stdarg",Li=me(Ei.getLogger,Ei,Ci),ji=yr({}),Ni=function(e){var r,n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)if("arg_spec"===i)e=a[i];else n[i]=a[i];delete n.__kwargtrans__}}if(ze(!ze(n)))var o=e;else{var l=yr({arg_spec:e});me((r=l).py_update,r,n);o=me(ar,null,me(tr,null,function(){var e=l;return me(e.py_items,e)}()))}if(ze(!Le(o,ji))){var s=me(zi,null,e,we(n));return Fr(ji,o,s),s}return qr(ji,o)},zi=ve("LatexStandardArgumentParser",[ei],{__module__:Ci,get __init__(){return de(this,(function(e,r,n,t,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="{";if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;var i=yr();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"arg_spec":r=l[s];break;case"include_skipped_comments":n=l[s];break;case"expression_single_token_requiring_arg_is_error":t=l[s];break;case"allow_pre_space":a=l[s];break;default:i[s]=l[s]}delete i.__kwargtrans__}}me(me(ye,null,zi,"__init__"),null,e,we(i)),e.arg_spec=r,e.include_skipped_comments=n,e.expression_single_token_requiring_arg_is_error=t,e.allow_pre_space=a,e._arg_parser=null}))},get get_arg_parser_instance(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"arg_spec":r=t[a]}}}if(ze(Le(r,ar(["m","{"]))))return me(xi,null,we({include_skipped_comments:e.include_skipped_comments,single_token_requiring_arg_is_error:e.expression_single_token_requiring_arg_is_error}));if(ze(Le(r,ar(["o","["]))))return me(mi,null,we({delimiters:ar(["[","]"]),optional:!0,allow_pre_space:e.allow_pre_space}));if(ze(Le(r,ar(["s","*"]))))return me(Si,null,we({chars:"*",allow_pre_space:e.allow_pre_space}));if(ze(me((_=r).startswith,_,"t"))){if(ze(jr(me(Ne,null,r),2)))throw(u=me($r,null,"arg_spec for an optional char argument should be of the form t<char>")).__cause__=null,u;var i=qr(r,1);return me(Si,null,we({chars:i,allow_pre_space:e.allow_pre_space}))}if(ze(function(){var e=r;return me(e.startswith,e,"r")}())){if(ze(jr(me(Ne,null,r),3)))throw(u=me($r,null,"arg_spec for a required delimited argument should be of the form r<char1><char2>")).__cause__=null,u;var o=qr(r,1),l=qr(r,2);return me(mi,null,we({delimiters:ar([o,l]),optional:!1,allow_pre_space:e.allow_pre_space}))}if(ze(function(){var e=r;return me(e.startswith,e,"d")}())){if(ze(jr(me(Ne,null,r),3)))throw(u=me($r,null,"arg_spec for an optional delimited argument should be of the form d<char1><char2>")).__cause__=null,u;o=qr(r,1),l=qr(r,2);return me(mi,null,we({delimiters:ar([o,l]),optional:!0,allow_pre_space:e.allow_pre_space}))}if(ze(function(){var e=r;return me(e.startswith,e,"v")}())){if(ze(Lr(me(Ne,null,r),1)))var s=null;else{if(!ze(Lr(me(Ne,null,r),3)))throw(u=me($r,null,"arg_spec for a verbatim argument should be either v or v<char1><char2>")).__cause__=null,u;s=ar([qr(r,1),qr(r,2)])}return me(ti,null,we({delimiter_chars:s}))}var _,u=me($r,null,function(){var e="Unknown argument specification: {!r}";return me(e.format,e,r)}());throw u.__cause__=null,u}))},get parse(){return de(this,(function(e,r,n,t){var a,i=yr();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"latex_walker":r=l[s];break;case"token_reader":n=l[s];break;case"parsing_state":t=l[s];break;default:i[s]=l[s]}delete i.__kwargtrans__}}ze(null===e._arg_parser)&&(e._arg_parser=me((a=e).get_arg_parser_instance,a,e.arg_spec));var _=e._arg_parser,u=function(){var e=r;return me(e.parse_content,e,_,we(Pe({token_reader:n,parsing_state:t},i)))}(),c=u[0],f=u[1];return ar([c,f])}))}}),Ti=ve("LatexCharsGroupParser",[mi],{__module__:Ci,get __init__(){return de(this,(function(e,r,n,t){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=ar(["{","}"]);if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!0;var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"delimiters":r=o[l];break;case"enable_comments":n=o[l];break;case"enable_groups":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}me(me(ye,null,Ti,"__init__"),null,e,we(Pe({delimiters:r,delimited_expression_parser_info_class:Ti.CharsContentsParserInfo},a))),e.enable_comments=n,e.enable_groups=t}))},CharsContentsParserInfo:ve("CharsContentsParserInfo",[vi],{__module__:Ci,get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a;e.contents_parsing_state=me((a=e.group_parsing_state).sub_context,a,we({enable_macros:!1,enable_environments:!1,enable_comments:e.delimited_expression_parser.enable_comments,enable_groups:e.delimited_expression_parser.enable_groups,enable_specials:!1,enable_math:!1})),e.current_parsing_state=e.contents_parsing_state,e.parsed_delimiters=function(){var r=e;return me(r.get_parsed_delimiters,r)}(),function(){var r=Li;me(r.debug,r,"Initialized CharsContentsParserInfo; %r",e.__dict__)}()}))},get make_child_parsing_state(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":r=a[i];break;case"node_class":n=a[i]}}}return e.parsing_state}))},get stop_token_condition(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token":r=t[a]}}}var i;return me((i=Li).debug,i,"stop_token_condition: %r",r),!!ze(ze(Lr(r.tok,"brace_close"))&&Lr(r.arg,qr(e.parsed_delimiters,1)))||(!!ze(ze(Lr(r.tok,"char"))&&Lr(r.arg,qr(e.parsed_delimiters,1)))||null)}))}})}),Mi=ve("LatexCharsCommaSeparatedListParser",[mi],{__module__:Ci,get __init__(){return de(this,(function(e,r,n,t,a,i){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=",";if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=ar(["{","}"]);if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=!1;var o=yr();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"comma_char":r=s[_];break;case"delimiters":n=s[_];break;case"enable_comments":t=s[_];break;case"enable_groups":a=s[_];break;case"keep_empty_parts":i=s[_];break;default:o[_]=s[_]}delete o.__kwargtrans__}}me(me(ye,null,Mi,"__init__"),null,e,we(Pe({delimiters:n,delimited_expression_parser_info_class:Mi.CommaSepParserInfo},o))),e.comma_char=r,e.enable_comments=t,e.enable_groups=a,e.keep_empty_parts=i}))},CommaSepParserInfo:ve("CommaSepParserInfo",[vi],{__module__:Ci,get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a;e.comma_char=e.delimited_expression_parser.comma_char,e.contents_parsing_state=me((a=e.group_parsing_state).sub_context,a,we({enable_macros:!1,enable_environments:!1,enable_comments:e.delimited_expression_parser.enable_comments,enable_groups:e.delimited_expression_parser.enable_groups,enable_specials:!1,enable_math:!1})),e.parsed_delimiters=function(){var r=e;return me(r.get_parsed_delimiters,r)}(),function(){var r=Li;me(r.debug,r,"Initialized CommaSepContentsParserInfo; %r",e.__dict__)}()}))},get make_child_parsing_state(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":r=a[i];break;case"node_class":n=a[i]}}}return e.parsing_state}))},get make_content_parser(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"latex_walker":r=a[i];break;case"token_reader":n=a[i]}}}return me(Ii,null,e)}))}})}),Ii=ve("_CommaSepContentCustomParser",[ei],{__module__:Ci,get __init__(){return de(this,(function(e,r){var n,t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"contents_parser_info":r=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,Ii,"__init__"),null,e,we(t)),e.contents_parser_info=r,e.main_content_parser=me(si,null,we({stop_token_condition:e.stop_token_condition,make_child_parsing_state:r.make_child_parsing_state,require_stop_condition_met:!0,handle_stop_condition_token:e.handle_stop_condition_token,stop_condition_message:(n="Expected matching {} of {}-separated group initiated by {}",me(n.format,n,qr(r.parsed_delimiters,1),e.contents_parser_info.comma_char,qr(r.parsed_delimiters,0)))})),e.current_parsing_state=e.contents_parser_info.contents_parsing_state,e.comma_sep_arg_list=[],e.parsing_state_delta=null,e.parse_more=!0,e.pos_start=null,e.is_very_first_element=!0,e.last_element_pos_start=null,e.last_delimiter_token=null,e.last_element_pos_end=null}))},get stop_token_condition(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token":r=t[a]}}}var i;return me((i=Li).debug,i,"stop_token_condition: %r",r),!!ze(ze(Lr(r.tok,"brace_close"))&&Lr(r.arg,qr(e.contents_parser_info.parsed_delimiters,1)))||!!ze(Lr(r.tok,"char"))&&(!!ze(Lr(r.arg,qr(e.contents_parser_info.parsed_delimiters,1)))||!!ze(Lr(r.arg,e.contents_parser_info.comma_char)))}))},get handle_stop_condition_token(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"token":r=o[l];break;case"latex_walker":n=o[l];break;case"token_reader":t=o[l];break;case"parsing_state":a=o[l]}}}var s;me((s=t).move_past_token,s,r),ze(Lr(r.tok,"brace_close"))?(e.last_delimiter_token=null,e.last_element_pos_end=r.pos,e.parse_more=!1):(e.last_delimiter_token=r,e.last_element_pos_end=r.pos_end,e.parse_more=!0)}))},get parse(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"latex_walker":r=i[o];break;case"token_reader":n=i[o];break;case"parsing_state":t=i[o]}}}var l,s;for(me((s=Li).debug,s,"parse_content! token pos is %r",me((l=n).cur_pos,l)),e.pos_start=function(){var e=n;return me(e.cur_pos,e)}(),e.parse_more=!0;ze(e.parse_more);)!function(){var t=e;me(t._parse_one_commasep_arg,t,r,n)}(),ze(ze(e.parse_more)&&null!==e.parsing_state_delta)&&(e.current_parsing_state=function(){var n=e.parsing_state_delta;return me(n.get_updated_parsing_state,n,e.current_parsing_state,r)}());var _=function(){var n=r;return me(n.make_nodelist,n,e.comma_sep_arg_list,we({pos:e.pos_start,pos_end:e.last_element_pos_end,parsing_state:t}))}();return ar([_,e.parsing_state_delta])}))},get _parse_one_commasep_arg(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"latex_walker":r=a[i];break;case"token_reader":n=a[i]}}}var o;me((o=Li).debug,o,"_parse_one_commasep_arg()"),e.last_element_pos_start=function(){var e=n;return me(e.cur_pos,e)}(),e.last_element_pos_end=null,e.last_delimiter_token=null;var l=function(){var t,a=r;return me(a.parse_content,a,e.main_content_parser,we({token_reader:n,parsing_state:e.current_parsing_state,open_context:ar([(t="Element {} of list separated by {}",me(t.format,t,me(Ne,null,e.comma_sep_arg_list),e.contents_parser_info.comma_char)),e.contents_parser_info.first_token])}))}(),s=l[0],_=l[1];if(function(){var e=Li;me(e.debug,e,"_parse_one_commasep_arg(): nodelist = %r",s)}(),ze(null===(u=e.last_element_pos_end))){!function(){var e=Li;me(e.debug,e,"_parse_one_commasep_arg(): STOP CONDITION DID NOT FIRE")}();var u=function(){var e=n;return me(e.final_pos,e)}();e.parse_more=!1}if(ze(null===e.last_delimiter_token))var c="";else c=e.last_delimiter_token.arg;var f=function(){var n=r;return me(n.make_node,n,Bn,we({nodelist:s,parsing_state:e.current_parsing_state,delimiters:ar(["",c]),pos:e.last_element_pos_start,pos_end:u}))}(),d=!0;if(ze(!ze(me(Ne,null,s))))if(ze(ze(e.is_very_first_element)&&null===e.last_delimiter_token))d=!1;else if(ze(e.keep_empty_parts))d=!0;else d=!1;ze(d)&&function(){var r=e.comma_sep_arg_list;me(r.append,r,f)}(),e.parsing_state_delta=_,e.is_very_first_element=!1,function(){var r=Li;me(r.debug,r,"_parse_one_commasep_arg(), list is now %r",e.comma_sep_arg_list)}()}))}}),Ri=ve("LatexTackOnInformationFieldMacrosParser",[ei],{__module__:Ci,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macronames":r=i[o];break;case"allow_multiple":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,Ri,"__init__"),null,e,we(t)),e.macronames=me(ir,null,r),ze(!1===n)?e.allow_multiple=me(ir,null):ze(!0===n)?e.allow_multiple=e.macronames:e.allow_multiple=me(ir,null,n),e.expression_parser=me(xi,null)}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return!0}))},get get_macro_arg_parser(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"macroname":r=t[a]}}}return e.expression_parser}))},get parse(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"latex_walker":r=i[o];break;case"token_reader":n=i[o];break;case"parsing_state":t=i[o]}}}for(var l,s=[],_=me(ir,null);ze(!0);){var u=(l=void 0,me((l=n).peek_token_or_none,l,t));if(ze(ze(null===u)||ze(jr(u.tok,"macro"))||!Le(u.arg,e.macronames))){!function(){var e=Li;me(e.debug,e,"Finished parsing tack-on macro arguments")}();break}var c=u.arg,f=!1;if(function(){var e=n;me(e.move_past_token,e,u)}(),ze(ze(Le(c,_))&&!ze(Le(c,e.allow_multiple)))){var d=function(){var e="You cannot specify information field macro \\{} multiple times";return me(e.format,e,c)}(),p=me(En,null,we({msg:d,pos:u.pos,error_type_info:yr({what:"nodes_stdarg_illegal_multiple_information_field_macro",macroname:c})}));p=function(){var e=r;return me(e.check_tolerant_parsing_ignore_error,e,p)}();if(ze(null!==p)){var h=p;throw h.__cause__=null,h}!function(){var e=Li;me(e.warning,e,"%s; ignoring the additional information field macros",d)}();f=!0}var g=function(){var r=e;return me(r.get_macro_arg_parser,r,c)}(),v=function(){var e,a=r;return me(a.parse_content,a,g,we({token_reader:n,parsing_state:t,open_context:ar([(e="Argument of information field macro \\{}",me(e.format,e,c)),u])}))}(),m=v[0],w=v[1];if(ze(null!==w)&&function(){var e,r=Li;me(r.warning,r,me((e="Parsing state delta is ignored when parsing tack-on information field macro \\{}: {}").format,e,c,w))}(),!ze(f)){var y=function(){var e,n=r;return me(n.make_node,n,Bn,we({parsing_state:t,delimiters:ar([Or("\\",c),""]),nodelist:(e=r,me(e.make_nodelist,e,[m],we({parsing_state:t}))),pos:u.pos,pos_end:m.pos_end}))}();!function(){var e=s;me(e.append,e,y)}()}}var k=function(){var e=r;return me(e.make_nodelist,e,s,we({parsing_state:t}))}();return ar([k,null])}))}}),Di={};fe(Di,"",pn);var Ai="pylatexenc.latexnodes.parsers._math",qi=(me(Di.getLogger,Di,Ai),or),Fi=ve("LatexMathParserInfo",[hi],{__module__:Ai,get is_opening_delimiter(){return pe(this,(function(e,r,n,t,a,i){var o,l=yr();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var _=arguments[s--];for(var u in _)switch(u){case"cls":e=_[u];break;case"delimiters":r=_[u];break;case"first_token":n=_[u];break;case"group_parsing_state":t=_[u];break;case"delimited_expression_parser":a=_[u];break;case"latex_walker":i=_[u];break;default:l[u]=_[u]}delete l.__kwargtrans__}}return!ze(!Le(n.tok,ar(["mathmode_inline","mathmode_display"])))&&!ze(!ze((o=e,me(o.check_opening_delimiter,o,we({delimiters:r,parsed_opening_delimiter:n.arg,latex_walker:i})))))}))},get get_acceptable_open_delimiter_list(){return pe(this,(function(e,r,n,t,a){var i=yr();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"cls":e=l[s];break;case"delimiters":r=l[s];break;case"group_parsing_state":n=l[s];break;case"delimited_expression_parser":t=l[s];break;case"latex_walker":a=l[s];break;default:i[s]=l[s]}delete i.__kwargtrans__}}return ze(null!==r)?ze(me(Ae,null,r,qi))?[r]:[qr(r,0)]:function(){for(var e=[],r=Or(n.latex_inline_math_delimiters,n.latex_display_math_delimiters),t=0;t<Ne(r);t++){var a=qr(r,t),i=a[0];a[1];me(e.append,e,i)}return e}()}))},get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a;e.math_mode_type=e.first_token.tok,e.math_mode_delimiter=e.first_token.arg,e.math_parsing_state=me(gt,null,e.parsing_state,me(pt,null,we({math_mode_delimiter:e.math_mode_delimiter,trigger_token:e.first_token})),e.latex_walker),e.contents_parsing_state=e.math_parsing_state,e.parsed_delimiters=me((a=e).get_parsed_delimiters,a)}))},get stop_token_condition(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token":r=t[a]}}}return!!ze(ze(Lr(r.tok,e.math_mode_type))&&Lr(r.arg,qr(e.parsed_delimiters,1)))}))},get get_matching_delimiter(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"opening_delimiter":r=t[a]}}}return qr(e.math_parsing_state._math_expecting_close_delim_info,"close_delim")}))},get make_group_node_and_parsing_state_delta(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"nodelist":t=o[l];break;case"parsing_state_delta":a=o[l]}}}var s,_=me((s=n).cur_pos,s);if(ze(Lr(e.math_mode_type,"mathmode_inline")))var u="inline";else if(ze(Lr(e.math_mode_type,"mathmode_display")))u="display";else u="<unknown>";var c=function(){var n=r;return me(n.make_node,n,Qn,we({displaytype:u,nodelist:t,parsing_state:e.parsing_state,delimiters:e.parsed_delimiters,pos:e.first_token.pos,pos_end:_}))}();return ar([c,a])}))}}),Ui=ve("LatexMathParser",[gi],{__module__:Ai,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"math_mode_delimiters":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}me(me(ye,null,Ui,"__init__"),null,e,we(Pe({delimiters:r,discard_parsing_state_delta:!1,delimited_expression_parser_info_class:Fi},n)))}))}}),Bi={};fe(Bi,"",pn),fe({},"",Ct);var Gi="llm.llmfragment",Wi=me(Bi.getLogger,Bi,Gi),Vi=ar(["is_block_level","resource_info","standalone_mode","silent","what","parsing_mode"]),Hi=ve("LLMFragment",[ge],{__module__:Gi,get __init__(){return de(this,(function(e,r,n){var t,a=null,i=null,o=!1,l=!1,s="(unknown)",_=!1,u=null,c=null,f=null;if(arguments.length){var d=arguments.length-1;if(arguments[d]&&arguments[d].hasOwnProperty("__kwargtrans__")){var p=arguments[d--];for(var h in p)switch(h){case"self":e=p[h];break;case"llm_text":r=p[h];break;case"environment":n=p[h];break;case"is_block_level":a=p[h];break;case"resource_info":i=p[h];break;case"standalone_mode":o=p[h];break;case"tolerant_parsing":l=p[h];break;case"what":s=p[h];break;case"silent":_=p[h];break;case"parsing_mode":u=p[h];break;case"input_lineno_colno_offsets":c=p[h];break;case"_llm_text_if_loading_nodes":f=p[h]}}}if(e.llm_text=r,e.environment=n,e.is_block_level=a,e.resource_info=i,e.standalone_mode=o,e.tolerant_parsing=l,e.what=s,e.silent=_,e.parsing_mode=u,ze(me(Ae,null,r,Xn)))return e.nodes=e.llm_text,e.latex_walker=e.nodes.latex_walker,void(ze(f)?e.llm_text=f:e.llm_text=(t=e.nodes,me(t.latex_verbatim,t)));try{var g=function(){var r=Hi;return me(r.parse,r,e.llm_text,e.environment,we({standalone_mode:e.standalone_mode,tolerant_parsing:e.tolerant_parsing,is_block_level:e.is_block_level,what:e.what,resource_info:e.resource_info,parsing_mode:e.parsing_mode,input_lineno_colno_offsets:c}))}();e.latex_walker=g[0],e.nodes=g[1]}catch(r){if(Ae(r,dn.LatexWalkerParseError)){var v=r;if(ze(!ze(e.silent))){var m=function(){var r=e.environment;return me(r.get_parse_error_message,r,v)}();!function(){var r=Wi;me(r.error,r,"Parse error in latex-like markup {}: {}\nGiven text was:\n{}\n\n".format(e.what,m,e.llm_text))}()}throw r.__cause__=null,r}if(Ae(r,Wr)){v=r;throw ze(!ze(e.silent))&&function(){var r=Wi;me(r.error,r,"Error parsing latex-like markup {}: {}\nGiven text was:\n{}\n\n".format(e.what,v,e.llm_text))}(),r.__cause__=null,r}throw r}}))},_attribute_fields:Vi,_fields:me(ar,null,Or(["nodes"],me(tr,null,Vi))),get _attributes(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}var i,o=function(){for(var r=[],n=e._attribute_fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a,me(Ee,null,e,a)])}return yr(r)}();return me((i=o).py_update,i,r),o}))},get render(){return de(this,(function(e,r){var n,t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"render_context":r=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}return me((n=r.fragment_renderer).render_fragment,n,e,r,we(t))}))},get render_standalone(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"fragment_renderer":r=t[a]}}}if(ze(!ze(e.standalone_mode))){var i=me($r,null,"You can only use render_standalone() on a fragment that was parsed in standalone mode (use `standalone_mode=True` in the LLMFragment constructor)");throw i.__cause__=null,i}var o,l=me(Ka,null,we({fragment_renderer:r}));return me((o=e).render,o,l)}))},get parse(){return pe(this,(function(e,r,n){var t=!1,a=null,i=null,o=null,l=null,s=null,_=null;if(arguments.length){var u=arguments.length-1;if(arguments[u]&&arguments[u].hasOwnProperty("__kwargtrans__")){var c=arguments[u--];for(var f in c)switch(f){case"cls":e=c[f];break;case"llm_text":r=c[f];break;case"environment":n=c[f];break;case"standalone_mode":t=c[f];break;case"tolerant_parsing":a=c[f];break;case"is_block_level":i=c[f];break;case"parsing_mode":o=c[f];break;case"resource_info":l=c[f];break;case"what":s=c[f];break;case"input_lineno_colno_offsets":_=c[f]}}}var d,p=me((d=n).make_latex_walker,d,r,we({is_block_level:i,parsing_mode:o,resource_info:l,standalone_mode:t,tolerant_parsing:a,what:s,input_lineno_colno_offsets:_})),h=function(){var e=p;return me(e.parse_content,e,me(Ja.LatexGeneralNodesParser,Ja))}(),g=h[0];h[1];return ar([p,g])}))},get start_node_visitor(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node_visitor":r=t[a]}}}var i;me((i=r).start,i,e.nodes)}))},get is_empty(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Lr(me(Ne,null,me((a=e.llm_text).strip,a)),0);var a}))},get __bool__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return!ze((a=e,me(a.is_empty,a)));var a}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}if(ze(Tr(me(Ne,null,a=e.llm_text),50)))var a=Or(Ur(a,0,49,1),"");return"<{} {}>".format(e.__class__.__name__,a)}))},get whitespace_stripped(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i,o=me((i=e.environment).make_fragment,i,me((a=e.llm_text).strip,a),we(function(){var r=e;return me(r._attributes,r,we({what:"{}:whitespace-stripped".format(e.what)}))}()));return o}))},get get_first_paragraph(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=me((a=e.nodes).split_at_node,a,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)"n"===t&&(e=n[t])}}return ze(me((a=e).isNodeType,a,$n))&&Lr(e.specials_chars,"\n\n");var a}),we({max_split:1}));i=function(){for(var e=[],r=i,n=0;n<Ne(r);n++){var t=qr(r,n);ze(Tr(me(Ne,null,t),0))&&me(e.append,e,t)}return e}();if(ze(!ze(i)))return e;var o=qr(i,0);return function(){var r,n=e.environment;return me(n.make_fragment,n,we(Pe({llm_text:o},me((r=e)._attributes,r,we({what:"{}:first-paragraph".format(e.what)})))))}()}))},get truncate_to(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=" ";if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"chars":r=i[o];break;case"min_chars":n=i[o];break;case"truncation_marker":t=i[o]}}}var l,s=me($i,null,we({chars:r,min_chars:n,truncation_marker:t})),_=me((l=s).truncate_node_list,l,e.nodes);return function(){var n,t=e.environment;return me(t.make_fragment,t,we(Pe({llm_text:_},me((n=e)._attributes,n,we({what:"{}:tr-{}".format(e.what,r)})))))}()}))}}),$i=ve("_NodeListTruncator",[ge],{__module__:Gi,get __init__(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"chars":r=i[o];break;case"min_chars":n=i[o];break;case"truncation_marker":t=i[o]}}}me(me(ye,null,$i,"__init__"),null,e),e.chars=r,e.min_chars=n,e.truncation_marker=t,e.count=0}))},get truncate_node_list(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"nodes":r=t[a]}}}e.count=0;var i,o=me((i=e).collect_nodes,i,r);return ze(null===o)?r:o}))},get collect_nodes(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"nodes":r=t[a]}}}for(var i,o=me(rr,null,r),l=0;l<Ne(o);l++){var s=qr(o,l),_=s[0],u=s[1],c=(i=void 0,me((i=e).collect_node,i,u));if(ze(null!==c)){var f=Ur(r,0,_,1);return ze(!0!==c)&&function(){var e=f;me(e.extend,e,[c])}(),function(){var e=r.latex_walker;return me(e.make_nodelist,e,f,we({parsing_state:r.parsing_state}))}()}}return null}))},get collect_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}return ze(me((i=r).isNodeType,i,Bn))?function(){var n=e;return me(n.collect_nodes_groupnode,n,r)}():ze(function(){var e=r;return me(e.isNodeType,e,Wn)}())?function(){var n=e;return me(n.collect_nodes_macronode,n,r)}():ze(function(){var e=r;return me(e.isNodeType,e,Vn)}())?function(){var n=e;return me(n.collect_nodes_environmentnode,n,r)}():ze(function(){var e=r;return me(e.isNodeType,e,$n)}())?function(){var n=e;return me(n.collect_nodes_specialsnode,n,r)}():function(){var n=e;return me(n.collect_nodes_simplenode,n,r)}();var i}))},get collect_nodes_groupnode(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=me((i=e).collect_nodes,i,r.nodelist);if(ze(null===o))return null;var l=function(){var e=r.latex_walker;return me(e.make_node,e,Bn,we({delimiters:r.delimiters,nodelist:o,parsing_state:r.parsing_state,pos:r.pos,pos_end:r.pos_end}))}();return l}))},get collect_node_argument(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}return ze(me(Ae,null,r,Xn))?me((i=e).collect_nodes,i,r):function(){var n=e;return me(n.collect_node,n,r)}();var i}))},get collect_nodes_macronode(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}if(ze(me(Ce,null,r.spec,"_llm_main_text_argument"))){var i=r.spec._llm_main_text_argument,o=me(Qe,null,function(){for(var e=[],n=me(rr,null,r.spec.arguments_spec_list),t=0;t<Ne(n);t++){var a=qr(n,t),o=a[0];ze(Lr(a[1].argname,i))&&me(e.append,e,o)}return $e(e)}()),l=qr(r.nodeargd.argnlist,o),s=me((c=e).collect_node_argument,c,l);if(ze(s)){var _=Or(Or(Ur(r.nodeargd.argnlist,0,o,1),[s]),Ur(r.nodeargd.argnlist,Or(o,1),null,1));if(ze(null!==s)){var u=function(){var e=r.latex_walker;return me(e.make_node,e,Wn,we({macroname:r.macroname,spec:r.spec,nodeargd:me(dn.ParsedArguments,dn,we({arguments_spec_list:r.nodeargd.arguments_spec_list,argnlist:_})),macro_post_space:r.macro_post_space,parsing_state:r.parsing_state,pos:r.pos,pos_end:r.pos_end}))}();u=function(){var e=r.spec;return me(e.finalize_node,e,u)}();return u}}}var c;return null}))},get collect_nodes_environmentnode(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=me((i=e).collect_nodes,i,r.nodelist);if(ze(null===o))return null;var l=function(){var e=r.latex_walker;return me(e.make_node,e,Vn,we({environmentname:r.environmentname,nodeargd:r.nodeargd,nodelist:o,parsing_state:r.parsing_state,pos:r.pos,pos_end:r.pos_end}))}();l=function(){var e=r.spec;return me(e.finalize_node,e,l)}();return l}))},get collect_nodes_specialsnode(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=me(Ne,null,me((i=r).latex_verbatim,i));return!ze(Nr(o,Sr(e.chars,e.count)))||(e.count=me(Rr,null,e.count,o),null)}))},get collect_nodes_simplenode(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=me((i=e).estimate_simple_node_char_count,i,r);if(ze(Nr(o,Sr(e.chars,e.count))))return e.count=me(Rr,null,e.count,o),null;if(ze(function(){var e=r;return me(e.isNodeType,e,Un)}())){for(var l=r.chars,s=0,_=me(rr,null,l),u=0;u<Ne(_);u++){var c=qr(_,u),f=c[0],d=c[1];if(ze(!ze(function(){var e=d;return me(e.isalpha,e)}())))s=f;if(ze(Tr(Or(e.count,f),e.chars))&&ze(ze(null===e.min_chars)||Mr(Or(e.count,s),e.min_chars)))break}var p=Or(Ur(l,0,s,1),e.truncation_marker),h=function(){var e=r.latex_walker;return me(e.make_node,e,Un,we({chars:p,parsing_state:r.parsing_state,pos:r.pos,pos_end:r.pos_end}))}();return h}return!ze(Nr(e.count,e.min_chars))||r}))},get estimate_simple_node_char_count(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}return ze(me((i=r).isNodeType,i,Un))?me(Ne,null,r.chars):ze(function(){var e=r;return me(e.isNodeType,e,Qn)}())?Pr(xr(me(Ne,null,function(){var e=r;return me(e.latex_verbatim,e)}()),2),3):(ze(function(){var e=r;return me(e.isNodeType,e,Gn)}()),0);var i}))}}),Qi={};fe(Qi,"",pn);var Yi="llm.llmdocument",Xi=me(Qi.getLogger,Qi,Yi),Zi=ve("LLMDocumentRenderContext",[Xa],{__module__:Yi,get __init__(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"doc":r=o[l];break;case"fragment_renderer":n=o[l];break;case"feature_document_managers":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}me(me(ye,null,Zi,"__init__"),null,e,we(Pe({doc:r,fragment_renderer:n},a))),e.feature_document_managers=t,e.feature_render_managers=function(){for(var r,n=[],t=e.feature_document_managers,a=0;a<Ne(t);a++){var i=qr(t,a),o=i[0],l=i[1];r=void 0,me(n.append,n,ze(ze(null!==l)&&null!==l.RenderManager)?ar([o,(r=l,me(r.RenderManager,r,l,e))]):ar([o,null]))}return n}(),e.feature_render_managers_by_name=me(yr,null,e.feature_render_managers),e.is_first_pass=!0,e._delayed_render_nodes=yr({}),e._delayed_render_content=yr({})}))},get supports_feature(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"feature_name":r=t[a]}}}return Le(r,e.feature_render_managers_by_name)}))},get feature_render_manager(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"feature_name":r=t[a]}}}return qr(e.feature_render_managers_by_name,r)}))},get register_delayed_render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"fragment_renderer":n=a[i]}}}var o=r.node_id;return Fr(e._delayed_render_nodes,o,r),o}))},get get_delayed_render_content(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i=r.node_id;return qr(e._delayed_render_content,i)}))}}),Ki=ve("LLMDocument",[ge],{__module__:Yi,get __init__(){return de(this,(function(e,r,n,t,a,i){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"render_callback":r=l[s];break;case"environment":n=l[s];break;case"enable_features":t=l[s];break;case"feature_document_options":a=l[s];break;case"metadata":i=l[s]}}}if(me(me(ye,null,Ki,"__init__"),null,e),e.environment=n,e.render_callback=r,e.metadata=i,ze(null===t)?e.features=me(tr,null,n.features):e.features=function(){for(var e,r=[],a=t,i=0;i<Ne(a);i++){var o=qr(a,i);e=void 0,me(r.append,r,me((e=n).feature,e,o))}return r}(),ze(null===a))a=yr({});e.feature_document_options=me(yr,null,a),e.feature_document_managers=function(){for(var r,n=[],t=e.features,a=0;a<Ne(t);a++){var i=qr(t,a);r=void 0,me(n.append,n,ze(null!==i.DocumentManager)?ar([i.feature_name,(r=i,me(r.DocumentManager,r,i,e))]):ar([i.feature_name,null]))}return n}(),e.feature_document_managers_by_name=me(yr,null,e.feature_document_managers)}))},get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}for(var a,i=e.feature_document_managers,o=0;o<Ne(i);o++){var l=qr(i,o),s=l[0],_=l[1];if(ze(null!==_)){var u=(a=void 0,me((a=e.feature_document_options).py_get,a,s,yr({})));!function(){var e=_;me(e.initialize,e,we(u))}()}}}))},get supports_feature(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"feature_name":r=t[a]}}}return Le(r,e.feature_document_managers_by_name)}))},get feature_document_manager(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"feature_name":r=t[a]}}}return qr(e.feature_document_managers_by_name,r)}))},get make_render_context(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"fragment_renderer":r=a[i];break;case"feature_render_options":n=a[i]}}}var o=me(Zi,null,e,r,e.feature_document_managers);if(ze(null===n))n=yr({});n=me(yr,null,n);for(var l,s=o.feature_render_managers,_=0;_<Ne(s);_++){var u=qr(s,_),c=u[0],f=u[1];if(ze(null!==f)){var d=(l=void 0,me((l=n).py_get,l,c,me(yr,null)));!function(){var e=f;me(e.initialize,e,we(d))}()}}return o}))},get render(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"fragment_renderer":r=a[i];break;case"feature_render_options":n=a[i]}}}var o,l=me((o=e).make_render_context,o,r,we({feature_render_options:n})),s=function(){var r=e;return me(r.render_callback,r,l)}();ze(null===s)&&function(){var e=Xi;me(e.warning,e,"The LLM document render callback function returned `None`! Did you forget a return ... instruction?")}();for(var _=l.feature_render_managers,u=0;u<Ne(_);u++){(p=qr(_,u))[0];ze(null!==(h=p[1]))&&function(){var e=h;me(e.process,e,s)}()}for(_=function(){var e=l._delayed_render_nodes;return me(e.py_items,e)}(),u=0;u<Ne(_);u++){var c=(p=qr(_,u))[0],f=p[1];Fr(l._delayed_render_content,c,function(){var e=f.llm_specinfo;return me(e.render,e,f,l)}())}if(ze(r.supports_delayed_render_markers)){var d=function(e){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("s"===a)e=t[a]}}return function(){var n=r;return me(n.replace_delayed_markers_with_final_values,n,e,l._delayed_render_content)}()};if(ze(me(Ae,null,s,yr)))s=function(){for(var e,r=[],n=me((e=s).py_items,e),t=0;t<Ne(n);t++){var a=qr(n,t),i=a[0],o=a[1];me(r.append,r,[i,me(d,null,o)])}return yr(r)}();else if(ze(me(Ae,null,s,tr)))s=function(){for(var e=[],r=s,n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,me(d,null,t))}return e}();else s=me(d,null,s)}else{!function(){var e=l;me(e.set_render_pass,e,"second-pass")}();s=function(){var r=e;return me(r.render_callback,r,l)}()}for(_=l.feature_render_managers,u=0;u<Ne(_);u++){var p,h;(p=qr(_,u))[0];ze(null!==(h=p[1]))&&function(){var e=h;me(e.postprocess,e,s)}()}return ar([s,l])}))}}),Ji=(D=i("fOdIC"),{});e(Ji,"EnvironmentSpec",(function(){return Yo})),e(Ji,"LatexArgumentsParser",(function(){return mo})),e(Ji,"SpecialsSpec",(function(){return Xo})),e(Ji,"LatexSpecialsCallParser",(function(){return oo})),e(Ji,"MacroSpec",(function(){return Qo})),e(Ji,"LatexContextDb",(function(){return Bo})),e(Ji,"ParsingStateDeltaExtendLatexContextDb",(function(){return Go})),e(Ji,"LatexEnvironmentCallParser",(function(){return io})),e(Ji,"LatexEnvironmentBodyContentsParser",(function(){return co})),e(Ji,"LatexMacroCallParser",(function(){return ao}));var eo={};fe(eo,"",pn);var ro="pylatexenc.macrospec._macrocallparser",no=me(eo.getLogger,eo,ro),to=ve("_LatexCallableParserBase",[ei],{__module__:ro,get __init__(){return de(this,(function(e,r,n,t,a,i,o){if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=!1;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"token_call":r=s[_];break;case"spec_object":n=s[_];break;case"what":t=s[_];break;case"node_class":a=s[_];break;case"node_extra_kwargs":i=s[_];break;case"parse_body":o=s[_]}}}var u;me(me(ye,null,to,"__init__"),null,e),me((u=no).debug,u,"_LatexCallableParserBase, token_call=%r, spec_object=%r (%s)",r,n,t),e.token_call=r,e.spec_object=n,e.what=t,e.node_class=a,e.node_extra_kwargs=i,e.arguments_parser=e.spec_object.arguments_parser,e.parse_body=o,e.make_arguments_parsing_state_delta=e.spec_object.make_arguments_parsing_state_delta,e.make_body_parsing_state_delta=e.spec_object.make_body_parsing_state_delta,e.make_after_parsing_state_delta=e.spec_object.make_after_parsing_state_delta}))},get parse_call_arguments(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}var s,_=me(gt,null,t,me((s=e).make_arguments_parsing_state_delta,s,we({token:e.token_call,latex_walker:r})),r),u=function(){var t=r;return me(t.parse_content,t,e.arguments_parser,n,_,we(a))}(),c=u[0],f=u[1];return ar([c,f])}))},get make_body_parser_and_parsing_state(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"nodeargd":r=o[l];break;case"arg_parsing_state_delta":n=o[l];break;case"parsing_state":t=o[l];break;case"latex_walker":a=o[l]}}}var s=me(RuntimeError,null,"No default implementation of make_body_parser_and_parsing_state() in base class");throw s.__cause__=null,s}))},get parse_call_body(){return de(this,(function(e,r,n,t,a,i){var o=yr();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"nodeargd":r=s[_];break;case"arg_parsing_state_delta":n=s[_];break;case"latex_walker":t=s[_];break;case"token_reader":a=s[_];break;case"parsing_state":i=s[_];break;default:o[_]=s[_]}delete o.__kwargtrans__}}var u,c=(d=me((u=e).make_body_parser_and_parsing_state,u,r,n,i,t))[0],f=d[1],d=function(){var e=t;return me(e.parse_content,e,c,a,f,we(o))}(),p=d[0],h=d[1];return ar([p,h])}))},get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}var s,_=e.token_call.pos;if(ze(null!==e.arguments_parser))var u=(f=me((s=e).parse_call_arguments,s,r,n,t,we(a)))[0],c=f[1];else u=(f=ar([null,null]))[0],c=f[1];if(function(){var e=no;me(e.debug,e,"Parsed macro/env/specials arguments; nodeargd=%r, arg_parsing_state_delta=%r",u,c)}(),ze(e.parse_body))var f=function(){var i=e;return me(i.parse_call_body,i,u,c,r,n,t,we(a))}(),d=f[0],p=f[1];else{ze(null!==c)&&function(){var r=no;me(r.warning,r,"Parsing carry-over information (%r) ignored after arguments to %s!",c,e.what)}();d=null,p=null}ze(null!==p)&&function(){var e=no;me(e.warning,e,"Parsing carry-over information (%r) ignored after body!",p)}();var h=function(){var e=n;return me(e.cur_pos,e)}(),g=me(yr,null,e.node_extra_kwargs);ze(e.parse_body)&&Fr(g,"nodelist",d);var v=function(){var n=r;return me(n.make_node,n,e.node_class,we(Pe({parsing_state:t,spec:e.spec_object,nodeargd:u,pos:_,pos_end:h},g)))}(),m=(v=function(){var r=e.spec_object;return me(r.finalize_node,r,v)}(),function(){var n=e;return me(n.make_after_parsing_state_delta,n,we({parsed_node:v,latex_walker:r}))}());return function(){var e=no;me(e.debug,e,"Parsed macro/env/specials call - node %r - parsing_state_delta %r",v,m)}(),ar([v,m])}))}}),ao=ve("LatexMacroCallParser",[to],{__module__:ro,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"token_call":r=a[i];break;case"macrospec":n=a[i]}}}var o,l=r.arg,s=r.post_space;me(me(ye,null,ao,"__init__"),null,e,we({token_call:r,spec_object:n,what:(o="macro call (\\{})",me(o.format,o,l)),node_class:Wn,node_extra_kwargs:me(yr,null,we({macroname:l,macro_post_space:s}))})),e.macroname=l,e.macro_post_space=s}))}}),io=ve("LatexEnvironmentCallParser",[to],{__module__:ro,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"token_call":r=a[i];break;case"environmentspec":n=a[i]}}}var o,l=r.arg;me(me(ye,null,io,"__init__"),null,e,we({token_call:r,spec_object:n,what:(o="environment {}{}{}",me(o.format,o,"{",l,"}")),parse_body:!0,node_class:Vn,node_extra_kwargs:me(yr,null,we({environmentname:l}))})),e.environmentname=l}))},get make_body_parser_and_parsing_state(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"nodeargd":r=o[l];break;case"arg_parsing_state_delta":n=o[l];break;case"parsing_state":t=o[l];break;case"latex_walker":a=o[l]}}}var s;ze(null!==n)&&me((s=no).warning,s,"Parsing carry-over information (%r) ignored after arguments to %s!",n,e.what);var _=function(){var t=e.spec_object;return me(t.make_body_parser,t,e.token_call,r,n)}(),u=me(gt,null,t,function(){var t=e;return me(t.make_body_parsing_state_delta,t,we({token:e.token_call,nodeargd:r,arg_parsing_state_delta:n,latex_walker:a}))}(),a);return ar([_,u])}))},get _handle_stop_condition_token(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"t":r=o[l];break;case"latex_walker":n=o[l];break;case"token_reader":t=o[l];break;case"parsing_state":a=o[l]}}}var s;me((s=t).move_past_token,s,r)}))},get _parse_body_token_stop_condition(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"t":r=t[a]}}}return!!ze(ze(Lr(r.tok,"end_environment"))&&Lr(r.arg,e.environmentname))}))}}),oo=ve("LatexSpecialsCallParser",[to],{__module__:ro,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"token_call":r=a[i];break;case"specialsspec":n=a[i]}}}var o,l=n.specials_chars;me(me(ye,null,oo,"__init__"),null,e,we({token_call:r,spec_object:n,what:(o="specials {}",me(o.format,o,l)),node_class:$n,node_extra_kwargs:me(yr,null,we({specials_chars:l}))})),e.specials_chars=l}))}}),lo={};fe(lo,"",pn);var so="pylatexenc.macrospec._environmentbodyparser",_o=me(lo.getLogger,lo,so),uo=ve("LatexEnvironmentBodyContentsParserInfo",[hi],{__module__:so,get parse_initial(){return pe(this,(function(e,r,n,t,a,i,o){if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"cls":e=s[_];break;case"delimiters":r=s[_];break;case"allow_pre_space":n=s[_];break;case"latex_walker":t=s[_];break;case"token_reader":a=s[_];break;case"group_parsing_state":i=s[_];break;case"delimited_expression_parser":o=s[_]}}}return[]}))},get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=me((a=e.delimited_expression_parser).get_contents_parsing_state_delta,a);e.contents_parsing_state=me(gt,null,e.group_parsing_state,i,e.latex_walker),e.child_parsing_state_delta=function(){var r=e.delimited_expression_parser;return me(r.get_child_parsing_state_delta,r)}(),e.parsed_delimiters=ar([function(){var r="\\begin{}{}{}";return me(r.format,r,"{",e.delimited_expression_parser.environmentname,"}")}(),function(){var r="\\end{}{}{}";return me(r.format,r,"{",e.delimited_expression_parser.environmentname,"}")}()]),function(){var r=_o;me(r.debug,r,"initializing environment body contents delimited parser: environmentname=%r,parsing_state=%r, group_parsing_state=%r, contents_parsing_state=%r",e.delimited_expression_parser.environmentname,e.parsing_state,e.group_parsing_state,e.contents_parsing_state)}()}))},get get_open_context_description(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return null}))},get stop_token_condition(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token":r=t[a]}}}return!!ze(ze(Lr(r.tok,"end_environment"))&&Lr(r.arg,e.delimited_expression_parser.environmentname))}))},get make_group_node_and_parsing_state_delta(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"nodelist":t=o[l];break;case"parsing_state_delta":a=o[l]}}}if(ze(null===t)){me((s=_o).warning,s,"environment body contents parser: parsed nodelist is None");t=function(){var n=r;return me(n.make_nodelist,n,we({nodelist:[],parsing_state:e.contents_parsing_state}))}()}var s;return ar([t,a])}))}}),co=ve("LatexEnvironmentBodyContentsParser",[gi],{__module__:so,get __init__(){return de(this,(function(e,r,n,t,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;var i=yr();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"environmentname":r=l[s];break;case"contents_parsing_state_delta":n=l[s];break;case"child_parsing_state_delta":t=l[s];break;case"discard_parsing_state_delta":a=l[s];break;default:i[s]=l[s]}delete i.__kwargtrans__}}me(me(ye,null,co,"__init__"),null,e,we(Pe({delimiters:null,discard_parsing_state_delta:a,delimited_expression_parser_info_class:uo},i))),e.environmentname=r,e.contents_parsing_state_delta=n,e.child_parsing_state_delta=t}))},get get_contents_parsing_state_delta(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e.contents_parsing_state_delta}))},get get_child_parsing_state_delta(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e.child_parsing_state_delta}))}}),fo={};fe(fo,"",pn);var po="pylatexenc.macrospec._argumentsparser",ho=me(fo.getLogger,fo,po),go=or,vo=ve("LatexNoArgumentsParser",[ei],{__module__:po,get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}var s=me(Dn,null,we({arguments_spec_list:[],argnlist:[]}));return ar([s,null])}))},get __eq__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}return e.__class__===r.__class__}))}}),mo=ve("LatexArgumentsParser",[ei],{__module__:po,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"arguments_spec_list":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}if(me(me(ye,null,mo,"__init__"),null,e,we(n)),ze(null===r))r=[];e.arguments_spec_list=function(){for(var e=[],n=r,t=0;t<Ne(n);t++){var a=qr(n,t);me(e.append,e,ze(!ze(me(Ae,null,a,Rn)))?me(Rn,null,a):a)}return e}()}))},get parse(){return de(this,(function(e,r,n,t){var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"latex_walker":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}for(var s,_=[],u=me(rr,null,e.arguments_spec_list),c=0;c<Ne(u);c++){var f=(v=qr(u,c))[0],d=v[1];s=void 0,me((s=ho).debug,s,"Parsing argument %d / %s",f,d.parser);var p=function(){var e=n;return me(e.peek_token_or_none,e,we({parsing_state:t}))}();if(ze(me(Ae,null,h=d.parser,go)))var h=me(Ni,null,h);var g=me(gt,null,t,d.parsing_state_delta,r);!function(){var e=ho;me(e.debug,e,"Argument %d will use parsing state = %r (delta was %r)",f,g,d.parsing_state_delta)}();var v=function(){var e,t=r;return me(t.parse_content,t,h,n,g,we({open_context:ar([(e="Argument {}",me(e.format,e,f)),p])}))}(),m=v[0],w=v[1];ze(null!==w)&&function(){var e=ho;me(e.warning,e,"Parsing state changes information (%r) ignored in arguments!",w)}(),function(){var e=_;me(e.append,e,m)}()}var y=me(Dn,null,we({arguments_spec_list:e.arguments_spec_list,argnlist:_}));return function(){var e=ho;me(e.debug,e,"Parsed arguments = %r",y)}(),ar([y,null])}))},get __eq__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}return ze(e.__class__===r.__class__)&&Lr(e.arguments_spec_list,r.arguments_spec_list)}))}}),wo=(D=i("fOdIC"),{});e(wo,"bisect_right",(function(){return Lo})),e(wo,"LineNumbersCalculator",(function(){return jo})),e(wo,"PushPropOverride",(function(){return No})),e(wo,"pylatexenc_deprecated_ver",(function(){return zo})),e(wo,"pylatexenc_deprecated_2",(function(){return To})),e(wo,"pylatexenc_deprecated_3",(function(){return Mo})),e(wo,"LazyDict",(function(){return Io})),e(wo,"ChainMap",(function(){return Po}));D=i("fOdIC");var yo={};fe(yo,"",pn);var ko,bo="collections",xo=(me(yo.getLogger,yo,bo),{}),Po=ve("ChainMap",[ge],(ko={__module__:bo,get __init__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}var a=ar([].slice.apply(arguments).slice(1,r+1))}else a=ar();e.maps=ze(me(tr,null,a))||[yr({})]}))},get __missing__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"key":r=t[a]}}}var i=me(Qr,null,r);throw i.__cause__=null,i}))},get __getitem__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"key":r=t[a]}}}for(var i,o=e.maps,l=0;l<Ne(o);l++){var s=qr(o,l);if(!ze(!Le(r,s)))return qr(s,r)}return me((i=e).__missing__,i,r)}))},get py_get(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"key":r=a[i];break;case"py_default":n=a[i]}}}return ze(Le(r,e))?qr(e,r):n}))},get __len__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(Ne,null,(a=me(ir,null),me.apply(void 0,[a.union,a].concat((0,D.default)(e.maps)))));var a}))},get __iter__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}for(var a,i,o=yr({}),l=me(Ze,null,e.maps),s=0;s<Ne(l);s++){var _=qr(l,s);a=void 0,i=void 0,me((i=o).py_update,i,me((a=yr).fromkeys,a,_))}return me($e,null,o)}))}},F(ko,Symbol.iterator,(function(){return this.__iter__()})),xo.__contains__=xo.__contains__||{},xo.__contains__.get=function(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"key":r=t[a]}}}return me(Je,null,function(){for(var n=[],t=e.maps,a=0;a<Ne(t);a++){var i=qr(t,a);me(n.append,n,Le(r,i))}return $e(n)}())}))},xo.__bool__=xo.__bool__||{},xo.__bool__.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(Je,null,e.maps)}))},xo.__repr__=xo.__repr__||{},xo.__repr__.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="{!r}({!r})").format,a,e.__class__.__name__,e.maps);var a}))},xo.fromkeys=xo.fromkeys||{},xo.fromkeys.get=function(){return pe(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"cls":e=t[a];break;case"iterable":r=t[a]}}var i=ar([].slice.apply(arguments).slice(2,n+1))}else i=ar();return me(e,null,(o=yr,me.apply(void 0,[o.fromkeys,o,r].concat((0,D.default)(i)))));var o}))},xo.copy=xo.copy||{},xo.copy.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return i=e,me.apply(void 0,[i.__class__,i,(a=qr(e.maps,0),me(a.copy,a))].concat((0,D.default)(Ur(e.maps,1,null,1))));var a,i}))},F(ko,"__copy__",nr),xo.new_child=xo.new_child||{},xo.new_child.get=function(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"m":r=t[a]}}}if(ze(null===r))r=yr({});return i=e,me.apply(void 0,[i.__class__,i,r].concat((0,D.default)(e.maps)));var i}))},xo._get_parents=xo._get_parents||{},xo._get_parents.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return a=e,me.apply(void 0,[a.__class__,a].concat((0,D.default)(Ur(e.maps,1,null,1))));var a}))},xo.__setitem__=xo.__setitem__||{},xo.__setitem__.get=function(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"key":r=a[i];break;case"value":n=a[i]}}}Fr(qr(e.maps,0),r,n)}))},xo.__delitem__=xo.__delitem__||{},xo.__delitem__.get=function(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"key":r=t[a]}}}try{qr(qr(e.maps,0),r)}catch(e){if(Ae(e,Qr)){var i=me(Qr,null,"Key not found in the first mapping: {}".format(r));throw i.__cause__=null,i}throw e}}))},xo.py_popitem=xo.py_popitem||{},xo.py_popitem.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}try{return me((i=qr(e.maps,0)).py_popitem,i)}catch(e){if(Ae(e,Qr)){var a=me(Qr,null,"No keys found in the first mapping.");throw a.__cause__=null,a}throw e}var i}))},xo.py_pop=xo.py_pop||{},xo.py_pop.get=function(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"key":r=t[a]}}var i=ar([].slice.apply(arguments).slice(2,n+1))}else i=ar();try{return l=qr(e.maps,0),me.apply(void 0,[l.py_pop,l,r].concat((0,D.default)(i)))}catch(e){if(Ae(e,Qr)){var o=me(Qr,null,"Key not found in the first mapping: {}".format(r));throw o.__cause__=null,o}throw e}var l}))},xo.py_clear=xo.py_clear||{},xo.py_clear.get=function(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a;me((a=qr(e.maps,0)).py_clear,a)}))},xo.__ior__=xo.__ior__||{},xo.__ior__.get=function(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}var i;return me((i=qr(e.maps,0)).py_update,i,r),e}))},xo.__or__=xo.__or__||{},xo.__or__.get=function(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}if(ze(!ze(me(Ae,null,r,_collections_abc.Mapping))))return NotImplemented;var i,o=me((i=e).copy,i);return function(){var e=qr(o.maps,0);me(e.py_update,e,r)}(),o}))},xo.__ror__=xo.__ror__||{},xo.__ror__.get=function(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"other":r=t[a]}}}if(ze(!ze(me(Ae,null,r,_collections_abc.Mapping))))return NotImplemented;for(var i,o=me(yr,null,r),l=me(Ze,null,e.maps),s=0;s<Ne(l);s++){var _=qr(l,s);i=void 0,me((i=o).py_update,i,_)}return function(){var r=e;return me(r.__class__,r,o)}()}))},Mn(ko,xo),ko));Object.defineProperty(Po,"parents",ke.call(Po,Po._get_parents));var Oo={};e(Oo,"bisect_right",(function(){return So}));var So=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"a":e=t[a];break;case"x":r=t[a]}}}for(var i=0,o=me(Ne,null,e),l=null;ze(!0);){if(ze(Tr(qr(e,i),r)))return i;if(ze(zr(qr(e,Sr(o,1)),r)))return o;if(ze(zr(Sr(o,i),2)))return ze(Tr(qr(e,Or(i,1)),r))?Or(i,1):Or(i,2);if(ze(Tr(qr(e,l=Pr(Or(o,i),2)),r)))o=Or(l,1);else i=l}},Eo={};fe(Eo,"",Oo);var Co="pylatexenc._util",Lo=Eo.bisect_right,jo=ve("LineNumbersCalculator",[ge],{__module__:Co,get __init__(){return de(this,(function(e,r,n,t,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=1;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=0;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"s":r=o[l];break;case"line_number_offset":n=o[l];break;case"first_line_column_offset":t=o[l];break;case"column_offset":a=o[l]}}}me(me(ye,null,jo,"__init__"),null,e),e.line_number_offset=n,e.first_line_column_offset=t,e.column_offset=a;var s=function(e){var r,n,t;return p(this,(function(a){switch(a.label){case 0:if(arguments.length&&arguments[r=arguments.length-1]&&arguments[r].hasOwnProperty("__kwargtrans__"))for(var i in n=arguments[r--])if("x"===i)e=n[i];return[4,0];case 1:a.sent(),t=0,a.label=2;case 2:return ze(Nr(t,me(Ne,null,e)))?ze(Lr(t=me((o=e).find,o,"\n",t),br(1)))?[2]:[4,t=me(Rr,null,t,1)]:[3,4];case 3:return a.sent(),[3,2];case 4:return[2]}var o}))};e._pos_new_lines=me(tr,null,me(s,null,r))}))},get pos_to_lineno_colno(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"pos":r=a[i];break;case"as_dict":n=a[i]}}}if(ze(null===r))return ze(n)?yr({lineno:null,colno:null}):ar([null,null]);xe(ze(Mr(l=Sr(me(Lo,null,e._pos_new_lines,r),1),0))&&Nr(l,me(Ne,null,e._pos_new_lines)));var o=Sr(r,qr(e._pos_new_lines,l));if(ze(Lr(l,0)))o=me(Rr,null,o,e.first_line_column_offset);else o=me(Rr,null,o,e.column_offset);var l=me(Rr,null,l,e.line_number_offset);return ze(n)?yr({lineno:l,colno:o}):ar([l,o])}))}}),No=ve("PushPropOverride",[ge],{__module__:Co,get __init__(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"obj":r=i[o];break;case"propname":n=i[o];break;case"new_value":t=i[o]}}}me(me(ye,null,No,"__init__"),null,e),e.obj=r,e.propname=n,e.new_value=t}))},get __enter__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(null!==e.new_value)&&(e.initval=me(Ee,null,e.obj,e.propname),me(Se,null,e.obj,e.propname,e.new_value)),e}))},get __exit__(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"py_metatype":r=i[o];break;case"value":n=i[o];break;case"traceback":t=i[o]}}}ze(null!==e.new_value)&&me(Se,null,e.obj,e.propname,e.initval)}))}}),zo=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var r=arguments[e--];for(var n in r);}ar([].slice.apply(arguments).slice(0,e+1))}else ar();return null},To=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var r=arguments[e--];for(var n in r);}ar([].slice.apply(arguments).slice(0,e+1))}else ar();return null},Mo=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var r=arguments[e--];for(var n in r);}ar([].slice.apply(arguments).slice(0,e+1))}else ar();return null},Io=null,Ro={},Do={};fe(Do,"",za),fe(Ro,"",pn);var Ao="pylatexenc.macrospec._latexcontextdb",qo=me(Ro.getLogger,Ro,Ao),Fo="__lctxdb_cat_",Uo=Do.fn_unique_object_id,Bo=ve("LatexContextDb",[ge],{__module__:Ao,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}me(me(ye,null,Bo,"__init__"),null,e,we(r)),e.category_list=[],e.d=yr({}),e.frozen=!1,e.lookup_chain_maps=yr({macros:me(wo.ChainMap,wo,yr({})),environments:me(wo.ChainMap,wo,yr({})),specials:me(wo.ChainMap,wo,yr({}))}),e.unknown_macro_spec=null,e.unknown_environment_spec=null,e.unknown_specials_spec=null,e._autogen_category_counter=0}))},get freeze(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}e.frozen=!0}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="<LatexContextDb {:#x}{}>").format,a,me(Uo,null,e),ze(e.frozen)?"":" unfrozen");var a}))},get add_context_category(){return de(this,(function(e,r,n,t,a,i,o,l){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=[];if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=[];if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=[];if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=!1;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(void 0===l||null!=l&&l.hasOwnProperty("__kwargtrans__"))l=null;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var _=arguments[s--];for(var u in _)switch(u){case"self":e=_[u];break;case"category":r=_[u];break;case"macros":n=_[u];break;case"environments":t=_[u];break;case"specials":a=_[u];break;case"prepend":i=_[u];break;case"insert_before":o=_[u];break;case"insert_after":l=_[u]}}}var c;if(ze(e.frozen))throw(f=me(RuntimeError,null,"You attempted to modify a frozen LatexContextDb object.")).__cause__=null,f;if(ze(ze(null!==r)&&me((c=r).startswith,c,Fo))){var f=me($r,null,function(){var e="Category name {} is unfortunately reserved for internal use";return me(e.format,e,r)}());throw f.__cause__=null,f}if(ze(null===r)){var d=function(){var r=e;return me(r._get_new_autogen_category,r)}(),p=d[0];r=d[1];e._autogen_category_counter=Or(p,1)}if(ze(Le(r,e.category_list))){var f=me($r,null,function(){var e="Category {} is already registered in the context database";return me(e.format,e,r)}());throw f.__cause__=null,f}if(ze(Tr(me(Ne,null,function(){for(var e=[],r=ar([i,o,l]),n=0;n<Ne(r);n++){var t=qr(r,n);ze(t)&&me(e.append,e,t)}return e}()),1)))throw(f=me(Jr,null,"add_context_category(): You may only specify one of prepend=True, insert_before=... or insert_after=...")).__cause__=null,f;var h=yr({macros:me(yr,null,function(){for(var e=[],r=n,t=0;t<Ne(r);t++){var a=qr(r,t);me(e.append,e,ar([a.macroname,a]))}return e}()),environments:me(yr,null,function(){for(var e=[],r=t,n=0;n<Ne(r);n++){var a=qr(r,n);me(e.append,e,ar([a.environmentname,a]))}return e}()),specials:me(yr,null,function(){for(var e=[],r=a,n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,ar([t.specials_chars,t]))}return e}())});if(function(){var e=qo;me(e.debug,e,"Adding category context in db: %r",h)}(),ze(i))var g=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"listobj":e=t[a];break;case"item":r=t[a]}}}return function(){var n=e;return me(n.insert,n,0,r)}()};else if(ze(o)){if(ze(Le(o,e.category_list)))var v=function(){var r=e.category_list;return me(r.index,r,o)}();else v=0;g=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"listobj":e=t[a];break;case"item":r=t[a]}}}return function(){var n=e;return me(n.insert,n,v,r)}()}}else if(ze(l)){if(ze(Le(l,e.category_list)))v=Or(function(){var r=e.category_list;return me(r.index,r,l)}(),1);else v=me(Ne,null,e.category_list);g=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"listobj":e=t[a];break;case"item":r=t[a]}}}return function(){var n=e;return me(n.insert,n,v,r)}()}}else g=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"listobj":e=t[a];break;case"item":r=t[a]}}}return function(){var n=e;return me(n.append,n,r)}()};me(g,null,e.category_list,r);for(var m=ar(["macros","environments","specials"]),w=0;w<Ne(m);w++){var y=qr(m,w);me(g,null,qr(e.lookup_chain_maps,y).maps,qr(h,y))}Fr(e.d,r,h)}))},get set_unknown_macro_spec(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"macrospec":r=t[a]}}}if(ze(e.frozen)){var i=me(RuntimeError,null,"You attempted to modify a frozen LatexContextDb object.");throw i.__cause__=null,i}e.unknown_macro_spec=r}))},get set_unknown_environment_spec(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"environmentspec":r=t[a]}}}if(ze(e.frozen)){var i=me(RuntimeError,null,"You attempted to modify a frozen LatexContextDb object.");throw i.__cause__=null,i}e.unknown_environment_spec=r}))},get set_unknown_specials_spec(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"specialsspec":r=t[a]}}}if(ze(e.frozen)){var i=me(RuntimeError,null,"You attempted to modify a frozen LatexContextDb object.");throw i.__cause__=null,i}e.unknown_specials_spec=r}))},get categories(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(tr,null,e.category_list)}))},get get_macro_spec(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"macroname":r=a[i];break;case"raise_if_not_found":n=a[i]}}}try{return qr(qr(e.lookup_chain_maps,"macros"),r)}catch(r){if(Ae(r,Qr)){if(ze(n))throw r.__cause__=null,r;return e.unknown_macro_spec}throw r}}))},get get_environment_spec(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"environmentname":r=a[i];break;case"raise_if_not_found":n=a[i]}}}try{return qr(qr(e.lookup_chain_maps,"environments"),r)}catch(r){if(Ae(r,Qr)){if(ze(n))throw r.__cause__=null,r;return e.unknown_environment_spec}throw r}}))},get get_specials_spec(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"specials_chars":r=a[i];break;case"raise_if_not_found":n=a[i]}}}try{return qr(qr(e.lookup_chain_maps,"specials"),r)}catch(r){if(Ae(r,Qr)){if(ze(n))throw r.__cause__=null,r;return e.unknown_specials_spec}throw r}}))},get test_for_specials(){return de(this,(function(e,r,n,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"s":r=i[o];break;case"pos":n=i[o];break;case"parsing_state":t=i[o]}}}var l,s=0,_=null;me((l=qo).debug,l,"test_for_specials() category_list=%r",e.category_list);for(var u=e.category_list,c=0;c<Ne(u);c++)for(var f=qr(u,c),d=function(){var r=qr(qr(e.d,f),"specials");return me(r.py_keys,r)}(),p=0;p<Ne(d);p++){var h=qr(d,p);if(function(){var e=qo;me(e.debug,e,"test_for_specials() %s... testing %r",Ur(r,n,Or(n,4),1),h)}(),ze(ze(Tr(me(Ne,null,h),s))&&function(){var e=r;return me(e.startswith,e,h,n)}()))_=qr(qr(qr(e.d,f),"specials"),h),s=me(Ne,null,h)}return _}))},get iter_macro_specs(){return de(this,(function(e,r){var n,t,a,i,o,l,s,_;return p(this,(function(u){switch(u.label){case 0:if((void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))&&(r=null),arguments.length&&arguments[n=arguments.length-1]&&arguments[n].hasOwnProperty("__kwargtrans__"))for(var c in t=arguments[n--])switch(c){case"self":e=t[c];break;case"categories":r=t[c]}ze(null===r)&&(r=e.category_list),a=r,i=0,u.label=1;case 1:if(!(i<Ne(a)))return[3,6];if(ze(!Le(o=qr(a,i),e.category_list)))throw(l=me($r,null,me((f="Invalid latex macro spec db category: {!r} (Expected one of {!r})").format,f,o,e.category_list))).__cause__=null,l;s=function(){var r=qr(qr(e.d,o),"macros");return me(r.py_values,r)}(),_=0,u.label=2;case 2:return _<Ne(s)?[4,qr(s,_)]:[3,5];case 3:u.sent(),u.label=4;case 4:return _++,[3,2];case 5:return i++,[3,1];case 6:return[2]}var f}))}))},get iter_environment_specs(){return de(this,(function(e,r){var n,t,a,i,o,l,s,_;return p(this,(function(u){switch(u.label){case 0:if((void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))&&(r=null),arguments.length&&arguments[n=arguments.length-1]&&arguments[n].hasOwnProperty("__kwargtrans__"))for(var c in t=arguments[n--])switch(c){case"self":e=t[c];break;case"categories":r=t[c]}ze(null===r)&&(r=e.category_list),a=r,i=0,u.label=1;case 1:if(!(i<Ne(a)))return[3,6];if(ze(!Le(o=qr(a,i),e.category_list)))throw(l=me($r,null,me((f="Invalid latex environment spec db category: {!r} (Expected one of {!r})").format,f,o,e.category_list))).__cause__=null,l;s=function(){var r=qr(qr(e.d,o),"environments");return me(r.py_values,r)}(),_=0,u.label=2;case 2:return _<Ne(s)?[4,qr(s,_)]:[3,5];case 3:u.sent(),u.label=4;case 4:return _++,[3,2];case 5:return i++,[3,1];case 6:return[2]}var f}))}))},get iter_specials_specs(){return de(this,(function(e,r){var n,t,a,i,o,l,s,_;return p(this,(function(u){switch(u.label){case 0:if((void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))&&(r=null),arguments.length&&arguments[n=arguments.length-1]&&arguments[n].hasOwnProperty("__kwargtrans__"))for(var c in t=arguments[n--])switch(c){case"self":e=t[c];break;case"categories":r=t[c]}ze(null===r)&&(r=e.category_list),a=r,i=0,u.label=1;case 1:if(!(i<Ne(a)))return[3,6];if(ze(!Le(o=qr(a,i),e.category_list)))throw(l=me($r,null,me((f="Invalid latex environment spec db category: {!r} (Expected one of {!r})").format,f,o,e.category_list))).__cause__=null,l;s=function(){var r=qr(qr(e.d,o),"specials");return me(r.py_values,r)}(),_=0,u.label=2;case 2:return _<Ne(s)?[4,qr(s,_)]:[3,5];case 3:u.sent(),u.label=4;case 4:return _++,[3,2];case 5:return i++,[3,1];case 6:return[2]}var f}))}))},get filter_context(){return de(this,(function(e){var r,n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)if("self"===i)e=a[i];else n[i]=a[i];delete n.__kwargtrans__}var o=ar([].slice.apply(arguments).slice(1,t+1))}else o=ar();return me(wo.pylatexenc_deprecated_3,wo,"`LatexContextDb.filter_context()` was renamed to `filtered_context()`."),r=e,me.apply(void 0,[r.filtered_context,r].concat((0,D.default)(o),[we(n)]))}))},get filtered_context(){return de(this,(function(e,r,n,t,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=[];if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=[];if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=[];if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"keep_categories":r=o[l];break;case"exclude_categories":n=o[l];break;case"keep_which":t=o[l];break;case"create_class":a=o[l]}}}if(ze(null===a))a=e.__class__;var s=me(a,null);s.unknown_macro_spec=e.unknown_macro_spec,s.unknown_environment_spec=e.unknown_environment_spec,s.unknown_specials_spec=e.unknown_specials_spec;for(var _,u,c=ze(!ze(t))||Le("macros",t),f=ze(!ze(t))||Le("environments",t),d=ze(!ze(t))||Le("specials",t),p=e.category_list,h=0;h<Ne(p);h++){var g=qr(p,h);ze(ze(r)&&!Le(g,r))||(ze(ze(n)&&Le(g,n))||(_=void 0,u=void 0,me((u=s).add_context_category,u,g,we({macros:ze(c)?(_=qr(qr(e.d,g),"macros"),me(_.py_values,_)):[],environments:ze(f)?function(){var r=qr(qr(e.d,g),"environments");return me(r.py_values,r)}():[],specials:ze(d)?function(){var r=qr(qr(e.d,g),"specials");return me(r.py_values,r)}():[]}))))}return s}))},get _get_new_autogen_category(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}for(;ze(!0);){var a=Or(Fo,me(or,null,e._autogen_category_counter));if(ze(!Le(a,e.category_list)))break;e._autogen_category_counter=me(Rr,null,e._autogen_category_counter,1)}return ar([e._autogen_category_counter,a])}))},get extended_with(){return de(this,(function(e,r,n,t,a,i){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;var o,l=yr();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var _=arguments[s--];for(var u in _)switch(u){case"self":e=_[u];break;case"category":r=_[u];break;case"macros":n=_[u];break;case"environments":t=_[u];break;case"specials":a=_[u];break;case"create_class":i=_[u];break;default:l[u]=_[u]}delete l.__kwargtrans__}}if(ze(Le(r,e.category_list)))throw(o=$r).__cause__=null,o;if(ze(!ze(e.frozen)))throw(o=me(RuntimeError,null,"You can only call extended_with() on frozen objects, because extended objects keep references to the original objects' data")).__cause__=null,o;if(ze(null===i))i=e.__class__;var c,f=me(i,null);if(f.unknown_macro_spec=me((c=l).py_pop,c,"unknown_macro_spec",e.unknown_macro_spec),f.unknown_environment_spec=function(){var r=l;return me(r.py_pop,r,"unknown_environment_spec",e.unknown_environment_spec)}(),f.unknown_specials_spec=function(){var r=l;return me(r.py_pop,r,"unknown_specials_spec",e.unknown_specials_spec)}(),ze(null===n))n=[];if(ze(null===t))t=[];if(ze(null===a))a=[];var d=yr({macros:me(yr,null,function(){for(var e=[],r=n,t=0;t<Ne(r);t++){var a=qr(r,t);me(e.append,e,ar([a.macroname,a]))}return e}()),environments:me(yr,null,function(){for(var e=[],r=t,n=0;n<Ne(r);n++){var a=qr(r,n);me(e.append,e,ar([a.environmentname,a]))}return e}()),specials:me(yr,null,function(){for(var e=[],r=a,n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,ar([t.specials_chars,t]))}return e}())});if(f.category_list=e.category_list,ze(ze(null===r)&&ze(Tr(me(Ne,null,e.category_list),0))&&function(){var r=qr(e.category_list,0);return me(r.startswith,r,Fo)}())){var p,h=qr(e.category_list,0),g=qr(p=me(yr,null,e.d),h);g=me(yr,null,we({macros:me(yr,null,qr(g,"macros")),environments:me(yr,null,qr(g,"environments")),specials:me(yr,null,qr(g,"specials"))}));return function(){var e=qr(g,"macros");me(e.py_update,e,qr(d,"macros"))}(),function(){var e=qr(g,"environments");me(e.py_update,e,qr(d,"environments"))}(),function(){var e=qr(g,"specials");me(e.py_update,e,qr(d,"specials"))}(),Fr(p,h,g),f.d=p,f.lookup_chain_maps=yr({macros:function(){var r=wo;return me.apply(void 0,[r.ChainMap,r,qr(g,"macros")].concat((0,D.default)(Ur(qr(e.lookup_chain_maps,"macros").maps,1,null,1))))}(),environments:function(){var r=wo;return me.apply(void 0,[r.ChainMap,r,qr(g,"environments")].concat((0,D.default)(Ur(qr(e.lookup_chain_maps,"environments").maps,1,null,1))))}(),specials:function(){var r=wo;return me.apply(void 0,[r.ChainMap,r,qr(g,"specials")].concat((0,D.default)(Ur(qr(e.lookup_chain_maps,"specials").maps,1,null,1))))}()}),f._autogen_category_counter=e._autogen_category_counter,f.frozen=!0,function(){var r=qo;me(r.debug,r,"Latex Context DB %r ---\x3e extended with %r [extend auto-cat %s] ---\x3e %r",e,function(){for(var e,r,n=[],t=me((e=d).py_items,e),a=0;a<Ne(t);a++){var i=qr(t,a),o=i[0],l=i[1];r=void 0,me(n.append,n,[o,me(tr,null,(r=l,me(r.py_keys,r)))])}return yr(n)}(),h,f)}(),f}if(ze(null===r)){var v=function(){var r=e;return me(r._get_new_autogen_category,r)}(),m=v[0];r=v[1];f._autogen_category_counter=Or(m,1)}else f._autogen_category_counter=e._autogen_category_counter;return Fr(p=me(yr,null,e.d),r,d),f.category_list=Or([r],e.category_list),f.d=p,f.lookup_chain_maps=yr({macros:function(){var r=qr(e.lookup_chain_maps,"macros");return me(r.new_child,r,qr(d,"macros"))}(),environments:function(){var r=qr(e.lookup_chain_maps,"environments");return me(r.new_child,r,qr(d,"environments"))}(),specials:function(){var r=qr(e.lookup_chain_maps,"specials");return me(r.new_child,r,qr(d,"specials"))}()}),f.frozen=!0,function(){var n=qo;me(n.debug,n,"Latex Context DB %r ---\x3e extended with %r [new cat %s] ---\x3e %r",e,function(){for(var e,r,n=[],t=me((e=d).py_items,e),a=0;a<Ne(t);a++){var i=qr(t,a),o=i[0],l=i[1];r=void 0,me(n.append,n,[o,me(tr,null,(r=l,me(r.py_keys,r)))])}return yr(n)}(),r,f)}(),f}))}}),Go=ve("ParsingStateDeltaExtendLatexContextDb",[ct],{__module__:Ao,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"extend_latex_context":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}me(me(ye,null,Go,"__init__"),null,e,we(Pe({_fields:ar(["extend_latex_context","set_attributes"])},n))),e.extend_latex_context=r}))},get get_updated_parsing_state(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":r=a[i];break;case"latex_walker":n=a[i]}}}if(ze(e.extend_latex_context)){if(ze(e.set_attributes))var o=e.set_attributes;else o=yr({});var l=me((s=r.latex_context).extended_with,s,we(Pe({category:null},e.extend_latex_context)));return function(){var e=r;return me(e.sub_context,e,we(Pe({latex_context:l},o)))}()}return ze(e.set_attributes)?function(){var n=r;return me(n.sub_context,n,we(e.set_attributes))}():r;var s}))}}),Wo={};fe(Wo,"",pn);var Vo="pylatexenc.macrospec._specclasses",Ho=(me(Wo.getLogger,Wo,Vo),function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var r=arguments[e--];for(var n in r);}ar([].slice.apply(arguments).slice(0,e+1))}else ar();return null}),$o=ve("_SpecBase",[kt],{__module__:Vo,get __init__(){return de(this,(function(e,r,n,t,a,i){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;var o=yr();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"arguments_spec_list":r=s[_];break;case"make_arguments_parsing_state_delta":n=s[_];break;case"make_body_parsing_state_delta":t=s[_];break;case"make_after_parsing_state_delta":a=s[_];break;case"finalize_node":i=s[_];break;default:o[_]=s[_]}delete o.__kwargtrans__}}e.arguments_spec_list=r,e._fn_make_arguments_parsing_state_delta=n,e._fn_make_body_parsing_state_delta=t,e._fn_make_after_parsing_state_delta=a,e._fn_finalize_node=i;var u=me(Ho,null,"SpecBase_init_from_args_parser",e,r,o);me(me(ye,null,$o,"__init__"),null,e,we(o)),ze(!ze(u))&&(ze(e.arguments_spec_list)?e.arguments_parser=me(mo,null,r):e.arguments_parser=me(vo,null))}))},get finalize_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}return ze(null!==e._fn_finalize_node)?me((i=e)._fn_finalize_node,i,r):r;var i}))},get make_arguments_parsing_state_delta(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"token":r=a[i];break;case"latex_walker":n=a[i]}}}return ze(null!==e._fn_make_arguments_parsing_state_delta)?me((o=e)._fn_make_arguments_parsing_state_delta,o,we({token:r,latex_walker:n})):null;var o}))},get make_body_parsing_state_delta(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"token":r=o[l];break;case"nodeargd":n=o[l];break;case"arg_parsing_state_delta":t=o[l];break;case"latex_walker":a=o[l]}}}return ze(null!==e._fn_make_body_parsing_state_delta)?me((s=e)._fn_make_body_parsing_state_delta,s,we({token:r,nodeargd:n,arg_parsing_state_delta:t,latex_walker:a})):e.body_parsing_state_delta;var s}))},get make_after_parsing_state_delta(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsed_node":r=a[i];break;case"latex_walker":n=a[i]}}}return ze(null!==e._fn_make_after_parsing_state_delta)?me((o=e)._fn_make_after_parsing_state_delta,o,we({parsed_node:r,latex_walker:n})):null;var o}))},get needs_arguments(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}for(var a,i=e.arguments_spec_list,o=0;o<Ne(i);o++){var l=qr(i,o);if(ze((a=void 0,me((a=l.spec).is_required,a))))return!0}return!1}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Or(Or(Or(e.__class__.__name__,"("),me(", ".join,", ",function(){for(var r,n,t=[],a=me((r=e.__dict__).py_items,r),i=0;i<Ne(a);i++){var o=qr(a,i),l=o[0],s=o[1];ze(!ze(function(){var e=l;return me(e.startswith,e,"_")}()))&&(n=void 0,me(t.append,t,me((n="{}={!r}").format,n,l,s)))}return t}())),")")}))}}),Qo=ve("MacroSpec",[$o],{__module__:Vo,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macroname":r=i[o];break;case"arguments_spec_list":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,Qo,"__init__"),null,e,we(Pe({arguments_spec_list:n},t))),e.macroname=r}))},get get_node_parser(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token":r=t[a]}}}return me(ao,null,r,e)}))}}),Yo=ve("EnvironmentSpec",[$o],{__module__:Vo,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"environmentname":r=i[o];break;case"arguments_spec_list":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}var l,s=me((l=t).py_pop,l,"make_body_parser",null),_=function(){var e=t;return me(e.py_pop,e,"body_parsing_state_delta",null)}();me(me(ye,null,Yo,"__init__"),null,e,we(Pe({arguments_spec_list:n},t))),e.environmentname=r,e.body_parsing_state_delta=_,e._fn_make_body_parser=s}))},get get_node_parser(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token":r=t[a]}}}return me(io,null,r,e)}))},get make_body_parser(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":r=i[o];break;case"nodeargd":n=i[o];break;case"arg_parsing_state_delta":t=i[o]}}}return ze(null!==e._fn_make_body_parser)?me((l=e)._fn_make_body_parser,l,r,n,t):me(co,null,we({environmentname:r.arg}));var l}))}}),Xo=ve("SpecialsSpec",[$o],{__module__:Vo,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"specials_chars":r=i[o];break;case"arguments_spec_list":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,Xo,"__init__"),null,e,we(Pe({arguments_spec_list:n},t))),e.specials_chars=r}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="SpecialsSpec(specials_chars={!r}, arguments_spec_list={!r})").format,a,e.specials_chars,e.arguments_spec_list);var a}))},get get_node_parser(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token":r=t[a]}}}return me(oo,null,r,e)}))}}),Zo={},Ko={};fe(Ko,"",za),fe(Zo,"",pn),fe({},"",Ct);var Jo="pylatexenc.latexwalker._walker",el=Bo,rl=me(Zo.getLogger,Zo,Jo),nl=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var r=arguments[e--];for(var n in r);}var t=ar([].slice.apply(arguments).slice(0,e+1))}else t=ar();return me(ar,null,t)},tl=Ko.fn_unique_object_id,al=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var r=arguments[e--];for(var n in r);}ar([].slice.apply(arguments).slice(0,e+1))}else ar();return null},il=ve("LatexWalker",[dn.LatexWalkerBase],{__module__:Jo,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"s":r=i[o];break;case"latex_context":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}var l,s=me((l=t).py_pop,l,"default_parsing_state",null);if(e.s=r,e.line_number_offset=function(){var e=t;return me(e.py_pop,e,"line_number_offset",null)}(),e.first_line_column_offset=function(){var e=t;return me(e.py_pop,e,"first_line_column_offset",null)}(),e.column_offset=function(){var e=t;return me(e.py_pop,e,"column_offset",null)}(),ze(null===e.line_number_offset)&&(e.line_number_offset=1),ze(null===e.first_line_column_offset)&&(e.first_line_column_offset=0),ze(null===e.column_offset)&&(e.column_offset=0),e._line_no_calc=null,e.debug_nodes=!1,ze(null!==s)){if(e.default_parsing_state=s,ze(null!==n))throw(_=me($r,null,"You cannot specify both the default_parsing_state= and the latex_context= arguments")).__cause__=null,_}else{if(ze(null===n)){if(ze(null===(n=me(al,null,"LatexWalker_init_from_macro_dict",e,t))))n=me(el,null)}else if(ze(Le("macro_dict",t))){var _;throw(_=me(Jr,null,"Cannot specify both `latex_context=` and `macro_dict=` arguments")).__cause__=null,_}ze(null!==n)?(!function(){var e=n;me(e.freeze,e)}(),e.default_parsing_state=me(Ba,null,we({s:e.s,latex_context:n}))):e.default_parsing_state=null}e.tolerant_parsing=function(){var e=t;return me(e.py_pop,e,"tolerant_parsing",!0)}(),e.strict_braces=function(){var e=t;return me(e.py_pop,e,"strict_braces",!1)}(),ze(Le("keep_inline_math",t))&&(me(wo.pylatexenc_deprecated_2,wo,"The keep_inline_math=... option in LatexWalker() has no effect in pylatexenc 2.  Please consider using the more versatile option math_mode=... in LatexNodes2Text() instead."),qr(t,"keep_inline_math")),ze(t)&&function(){var e,r=rl;me(r.warning,r,"LatexWalker(): Unknown flag(s) encountered: %r",me((e=t).py_keys,e))}(),me(me(ye,null,il,"__init__"),null,e)}))},make_latex_group_parser:mi,make_latex_math_parser:Ui,get make_parsing_state(){return de(this,(function(e){var r,n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)if("self"===i)e=a[i];else n[i]=a[i];delete n.__kwargtrans__}}return me((r=e.default_parsing_state).sub_context,r,we(n))}))},get parse_flags(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return yr({tolerant_parsing:e.tolerant_parsing,strict_braces:e.strict_braces,keep_inline_math:null})}))},get _report_ignore_parse_error(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"exc":r=t[a]}}}var i;me((i=rl).info,i,"Ignoring parse error (tolerant parsing mode): %s",r)}))},get check_tolerant_parsing_ignore_error(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"exc":r=t[a]}}}return ze(ze(!ze(e.tolerant_parsing))||!ze(me(Ae,null,r,Sn)))?r:(me((i=e)._report_ignore_parse_error,i,r),null);var i}))},_ParsingContext:ve("_ParsingContext",[ge],{__module__:Jo,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"latex_walker":r=a[i];break;case"open_context":n=a[i]}}}me(me(ye,null,il._ParsingContext,"__init__"),null,e),e.latex_walker=r,e.open_context=n,e.recovery_from_exception=null}))},get __enter__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e}))},get __exit__(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"exc_type":r=i[o];break;case"exc_value":n=i[o];break;case"exc_traceback":t=i[o]}}}if(ze(ze(null!==n)&&me(Ae,null,n,En))){var l=n;if(ze(e.open_context)){var s=(c=e.open_context)[0],_=c[1];ze(null!==s)&&(ze(null!==_)?me((d=l.open_contexts).append,d,me.apply(void 0,[nl,null,s,_.pos].concat((0,D.default)(me((f=e.latex_walker).pos_to_lineno_colno,f,_.pos))))):function(){var e=l.open_contexts;me(e.append,e,me(nl,null,s,null,br(1),br(1)))}())}if(ze(ze(me(Ce,null,l,"pos"))&&ze(null===l.lineno)&&null===l.colno)){var u=me(Ee,null,l,"pos",null),c=function(){var r=e.latex_walker;return me(r.pos_to_lineno_colno,r,u)}();l.lineno=c[0],l.colno=c[1]}l=function(){var r=e.latex_walker;return me(r.check_tolerant_parsing_ignore_error,r,l)}();return ze(null===l)?(e.recovery_from_exception=l,!0):null}var f,d}))},get perform_recovery_nodes_and_parsing_state_delta(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"token_reader":r=t[a]}}}if(ze(null===e.recovery_from_exception)){var i=me(RuntimeError,null,"No exception had happened to try to recover nodes from");throw i.__cause__=null,i}var o,l=null,s=null,_=null;if(ze(me(Ce,null,e.recovery_from_exception,"recovery_nodes")))l=e.recovery_from_exception.recovery_nodes;if(ze(me(Ce,null,e.recovery_from_exception,"recovery_parsing_state_delta")))s=e.recovery_from_exception.recovery_parsing_state_delta;if(ze(me(Ce,null,e.recovery_from_exception,"recovery_at_token")))_=e.recovery_from_exception.recovery_at_token;if(ze(null!==_))me((o=r).move_to_token,o,_);else{var u=null;if(ze(me(Ce,null,e.recovery_from_exception,"recovery_past_token")))u=e.recovery_from_exception.recovery_past_token;ze(null!==u)&&function(){var e=r;me(e.move_past_token,e,u)}()}return ar([l,s])}))}}),get new_parsing_open_context(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"open_context_name":r=a[i];break;case"open_context_token":n=a[i]}}}return me((o=il)._ParsingContext,o,e,ar([r,n]));var o}))},get make_token_reader(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"pos":r=t[a]}}}var i,o=me(dn.LatexTokenReader,dn,e.s,we({tolerant_parsing:e.tolerant_parsing}));return ze(null!==r)&&me((i=o).move_to_pos_chars,i,r),o}))},get parse_content(){return de(this,(function(e,r,n,t,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"parser":r=o[l];break;case"token_reader":n=o[l];break;case"parsing_state":t=o[l];break;case"open_context":a=o[l]}}}var s,_=null,u=null;if(ze(null===n))_=me((s=e).make_token_reader,s);else _=n;if(ze(null===t))u=function(){var r=e;return me(r.make_parsing_state,r)}();else u=t;var c=null,f=null,d=(v=ar([null,null]))[0],p=v[1];if(ze(a))d=(v=a)[0],p=v[1];var h=function(){var e=_;return me(e.cur_pos,e)}();!function(){var e=rl;me(e.debug,e,":: Parsing content (%s @ %r) - %r [%r]::",d,h,r,u)}();var g=function(){var r=e;return me(r.new_parsing_open_context,r,d,p)}();try{g.__enter__();try{var v=function(){var n=r;return me(n.parse,n,we({latex_walker:e,token_reader:_,parsing_state:u}))}();c=v[0],f=v[1]}catch(e){if(!Ae(e,zn))throw e;!function(){var e=rl;me(e.warning,e,"End of stream encountered when parsing content with %s (%s)",r.__class__.__name__,d)}();c=(v=ar([null,null]))[0],f=v[1]}g.__exit__()}catch(e){if(!g.__exit__(e.name,e,e.stack))throw e}if(ze(null!==g.recovery_from_exception))v=function(){var e=g;return me(e.perform_recovery_nodes_info,e,_)}(),c=v[0],f=v[1];return function(){var e=rl;me(e.debug,e,":: PARSED content (%s @ %r) - %r - result %r %r DONE ::",d,h,r,c,f)}(),ar([c,f])}))},get make_nodes_collector(){return de(this,(function(e,r,n){var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token_reader":r=i[o];break;case"parsing_state":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}return me(dn.LatexNodesCollector,dn,e,r,n,we(t))}))},get make_node(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node_class":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}var o,l=ar([(o=n,me(o.py_pop,o,"pos")),function(){var e=n;return me(e.py_pop,e,"pos_end",null)}(),function(){var e=n;return me(e.py_pop,e,"parsing_state")}()]),s=l[0],_=l[1],u=l[2];if(ze(ze(null===_)&&ze(null!==s)&&Le("len",n))){me(wo.pylatexenc_deprecated_3,wo,"make_node(..., len=..., ...); use pos_end= instead of len=");var c=qr(n,"len");_=Or(s,c)}var f=me(r,null,we(Pe({pos:s,pos_end:_,parsing_state:u,latex_walker:e},n)));return ze(e.debug_nodes)&&function(){var e=rl;me(e.debug,e,"New node: %r",f)}(),f}))},get make_nodelist(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}var o,l=me((o=n).py_pop,o,"parsing_state");return me(Xn,null,we(Pe({nodelist:r,parsing_state:l,latex_walker:e},n)))}))},get format_pos(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"pos":r=t[a]}}}if(ze(null===r))return"(location unknown)";var i,o=me((i=e).pos_to_lineno_colno,i,r),l=o[0],s=o[1];return me(Ln,null,r,l,s)}))},get pos_to_lineno_colno(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"pos":r=a[i];break;case"as_dict":n=a[i]}}}return ze(null===e._line_no_calc)&&(e._line_no_calc=me(wo.LineNumbersCalculator,wo,e.s,we({line_number_offset:e.line_number_offset,first_line_column_offset:e.first_line_column_offset,column_offset:e.column_offset}))),me((o=e._line_no_calc).pos_to_lineno_colno,o,r,we({as_dict:n}));var o}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="<LatexWalker {}>").format,a,me(tl,null,e));var a}))}}),ol={};fe(ol,"",pn);me(ol.getLogger,ol,"pylatexenc.latexwalker");var ll={},sl={},_l={};fe(_l,"",za),fe(ll,"",pn),fe(sl,"",Ct);var ul="llm.llmenvironment",cl=me(ll.getLogger,ll,ul),fl=_l.fn_unique_object_id,dl=ve("LLMParsingState",[dn.ParsingState],{__module__:ul,_fields:me(ar,null,Or(me(tr,null,dn.ParsingState._fields),["is_block_level"])),get set_fields(){return de(this,(function(e){var r=null,n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"is_block_level":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}me(me(ye,null,dl,"set_fields"),null,e,we(n)),e.is_block_level=r}))}}),pl=ve("LLMParsingStateDeltaSetBlockLevel",[dn.ParsingStateDelta],{__module__:ul,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"is_block_level":r=t[a]}}}me(me(ye,null,pl,"__init__"),null,e,we({set_attributes:me(yr,null,we({is_block_level:r}))}))}))}}),hl=function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"parser":e=a[i];break;case"argname":r=a[i];break;case"is_block_level":n=a[i]}}}var o=null;if(ze(null!==n))o=me(pl,null,we({is_block_level:n}));return me(dn.LatexArgumentSpec,dn,we({parser:e,argname:r,parsing_state_delta:o}))},gl=ve("BlocksBuilder",[ge],{__module__:ul,rx_space:me(sl.compile,sl,"[ \\t\\n\\r]+"),rx_only_space:me(sl.compile,sl,"^[ \\t\\n\\r]+$"),get __init__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"latexnodelist":r=t[a]}}}me(me(ye,null,gl,"__init__"),null,e),e.latexnodelist=r,e.pending_paragraph_nodes=[],e.blocks=[]}))},get flush_paragraph(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}if(!ze(!ze(e.pending_paragraph_nodes))){var a,i=e.pending_paragraph_nodes;i=me((a=e).finalize_paragraph,a,i);!function(){var r=e.blocks;me(r.append,r,me(Tn.LatexNodeList,Tn,i,we({parsing_state:e.latexnodelist.parsing_state,latex_walker:e.latexnodelist.latex_walker})))}(),e.pending_paragraph_nodes=[]}}))},get simplify_whitespace_chars(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"chars":r=i[o];break;case"is_head":n=i[o];break;case"is_tail":t=i[o]}}}var l,s=me((l=e.rx_space).sub,l," ",r);if(ze(n))s=function(){var e=s;return me(e.lstrip,e)}();if(ze(t))s=function(){var e=s;return me(e.rstrip,e)}();return s}))},get finalize_paragraph(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"paragraph_nodes":r=t[a]}}}if(ze(!ze(r)))return r;for(var i,o=!0,l=null,s=null,_=[],u=me(rr,null,r),c=0;c<Ne(u);c++){(p=qr(u,c))[0];var f=p[1];if(ze(ze(Lr(me(Ne,null,_),0))&&ze(null!==s)&&me(Ee,null,s,"llm_is_block_heading",!1)))o=!0;if(ze((i=void 0,me((i=f).isNodeType,i,Tn.LatexCharsNode)))){var d=yr({is_head:o,is_tail:!1});!function(){var e=_;me(e.append,e,ar([f,d]))}();o=!1,l=d}else if(ze(!ze(function(){var e=f;return me(e.isNodeType,e,Tn.LatexCommentNode)}()))){if(ze(null===s))s=f;o=!1,l=null}}ze(null!==l)&&Fr(l,"is_tail",!0);for(u=_,c=0;c<Ne(u);c++){var p,h=(p=qr(u,c))[0];d=p[1];h.llm_chars_value=function(){var r=e;return me(r.simplify_whitespace_chars,r,h.chars,we({is_head:qr(d,"is_head"),is_tail:qr(d,"is_tail")}))}()}return r}))},get build_blocks(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a=e.latexnodelist;xe(Lr(me(Ne,null,e.blocks),0));for(var i,o=a,l=0;l<Ne(o);l++){var s=qr(o,l),_=me(Ee,null,s,"llm_is_block_level",null),u=me(Ee,null,s,"llm_is_block_heading",!1);if(ze(_)){if(i=void 0,me((i=e).flush_paragraph,i),ze(me(Ee,null,s,"llm_is_paragraph_break_marker",!1)))continue;if(ze(u)){!function(){var r=e.pending_paragraph_nodes;me(r.append,r,s)}();continue}!function(){var r=e.blocks;me(r.append,r,s)}()}else{var c=!0;if(ze(!ze(e.pending_paragraph_nodes)))c=!1;if(ze(Lr(me(Ne,null,e.pending_paragraph_nodes),1))&&ze(me(Ee,null,qr(e.pending_paragraph_nodes,0),"llm_is_block_heading",!1)))c=!1;ze(ze(!ze(c))&&ze(function(){var e=s;return me(e.isNodeType,e,Tn.LatexCharsNode)}())&&function(){var r=e.rx_only_space;return me(r.match,r,s.chars)}())||function(){var r=e.pending_paragraph_nodes;me(r.append,r,s)}()}}return function(){var r=e;me(r.flush_paragraph,r)}(),e.blocks}))}}),vl=ve("NodeListFinalizer",[ge],{__module__:ul,get finalize_nodelist(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"latexnodelist":r=t[a]}}}var i;if(ze(null===(o=r.parsing_state.is_block_level)))var o=me((i=e).infer_is_block_level_nodelist,i,r);if(r.llm_is_block_level=o,ze(!ze(o))){for(var l=r,s=0;s<Ne(l);s++){var _=qr(l,s);if(ze(me(Ee,null,_,"llm_is_block_level",null))){var u=me(En,null,we({msg:"Content is not allowed in inline text (not block level): {}".format(function(){var e=_;return me(e.latex_verbatim,e)}()),pos:_.pos}));throw u.__cause__=null,u}ze(function(){var e=_;return me(e.isNodeType,e,Tn.LatexCharsNode)}())&&(_.llm_chars_value=function(){var r=e;return me(r.simplify_whitespace_chars_inline,r,_.chars)}())}return r}if(ze(o)){var c=function(){var n=e;return me(n.make_blocks_builder,n,r)}(),f=function(){var e=c;return me(e.build_blocks,e)}();r.llm_blocks=f}return r}))},get infer_is_block_level_nodelist(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"latexnodelist":r=t[a]}}}for(var i=r,o=0;o<Ne(i);o++){var l=qr(i,o),s=me(Ee,null,l,"llm_is_block_level",null);if(ze(s))return!0}return!1}))},get simplify_whitespace_chars_inline(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"chars":r=t[a]}}}return me((i=e.rx_inline_space).sub,i," ",r);var i}))},make_blocks_builder:gl,rx_inline_space:gl.rx_space}),ml=ve("LLMLatexWalker",[il],{__module__:ul,get __init__(){return de(this,(function(e){var r=null,n=!1,t=null,a=null,i=null,o=yr();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"llm_text":var u=s[_];break;case"default_parsing_state":var c=s[_];break;case"llm_environment":var f=s[_];break;case"parsing_state_event_handler":r=s[_];break;case"standalone_mode":n=s[_];break;case"resource_info":t=s[_];break;case"parsing_mode":a=s[_];break;case"what":i=s[_];break;default:o[_]=s[_]}delete o.__kwargtrans__}}me(me(ye,null,ml,"__init__"),null,e,we(Pe({s:u,default_parsing_state:c},o))),e.llm_environment=f,e.standalone_mode=n,e.resource_info=t,e.what=i,e.parsing_mode=a,e._parsing_state_event_handler=r}))},get parsing_state_event_handler(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(e._parsing_state_event_handler)?e._parsing_state_event_handler:me(me(ye,null,ml,"parsing_state_event_handler"),null,e)}))},get make_nodelist(){return de(this,(function(e,r,n){var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"nodelist":r=i[o];break;case"parsing_state":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}var l,s,_=me(me(ye,null,ml,"make_nodelist"),null,e,we(Pe({nodelist:r,parsing_state:n},t)));return _=(s=me((l=e.llm_environment).node_list_finalizer,l),me(s.finalize_nodelist,s,_))}))},get make_node(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node_class":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}var o=me(me(ye,null,ml,"make_node"),null,e,r,we(n));return o.node_id=me(fl,null,o),o}))},get filter_whitespace_comments_nodes(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"nodelist":r=t[a]}}}return me((i=r).filter,i,we({node_predicate_fn:e._filter_whitespace_comments_nodes_predicate,skip_none:!0,skip_comments:!0,skip_whitespace_char_nodes:!0}));var i}))},get _filter_whitespace_comments_nodes_predicate(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}return!ze(me(Ee,null,r,"llm_is_paragraph_break_marker",!1))}))}}),wl=ve("LLMEnvironment",[ge],{__module__:ul,get __init__(){return de(this,(function(e,r,n,t){var a=!1,i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"features":r=l[s];break;case"parsing_state":n=l[s];break;case"latex_context":t=l[s];break;case"tolerant_parsing":a=l[s];break;case"parsing_mode_deltas":i=l[s]}}}me(me(ye,null,wl,"__init__"),null,e),e.latex_context=t,e.parsing_state=n,e.parsing_mode_deltas=ze(i)?me(yr,null,i):yr({}),e.features=me(tr,null,r),e.features_by_name=yr({});for(var _,u=e.features,c=0;c<Ne(u);c++){var f=qr(u,c);if(ze(Le(f.feature_name,e.features_by_name)))throw(g=me($r,null,"Duplicate feature detected: feature {} has same name/role as the as already-included feature {}".format(f,qr(e.features_by_name,f.feature_name)))).__cause__=null,g;Fr(e.features_by_name,f.feature_name,f)}if(e.tolerant_parsing=a,e._node_list_finalizer=me(vl,null),ze(null===e.parsing_state.latex_context)){for(u=e.features,c=0;c<Ne(u);c++){var d=qr(u,c),p=(_=void 0,me((_=d).add_latex_context_definitions,_));if(ze(p)){var h=me(yr,null,p);!function(){var e=h;me(e.py_update,e,we({prepend:!0}))}(),function(){var r=e.latex_context;me(r.add_context_category,r,"feature--{}".format(d.feature_name),we(h))}()}}!function(){var r=e.latex_context;me(r.freeze,r)}(),e.parsing_state.latex_context=e.latex_context}else if(ze(null!==e.latex_context)){var g;throw(g=me(RuntimeError,null,"The specified `parsing_state` instance already has a latex_context set")).__cause__=null,g}}))},get feature(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"feature_name":r=t[a]}}}return qr(e.features_by_name,r)}))},parsing_state_event_handler:null,get make_latex_walker(){return de(this,(function(e,r){var n=null,t=null,a=null,i=null,o=null;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"llm_text":r=s[_];break;case"standalone_mode":var u=s[_];break;case"is_block_level":var c=s[_];break;case"parsing_mode":n=s[_];break;case"resource_info":t=s[_];break;case"tolerant_parsing":a=s[_];break;case"what":i=s[_];break;case"input_lineno_colno_offsets":o=s[_]}}}var f,d=me((f=e).make_parsing_state,f,we({is_block_level:c,parsing_mode:n}));if(ze(null===a))a=e.tolerant_parsing;if(ze(null===o))o=yr({});var p=me(ml,null,we({llm_text:r,default_parsing_state:d,tolerant_parsing:a,llm_environment:e,standalone_mode:u,resource_info:t,what:i,parsing_state_event_handler:e.parsing_state_event_handler,line_number_offset:function(){var e=o;return me(e.py_get,e,"line_number_offset",null)}(),first_line_column_offset:function(){var e=o;return me(e.py_get,e,"first_line_column_offset",null)}(),column_offset:function(){var e=o;return me(e.py_get,e,"column_offset",null)}()}));return p}))},get make_parsing_state(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"is_block_level":r=a[i];break;case"parsing_mode":n=a[i]}}}var o,l=e.parsing_state;if(ze(null!==n)){try{var s=qr(e.parsing_mode_deltas,n)}catch(e){if(Ae(e,Qr)){var _=me($r,null,"Invalid parsing_mode {}".format(n));throw _.__cause__=null,_}throw e}if(ze(null!==s))l=me((o=s).get_updated_parsing_state,o,l,we({latex_walker:null}))}var u=yr({});return ze(null!==r)&&Fr(u,"is_block_level",r),function(){var e=l;return me(e.sub_context,e,we(u))}()}))},get make_fragment(){return de(this,(function(e,r){var n,t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"llm_text":r=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}try{var l=me(Hi,null,r,we(Pe({environment:e},t)));return l}catch(e){throw ze(!ze((n=t,me(n.py_get,n,"silent",!1))))&&function(){var e,n,a=cl;me(a.error,a,me((n="Error compiling fragment for {}\nContent was:\n{}\n").format,n,me((e=t).py_get,e,"what","(unknown)"),r),we({exc_info:!0}))}(),e.__cause__=null,e}}))},get node_list_finalizer(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._node_list_finalizer}))},get make_document(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"render_callback":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}var o,l=me(Ki,null,r,we(Pe({environment:e},n)));return me((o=l).initialize,o),l}))},get get_parse_error_message(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"exception_object":r=t[a]}}}return i=me(Cn,null,r),me(i.to_display_string,i);var i}))}}),yl={};e(yl,"logger",(function(){return es})),e(yl,"ReferenceableInfo",(function(){return rs})),e(yl,"get_safe_target_id",(function(){return os})),e(yl,"RefInstance",(function(){return ns})),e(yl,"_rx_unsafe_char",(function(){return as})),e(yl,"_rx_match_safechar",(function(){return is})),e(yl,"FeatureRefsRenderManager",(function(){return ls})),e(yl,"FeatureRefs",(function(){return ss})),e(yl,"RefMacro",(function(){return us})),e(yl,"_ref_arg_specs",(function(){return _s})),e(yl,"latexnodes_parsers",(function(){return Ja})),e(yl,"LLMFragment",(function(){return Hi})),e(yl,"LLMArgumentSpec",(function(){return hl})),e(yl,"Feature",(function(){return bl})),e(yl,"LLMMacroSpecBase",(function(){return Ll})),e(yl,"LatexWalkerParseError",(function(){return En})),e(yl,"ParsedArgumentsInfo",(function(){return lt}));var kl="llm.feature._base",bl=ve("Feature",[ge],{__module__:kl,feature_name:null,DocumentManager:ve("DocumentManager",[ge],{__module__:kl,get __init__(){return de(this,(function(e,r,n){var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"feature":r=i[o];break;case"doc":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,bl.DocumentManager,"__init__"),null,e,we(t)),e.feature=r,e.feature_name=e.feature.feature_name,e.doc=n,e.RenderManager=e.feature.RenderManager}))},get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}}))},get get_node_id(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}return me((i=e.feature).get_node_id,i,r);var i}))}}),RenderManager:ve("RenderManager",[ge],{__module__:kl,get __init__(){return de(this,(function(e,r,n){var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"feature_document_manager":r=i[o];break;case"render_context":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,bl.RenderManager,"__init__"),null,e,we(t)),e.feature_document_manager=r,e.feature=e.feature_document_manager.feature,e.feature_name=e.feature.feature_name,e.render_context=n}))},get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}}))},get process(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"first_pass_value":r=t[a]}}}}))},get postprocess(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"final_value":r=t[a]}}}}))},get get_node_id(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}return me((i=e.feature).get_node_id,i,r);var i}))}}),get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return yr({})}))},get get_node_id(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}return ze(me(Ae,null,r,ar))?r:r.node_id}))}}),xl={};e(xl,"logger",(function(){return Sl})),e(xl,"LLMSpecInfo",(function(){return El})),e(xl,"_dobaseconstructors2argslast",(function(){return Cl})),e(xl,"LLMMacroSpecBase",(function(){return Ll})),e(xl,"LLMEnvironmentSpecBase",(function(){return jl})),e(xl,"LLMSpecialsSpecBase",(function(){return Nl})),e(xl,"LLMSpecInfoConstantValue",(function(){return zl})),e(xl,"ConstantValueMacro",(function(){return Tl})),e(xl,"ConstantValueSpecials",(function(){return Ml})),e(xl,"text_arg",(function(){return Il})),e(xl,"label_arg",(function(){return Rl})),e(xl,"helper_collect_labels",(function(){return Dl})),e(xl,"TextFormatMacro",(function(){return Al})),e(xl,"LLMSpecInfoParagraphBreak",(function(){return ql})),e(xl,"ParagraphBreakSpecials",(function(){return Fl})),e(xl,"ParagraphBreakMacro",(function(){return Ul})),e(xl,"LLMSpecInfoError",(function(){return Bl})),e(xl,"LLMMacroSpecError",(function(){return Gl})),e(xl,"LLMEnvironmentSpecError",(function(){return Wl})),e(xl,"LLMSpecialsSpecError",(function(){return Vl})),e(xl,"_href_arg_specs",(function(){return Hl})),e(xl,"HrefHyperlinkMacro",(function(){return $l})),e(xl,"VerbatimSpecInfo",(function(){return Ql})),e(xl,"VerbatimMacro",(function(){return Yl})),e(xl,"VerbatimEnvironment",(function(){return Xl})),e(xl,"LLMParsingStateDeltaSetBlockLevel",(function(){return pl})),e(xl,"latexnodes_parsers",(function(){return Ja})),e(xl,"LLMArgumentSpec",(function(){return hl})),e(xl,"macrospec",(function(){return Ji})),e(xl,"latexnodes_nodes",(function(){return Tn})),e(xl,"LatexWalkerParseError",(function(){return En})),e(xl,"ParsedArgumentsInfo",(function(){return lt}));D=i("fOdIC");var Pl={};fe(Pl,"",pn);var Ol="llm.llmspecinfo",Sl=me(Pl.getLogger,Pl,Ol),El=ve("LLMSpecInfo",[ge],{__module__:Ol,delayed_render:!1,is_block_level:!1,is_block_heading:!1,is_paragraph_break_marker:!1,allowed_in_standalone_mode:!1,get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}}))},get prepare_delayed_render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o=me(RuntimeError,null,"Reimplement me!");throw o.__cause__=null,o}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o=me(RuntimeError,null,"Element {} cannot be placed here, render() not reimplemented.".format(r));throw o.__cause__=null,o}))},get finalize_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=r.latex_walker.standalone_mode;if(ze(ze(o)&&!ze(e.allowed_in_standalone_mode))){var l=me(En,null,"{} is not allowed here (standalone mode).".format(me((i=r).latex_verbatim,i)));throw l.__cause__=null,l}r.llm_specinfo=e;try{!function(){var n=e;me(n.postprocess_parsed_node,n,r)}()}catch(e){var s;if(Ae(e,En))throw ze(ze(!ze(me(Ce,null,_=e,"pos")))||null===_.pos)&&(_.pos=r.pos),(s=_).__cause__=null,s;if(Ae(e,$r))throw(s=me(En,null,me(or,null,_=e),we({pos:r.pos}))).__cause__=null,s;if(Ae(e,Wr)){var _=e;throw function(){var e=Sl;me(e.error,e,"Internal Parse Error! {}".format(_),we({exc_info:!0}))}(),function(){var e,n=Sl;me(n.error,n,"Happened @{},  node: {}".format(me(Fe,null,me((e=r.latex_walker).pos_to_lineno_colno,e,r.pos)),function(){var e=r;return me(e.latex_verbatim,e)}()))}(),e.__cause__=null,e}throw e}return r.llm_is_block_level=e.is_block_level,r.llm_is_block_heading=e.is_block_heading,r.llm_is_paragraph_break_marker=e.is_paragraph_break_marker,r}))}}),Cl=function(e,r,n,t,a){if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"Me":e=o[l];break;case"self":r=o[l];break;case"args":n=o[l];break;case"kwargs":t=o[l];break;case"kwargs_to_first_constructor":a=o[l]}}}var s,_=yr({}),u=me(yr,null,t);if(ze(a))for(var c=a,f=0;f<Ne(c);f++){var d=qr(c,f);ze(Le(d,u))&&Fr(_,d,(s=void 0,me((s=u).py_pop,s,d)))}!function(){var n=qr(e.__bases__,0);me(n.__init__,n,r,we(_))}(),function(){var t=qr(e.__bases__,1);me.apply(void 0,[t.__init__,t,r].concat((0,D.default)(n),[we(u)]))}()},Ll=ve("LLMMacroSpecBase",[El,Qo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,Ll,e,i,r)}))}}),jl=ve("LLMEnvironmentSpecBase",[El,Yo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,jl,e,i,r)}))}}),Nl=ve("LLMSpecialsSpecBase",[El,Xo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,Nl,e,i,r)}))}}),zl=ve("LLMSpecInfoConstantValue",[El],{__module__:Ol,allowed_in_standalone_mode:!0,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"value":var i=t[a];break;default:r[a]=t[a]}delete r.__kwargtrans__}var o=ar([].slice.apply(arguments).slice(1,n+1))}else o=ar();me.apply(void 0,[me(ye,null,zl,"__init__"),null,e].concat((0,D.default)(o),[we(r)])),e.value=i}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}return me((o=n.fragment_renderer).render_value,o,e.value);var o}))}}),Tl=ve("ConstantValueMacro",[zl,Qo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,Tl,e,i,r,ar(["value"]))}))}}),Ml=ve("ConstantValueSpecials",[zl,Xo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,Ml,e,i,r,ar(["value"]))}))}}),Il=me(hl,null,we({parser:"{",argname:"text"})),Rl=me(hl,null,we({parser:me(Ja.LatexTackOnInformationFieldMacrosParser,Ja,["label"],we({allow_multiple:!0})),argname:"label"})),Dl=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"node_arg_label":e=t[a];break;case"allowed_prefixes":r=t[a]}}}if(ze(!ze((i=e,me(i.was_provided,i)))))return null;for(var i,o=[],l=function(){var r=e;return me(r.get_content_nodelist,r)}(),s=l,_=0;_<Ne(s);_++){var u=qr(s,_);if(!ze(Lr(qr(u.delimiters,0),"\\label")))throw(c=me(En,null,"Bad information field macro {}".format(qr(u.delimiters,0)),we({pos:u.pos}))).__cause__=null,c;var c,f=function(){var e=u.nodelist;return me(e.get_content_as_chars,e)}();if(ze(Le(":",f)))var d=function(){var e=f;return me(e.py_split,e,":",1)}(),p=d[0],h=d[1];else p=(d=ar([null,f]))[0],h=d[1];if(ze(!Le(p,r)))throw(c=me(En,null,"Heading label {} has incorrect prefix {}:; expected one of {}".format(f,p,r),we({pos:u.pos}))).__cause__=null,c;!function(){var e=o;me(e.append,e,ar([p,h]))}()}return o},Al=ve("TextFormatMacro",[Ll],{__module__:Ol,allowed_in_standalone_mode:!0,_llm_main_text_argument:"text",get __init__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"macroname":r=t[a];break;case"text_formats":var i=t[a]}}}me(me(ye,null,Al,"__init__"),null,e,we({macroname:r,arguments_spec_list:[Il]})),e.text_formats=i}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=(o=me(lt,null,we({node:r})),me(o.get_all_arguments_info,o,ar(["text"])));return function(){var r,t=n.fragment_renderer;return me(t.render_text_format,t,e.text_formats,me((r=qr(l,"text")).get_content_nodelist,r),n)}()}))}}),ql=ve("LLMSpecInfoParagraphBreak",[El],{__module__:Ol,is_block_level:!0,is_paragraph_break_marker:!0,allowed_in_standalone_mode:!0,get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o=me(En,null,"Paragraph break is not allowed here",we({pos:r.pos}));throw o.__cause__=null,o}))}}),Fl=ve("ParagraphBreakSpecials",[ql,Xo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,Fl,e,i,r)}))}}),Ul=ve("ParagraphBreakMacro",[ql,Qo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,Ul,e,i,r)}))}}),Bl=ve("LLMSpecInfoError",[El],{__module__:Ol,allowed_in_standalone_mode:!0,get __init__(){return de(this,(function(e){var r=null,n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"error_msg":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}var o=ar([].slice.apply(arguments).slice(1,t+1))}else o=ar();me.apply(void 0,[me(ye,null,Bl,"__init__"),null,e].concat((0,D.default)(o),[we(n)])),e.error_msg=r}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}if(ze(e.error_msg))var o=e.error_msg;else o="The node {} cannot be placed here.".format((s=me((l=r).latex_verbatim,l),me(s.strip,s)));var l,s;!function(){var e=Sl;me(e.error,e,"Misplaced node: {}".format(me(Fe,null,r)))}();var _=me(En,null,o,we({pos:r.pos}));throw _.__cause__=null,_}))}}),Gl=ve("LLMMacroSpecError",[Bl,Qo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,Gl,e,i,r)}))}}),Wl=ve("LLMEnvironmentSpecError",[Bl,Yo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,Wl,e,i,r)}))}}),Vl=ve("LLMSpecialsSpecError",[Bl,Xo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,Vl,e,i,r)}))}}),Hl=yr({target_href:me(hl,null,we({parser:me(Ja.LatexDelimitedVerbatimParser,Ja,ar(["{","}"])),argname:"target_href"})),display_text:me(hl,null,we({parser:"{",argname:"display_text"}))}),$l=ve("HrefHyperlinkMacro",[Ll],{__module__:Ol,allowed_in_standalone_mode:!0,get __init__(){return de(this,(function(e,r){var n,t=ar(["target_href","display_text"]),a="href";if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"macroname":r=o[l];break;case"command_arguments":t=o[l];break;case"ref_type":a=o[l]}}}me(me(ye,null,$l,"__init__"),null,e,we({macroname:r,arguments_spec_list:(n=e,me(n._get_arguments_spec_list,n,t))})),e.command_arguments=function(){for(var e,r=[],n=t,a=0;a<Ne(n);a++){var i=qr(n,a);e=void 0,me(r.append,r,me((e=i).strip,e,"[]"))}return r}(),e.ref_type=a,ze(Le("display_text",t))&&(e._llm_main_text_argument="display_text")}))},get _get_arguments_spec_list(){return pe(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"cls":e=t[a];break;case"command_arguments":r=t[a]}}}return function(){for(var e=[],n=r,t=0;t<Ne(n);t++){var a=qr(n,t);me(e.append,e,qr(Hl,a))}return e}()}))},get pretty_url(){return pe(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"cls":e=t[a];break;case"target_href":r=t[a]}}}for(var i,o=me(or,null,r),l=ar(["http://","https://"]),s=0;s<Ne(l);s++){var _=qr(l,s);if(ze((i=void 0,me((i=o).startswith,i,_)))){o=Ur(o,me(Ne,null,_),null,1);break}}o=function(){var e=o;return me(e.rstrip,e,"/#?")}();return o}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=(i=me(lt,null,we({node:r})),me(i.get_all_arguments_info,i,e.command_arguments)),l=null,s=null;if(ze(Le("target_href",o)))l=function(){var e=qr(o,"target_href");return me(e.get_content_as_chars,e)}();if(ze(Le("display_text",o)))s=function(){var e=qr(o,"display_text");return me(e.get_content_nodelist,e)}();r.llm_href_info=yr({target_href:l,display_text_nodelist:s})}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l,s,_=qr(r.llm_href_info,"target_href");if(ze(null===(u=qr(r.llm_href_info,"display_text_nodelist"))))var u=me((s=r.latex_walker).make_nodelist,s,[(l=r.latex_walker,me(l.make_node,l,Un,we({parsing_state:r.parsing_state,chars:(o=e,me(o.pretty_url,o,_)),pos:r.pos,pos_end:r.pos})))],we({parsing_state:r.parsing_state}));return function(){var r=n.fragment_renderer;return me(r.render_link,r,e.ref_type,_,u,n)}()}))}}),Ql=ve("VerbatimSpecInfo",[El],{__module__:Ol,allowed_in_standalone_mode:!0,get __init__(){return de(this,(function(e){var r=null,n=!1,t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"annotations":r=i[o];break;case"include_environment_begin_end":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}var l=ar([].slice.apply(arguments).slice(1,a+1))}else l=ar();me.apply(void 0,[me(ye,null,Ql,"__init__"),null,e].concat((0,D.default)(l),[we(t)])),e.annotations=r,e.include_environment_begin_end=n}))},get make_body_parser(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":r=i[o];break;case"nodeargd":n=i[o];break;case"arg_parsing_state_delta":t=i[o]}}}xe(Lr(r.tok,"begin_environment"));var l=r.arg;return me(Ja.LatexVerbatimEnvironmentContentsParser,Ja,we({environment_name:l}))}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=null;if(ze(me((o=r).isNodeType,o,Vn))){l=r.environmentname;if(ze(e.include_environment_begin_end))var s=function(){var e=r;return me(e.latex_verbatim,e)}();else s=function(){var e=r.nodelist;return me(e.latex_verbatim,e)}()}else s=function(){var e=r;return me(e.latex_verbatim,e)}();var _=ze(e.annotations)||[];return ze(null!==l)&&function(){var e=_;me(e.append,e,l)}(),function(){var e=n.fragment_renderer;return me(e.render_verbatim,e,s,we({annotations:_}))}()}))}}),Yl=ve("VerbatimMacro",[Ql,Qo],{__module__:Ol,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macroname":r=i[o];break;case"verbatim_delimiters":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}var l=me(yr,null,we(Pe({macroname:r,arguments_spec_list:[me(Ja.LatexDelimitedVerbatimParser,Ja,we({delimiters:n}))]},t)));me(Cl,null,Yl,e,[],l)}))}}),Xl=ve("VerbatimEnvironment",[Ql,Yo],{__module__:Ol,get __init__(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}var i=ar([].slice.apply(arguments).slice(1,n+1))}else i=ar();me(Cl,null,Xl,e,i,r)}))}}),Zl={},Kl={};fe(Zl,"",pn),fe(Kl,"",Ct);var Jl="llm.feature.refs",es=me(Zl.getLogger,Zl,Jl),rs=ve("ReferenceableInfo",[ge],{__module__:Jl,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"formatted_ref_llm_text":r=a[i];break;case"labels":n=a[i]}}}me(me(ye,null,rs,"__init__"),null,e),e.formatted_ref_llm_text=r,e.labels=n,e._fields=ar(["formatted_ref_llm_text","labels"])}))},get get_target_id(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}if(ze(!ze(e.labels)))return null;var a=qr(e.labels,0),i=a[0],o=a[1];return me(os,null,i,o)}))},get asdict(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a,me(Ee,null,e,a)])}return yr(r)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Or(Or("{}(".format(e.__class__.__name__),me(", ".join,", ",function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,"{}={}".format(a,me(Ee,null,e,a)))}return $e(r)}())),")")}))}}),ns=ve("RefInstance",[ge],{__module__:Jl,get __init__(){return de(this,(function(e,r,n,t,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"ref_type":r=o[l];break;case"ref_label":n=o[l];break;case"formatted_ref_llm_text":t=o[l];break;case"target_href":a=o[l]}}}me(me(ye,null,ns,"__init__"),null,e),e.ref_type=r,e.ref_label=n,e.formatted_ref_llm_text=t,e.target_href=a,e._fields=ar(["ref_type","ref_label","formatted_ref_llm_text","target_href"])}))},get asdict(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a,me(Ee,null,e,a)])}return yr(r)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Or(Or("{}(".format(e.__class__.__name__),me(", ".join,", ",function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,"{}={}".format(a,me(Ee,null,e,a)))}return $e(r)}())),")")}))}}),ts=function(e){return(+e).toString(16)},as=me(Kl.compile,Kl,"[^a-zA-Z0-9-]"),is=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("m"===t)e=n[t]}}return"_{}X".format(me(ts,null,me(Be,null,me((a=e).group,a))));var a},os=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"ref_type":e=t[a];break;case"ref_label":r=t[a]}}}var i,o=me((i=as).sub,i,is,e),l=function(){var e=as;return me(e.sub,e,is,r)}();return"{}-{}".format(o,l)},ls=ve("FeatureRefsRenderManager",[bl.RenderManager],{__module__:Jl,get initialize(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"add_external_ref_resolvers":r=t[a]}}}var i;e.ref_labels=yr({}),e.registered_references=yr({}),e.external_ref_resolvers=[],ze(r)&&me((i=e.external_ref_resolvers).extend,i,r),function(){var r=e.external_ref_resolvers;me(r.extend,r,e.feature.external_ref_resolvers)}()}))},get register_reference_referenceable(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)switch(t){case"self":e=n[t];break;case"node":var a=n[t];break;case"referenceable_info":var i=n[t]}}}if(!ze(!ze(i.labels)))for(var o,l=Or("#",me((o=i).get_target_id,o)),s=i.labels,_=0;_<Ne(s);_++){var u=qr(s,_),c=u[0],f=u[1];!function(){var r=e;me(r.register_reference,r,c,f,we({formatted_ref_llm_text:i.formatted_ref_llm_text,node:a,target_href:l}))}()}}))},get register_reference(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"ref_type":r=a[i];break;case"ref_label":n=a[i];break;case"node":var o=a[i];break;case"formatted_ref_llm_text":var l=a[i];break;case"target_href":var s=a[i]}}}var _,u=me((_=e).get_node_id,_,o),c=ar([u,r,n]);if(ze(Le(c,e.registered_references)))return e.registered_references;if(ze(Le(ar([r,n]),e.ref_labels))){var f=me($r,null,"Duplicate reference label {}:{} in the same document!".format(r,n));throw f.__cause__=null,f}var d=me(ns,null,we({ref_type:r,ref_label:n,formatted_ref_llm_text:l,target_href:s}));return Fr(e.registered_references,c,d),e.ref_labels.__setitem__([r,n],d),d}))},get get_ref(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"ref_type":r=i[o];break;case"ref_label":n=i[o];break;case"resource_info":t=i[o]}}}if(ze(Le(ar([r,n]),e.ref_labels)))return e.ref_labels.__getitem__([r,n]);for(var l,s=e.external_ref_resolvers,_=0;_<Ne(s);_++){var u=qr(s,_),c=(l=void 0,me((l=u).get_ref,l,r,n,t,e.render_context));if(ze(null!==c))return c}var f=me($r,null,"Ref target {}:{} found neither within database nor with any set external resolvers".format(r,n));throw f.__cause__=null,f}))},get render_ref(){return de(this,(function(e,r,n,t,a,i){if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"ref_type":r=l[s];break;case"ref_label":n=l[s];break;case"display_content_llm":t=l[s];break;case"resource_info":a=l[s];break;case"render_context":i=l[s]}}}var _,u=i.fragment_renderer;try{var c=me((_=e).get_ref,_,r,n,a)}catch(e){if(Ae(e,Wr)){var f=e,d=me($r,null,"Unable to resolve reference to {}:{}: {} [in {}]".format(r,n,f,me(Fe,null,a)));throw d.__cause__=null,d}throw e}if(ze(null===t))t=c.formatted_ref_llm_text;if(ze(!ze(me(Ae,null,t,Hi))))t=function(){var e=i.doc.environment;return me(e.make_fragment,e,t,we({standalone_mode:!0}))}();var p=t.nodes;return function(){var e=u;return me(e.render_link,e,"ref",c.target_href,p,we({render_context:i,annotations:["ref-{}".format(r)]}))}()}))}}),ss=ve("FeatureRefs",[bl],{__module__:Jl,feature_name:"refs",RenderManager:ls,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"external_ref_resolvers":r=t[a]}}}me(me(ye,null,ss,"__init__"),null,e),ze(null!==r)?e.external_ref_resolvers=me(tr,null,r):e.external_ref_resolvers=[]}))},get set_external_ref_resolvers(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"external_ref_resolvers":r=t[a]}}}var i;ze(ze(null!==e.external_ref_resolvers)&&me(Ne,null,e.external_ref_resolvers))&&me((i=es).warning,i,"FeatureRefs.set_external_ref_resolvers(): There were already external refs resolvers set.  They will be replaced."),e.external_ref_resolvers=r}))},get add_external_ref_resolver(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"external_ref_resolver":r=t[a]}}}var i;me((i=e.external_ref_resolvers).append,i,r)}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(yr,null,we({macros:[me(us,null,we({macroname:"ref",command_arguments:ar(["ref_label"])})),me(us,null,we({macroname:"hyperref",command_arguments:ar(["[]ref_label","display_text"])}))]}))}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return"{}(external_ref_resolvers={})".format(e.__class__.__name__,me(Fe,null,e.external_ref_resolvers))}))}}),_s=yr({ref_label:me(hl,null,me(Ja.LatexCharsGroupParser,Ja),we({argname:"ref_label"})),"[]ref_label":me(hl,null,me(Ja.LatexCharsGroupParser,Ja,we({delimiters:ar(["[","]"])})),we({argname:"ref_label"})),display_text:me(hl,null,"{",we({argname:"display_text"}))}),us=ve("RefMacro",[Ll],{__module__:Jl,delayed_render:!0,get __init__(){return de(this,(function(e,r){var n,t="ref",a=ar(["ref_label","display_text"]);if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"macroname":r=o[l];break;case"ref_type":t=o[l];break;case"command_arguments":a=o[l]}}}me(me(ye,null,us,"__init__"),null,e,we({macroname:r,arguments_spec_list:(n=e,me(n._get_arguments_spec_list,n,a))})),e.ref_type=t,e.command_arguments=function(){for(var e,r=[],n=a,t=0;t<Ne(n);t++){var i=qr(n,t);e=void 0,me(r.append,r,me((e=i).py_replace,e,"[]",""))}return r}()}))},get _get_arguments_spec_list(){return pe(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"cls":e=t[a];break;case"command_arguments":r=t[a]}}}return function(){for(var e=[],n=r,t=0;t<Ne(n);t++){var a=qr(n,t);me(e.append,e,qr(_s,a))}return e}()}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=(i=me(lt,null,we({node:r})),me(i.get_all_arguments_info,i,e.command_arguments)),l=null,s=function(){var e=qr(o,"ref_label");return me(e.get_content_as_chars,e)}();if(ze(Le(":",s))){var _=function(){var e=s;return me(e.py_split,e,":",1)}();l=_[0],s=_[1]}if(ze(Le("display_text",o)))var u=function(){var e=qr(o,"display_text");return me(e.get_content_nodelist,e)}();else u=null;r.llmarg_ref=ar([l,s]),r.llm_ref_info=yr({ref_type_and_target:ar([l,s]),display_content_nodelist:u})}))},get prepare_delayed_render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=qr(r.llm_ref_info,"ref_type_and_target"),s=l[0],_=l[1],u=qr(r.llm_ref_info,"display_content_nodelist"),c=me((o=n).feature_render_manager,o,"refs"),f=r.latex_walker.resource_info;try{return function(){var e=c;return me(e.render_ref,e,s,_,u,f,n)}()}catch(e){if(Ae(e,Wr)){var d=e;!function(){var e,n=es;me(n.error,n,"Failed to resolve reference to {}:{}: {} in {} @ {}".format(s,_,d,me((e=r).latex_verbatim,e),function(){var e=r;return me(e.format_pos,e)}()))}();var p=me(En,null,"Unable to resolve reference to {}:{}: {}".format(s,_,d),we({pos:r.pos}));throw p.__cause__=null,p}throw e}}))}}),cs={},fs={};fe(cs,"",pn),fe(fs,"",Ct);var ds="llm.feature.defterm",ps=(me(cs.getLogger,cs,ds),function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("x"===t)e=n[t]}}return me(fs.sub,fs,"\\s+"," ",me((a=e).strip,a));var a}),hs=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("node_term_arg_nodelist"===t)e=n[t]}}return me(ps,null,me((a=e).latex_verbatim,a));var a},gs=ve("DefineTermEnvironment",[jl],{__module__:ds,is_block_level:!0,allowed_in_standalone_mode:!1,allowed_ref_label_prefixes:ar(["topic"]),defterm_ref_type:"defterm",get __init__(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=": ";var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"environmentname":r=o[l];break;case"render_with_term":n=o[l];break;case"render_with_term_suffix":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}if(me(me(ye,null,gs,"__init__"),null,e,we(Pe({environmentname:r,arguments_spec_list:[me(hl,null,"{",we({argname:"term"})),xl.label_arg]},a))),e.render_with_term=n,e.render_with_term_suffix=t,ze(e.render_with_term)){var s=me(Al,null,"",we({text_formats:["defterm-term"]}));s.is_block_heading=!0,e.render_term_text_format_spec=s}e.body_parsing_state_delta=me(pl,null,we({is_block_level:e.is_block_level}))}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=(i=me(lt,null,we({node:r})),me(i.get_all_arguments_info,i,ar(["term","label"]))),l=me(hs,null,function(){var e=qr(o,"term");return me(e.get_content_nodelist,e)}());return r.llmarg_term_llm_ref_label_verbatim=l,r.llmarg_labels=me(xl.helper_collect_labels,xl,qr(o,"label"),e.allowed_ref_label_prefixes),r.llm_referenceable_infos=[me(yl.ReferenceableInfo,yl,we({formatted_ref_llm_text:r.llmarg_term_llm_ref_label_verbatim,labels:Or([ar([e.defterm_ref_type,r.llmarg_term_llm_ref_label_verbatim])],me(tr,null,r.llmarg_labels))}))],r}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=r.llmarg_term_llm_ref_label_verbatim;if(ze(me((o=n).supports_feature,o,"refs")))for(var s=function(){var e=n;return me(e.feature_render_manager,e,"refs")}(),_=r.llm_referenceable_infos,u=0;u<Ne(_);u++){var c=qr(_,u);!function(){var e=s;me(e.register_reference_referenceable,e,we({node:r,referenceable_info:c}))}()}var f=r.nodelist;if(ze(e.render_with_term)){var d=n.doc.environment,p=function(){var r=d;return me(r.make_fragment,r,Or(l,e.render_with_term_suffix),we({standalone_mode:!0}))}(),h=function(){var n=p.latex_walker;return me(n.make_node,n,Wn,we({macroname:"",spec:e.render_term_text_format_spec,macro_post_space:"",parsing_state:p.nodes.parsing_state,nodeargd:me(Dn,null,we({arguments_spec_list:e.render_term_text_format_spec.arguments_spec_list,argnlist:[p.nodes]})),pos:r.pos,pos_end:r.pos_end}))}();!function(){var r=e.render_term_text_format_spec;me(r.finalize_node,r,h)}();f=function(){var e=p.latex_walker;return me(e.make_nodelist,e,Or([h],me(tr,null,f)),we({parsing_state:r.nodelist.parsing_state}))}()}return function(){var e,t=n.fragment_renderer;return me(t.render_semantic_block,t,we({content:(e=n.fragment_renderer,me(e.render_nodelist,e,f,we({render_context:n,is_block_level:!0}))),role:"defterm",target_id:function(){var e=qr(r.llm_referenceable_infos,0);return me(e.get_target_id,e)}()}))}()}))}}),vs=ve("RefTermMacro",[Ll],{__module__:ds,allowed_in_standalone_mode:!1,defterm_ref_type:"defterm",get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"macroname":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}me(me(ye,null,vs,"__init__"),null,e,we(Pe({macroname:r,arguments_spec_list:[me(hl,null,"[",we({argname:"ref_term"})),me(hl,null,"{",we({argname:"term"}))]},n)))}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=(i=me(lt,null,we({node:r})),me(i.get_all_arguments_info,i,ar(["ref_term","term"])));ze(function(){var e=qr(o,"ref_term");return me(e.was_provided,e)}())?(r.llm_term_llm_show_term_nodelist=function(){var e=qr(o,"term");return me(e.get_content_nodelist,e)}(),r.llm_term_llm_ref_label_verbatim=me(hs,null,function(){var e=qr(o,"ref_term");return me(e.get_content_nodelist,e)}())):(r.llm_term_llm_show_term_nodelist=function(){var e=qr(o,"term");return me(e.get_content_nodelist,e)}(),r.llm_term_llm_ref_label_verbatim=me(hs,null,r.llm_term_llm_show_term_nodelist)),r.llmarg_ref=ar([e.defterm_ref_type,r.llm_term_llm_ref_label_verbatim])}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=r.llm_term_llm_show_term_nodelist,s=r.llm_term_llm_ref_label_verbatim;if(ze(!ze((o=n,me(o.supports_feature,o,"refs")))))return function(){var e=n.fragment_renderer;return me(e.render_nodelist,e,l,we({render_context:n,is_block_level:!1}))}();var _=r.latex_walker.resource_info,u=function(){var e=n;return me(e.feature_render_manager,e,"refs")}(),c=function(){var r=u;return me(r.get_ref,r,e.defterm_ref_type,s,_)}();return function(){var e=n.fragment_renderer;return me(e.render_link,e,"term",we({href:c.target_href,display_nodelist:l,render_context:n}))}()}))}}),ms=ve("FeatureDefTerm",[bl],{__module__:ds,feature_name:"defterm",FeatureDocumentManager:null,FeatureRenderManager:null,render_defterm_with_term:!0,render_defterm_with_term_suffix:": ",get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(yr,null,we({macros:[me(vs,null,"term")],environments:[me(gs,null,"defterm",we({render_with_term:e.render_defterm_with_term,render_with_term_suffix:e.render_defterm_with_term_suffix}))]}))}))}}),ws={};fe(ws,"",pn);var ys="llm.feature.graphics",ks=(me(ws.getLogger,ws,ys),ve("GraphicsResource",[ge],{__module__:ys,get __init__(){return de(this,(function(e,r){var n=null,t=null,a=null,i=null,o=null;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"src_url":r=s[_];break;case"srcset":n=s[_];break;case"graphics_type":t=s[_];break;case"dpi":a=s[_];break;case"pixel_dimensions":i=s[_];break;case"physical_dimensions":o=s[_]}}}me(me(ye,null,ks,"__init__"),null,e),e.src_url=r,e.srcset=n,e.graphics_type=t,e.dpi=a,e.pixel_dimensions=i,e.physical_dimensions=o,e._fields=ar(["src_url","srcset","graphics_type","dpi","pixel_dimensions","physical_dimensions"])}))},get asdict(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a,me(Ee,null,e,a)])}return yr(r)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="{}({})").format,a,e.__class__.__name__,me(", ".join,", ",function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,"{}={}".format(a,me(Ee,null,e,a)))}return r}()));var a}))}})),bs=ve("SimpleIncludeGraphicsMacro",[Ll],{__module__:ys,is_block_level:!0,allowed_in_standalone_mode:!1,get __init__(){return de(this,(function(e,r){var n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"macroname":r=a[i];break;default:n[i]=a[i]}delete n.__kwargtrans__}}me(me(ye,null,bs,"__init__"),null,e,we(Pe({macroname:"includegraphics",arguments_spec_list:[me(hl,null,we({parser:me(Ja.LatexCharsGroupParser,Ja,we({delimiters:ar(["[","]"]),optional:!0})),argname:"graphics_options"})),me(hl,null,we({parser:me(Ja.LatexCharsGroupParser,Ja,we({delimiters:ar(["{","}"])})),argname:"graphics_path"}))]},n)))}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=(i=me(lt,null,we({node:r})),me(i.get_all_arguments_info,i,ar(["graphics_options","graphics_path"])));return r.llmarg_graphics_options_value=function(){var e=qr(o,"graphics_options");return me(e.get_content_as_chars,e)}(),r.llmarg_graphics_path=function(){var e=qr(o,"graphics_path");return me(e.get_content_as_chars,e)}(),r.llm_resources=[yr({resource_type:"graphics_path",resource_source_type:"file",resource_source:r.llmarg_graphics_path})],r}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l,s=n.fragment_renderer,_=r.llmarg_graphics_options_value,u=r.llmarg_graphics_path;if(ze(_))throw(o=me(En,null,"Graphics options are not supported here: {}".format(_),we({pos:qr(node_args,"graphics_options").nodelist.pos}))).__cause__=null,o;if(ze(!ze((l=n,me(l.supports_feature,l,"graphics_resource_provider")))))throw(o=me(RuntimeError,null,"LLM's SimpleIncludeGraphicsSpecInfo (\\includegraphics) requires a graphics_resource_provider feature to be installed in the render context")).__cause__=null,o;var c=r.latex_walker.resource_info,f=function(){var e=n;return me(e.feature_render_manager,e,"graphics_resource_provider")}(),d=function(){var e=f;return me(e.get_graphics_resource,e,u,c)}();return function(){var e=s;return me(e.render_graphics_block,e,d)}()}))}}),xs=ve("FeatureSimplePathGraphicsResourceProvider",[bl],{__module__:ys,feature_name:"graphics_resource_provider",RenderManager:ve("RenderManager",[bl.RenderManager],{__module__:ys,get get_graphics_resource(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"graphics_path":r=a[i];break;case"resource_info":n=a[i]}}}return me(ks,null,we({src_url:r}))}))}})}),Ps={},Os={};fe(Ps,"",pn),fe(Os,"",Ct);var Ss="llm.feature.cells",Es=(me(Ps.getLogger,Ps,Ss),ve("_NotSpecified",[ge],{__module__:Ss})),Cs=ve("LatexTabularRowSeparatorSpec",[Ji.MacroSpec],{__module__:Ss,get __init__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}me(me(ye,null,Cs,"__init__"),null,e,we({macroname:"\\",arguments_spec_list:[]}))}))}}),Ls=ve("LatexTabularColumnSeparatorSpec",[Ji.SpecialsSpec],{__module__:Ss,get __init__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}me(me(ye,null,Ls,"__init__"),null,e,we({specials_chars:"&",arguments_spec_list:[]}))}))}}),js=yr({mergespec:me(Rn,null,me(Ja.LatexCharsGroupParser,Ja,we({enable_groups:!1})),we({argname:"mergespec"})),styles:me(Rn,null,me(Ja.LatexCharsGroupParser,Ja,we({delimiters:ar(["<",">"]),enable_groups:!1,optional:!0})),we({argname:"styles"})),styles_mapping:me(Rn,null,me(Ja.LatexCharsGroupParser,Ja,we({delimiters:ar(["<",">"]),enable_groups:!1,optional:!0})),we({argname:"styles_mapping"})),cellcontents:me(hl,null,"{",we({argname:"cellcontents",is_block_level:!0}))}),Ns=ve("MergeMacroSpec",[Ji.MacroSpec],{__module__:Ss,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="merge";if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"macroname":r=t[a]}}}me(me(ye,null,Ns,"__init__"),null,e,r,we({arguments_spec_list:[qr(js,"mergespec")]}))}))}});Fr(js,"placement",me(Rn,null,me(Ja.LatexDelimitedGroupParser,Ja,we({delimiters:ar(["[","]"]),optional:!0})),we({argname:"placement",parsing_state_delta:me(Ji.ParsingStateDeltaExtendLatexContextDb,Ji,we({extend_latex_context:me(yr,null,we({macros:[me(Ns,null)]}))}))}))),Fr(js,"placement_mapping",me(Rn,null,me(Ja.LatexDelimitedGroupParser,Ja,we({delimiters:ar(["[","]"]),optional:!0})),we({argname:"placement_mapping",parsing_state_delta:me(Ji.ParsingStateDeltaExtendLatexContextDb,Ji,we({extend_latex_context:me(yr,null,we({macros:[me(Ns,null)]}))}))})));var zs=ve("CellMacro",[Gl],{__module__:Ss,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="cell";if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"macroname":r=t[a]}}}me(me(ye,null,zs,"__init__"),null,e,we({macroname:r,arguments_spec_list:[qr(js,"styles"),qr(js,"placement"),qr(js,"cellcontents")]}))}))}});Fr(js,"celldata_contents",me(Rn,null,"{",we({argname:"celldata_contents",parsing_state_delta:me(Ji.ParsingStateDeltaExtendLatexContextDb,Ji,we({extend_latex_context:me(yr,null,we({macros:[me(zs,null),me(Cs,null)],specials:[me(Ls,null)]}))}))})));var Ts=ve("CelldataMacroSpec",[Ji.MacroSpec],{__module__:Ss,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="celldata";if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"macroname":r=t[a]}}}me(me(ye,null,Ts,"__init__"),null,e,r,we({arguments_spec_list:[qr(js,"styles_mapping"),qr(js,"placement_mapping"),qr(js,"celldata_contents")]}))}))}}),Ms=ve("CellIndexRangeModel",[ge],{__module__:Ss,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"start":r=a[i];break;case"end":n=a[i]}}}me(me(ye,null,Ms,"__init__"),null,e),e.start=r,e.end=n}))},_fields:ar(["start","end"]),get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(Lr(e.end,Or(e.start,1)))?"{}".format(Or(e.start,1)):"[{}-{}]".format(Or(e.start,1),e.end)}))}}),Is=ve("CellPlacementModel",[ge],{__module__:Ss,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"row_range":r=a[i];break;case"col_range":n=a[i]}}}me(me(ye,null,Is,"__init__"),null,e),e.row_range=r,e.col_range=n}))},_fields:ar(["row_range","col_range"]),get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return"{},{}".format(me(Fe,null,e.row_range),me(Fe,null,e.col_range))}))}}),Rs=ve("CellModel",[ge],{__module__:Ss,get __init__(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"placement":r=i[o];break;case"styles":n=i[o];break;case"content_nodes":t=i[o]}}}me(me(ye,null,Rs,"__init__"),null,e),e.placement=r,e.styles=n,e.content_nodes=t}))},_fields:ar(["placement","styles","content_nodes"]),get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return"<Cell @{} <{}> ({})>".format(me(Fe,null,e.placement),me(" ".join," ",e.styles),me(Ds,null,me((a=e.content_nodes).latex_verbatim,a)));var a}))}}),Ds=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("s"===t)e=n[t]}}return me(Os.sub,Os,"(^\\s+|\\s+$)"," ",e)},As=ve("CellPlacementsMappingModel",[ge],{__module__:Ss,get __init__(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"row_placements":r=a[i];break;case"col_placements":n=a[i]}}}me(me(ye,null,As,"__init__"),null,e),e.row_placements=r,e.col_placements=n}))},_fields:ar(["row_placements","col_placements"]),get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Or(Or("{}(".format(e.__class__.__name__),me("".join,"",function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,"\n    {}={}".format(a,me(Fe,null,me(Ee,null,e,a))))}return $e(r)}())),"\n)".format())}))},get _get_index_range(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"placements":r=i[o];break;case"j":n=i[o];break;case"current":t=i[o]}}}if(ze(Lr(me(Ne,null,r),0)))return me(Ms,null,t,Or(t,1));if(ze(Nr(n,Sr(me(Ne,null,r),1))))return qr(r,n);var l=qr(r,br(1));if(ze(null===l.end)){var s=Or(l.start,Or(Sr(n,me(Ne,null,r)),1));return me(Ms,null,s,Or(s,1))}return l}))},get get_row_index_range(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"row_j":r=a[i];break;case"current_row":n=a[i]}}}return me((o=e)._get_index_range,o,e.row_placements,r,n);var o}))},get get_col_index_range(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"col_j":r=a[i];break;case"current_col":n=a[i]}}}return me((o=e)._get_index_range,o,e.col_placements,r,n);var o}))},get start_row_col(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"current_row":r=a[i];break;case"current_col":n=a[i]}}}return ar([(o=e,me(o.get_row_index_range,o,0,r)).start,function(){var r=e;return me(r.get_col_index_range,r,0,n)}().start]);var o}))}}),qs=ve("CellsModel",[ge],{__module__:Ss,get __init__(){return de(this,(function(e){var r,n=yr();if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)if("self"===i)e=a[i];else n[i]=a[i];delete n.__kwargtrans__}}if(me(me(ye,null,qs,"__init__"),null,e),e.current_row=0,e.current_col=0,e.row_names=yr({}),e.column_names=yr({}),ze(n))return e.cells_size=me((r=n).py_pop,r,"cells_size"),e.cells_data=function(){var e=n;return me(e.py_pop,e,"cells_data")}(),void function(){var r=e;me(r.finalize,r)}();e.cells_size=[null,null],e.cells_data=[],e.grid_data=null}))},_fields:ar(["cells_size","cells_data"]),get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a=me("".join,"",function(){for(var r=[],n=e.cells_data,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,Or("\n        ",me(Fe,null,a)))}return r}());return"{}(\n    cells_size={},\n    cells_data=[{}\n    ])".format(e.__class__.__name__,me(Fe,null,e.cells_size),a)}))},get add_cell_node(){return de(this,(function(e,r,n,t){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cell_node":r=i[o];break;case"default_placement":n=i[o];break;case"default_styles":t=i[o]}}}var l,s=(l=me(lt,null,we({node:r})),me(l.get_all_arguments_info,l,ar(["styles","placement","cellcontents"])));if(ze(null===t))t=[];if(ze(function(){var e=qr(s,"styles");return me(e.was_provided,e)}()))var _=Or(function(){var e,r=me((e=qr(s,"styles")).get_content_as_chars,e);return me(r.py_split,r," ")}(),t);else _=t;if(ze(function(){var e=qr(s,"placement");return me(e.was_provided,e)}()))var u=function(){var e=qr(s,"placement");return me(e.get_content_nodelist,e)}();else u=n;var c=function(){var e=qr(s,"cellcontents");return me(e.get_content_nodelist,e)}();return function(){var r=e;return me(r.add_cell,r,u,_,c)}()}))},get add_cell(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"placement_spec":r=i[o];break;case"styles":n=i[o];break;case"content_nodes":t=i[o]}}}var l,s=me((l=e).parse_placement_spec,l,r),_=me(Rs,null,we({placement:s,styles:n,content_nodes:t}));return function(){var r=e.cells_data;me(r.append,r,_)}(),ze(ze(null===qr(e.cells_size,0))||Mr(_.placement.row_range.end,qr(e.cells_size,0)))&&Fr(e.cells_size,0,_.placement.row_range.end),ze(ze(null===qr(e.cells_size,1))||Mr(_.placement.col_range.end,qr(e.cells_size,1)))&&Fr(e.cells_size,1,_.placement.col_range.end),function(){var r=e;me(r.move_to_col,r,_.placement.col_range.end)}(),_}))},get move_to_col(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"col":r=t[a]}}}e.current_col=r}))},get move_next_row(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}e.current_row=me(Rr,null,e.current_row,1),e.current_col=0}))},get finalize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}e.grid_data=function(){for(var r=[],n=0;n<qr(e.cells_size,0);n++)me(r.append,r,function(){for(var r=[],n=0;n<qr(e.cells_size,1);n++)me(r.append,r,null);return r}());return r}();for(var a=e.cells_data,i=0;i<Ne(a);i++)for(var o=qr(a,i),l=!0,s=o.placement.row_range.start;s<o.placement.row_range.end;s++)for(var _=o.placement.col_range.start;_<o.placement.col_range.end;_++){if(ze(null!==qr(qr(e.grid_data,s),_))){var u=qr(qr(qr(e.grid_data,s),_),"cell"),c=me($r,null,"{} overlaps with {}".format(me(Fe,null,o),me(Fe,null,u)));throw c.__cause__=null,c}Fr(qr(e.grid_data,s),_,yr({cell:o,is_topleft:l}));l=!1}}))},get add_celldata_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"celldata_node":r=t[a]}}}var i,o=(i=me(lt,null,we({node:r})),me(i.get_all_arguments_info,i,ar(["styles_mapping","placement_mapping","celldata_contents"]))),l=function(){for(var e,r,n=[],t=(r=me((e=qr(o,"styles_mapping")).get_content_as_chars,e),me(r.py_split,r,",")),a=0;a<Ne(t);a++){var i=qr(t,a);me(n.append,n,function(){var e=i;return me(e.py_split,e)}())}return n}(),s=function(){var e=qr(o,"placement_mapping");return me(e.get_content_nodelist,e)}(),_=function(){var e=qr(o,"celldata_contents");return me(e.get_content_nodelist,e)}(),u=function(){var e=_;return me(e.split_at_node,e,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("node"===t)e=n[t]}}return ze(me((a=e).isNodeType,a,Wn))&&Lr(e.macroname,"\\");var a}))}(),c=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("node"===t)e=n[t]}}return!!ze(ze(function(){var r=e;return me(r.isNodeType,r,$n)}())&&Lr(e.specials_chars,"&"))},f=function(){for(var e,r=[],n=u,t=0;t<Ne(n);t++){var a=qr(n,t);e=void 0,me(r.append,r,me((e=a).split_at_node,e,c))}return r}();!function(){var r=e;me(r.add_celldata,r,s,l,f)}()}))},get add_celldata(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"placement_mapping_spec":r=i[o];break;case"styles_mapping":n=i[o];break;case"data_content_nodes":t=i[o]}}}var l,s=me((l=e).parse_placement_mapping_spec,l,r),_=function(){var r=s;return me(r.start_row_col,r,we({current_row:e.current_row,current_col:e.current_col}))}();e.current_row=_[0],e.current_col=_[1];for(var u=0,c=t,f=0;f<Ne(c);f++){for(var d=qr(c,f),p=0,h=d,g=0;g<Ne(h);g++){var v=qr(h,g),m=function(){var r=s;return me(r.get_row_index_range,r,u,we({current_row:e.current_row}))}(),w=function(){var r=s;return me(r.get_col_index_range,r,p,we({current_col:e.current_col}))}(),y=me(Is,null,we({row_range:m,col_range:w}));if(ze(Nr(p,me(Ne,null,n))))var k=qr(n,p);else k=qr(n,br(1));var b=function(){var e=v.latex_walker;return me(e.filter_whitespace_comments_nodes,e,v)}();if(ze(ze(Lr(me(Ne,null,b),1))&&ze(function(){var e=qr(b,0);return me(e.isNodeType,e,Wn)}())&&Lr(qr(b,0).macroname,"cell"))){var x=function(){var r=e;return me(r.add_cell_node,r,qr(b,0),we({default_placement:y,default_styles:k}))}();p=me(Rr,null,p,Sr(x.placement.col_range.end,x.placement.col_range.start))}else if(ze(Lr(me(Ne,null,b),0))){e.current_col=w.end;p=me(Rr,null,p,1)}else{!function(){var r=e;me(r.add_cell,r,y,k,v)}();p=me(Rr,null,p,1)}}!function(){var r=e;me(r.move_next_row,r)}();u=me(Rr,null,u,1),p=0}}))},_rx_int:me(Os.compile,Os,"^\\d+$"),get parse_cell_index_spec(){return de(this,(function(e,r,n,t,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=Es;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"index_spec":r=o[l];break;case"is_row":n=o[l];break;case"is_col":t=o[l];break;case"py_default":a=o[l]}}}if(ze(me(Ae,null,r,or)))var s=r;else s=me((_=r).get_content_as_chars,_);var _;s=function(){var e=s;return me(e.strip,e)}();if(ze(ze(!ze(s))||Lr(s,"."))){if(ze(a!==Es))return a;if(ze(n))return e.current_row;if(ze(t))return e.current_col;var u;throw(u=me(RuntimeError,null,"Internal error: Neither is_row nor is_col is set!")).__cause__=null,u}if(ze(function(){var r=e._rx_int;return me(r.match,r,s)}()))return Sr(me(Me,null,s),1);if(ze(ze(n)&&Le(s,e.row_names)))return qr(e.row_names,s);if(ze(ze(t)&&Le(s,e.col_names)))return qr(e.col_names,s);throw(u=me($r,null,"Invalid cell index: {}, expected number or valid alias name".format(s))).__cause__=null,u}))},get parse_cell_index_range_spec(){return de(this,(function(e,r,n,t,a,i,o){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=Es;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"range_spec_s":r=s[_];break;case"is_row":n=s[_];break;case"is_col":t=s[_];break;case"py_default":a=s[_];break;case"default_start":i=s[_];break;case"default_end":o=s[_]}}}if(ze(Le(",",r))){for(var u=me((k=r).py_split,k,","),c=[],f=null,d=null,p=u,h=0;h<Ne(p);h++){for(var g=qr(p,h),v=function(){var r=e;return me(r.parse_cell_index_range_spec,r,g,we({is_row:n,is_col:t,py_default:a}))}(),m=v[0],w=v[1],y=m;y<w;y++){if(ze(Mr(y,me(Ne,null,c))))c=me(Rr,null,c,function(){for(var e=[],r=0;r<Or(Sr(w,me(Ne,null,c)),1);r++)me(e.append,e,!1);return e}());Fr(c,y,!0)}if(ze(ze(null===f)||Tr(f,m)))f=m;if(ze(ze(null===d)||Nr(d,w)))d=w}for(y=f;y<d;y++)if(ze(!ze(qr(c,y)))){throw(O=me($r,null,"Specified range {} is not contiguous".format(r))).__cause__=null,O}return ar([f,d])}var k;if(ze(Le("-",r))){v=function(){var e=r;return me(e.py_split,e,"-",1)}();var b=v[0],x=v[1],P=(m=function(){var r=e;return me(r.parse_cell_index_spec,r,b,we({is_row:n,is_col:t,py_default:i}))}(),function(){var r=e;return me(r.parse_cell_index_spec,r,x,we({is_row:n,is_col:t,py_default:null}))}());if(ze(null===P))w=o;else w=Or(P,1);return ar([m,w])}if(ze(Le("+",r))){v=function(){var e=r;return me(e.py_split,e,"+",1)}(),b=v[0];var O,S=v[1];m=function(){var r=e;return me(r.parse_cell_index_spec,r,b,we({is_row:n,is_col:t,py_default:a}))}();if(ze(!ze(function(){var r=e._rx_int;return me(r.match,r,S)}())))throw(O=me($r,null,"Invalid number in START+N cell index range specification: {}".format(S))).__cause__=null,O;var E=me(Me,null,S);return ar([m,w=Or(m,E)])}y=function(){var i=e;return me(i.parse_cell_index_spec,i,r,we({is_row:n,is_col:t,py_default:a}))}();return ar([y,Or(y,1)])}))},get parse_placement_index_spec(){return de(this,(function(e,r,n,t,a,i,o){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=Es;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=0;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=Es;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"placement_index_spec":r=s[_];break;case"is_row":n=s[_];break;case"is_col":t=s[_];break;case"py_default":a=s[_];break;case"default_start":i=s[_];break;case"default_end":o=s[_]}}}if(ze(Lr(me(Ne,null,r),0))){if(ze(n))return me(Ms,null,we({start:e.current_row,end:Or(e.current_row,1)}));if(ze(t))return me(Ms,null,we({start:e.current_col,end:Or(e.current_col,1)}));throw(d=me(RuntimeError,null,"Internal error, neither is_row nor is_col was set here.")).__cause__=null,d}var u,c=me((u=r.latex_walker).filter_whitespace_comments_nodes,u,r);if(ze(jr(me(Ne,null,c),1))){if(ze(n))var f="ROW";else if(ze(t))f="COL";else f=null;var d;throw(d=me(En,null,"Bad cell index or merge range specification, expected {} or \\merge{}{}-RANGE{}, got {} ({} nodes)".format(f,"{",f,"}",me(Fe,null,r),me(Ne,null,c)),we({pos:c.pos}))).__cause__=null,d}var p=qr(c,0);if(ze(ze(function(){var e=p;return me(e.isNodeType,e,Wn)}())&&Lr(p.macroname,"merge"))){var h=function(){var e=me(lt,null,we({node:p}));return me(e.get_all_arguments_info,e,ar(["mergespec"]))}(),g=function(){var e=qr(h,"mergespec");return me(e.get_content_as_chars,e)}();if(ze((v=o)===Es)){if(ze(n))var v=qr(e.cells_size,0);if(ze(t))v=qr(e.cells_size,1)}var m=function(){var r=e;return me(r.parse_cell_index_range_spec,r,g,we({is_row:n,is_col:t,default_start:i,default_end:v}))}(),w=m[0],y=m[1];return me(Ms,null,we({start:w,end:y}))}var k=function(){var r,i=e;return me(i.parse_cell_index_spec,i,me((r=c).get_content_as_chars,r),we({is_row:n,is_col:t,py_default:a}))}();return me(Ms,null,we({start:k,end:Or(k,1)}))}))},get parse_placement_spec(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"placement_spec":r=t[a]}}}if(ze(me(Ae,null,r,Is)))return r;var i,o=(_=ar([[],[]]))[0],l=_[1];if(ze(null!==r)){var s=me((i=r).split_at_chars,i,";",we({keep_empty:!0}));if(ze(Lr(me(Ne,null,s),2)))o=(_=s)[0],l=_[1];else if(ze(Lr(me(Ne,null,s),1))){var _;l=(_=s)[0]}else if(!ze(Lr(me(Ne,null,s),0))){var u=me(En,null,"Bad cell placement specification, expected ROW;COL or COL, got {}".format(me(Ds,null,function(){var e=r;return me(e.latex_verbatim,e)}())),we({pos:r.pos}));throw u.__cause__=null,u}}var c=function(){var r=e;return me(r.parse_placement_index_spec,r,o,we({is_row:!0}))}(),f=function(){var r=e;return me(r.parse_placement_index_spec,r,l,we({is_col:!0}))}();return me(Is,null,we({row_range:c,col_range:f}))}))},get parse_placement_mapping_index_spec(){return de(this,(function(e,r,n,t,a){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!1;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"placement_mapping_index_spec":r=o[l];break;case"index_end":n=o[l];break;case"is_row":t=o[l];break;case"is_col":a=o[l]}}}if(ze(Lr(me(Ne,null,r),0)))return[];for(var s,_=me((s=r).split_at_chars,s,",",we({keep_empty:!0})),u=0,c=[],f=_,d=0;d<Ne(f);d++){var p=qr(f,d),h=function(){var e=p.latex_walker;return me(e.filter_whitespace_comments_nodes,e,p)}();if(ze(jr(me(Ne,null,h),1))){if(ze(t))var g="ROW-RANGE";else if(ze(a))g="COL-RANGE";else g=null;var v=me(En,null,"Bad cell index or range or merge range specification, expected {} or \\merge{}{}-RANGE{}, got {} ({} nodes)".format(g,"{",g,"}",me(Fe,null,placement_index_spec),me(Ne,null,h)),we({pos:h.pos}));throw v.__cause__=null,v}var m=qr(h,0);if(ze(ze(function(){var e=m;return me(e.isNodeType,e,Wn)}())&&Lr(m.macroname,"merge"))){var w=function(){var e=me(lt,null,we({node:m}));return me(e.get_all_arguments_info,e,ar(["mergespec"]))}(),y=function(){var e=qr(w,"mergespec");return me(e.get_content_as_chars,e)}(),k=function(){var r=e;return me(r.parse_cell_index_range_spec,r,y,we({is_row:t,is_col:a,py_default:u,default_start:u,default_end:null}))}(),b=k[0],x=k[1];!function(){var e=c;me(e.append,e,me(Ms,null,we({start:b,end:x})))}();u=x}else{k=function(){var r,n=e;return me(n.parse_cell_index_range_spec,n,me((r=h).get_content_as_chars,r),we({is_row:t,is_col:a,py_default:u,default_start:u,default_end:null}))}();var P=k[0],O=k[1];if(ze(null===O)){!function(){var e=c;me(e.append,e,me(Ms,null,we({start:P,end:null})))}();u=null}else for(var S=P;S<O;S++){!function(){var e=c;me(e.append,e,me(Ms,null,we({start:S,end:Or(S,1)})))}();u=Or(S,1)}}}return c}))},get parse_placement_mapping_spec(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"placement_mapping_spec":r=t[a]}}}var i,o=me((i=r).split_at_chars,i,";",we({keep_empty:!0}));if(ze(Lr(me(Ne,null,o),2)))var l=(u=o)[0],s=u[1];else if(ze(Lr(me(Ne,null,o),1)))l=[],s=(u=o)[0];else{if(!ze(Lr(me(Ne,null,o),0))){var _=me(En,null,"Expected ROWS;COLS or COLS or  for placement argument, got {}".format(me(Ds,null,function(){var e=r;return me(e.latex_verbatim,e)}())),we({pos:r.pos}));throw _.__cause__=null,_}var u;l=(u=ar([[],[]]))[0],s=u[1]}var c=function(){var r=e;return me(r.parse_placement_mapping_index_spec,r,l,we({index_end:null,is_row:!0}))}(),f=function(){var r=e;return me(r.parse_placement_mapping_index_spec,r,s,we({index_end:null,is_col:!0}))}();return me(As,null,we({row_placements:c,col_placements:f}))}))}}),Fs=ve("CellsEnvironment",[jl],{__module__:Ss,is_block_level:!0,allowed_in_standalone_mode:!0,body_contents_is_block_level:!0,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="cells";if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"environmentname":r=t[a]}}}me(me(ye,null,Fs,"__init__"),null,e,we({environmentname:r}))}))},get make_body_parser(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":r=i[o];break;case"nodeargd":n=i[o];break;case"arg_parsing_state_delta":t=i[o]}}}return me(Ji.LatexEnvironmentBodyContentsParser,Ji,we({environmentname:r.arg,contents_parsing_state_delta:me(Ji.ParsingStateDeltaExtendLatexContextDb,Ji,we({extend_latex_context:me(yr,null,we({macros:[me(zs,null),me(Ts,null),me(Cs,null)]}))})),child_parsing_state_delta:me(ct,null)}))}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}for(var i,o=me(qs,null),l=r.nodelist,s=0;s<Ne(l);s++){var _=qr(l,s);if(ze((i=void 0,me((i=_).isNodeType,i,Wn)))){if(ze(Lr(_.macroname,"cell"))){!function(){var e=o;me(e.add_cell_node,e,_)}();continue}if(ze(Lr(_.macroname,"celldata"))){!function(){var e=o;me(e.add_celldata_node,e,_)}();continue}if(ze(Lr(_.macroname,"\\"))){!function(){var e=o;me(e.move_next_row,e)}();continue}}if(!ze(function(){var e=_;return me(e.isNodeType,e,Gn)}())&&!ze(ze(function(){var e=_;return me(e.isNodeType,e,Un)}())&&Lr(me(Ne,null,function(){var e=_.chars;return me(e.strip,e)}()),0))){var u=me(En,null,"You cannot place {} here.  Expected: \\cell, \\celldata, \\\\.".format(me(Ds,null,function(){var e=_;return me(e.latex_verbatim,e)}())));throw u.__cause__=null,u}}!function(){var e=o;me(e.finalize,e)}(),r.llm_cells_model=o}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}return me((o=n.fragment_renderer).render_cells,o,we({cells_model:r.llm_cells_model,render_context:n}));var o}))}}),Us=(ve("FeatureProvideCells",[bl],{__module__:Ss,DocumentManager:null,RenderManager:null,get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(yr,null,we({environments:[me(Fs,null)]}))}))}}),{});e(Us,"alphacounter",(function(){return Gs})),e(Us,"Alphacounter",(function(){return Ws})),e(Us,"_romancounterchars",(function(){return Vs})),e(Us,"romancounter",(function(){return Hs})),e(Us,"Romancounter",(function(){return $s})),e(Us,"_fnsymbols",(function(){return Qs})),e(Us,"fnsymbolcounter",(function(){return Ys})),e(Us,"_unicodesuperscriptdigits",(function(){return Xs})),e(Us,"_unicodesubscriptdigits",(function(){return Zs})),e(Us,"customdigitscounter",(function(){return Ks})),e(Us,"unicodesuperscriptcounter",(function(){return Js})),e(Us,"unicodesubscriptcounter",(function(){return e_})),e(Us,"standard_counter_formatters",(function(){return r_})),e(Us,"_standard_tag_template_initials_formatters",(function(){return n_})),e(Us,"parse_counter_formatter",(function(){return t_})),e(Us,"_parse_counter_formatter_from_tag_template",(function(){return a_}));var Bs={};fe(Bs,"",Ct);var Gs=function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"n":e=t[a];break;case"lower":r=t[a]}}}var i,o=Or(1,Pr(e=me(Dr,null,e,1),26)),l=kr(e,26),s=xr(me(Ue,null,Or(97,l)),o);return ze(r)?s:me((i=s).upper,i)},Ws=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return me(Gs,null,e,we({lower:!1}))},Vs=ar([ar([1e3,"M"]),ar([900,"CM"]),ar([500,"D"]),ar([400,"CD"]),ar([100,"C"]),ar([90,"XC"]),ar([50,"L"]),ar([40,"XL"]),ar([10,"X"]),ar([9,"IX"]),ar([5,"V"]),ar([4,"IV"]),ar([1,"I"])]),Hs=function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n="";if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"n":e=a[i];break;case"lower":r=a[i];break;case"zero":n=a[i]}}}var o="";if(ze(Lr(e,0)))return n;for(var l,s=Vs,_=0;_<Ne(s);_++){var u=qr(s,_),c=u[0],f=u[1];o=me(Rr,null,o,xr(f,Pr(e,c))),e=kr(e,c)}return ze(r)?me((l=o).lower,l):o},$s=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return me(Hs,null,e,we({lower:!1}))},Qs=["*","","","","",""],Ys=function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=Qs;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"n":e=t[a];break;case"symbols":r=t[a]}}}e=me(Dr,null,e,1);var i=me(Ne,null,r),o=Or(1,Pr(e,i)),l=kr(e,i),s=xr(qr(r,l),o);return s},Xs=[me(Ue,null,8304),me(Ue,null,185),me(Ue,null,178),me(Ue,null,179),me(Ue,null,8308),me(Ue,null,8309),me(Ue,null,8310),me(Ue,null,8311),me(Ue,null,8312),me(Ue,null,8313)],Zs=function(){for(var e=[],r=0;r<10;r++)me(e.append,e,me(Ue,null,Or(8320,r)));return e}(),Ks=function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="0123456789";if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"n":e=t[a];break;case"digits":r=t[a]}}}for(var i=me(Ne,null,r),o="";ze(e);){var l=ar([Pr(e,i),kr(e,i)]),s=l[0],_=l[1];o=Or(qr(r,_),o),e=s}return me("".join,"",o)},Js=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return me(Ks,null,e,we({digits:Xs}))},e_=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return me(Ks,null,e,we({digits:Zs}))},r_=yr({alph:function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return me(Gs,null,e,we({lower:!0}))},Alph:function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return me(Gs,null,e,we({lower:!1}))},roman:function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return me(Hs,null,e,we({lower:!0}))},Roman:function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return me(Hs,null,e,we({lower:!1}))},arabic:function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return me(or,null,e)},fnsymbol:function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return me(Ys,null,e)},unicodesuperscript:Js,unicodesubscript:e_}),n_=yr({a:Gs,A:Ws,i:Hs,I:$s,1:or}),t_=function(e,r,n,t){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=r_;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=n_;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"counter_formatter":e=i[o];break;case"named_counter_formatters":r=i[o];break;case"str_use_tag_template":n=i[o];break;case"tag_template_initials_counters":t=i[o]}}}if(ze(me(qe,null,e)))return e;if(ze(me(Ae,null,e,or))){if(ze(Le(e,r)))return qr(r,e);if(ze(n))return me(a_,null,e,t)}if(ze(me(Ae,null,e,yr))&&ze(Le("template",e))){var l=qr(e,"template"),s=me("|".join,"|",function(){for(var e,n=[],t=me((e=r).py_keys,e),a=0;a<Ne(t);a++){var i=qr(t,a);me(n.append,n,me(Bs.escape,Bs,i))}return $e(n)}()),_=me(Bs.compile,Bs,Or(Or("\\$\\{(",s),")\\}"));return function(e){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("n"===a)e=t[a]}}return me((i=_).sub,i,(function(n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)"m"===i&&(n=a[i])}}return me(qr(r,me((o=n).group,o,1)),null,e);var o}),l);var i}}var u=me($r,null,"Invalid counter_formatter: {}".format(me(Fe,null,e)));throw u.__cause__=null,u},a_=function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=n_;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"tag_template":e=t[a];break;case"tag_template_initials_counters":r=t[a]}}}var i,o,l=me(Bs.compile,Bs,Or(Or("[",me("".join,"",me((i=r).py_keys,i))),"]")),s=me((o=l).search,o,e);if(ze(null!==s)){var _=Ur(e,0,function(){var e=s;return me(e.start,e)}(),1),u=Ur(e,function(){var e=s;return me(e.end,e)}(),null,1),c=qr(r,function(){var e=s;return me(e.group,e)}());return function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return Or(Or(_,me(c,null,e)),u)}}return function(r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("n"===a)r=t[a]}}return e}},i_={};fe(i_,"",pn);var o_="llm.feature.floats",l_=(me(i_.getLogger,i_,o_),ve("FloatContentHandlerBase",[ge],{__module__:o_,get float_content_set_extra_definitions(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"extend_latex_context":r=t[a]}}}}))},get float_handle_content_nodes(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_node":r=a[i];break;case"content_nodes":n=a[i]}}}var o=me(RuntimeError,null,"This method needs to be reimplemented in subclasses!".format());throw o.__cause__=null,o}))}})),s_=ve("FloatContentAnyContent",[l_],{__module__:o_,get float_handle_content_nodes(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_node":r=a[i];break;case"content_nodes":n=a[i]}}}return n}))}}),__=ve("FloatContentIncludeGraphics",[l_],{__module__:o_,get float_content_set_extra_definitions(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"extend_latex_context":r=t[a]}}}var i;me((i=qr(r,"macros")).append,i,me(bs,null,we({macroname:"includegraphics"})))}))},get float_handle_content_nodes(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_node":r=a[i];break;case"content_nodes":n=a[i]}}}var o;n=me((o=n.latex_walker).filter_whitespace_comments_nodes,o,n);if(ze(Lr(me(Ne,null,n),1))){var l=qr(n,0);if(ze(ze(function(){var e=l;return me(e.isNodeType,e,Wn)}())&&Lr(l.macroname,"includegraphics")))return n}var s=me(En,null,"expected exactly one \\includegraphics command".format(),we({pos:n.pos}));throw s.__cause__=null,s}))}}),u_=ve("FloatContentCells",[l_],{__module__:o_,get float_content_set_extra_definitions(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"extend_latex_context":r=t[a]}}}var i;me((i=qr(r,"environments")).append,i,me(Fs,null))}))},get float_handle_content_nodes(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_node":r=a[i];break;case"content_nodes":n=a[i]}}}var o;n=me((o=n.latex_walker).filter_whitespace_comments_nodes,o,n);if(ze(Lr(me(Ne,null,n),1))){var l=qr(n,0);if(ze(ze(function(){var e=l;return me(e.isNodeType,e,Vn)}())&&Lr(l.environmentname,"cells")))return n}var s=me(En,null,"expected exactly one \\begin{}cells{}...\\end{}cells{} environment".format("{","}","{","}"),we({pos:n.pos}));throw s.__cause__=null,s}))}}),c_=yr({any:s_,includegraphics:__,cells:u_}),f_=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("c"===t)e=n[t]}}if(ze(me(Ae,null,e,l_)))return e;if(ze(me(Ae,null,e,or)))e=yr({name:e});if(ze(Le(qr(e,"name"),c_)))return me(qr(c_,qr(e,"name")),null,we(me((a=e).py_get,a,"config",yr({}))));var a,i=me($r,null,"Invalid float handler specification: {}".format(me(Fe,null,e)));throw i.__cause__=null,i},d_=ve("FloatEnvironment",[jl],{__module__:o_,is_block_level:!0,float_content_is_block_level:!0,float_content_render_at_environment_node_location:!0,allowed_in_standalone_mode:!1,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_type":r=a[i];break;case"content_handlers":n=a[i]}}}if(me(me(ye,null,d_,"__init__"),null,e,we({environmentname:r,arguments_spec_list:[]})),ze(null===n))n=["includegraphics","cells"];n=function(){for(var e=[],r=n,t=0;t<Ne(r);t++){var a=qr(r,t);me(e.append,e,me(f_,null,a))}return e}();e.float_type=r,e.content_handlers=n}))},get make_body_parser(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":r=i[o];break;case"nodeargd":n=i[o];break;case"arg_parsing_state_delta":t=i[o]}}}for(var l,s=me(yr,null,we({macros:[me(Qo,null,"label",we({arguments_spec_list:[me(hl,null,we({parser:me(Ja.LatexCharsGroupParser,Ja,we({delimiters:ar(["{","}"])})),argname:"label"}))]})),me(Qo,null,"caption",we({arguments_spec_list:[me(hl,null,"{",we({argname:"captiontext"}))]}))],environments:[],specials:[]})),_=e.content_handlers,u=0;u<Ne(_);u++){var c=qr(_,u);l=void 0,me((l=c).float_content_set_extra_definitions,l,s)}return me(co,null,we({environmentname:r.arg,contents_parsing_state_delta:me(Go,null,we({extend_latex_context:s,set_attributes:me(yr,null,we({is_block_level:e.float_content_is_block_level}))}))}))}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}r.llm_float_label=me(yr,null,we({ref_label_prefix:null,ref_label:null,label_node:null})),r.llm_float_caption=me(yr,null,we({caption_nodelist:null,caption_node:null}));for(var i,o=[],l=r.nodelist,s=0;s<Ne(l);s++){var _=qr(l,s);if(ze((i=void 0,me((i=_).isNodeType,i,Wn)))){if(ze(Lr(_.macroname,"label"))){Fr(r.llm_float_label,"label_node",_);var u,c=function(){var e=me(lt,null,we({node:_}));return me(e.get_all_arguments_info,e,ar(["label"]))}(),f=function(){var e=qr(c,"label");return me(e.get_content_as_chars,e)}();if(ze(Le(":",f)))var d=function(){var e=f;return me(e.py_split,e,":",1)}(),p=d[0],h=d[1];else p=(d=ar([null,f]))[0],h=d[1];if(ze(jr(p,e.float_type)))throw(u=me(En,null,"{} label must start with the prefix {}:... (got {})".format(e.float_type,e.float_type,f),we({pos:_.pos}))).__cause__=null,u;if(Fr(r.llm_float_label,"ref_label_prefix",p),Fr(r.llm_float_label,"ref_label",h),ze(jr(p,e.float_type)))throw(u=me(En,null,"Float's \\label{}...{} must have the prefix {}:".format("{","}",e.float_type),we({pos:_.pos}))).__cause__=null,u;continue}if(ze(Lr(_.macroname,"caption"))){Fr(r.llm_float_caption,"caption_node",_);var g=function(){var e=me(lt,null,we({node:_}));return me(e.get_all_arguments_info,e,ar(["captiontext"]))}(),v=function(){var e=qr(g,"captiontext");return me(e.get_content_nodelist,e)}();Fr(r.llm_float_caption,"caption_nodelist",v);continue}}!function(){var e=o;me(e.append,e,_)}()}o=function(){var e=r.latex_walker;return me(e.make_nodelist,e,o,we({parsing_state:r.nodelist.parsing_state}))}();var m=[],w=null;for(l=e.content_handlers,s=0;s<Ne(l);s++){var y=qr(l,s);try{w=function(){var e=y;return me(e.float_handle_content_nodes,e,r,o)}()}catch(e){if(!Ae(e,En))throw e;var k=e;!function(){var e=m;me(e.append,e,"*** {} error: {}".format(y.__class__.__name__,me(or,null,k)))}()}}if(ze(null===w)){var b=me(En,null,Or("Invalid {} contents! The following content handler(s) were unable to parse the float's content [other than possible \\caption and \\label commands]:\n".format(e.float_type),me("\n".join,"\n",m)),we({pos:r.pos}));throw b.__cause__=null,b}return r.llm_float_content_nodelist=w,r}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=me((o=n).feature_render_manager,o,"floats"),s=qr(r.llm_float_label,"ref_label_prefix"),_=qr(r.llm_float_label,"ref_label"),u=!0;if(ze(ze(null===s)&&null===_))u=!1;var c=function(){var n=l;return me(n.register_float,n,we({node:r,float_type:e.float_type,numbered:u,ref_label_prefix:s,ref_label:_,caption_nodelist:qr(r.llm_float_caption,"caption_nodelist"),content_nodelist:r.llm_float_content_nodelist}))}();return ze(e.float_content_render_at_environment_node_location)?function(){var t=e;return me(t.render_float,t,c,r,n)}():function(){var r=n.fragment_renderer;return me(r.render_nothing,r,we({annotations:["float-placeholder","float-{}-placeholder".format(e.float_type)]}))}()}))},get render_float(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"float_instance":r=i[o];break;case"node":n=i[o];break;case"render_context":t=i[o]}}}var l,s=t.fragment_renderer;return me((l=s).render_float,l,r,t)}))}}),p_=ve("FloatInstance",[ge],{__module__:o_,get __init__(){return de(this,(function(e){var r=null,n=null,t=null,a=null,i=null,o=null,l=null,s=null,_=null;if(arguments.length){var u=arguments.length-1;if(arguments[u]&&arguments[u].hasOwnProperty("__kwargtrans__")){var c=arguments[u--];for(var f in c)switch(f){case"self":e=c[f];break;case"float_type":r=c[f];break;case"float_type_info":n=c[f];break;case"number":t=c[f];break;case"formatted_counter_value_llm":a=c[f];break;case"ref_label_prefix":i=c[f];break;case"ref_label":o=c[f];break;case"target_id":l=c[f];break;case"caption_nodelist":s=c[f];break;case"content_nodelist":_=c[f]}}}me(me(ye,null,p_,"__init__"),null,e),e.float_type=r,e.float_type_info=n,e.number=t,e.formatted_counter_value_llm=a,e.ref_label_prefix=i,e.ref_label=o,e.target_id=l,e.caption_nodelist=s,e.content_nodelist=_,e._fields=ar(["float_type","float_type_info","number","formatted_counter_value_llm","ref_label_prefix","ref_label","target_id","caption_nodelist","content_nodelist"])}))},get asdict(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a,me(Ee,null,e,a)])}return yr(r)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="{}({})").format,a,e.__class__.__name__,me(", ".join,", ",function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,"{}={}".format(a,me(Ee,null,e,a)))}return r}()));var a}))}}),h_=ve("FloatType",[ge],{__module__:o_,get __init__(){return de(this,(function(e,r,n,t,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"float_type":r=o[l];break;case"float_caption_name":n=o[l];break;case"counter_formatter":t=o[l];break;case"content_handlers":a=o[l]}}}if(me(me(ye,null,h_,"__init__"),null,e),e.float_type=r,ze(null===n))n=r;if(e.float_caption_name=n,ze(null===t))t="arabic";e.counter_formatter=me(Us.parse_counter_formatter,Us,t),e.content_handlers=a,e._fields=ar(["float_type","float_caption_name","counter_formatter","content_handlers"])}))},get asdict(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a,me(Ee,null,e,a)])}return yr(r)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="{}({})").format,a,e.__class__.__name__,me(", ".join,", ",function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,"{}={}".format(a,me(Ee,null,e,a)))}return r}()));var a}))}}),g_=ve("FeatureFloats",[bl],{__module__:o_,feature_name:"floats",get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"float_types":r=t[a]}}}if(me(me(ye,null,g_,"__init__"),null,e),ze(null===r))r=[me(h_,null,"figure","Figure","arabic",["includegraphics"]),me(h_,null,"table","Table","arabic",["cells","includegraphics"])];var i=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("x"===t)e=n[t]}}return ze(me(Ae,null,e,h_))?e:me(h_,null,we(e))};e.float_types_list=function(){for(var e=[],n=r,t=0;t<Ne(n);t++){var a=qr(n,t);me(e.append,e,me(i,null,a))}return e}(),e.float_types=function(){for(var r=[],n=e.float_types_list,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a.float_type,a])}return yr(r)}()}))},get make_float_environment_spec(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"float_type":r=t[a]}}}return me(d_,null,r,we({content_handlers:qr(e.float_types,r).content_handlers}))}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}for(var a,i=[],o=me((a=e.float_types).py_items,a),l=0;l<Ne(o);l++){var s=qr(o,l),_=s[0];s[1];!function(){var r,n=i;me(n.append,n,me((r=e).make_float_environment_spec,r,_))}()}return me(yr,null,we({environments:i}))}))},RenderManager:ve("RenderManager",[bl.RenderManager],{__module__:o_,get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}e.floats=function(){for(var r,n=[],t=me((r=e.feature.float_types).py_items,r),a=0;a<Ne(t);a++){var i=qr(t,a),o=i[0];i[1];me(n.append,n,[o,[]])}return yr(n)}(),e.float_counters=function(){for(var r,n=[],t=me((r=e.feature.float_types).py_items,r),a=0;a<Ne(t);a++){var i=qr(t,a),o=i[0];i[1];me(n.append,n,[o,1])}return yr(n)}(),e.float_instances=yr({})}))},get register_float(){return de(this,(function(e,r){var n=!0,t=null,a=null,i=null,o=null;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"float_type":r=s[_];break;case"node":var u=s[_];break;case"numbered":n=s[_];break;case"ref_label_prefix":t=s[_];break;case"ref_label":a=s[_];break;case"caption_nodelist":i=s[_];break;case"content_nodelist":o=s[_]}}}var c,f=me((c=e).get_node_id,c,u);if(ze(Le(f,e.float_instances)))return qr(e.float_instances,f);var d=qr(e.feature.float_types,r);if(ze(n)){var p=d.counter_formatter,h=qr(e.float_counters,r);Fr(e.float_counters,r,me(Rr,null,qr(e.float_counters,r),1));var g=me(p,null,h),v=function(){var n=e.render_context.doc.environment;return me(n.make_fragment,n,g,we({is_block_level:!1,what:"{} {} counter value".format(r,h)}))}()}else h=null,v=null;var m=null;if(ze(null!==h))m="{}-{}".format(r,h);var w=me(p_,null,we({float_type:r,float_type_info:d,number:h,formatted_counter_value_llm:v,ref_label_prefix:t,ref_label:a,target_id:m,caption_nodelist:i,content_nodelist:o}));if(function(){var n=qr(e.floats,r);me(n.append,n,w)}(),ze(ze(null!==h)&&function(){var r=e.render_context;return me(r.supports_feature,r,"refs")}())){var y=function(){var r=e.render_context;return me(r.feature_render_manager,r,"refs")}();if(ze(ze(null!==t)&&null!==a)){xe(Lr(t,r));var k=function(){var r=e;return me(r.get_formatted_ref_llm_text,r,w)}();!function(){var e=y;me(e.register_reference,e,t,a,we({node:u,formatted_ref_llm_text:k,target_href:"#{}".format(m)}))}()}}return Fr(e.float_instances,f,w),w}))},get get_formatted_ref_llm_text(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"float_instance":r=t[a]}}}return Or(Or(r.float_type_info.float_caption_name,"~"),r.formatted_counter_value_llm.llm_text)}))}})}),v_={},m_={};fe(v_,"",pn),fe(m_,"",Ct);var w_="llm.feature.headings",y_=(me(v_.getLogger,v_,w_),ve("HeadingMacro",[xl.LLMMacroSpecBase],{__module__:w_,is_block_level:!0,allowed_in_standalone_mode:!0,_llm_main_text_argument:"text",allowed_ref_label_prefixes:ar(["sec","topic"]),get __init__(){return de(this,(function(e,r){var n=1,t=!1;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macroname":r=i[o];break;case"heading_level":n=i[o];break;case"inline_heading":t=i[o]}}}me(me(ye,null,y_,"__init__"),null,e,r,we({arguments_spec_list:[xl.text_arg,xl.label_arg]})),e.heading_level=n,e.inline_heading=t,e.is_block_heading=e.inline_heading}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=(i=me(lt,null,we({node:r})),me(i.get_all_arguments_info,i,ar(["text","label"])));r.llmarg_heading_content_nodelist=function(){var e=qr(o,"text");return me(e.get_content_nodelist,e)}(),r.llmarg_labels=me(xl.helper_collect_labels,xl,qr(o,"label"),e.allowed_ref_label_prefixes),r.llm_referenceable_infos=[me(yl.ReferenceableInfo,yl,we({formatted_ref_llm_text:r.llmarg_heading_content_nodelist,labels:r.llmarg_labels}))]}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=me((o=n).feature_render_manager,o,"headings"),s=function(){var e=qr(r.llm_referenceable_infos,0);return me(e.get_target_id,e)}();if(ze(null===s))s=function(){var e=l;return me(e.get_default_target_id,e,r.llmarg_labels,r.llmarg_heading_content_nodelist,we({node:r}))}();if(ze(ze(function(){var e=n;return me(e.supports_feature,e,"refs")}())&&n.is_first_pass))for(var _=function(){var e=n;return me(e.feature_render_manager,e,"refs")}(),u=r.llm_referenceable_infos,c=0;c<Ne(u);c++){var f=qr(u,c);!function(){var e=_;me(e.register_reference_referenceable,e,we({node:r,referenceable_info:f}))}()}return function(){var t=n.fragment_renderer;return me(t.render_heading,t,r.llmarg_heading_content_nodelist,we({render_context:n,heading_level:e.heading_level,inline_heading:e.inline_heading,target_id:s}))}()}))}})),k_=ve("FeatureHeadings",[bl],{__module__:w_,feature_name:"headings",RenderManager:ve("RenderManager",[bl.RenderManager],{__module__:w_,get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}e.target_id_counters=yr({}),e.target_ids=yr({})}))},get get_default_target_id(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"heading_labels":r=a[i];break;case"heading_content_nodelist":n=a[i];break;case"node":var o=a[i]}}}var l,s=me((l=e).get_node_id,l,o);if(ze(Le(s,e.target_ids)))return qr(e.target_ids,s);var _=function(){var t=e;return me(t._generate_default_target_id,t,r,n)}();return Fr(e.target_ids,s,_),_}))},get _generate_default_target_id(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"heading_labels":r=a[i];break;case"heading_content_nodelist":n=a[i]}}}var o,l,s=(l=me((o=n).latex_verbatim,o),me(l.strip,l));s=me(m_.sub,m_,"[^A-Za-z0-9_-]+","-",s);return ze(Le(s=Ur(s="sec--{}".format(s),0,32,1),e.target_id_counters))?(Fr(e.target_id_counters,s,me(Rr,null,qr(e.target_id_counters,s),1)),"{}-{}".format(s,qr(e.target_id_counters,s))):(Fr(e.target_id_counters,s,1),s)}))}}),SectionCommandSpec:ve("SectionCommandSpec",[ge],{__module__:w_,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"cmdname":r=a[i];break;case"inline":n=a[i]}}}me(me(ye,null,k_.SectionCommandSpec,"__init__"),null,e),e.cmdname=r,e.inline=n}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return"{}(cmdname={}, inline={})".format(e.__class__.__name__,e.cmdname,e.inline)}))}}),get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"section_commands_by_level":r=t[a]}}}if(me(me(ye,null,k_,"__init__"),null,e),ze(null===r))r=yr({1:(i=e,me(i.SectionCommandSpec,i,"section")),2:function(){var r=e;return me(r.SectionCommandSpec,r,"subsection")}(),3:function(){var r=e;return me(r.SectionCommandSpec,r,"subsubsection")}(),4:function(){var r=e;return me(r.SectionCommandSpec,r,"paragraph",we({inline:!0}))}(),5:function(){var r=e;return me(r.SectionCommandSpec,r,"subparagraph",we({inline:!0}))}(),6:function(){var r=e;return me(r.SectionCommandSpec,r,"subsubparagraph",we({inline:!0}))}()});var i,o=function(r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("x"===a)r=t[a]}}return ze(me(Ae,null,r,e.SectionCommandSpec))?r:ze(me(Ae,null,r,or))?function(){var n=e;return me(n.SectionCommandSpec,n,r)}():function(){var n=e;return me(n.SectionCommandSpec,n,we(r))}()};e.section_commands_by_level=function(){for(var e,n=[],t=(e=me(yr,null,r),me(e.py_items,e)),a=0;a<Ne(t);a++){var i=qr(t,a),l=i[0],s=i[1];me(n.append,n,[l,me(o,null,s)])}return yr(n)}()}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(yr,null,we({macros:function(){for(var r,n=[],t=me((r=e.section_commands_by_level).py_items,r),a=0;a<Ne(t);a++){var i=qr(t,a),o=i[0],l=i[1];me(n.append,n,me(y_,null,we({macroname:l.cmdname,heading_level:o,inline_heading:l.inline})))}return n}()}))}))}}),b_={};fe(b_,"",pn),fe({},"",Ct);var x_="llm.feature.endnotes",P_=(me(b_.getLogger,b_,x_),ve("EndnoteCategory",[ge],{__module__:x_,get __init__(){return de(this,(function(e,r,n,t,a){if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"category_name":r=o[l];break;case"counter_formatter":n=o[l];break;case"heading_title":t=o[l];break;case"endnote_command":a=o[l]}}}me(me(ye,null,P_,"__init__"),null,e),e.category_name=r;n=me(Us.parse_counter_formatter,Us,n);e.counter_formatter=n,e.heading_title=t,e.endnote_command=a}))}})),O_=ve("EndnoteMacro",[Ll],{__module__:x_,allowed_in_standalone_mode:!1,get __init__(){return de(this,(function(e,r,n){var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macroname":r=i[o];break;case"endnote_category_name":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,O_,"__init__"),null,e,we(Pe({macroname:r,arguments_spec_list:[me(hl,null,"{",we({argname:"endnote_content"}))]},t))),e.endnote_category_name=n}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=me((o=n).feature_render_manager,o,"endnotes");if(ze(null===l)){var s=me(RuntimeError,null,"You did not set up the feature 'endnotes' in your LLM environment");throw s.__cause__=null,s}var _=function(){var e=me(lt,null,we({node:r}));return me(e.get_all_arguments_info,e,ar(["endnote_content"]))}(),u=function(){var e=qr(_,"endnote_content");return me(e.get_content_nodelist,e)}(),c=function(){var n=l;return me(n.add_endnote,n,we({category_name:e.endnote_category_name,content_nodelist:u,node:r}))}(),f=function(){var e=l;return me(e.render_endnote_mark,e,c)}();return f}))}}),S_=ve("EndnoteInstance",[ge],{__module__:x_,get __init__(){return de(this,(function(e,r,n,t,a,i,o){if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"category_name":r=s[_];break;case"number":n=s[_];break;case"formatted_counter_value_llm":t=s[_];break;case"content_nodelist":a=s[_];break;case"ref_label_prefix":i=s[_];break;case"ref_label":o=s[_]}}}me(me(ye,null,S_,"__init__"),null,e),e.category_name=r,e.number=n,e.formatted_counter_value_llm=t,e.content_nodelist=a,e.ref_label_prefix=i,e.ref_label=o,e._fields=ar(["category_name","number","formatted_counter_value_llm","content_nodelist","ref_label_prefix","ref_label"])}))},get asdict(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a,me(Ee,null,e,a)])}return yr(r)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me((a="{}({})").format,a,e.__class__.__name__,me(", ".join,", ",function(){for(var r=[],n=e._fields,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,"{}={}".format(a,me(Ee,null,e,a)))}return r}()));var a}))}}),E_=ve("FeatureEndnotes",[bl],{__module__:x_,feature_name:"endnotes",get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"categories":r=a[i];break;case"render_options":n=a[i]}}}me(me(ye,null,E_,"__init__"),null,e);var o=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("x"===t)e=n[t]}}return ze(me(Ae,null,e,P_))?e:me(P_,null,we(e))};if(ze(!ze(r)))r=[];e.base_categories=function(){for(var e=[],n=r,t=0;t<Ne(n);t++){var a=qr(n,t);me(e.append,e,me(o,null,a))}return e}(),e.default_render_options=ze(n)?n:yr({})}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}for(var a,i=[],o=e.base_categories,l=0;l<Ne(o);l++){var s=qr(o,l);ze(s.endnote_command)&&(a=void 0,me((a=i).append,a,me(O_,null,s.endnote_command,we({endnote_category_name:s.category_name}))))}return me(yr,null,we({macros:i}))}))},DocumentManager:ve("DocumentManager",[bl.DocumentManager],{__module__:x_,get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}e.categories=me(tr,null,e.feature.base_categories),e.categories_by_name=function(){for(var r=[],n=e.categories,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a.category_name,a])}return yr(r)}()}))},get add_endnote_category(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"endnote_category":r=t[a]}}}if(ze(Le(r.category_name,e.categories_by_name))){var i=me($r,null,"Endnote category {} is already a registered endnote category".format(r.category_name));throw i.__cause__=null,i}var o;me((o=e.categories).append,o,r),Fr(e.categories_by_name,r.category_name,r)}))}}),RenderManager:ve("RenderManager",[bl.RenderManager],{__module__:x_,get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}e.endnotes=function(){for(var r=[],n=e.feature_document_manager.categories,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a.category_name,[]])}return yr(r)}(),e.endnote_counters=function(){for(var r=[],n=e.feature_document_manager.categories,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,[a.category_name,1])}return yr(r)}(),e.endnote_instances=yr({})}))},get add_endnote(){return de(this,(function(e,r,n){var t=null,a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"category_name":r=o[l];break;case"content_nodelist":n=o[l];break;case"node":var s=o[l];break;case"ref_label_prefix":t=o[l];break;case"ref_label":a=o[l]}}}var _,u=me((_=e).get_node_id,_,s);if(ze(Le(u,e.endnote_instances)))return qr(e.endnote_instances,u);var c=qr(e.feature_document_manager.categories_by_name,r),f=c.counter_formatter,d=qr(e.endnote_counters,r);Fr(e.endnote_counters,r,me(Rr,null,qr(e.endnote_counters,r),1));var p=me(f,null,d),h=function(){var n=e.render_context.doc.environment;return me(n.make_fragment,n,p,we({is_block_level:!1,what:"{} counter".format(r)}))}(),g=me(S_,null,we({category_name:r,number:d,formatted_counter_value_llm:h,content_nodelist:n,ref_label_prefix:t,ref_label:a}));return function(){var n=qr(e.endnotes,r);me(n.append,n,g)}(),ze(null!==u)&&Fr(e.endnote_instances,u,g),g}))},get render_endnote_mark(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"endnote":r=t[a]}}}var i,o="#{}-{}".format(r.category_name,r.number),l=r.formatted_counter_value_llm;return me((i=e.render_context.fragment_renderer).render_link,i,"endnote",o,we({display_nodelist:l.nodes,render_context:e.render_context,annotations:["endnote",r.category_name]}))}))},get render_endnotes_category(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"category_name":r=t[a]}}}var i=e.render_context,o=i.fragment_renderer;if(ze(me(Ce,null,r,"category_name"))){var l=r;r=l.category_name}var s,_=function(n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)if("n"===i)n=a[i]}}var o=qr(qr(e.endnotes,r),Sr(n,1)),l=o.formatted_counter_value_llm;return l.nodes},u=function(e){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("n"===a)e=t[a]}}return"{}-{}".format(r,e)},c=function(){for(var n=[],t=qr(e.endnotes,r),a=0;a<Ne(t);a++){var i=qr(t,a);me(n.append,n,i.content_nodelist)}return n}();return me((s=o).render_enumeration,s,c,we({counter_formatter:_,target_id_generator:u,render_context:e.render_context,annotations:[Or(r,"-list")]}))}))},get render_endnotes(){return de(this,(function(e,r,n,t,a,i,o){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="endnotes";if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"target_id":r=s[_];break;case"annotations":n=s[_];break;case"include_headings_at_level":t=s[_];break;case"set_headings_target_ids":a=s[_];break;case"endnotes_heading_title":i=s[_];break;case"endnotes_heading_level":o=s[_]}}}if(ze(null===t))t=me((u=e.feature.default_render_options).py_get,u,"include_headings_at_level",null);var u;if(ze(null===a))a=function(){var r=e.feature.default_render_options;return me(r.py_get,r,"set_headings_target_ids",!1)}();if(ze(null===i))i=function(){var r=e.feature.default_render_options;return me(r.py_get,r,"endnotes_heading_title",null)}();if(ze(null===o))o=function(){var r=e.feature.default_render_options;return me(r.py_get,r,"endnotes_heading_level",1)}();for(var c=e.render_context,f=c.fragment_renderer,d=!1,p=[],h=e.feature_document_manager.categories,g=0;g<Ne(h);g++){var v=qr(h,g);if(!ze(!ze(me(Ne,null,qr(e.endnotes,v.category_name))))){d=!0;if(ze(ze(null!==t)&&!1!==t)){var m=function(){var r=e.render_context.doc.environment;return me(r.make_fragment,r,v.heading_title,we({is_block_level:!1,what:"{} heading title".format(v.category_name)}))}(),w=null;if(ze(a))w="{}-{}".format(r,v.category_name);!function(){var r,n=p;me(n.append,n,me((r=f).render_heading,r,m.nodes,we({render_context:e.render_context,heading_level:t,target_id:w})))}()}!function(){var r,n=p;me(n.append,n,me((r=e).render_endnotes_category,r,v))}()}}if(ze(!ze(d)))return function(){var e=f;return me(e.render_nothing,e,we({annotations:["no-endnotes"]}))}();if(ze(null!==i)){var y=function(){var r=e.render_context.doc.environment;return me(r.make_fragment,r,i,we({is_block_level:!1,what:"endnotes heading title".format()}))}();!function(){var r,n=p;me(n.insert,n,0,me((r=f).render_heading,r,y.nodes,we({render_context:e.render_context,heading_level:o})))}()}return function(){var e,t=f;return me(t.render_semantic_block,t,me((e=f).render_join_blocks,e,p),we({role:"endnotes",annotations:n,target_id:r}))}()}))}})}),C_={};fe(C_,"",pn);var L_="llm.feature.cite",j_=me(C_.getLogger,C_,L_),N_=ve("CitationEndnoteCategory",[P_],{__module__:L_,get __init__(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="arabic";if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=ar([null,null]);if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"counter_formatter":r=a[i];break;case"citation_delimiters":n=a[i]}}}e.inner_counter_formatter_fn=r,ze(Le(e.inner_counter_formatter_fn,r_))&&(e.inner_counter_formatter_fn=qr(r_,e.inner_counter_formatter_fn)),e.citation_delimiters=n;var o=function(r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("x"===a)r=t[a]}}return Or(Or(qr(e.citation_delimiters,0),me((i=e).inner_counter_formatter_fn,i,r)),qr(e.citation_delimiters,1));var i};me(me(ye,null,N_,"__init__"),null,e,"citation",we({counter_formatter:o,heading_title:"References"}))}))}}),z_=ve("FeatureExternalPrefixedCitations",[bl],{__module__:L_,feature_name:"citations",use_endnotes:!0,DocumentManager:ve("DocumentManager",[bl.DocumentManager],{__module__:L_,get initialize(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"use_endnotes":r=t[a]}}}if(ze(null!==r)?e.use_endnotes=r:e.use_endnotes=e.feature.use_endnotes,ze(e.use_endnotes)){var i=me((o=e.doc).feature_document_manager,o,"endnotes");e.endnote_category=me(N_,null,we({counter_formatter:e.feature.counter_formatter,citation_delimiters:e.feature.citation_delimiters})),function(){var r=i;me(r.add_endnote_category,r,e.endnote_category)}()}var o}))}}),RenderManager:ve("RenderManager",[bl.RenderManager],{__module__:L_,get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}e.citation_endnotes=yr({}),e.use_endnotes=e.feature_document_manager.use_endnotes,e.external_citations_providers=e.feature.external_citations_providers}))},get get_citation_content_llm(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cite_prefix":r=i[o];break;case"cite_key":n=i[o];break;case"resource_info":t=i[o]}}}if(ze(null===e.external_citations_providers))throw(s=me($r,null,"No external citations providers are set!")).__cause__=null,s;for(var l,s,_=null,u=e.external_citations_providers,c=0;c<Ne(u);c++){var f=qr(u,c);if(ze(_=(l=void 0,me((l=f).get_citation_full_text_llm,l,r,n,t))))break}if(ze(null===_))throw(s=me($r,null,"Citation not found: {}:{}".format(r,n))).__cause__=null,s;if(ze(me(Ae,null,_,Hi)))var d=_;else d=function(){var t=e.render_context.doc.environment;return me(t.make_fragment,t,_,we({is_block_level:!1,standalone_mode:!0,what:"Citation text for {}:{}".format(r,n)}))}();return d}))},get get_citation_endnote(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cite_prefix":r=i[o];break;case"cite_key":n=i[o];break;case"resource_info":t=i[o]}}}var l,s=null;if(ze(e.use_endnotes))s=me((l=e.render_context).feature_render_manager,l,"endnotes");if(ze(Le(ar([r,n]),e.citation_endnotes)))return e.citation_endnotes.__getitem__([r,n]);var _=function(){var a=e;return me(a.get_citation_content_llm,a,r,n,t)}(),u=function(){var e=s;return me(e.add_endnote,e,we({category_name:"citation",content_nodelist:_.nodes,ref_label_prefix:r,ref_label:n,node:ar([r,n])}))}();return u.formatted_inner_counter_value_llm=function(){var r,n=e.render_context.doc.environment;return me(n.make_fragment,n,me((r=e.feature_document_manager.endnote_category).inner_counter_formatter_fn,r,u.number),we({is_block_level:!1,standalone_mode:!0,what:"citation counter (inner)".format()}))}(),e.citation_endnotes.__setitem__([r,n],u),u}))}}),get __init__(){return de(this,(function(e,r,n,t,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n="arabic";if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=ar(["[","]"]);if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a="; ";if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"external_citations_providers":r=o[l];break;case"counter_formatter":n=o[l];break;case"citation_delimiters":t=o[l];break;case"citation_optional_text_separator":a=o[l]}}}me(me(ye,null,z_,"__init__"),null,e),e.external_citations_providers=r,e.counter_formatter=n,e.citation_delimiters=t,e.citation_optional_text_separator=a}))},get set_external_citations_providers(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"external_citations_providers":r=t[a]}}}var i;ze(null!==e.external_citations_providers)&&me((i=j_).warning,i,"FeatureExternalPrefixedCitations.set_external_citations_providers(): There are already external citation providers set.  They will be replaced."),e.external_citations_providers=r}))},get add_external_citations_provider(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"external_citations_provider":r=t[a]}}}var i;ze(null===e.external_citations_providers)&&(me((i=j_).warning,i,"FeatureExternalPrefixedCitations.add_external_citations_provider(): External citations provider list was not initialized, creating an empty list."),e.external_citations_providers=[]),function(){var n=e.external_citations_providers;me(n.append,n,r)}()}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return yr({macros:[me(T_,null,"cite")]})}))}}),T_=ve("CiteMacro",[Ll],{__module__:L_,allowed_in_standalone_mode:!1,get __init__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"macroname":r=t[a]}}}me(me(ye,null,T_,"__init__"),null,e,we({macroname:r,arguments_spec_list:[me(hl,null,"[",we({argname:"cite_pre_text"})),me(hl,null,me(Ja.LatexCharsCommaSeparatedListParser,Ja,we({enable_comments:!1})),we({argname:"citekey"}))]}))}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=(i=me(lt,null,we({node:r})),me(i.get_all_arguments_info,i,ar(["cite_pre_text","citekey"]))),l=null;if(ze(function(){var e=qr(o,"cite_pre_text");return me(e.was_provided,e)}()))l=function(){var e=qr(o,"cite_pre_text");return me(e.get_content_nodelist,e)}();var s=function(){var e=qr(o,"citekey");return me(e.get_content_nodelist,e)}();r.llmarg_optional_cite_extra_nodelist=l,r.llmarg_citekeylist_nodelist=s;for(var _=[],u=s,c=0;c<Ne(u);c++){var f=qr(u,c);if(!ze(!ze(f))){var d=function(){var e=f;return me(e.latex_verbatim,e)}();if(ze(qr(f.delimiters,0)))d=Ur(d,me(Ne,null,qr(f.delimiters,0)),null,1);if(ze(qr(f.delimiters,1)))d=Ur(d,0,br(me(Ne,null,qr(f.delimiters,1))),1);if(ze(Le(":",d))){var p=function(){var e=d;return me(e.py_split,e,":",1)}(),h=p[0],g=p[1];h=function(){var e,r=me((e=h).strip,e);return me(r.lower,r)}()}else h=(p=ar([null,d]))[0],g=p[1];!function(){var e=_;me(e.append,e,ar([h,g]))}()}}return r.llmarg_cite_items=_,r}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}for(var o,l=n.fragment_renderer,s=r.llmarg_optional_cite_extra_nodelist,_=me((o=n).feature_render_manager,o,"citations"),u=_.feature.citation_delimiters,c=r.latex_walker.resource_info,f=[],d=r.llmarg_cite_items,p=0;p<Ne(d);p++){var h=qr(d,p),g=h,v=g[0],m=g[1];if(ze(null===_))!function(){var e,r,n=f;me(n.append,n,me((r=l).render_text_format,r,we({text_formats:["cite"],content:(e=l,me(e.render_value,e,"[{}:{}]".format(v,m)))})))}();else{var w=null,y=null,k=null;if(ze(_.use_endnotes))w=function(){var e=_;return me(e.get_citation_endnote,e,v,m,c)}(),k=w.formatted_inner_counter_value_llm;else y=function(){var e=_;return me(e.get_citation_content_llm,e,v,m,c)}(),k=y;var b=[];ze(null!==qr(u,0))&&function(){var e,n=b;me(n.append,n,me((e=r.latex_walker).make_node,e,Un,we({chars:qr(u,0),pos:r.pos,pos_end:r.pos_end,parsing_state:r.parsing_state})))}(),function(){var e=b;me(e.extend,e,me(tr,null,k.nodes))}(),ze(null!==s)&&(function(){var e,n=b;me(n.append,n,me((e=r.latex_walker).make_node,e,Un,we({chars:_.feature.citation_optional_text_separator,pos:r.pos,pos_end:r.pos_end,parsing_state:r.parsing_state})))}(),function(){var e=b;me(e.extend,e,me(tr,null,s))}()),ze(null!==qr(u,1))&&function(){var e,n=b;me(n.append,n,me((e=r.latex_walker).make_node,e,Un,we({chars:qr(u,1),pos:r.pos,pos_end:r.pos_end,parsing_state:r.parsing_state})))}();var x=function(){var e=r.parsing_state;return me(e.sub_context,e,we({is_block_level:!1}))}();if(ze(_.use_endnotes)){var P="#{}-{}".format(w.category_name,w.number),O=function(){var e,t=n.fragment_renderer;return me(t.render_link,t,"endnote",P,we({display_nodelist:(e=r.latex_walker,me(e.make_nodelist,e,b,we({parsing_state:x}))),render_context:n,annotations:["endnote",w.category_name]}))}();!function(){var e=f;me(e.append,e,O)}()}else{var S=function(){var e,t=n.fragment_renderer;return me(t.render_nodelist,t,me((e=r.latex_walker).make_nodelist,e,b,we({parsing_state:x})),n)}();!function(){var e=f;me(e.append,e,S)}()}}}return function(){var e=l;return me(e.render_join,e,f)}()}))}}),M_={};fe({},"",Ct),fe(M_,"",pn);var I_="llm.feature.enumeration",R_=(me(M_.getLogger,M_,I_),[yr({template:"${arabic}."}),yr({template:"(${roman})"}),yr({template:"${alph}-"})]),D_=ve("Enumeration",[jl],{__module__:I_,is_block_level:!0,body_contents_is_block_level:!0,allowed_in_standalone_mode:!0,get __init__(){return de(this,(function(e,r){var n=null,t=null,a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"environmentname":r=o[l];break;case"counter_formatter":n=o[l];break;case"annotations":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}if(me(me(ye,null,D_,"__init__"),null,e,we(Pe({environmentname:r,arguments_spec_list:[me(hl,null,me(Ja.LatexCharsGroupParser,Ja,we({delimiters:ar(["[","]"]),optional:!0})),we({argname:"tag_template"}))]},a))),ze(null===n))n=R_;e.counter_formatter=n,e.annotations=t,e.body_parsing_state_delta=me(pl,null,we({is_block_level:e.is_block_level}))}))},get make_body_parser(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":r=i[o];break;case"nodeargd":n=i[o];break;case"arg_parsing_state_delta":t=i[o]}}}return me(co,null,we({environmentname:r.arg,contents_parsing_state_delta:me(Go,null,we({extend_latex_context:me(yr,null,we({macros:[me(Qo,null,"item",we({arguments_spec_list:[me(hl,null,"[",we({argname:"custom_tag"}))]}))]}))}))}))}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}for(var i,o=me((i=r.nodelist).split_at_node,i,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)"n"===t&&(e=n[t])}}return ze(me((a=e).isNodeType,a,Wn))&&Lr(e.macroname,"item");var a}),we({keep_separators:!0})),l=[],s=me(rr,null,o),_=0;_<Ne(s);_++){var u=qr(s,_),c=u[0],f=u[1];if(!ze(!ze(f))){var d=qr(f,0);if(!ze(null===d)&&!ze(ze(Lr(c,0))&&ze(function(){var e=d;return me(e.isNodeType,e,Un)}())&&Lr(function(){var e=d.chars;return me(e.strip,e)}(),""))){if(ze(ze(!ze(function(){var e=d;return me(e.isNodeType,e,Wn)}()))||jr(d.macroname,"item"))){var p=me(LatexWalkerParseError,null,we({msg:"Expected \\item in enumeration environment: {}".format(d),pos:d.pos}));throw p.__cause__=null,p}var h=function(){var e=d.latex_walker;return me(e.make_nodelist,e,Ur(f.nodelist,1,null,1),we({parsing_state:d.parsing_state}))}();!function(){var e=l;me(e.append,e,ar([d,h]))}()}}}return r.enumeration_items=l,r}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=n.fragment_renderer,s=(o=me(lt,null,we({node:r})),me(o.get_all_arguments_info,o,ar(["tag_template"]))),_=function(){var e=n;return me(e.get_logical_state,e,"enumeration")}(),u=function(){var e=_;return me(e.py_get,e,"nested_depth",0)}();if(ze(me(Ae,null,c=e.counter_formatter,ar([tr,ar]))))if(ze(Mr(u,me(Ne,null,c))))var c=qr(c,Sr(me(Ne,null,c),1));else c=qr(c,u);if(ze(ze(Le("tag_template",s))&&function(){var e=qr(s,"tag_template");return me(e.was_provided,e)}())){var f=function(){var e=qr(s,"tag_template");return me(e.get_content_as_chars,e)}();c=f}for(var d=me(Us.parse_counter_formatter,Us,c,we({str_use_tag_template:!0})),p=yr({}),h=[],g=me(rr,null,r.enumeration_items),v=0;v<Ne(g);v++){var m,w=(m=qr(g,v))[0],y=m[1],k=(m=y)[0],b=m[1];!function(){var e=h;me(e.append,e,b)}();var x=function(){var e=me(lt,null,we({node:k}));return me(e.get_all_arguments_info,e,ar(["custom_tag"]))}();ze(ze(Le("custom_tag",x))&&function(){var e=qr(x,"custom_tag");return me(e.was_provided,e)}())&&Fr(p,Or(1,w),function(){var e=qr(x,"custom_tag");return me(e.get_content_nodelist,e)}())}var P=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("n"===t)e=n[t]}}return ze(Le(e,p))?qr(p,e):me(d,null,e)},O=function(){var e=n;return me(e.push_logical_state,e,"enumeration","nested_depth",Or(u,1))}();try{O.__enter__();var S=function(){var r=l;return me(r.render_enumeration,r,h,P,we({render_context:n,annotations:e.annotations,nested_depth:u}))}();O.__exit__()}catch(e){if(!O.__exit__(e.name,e,e.stack))throw e}return S}))}}),A_=yr({itemize:yr({counter_formatter:["","-",""]}),enumerate:yr({counter_formatter:null})}),q_=ve("FeatureEnumeration",[bl],{__module__:I_,feature_name:"enumeration",DocumentManager:null,RenderManager:null,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"enumeration_environments":r=t[a]}}}if(me(me(ye,null,q_,"__init__"),null,e),ze(null===r))r=A_;e.enumeration_environments=r}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(yr,null,we({environments:function(){for(var r,n=[],t=me((r=e.enumeration_environments).py_items,r),a=0;a<Ne(t);a++){var i=qr(t,a),o=i[0],l=i[1];me(n.append,n,me(D_,null,we({environmentname:o,counter_formatter:qr(l,"counter_formatter"),annotations:[o]})))}return n}()}))}))}}),F_={},U_={};fe(F_,"",pn),fe(U_,"",Ct);var B_="llm.feature.math",G_=me(F_.getLogger,F_,B_),W_=ar(["equation","equation*","align","align*","gather","gather*"]),V_=ve("FeatureMath",[bl],{__module__:B_,feature_name:"math",get __init__(){return de(this,(function(e,r,n,t,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="eqref";if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a="eq";if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"eq_counter_formatter":r=o[l];break;case"math_environment_names":n=o[l];break;case"eqref_macro_name":t=o[l];break;case"eqref_ref_type":a=o[l]}}}if(me(me(ye,null,V_,"__init__"),null,e),ze(null===r))r=yr({template:"(${arabic})"});if(e.eq_counter_formatter=me(Us.parse_counter_formatter,Us,r),ze(null===n))n=W_;e.math_environment_names=n,e.eqref_macro_name=t,e.eqref_ref_type=a}))},DocumentManager:ve("DocumentManager",[bl.DocumentManager],{__module__:B_,get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}}))}}),RenderManager:ve("RenderManager",[bl.RenderManager],{__module__:B_,get initialize(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}e.equation_counter=1,e.equation_info_by_node=yr({})}))},get new_numbered_display_math(){return de(this,(function(e,r,n,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":r=i[o];break;case"lineno":n=i[o];break;case"custom_tag_llm_text":t=i[o]}}}var l,s=ar([(l=e,me(l.get_node_id,l,r)),n]);if(ze(Le(s,e.equation_info_by_node)))return qr(e.equation_info_by_node,s);if(ze(null!==t)){var _=t,u="_{}".format(qr(s,0));if(ze(n))u=me(Rr,null,u,"-{}".format(n))}else{u=e.equation_counter,_=function(){var r=e.feature;return me(r.eq_counter_formatter,r,u)}();e.equation_counter=me(Rr,null,e.equation_counter,1)}var c=ar([u,_]);return Fr(e.equation_info_by_node,s,c),c}))}}),get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}var a,i=function(){for(var r=[],n=e.math_environment_names,t=0;t<Ne(n);t++){var a=qr(n,t);me(r.append,r,me($_,null,a))}return r}(),o=[];return ze(null!==e.eqref_macro_name)&&me((a=o).append,a,me(Q_,null,we({macroname:e.eqref_macro_name,ref_type:e.eqref_ref_type}))),me(yr,null,we({macros:o,environments:i}))}))}}),H_=ve("_ProxyNodeWithLatexVerbatim",[ge],{__module__:B_,pos:null,pos_end:null,get __init__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"verbatim":r=t[a]}}}e._verbatim=r}))},get latex_verbatim(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e._verbatim}))}}),$_=ve("MathEnvironment",[jl],{__module__:B_,get __init__(){return de(this,(function(e,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"environmentname":r=a[i];break;case"is_numbered":n=a[i]}}}me(me(ye,null,$_,"__init__"),null,e,we({environmentname:r})),ze(null!==n)?e.is_numbered=n:e.is_numbered=jr(Ur(r,br(1),null,1),"*"),ze(!ze(e.is_numbered))&&(e.allowed_in_standalone_mode=!0)}))},get make_body_parsing_state_delta(){return de(this,(function(e,r,n,t,a){var i=yr();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"token":r=l[s];break;case"nodeargd":n=l[s];break;case"arg_parsing_state_delta":t=l[s];break;case"latex_walker":a=l[s];break;default:i[s]=l[s]}delete i.__kwargtrans__}}return me(pt,null)}))},get make_body_parser(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":r=i[o];break;case"nodeargd":n=i[o];break;case"arg_parsing_state_delta":t=i[o]}}}return me(co,null,we({environmentname:r.arg,contents_parsing_state_delta:me(Go,null,we({extend_latex_context:me(yr,null,we({macros:[me(Qo,null,"label",we({arguments_spec_list:[me(hl,null,we({parser:me(Ja.LatexCharsGroupParser,Ja,we({delimiters:ar(["{","}"])})),argname:"label"}))]})),me(Qo,null,"tag",we({arguments_spec_list:[me(hl,null,we({parser:"*",argname:"tag_star"})),me(hl,null,we({parser:me(Ja.LatexCharsGroupParser,Ja,we({delimiters:ar(["{","}"])})),argname:"text"}))]})),me(Qo,null,"\\",we({arguments_spec_list:[]}))]}))}))}))}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}if(r.llm_equation_lines_labels_infos=[],ze(!ze(e.is_numbered)))return r;for(var i,o=yr({labels_info:[],custom_tag_llm_text:null}),l=function(e){if(void 0===e||null!=e&&e.hasOwnProperty("__kwargtrans__"))e=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("newline_node"===a)e=t[a]}}var i;me((i=r.llm_equation_lines_labels_infos).append,i,yr({labels:me(tr,null,qr(o,"labels_info")),custom_tag_llm_text:qr(o,"custom_tag_llm_text"),newline_node:e})),function(){var e=o;me(e.py_update,e,yr({labels_info:[],custom_tag_llm_text:null}))}()},s=!1,_=r.nodelist,u=0;u<Ne(_);u++){var c=qr(_,u);if(ze(ze((i=void 0,me((i=c).isNodeType,i,Tn.LatexMacroNode)))&&Lr(c.macroname,"label"))){var f=function(){var e=me(lt,null,we({node:c}));return me(e.get_all_arguments_info,e,ar(["label"]))}(),d=function(){var e=qr(f,"label");return me(e.get_content_as_chars,e)}();if(ze(Le(":",d)))var p=function(){var e=d;return me(e.py_split,e,":",1)}(),h=p[0],g=p[1];else h=(p=ar([null,d]))[0],g=p[1];var v=yr({node:c,label:ar([h,g])});!function(){var e=qr(o,"labels_info");me(e.append,e,v)}()}else if(ze(ze(function(){var e=c;return me(e.isNodeType,e,Tn.LatexMacroNode)}())&&Lr(c.macroname,"tag"))){var m=function(){var e=me(lt,null,we({node:c}));return me(e.get_all_arguments_info,e,ar(["tag_star","text"]))}(),w=function(){var e,r=me((e=qr(m,"text")).get_content_nodelist,e);return me(r.latex_verbatim,r)}();if(ze(!ze(function(){var e=qr(m,"tag_star");return me(e.was_provided,e)}())))w="({})".format(w);Fr(o,"custom_tag_llm_text",w)}else if(ze(ze(function(){var e=c;return me(e.isNodeType,e,Tn.LatexMacroNode)}())&&Lr(c.macroname,"\\"))){me(l,null,c);s=!0}else if(ze(ze(!ze(function(){var e=c;return me(e.isNodeType,e,Tn.LatexCommentNode)}()))&&!ze(ze(function(){var e=c;return me(e.isNodeType,e,Tn.LatexCharsNode)}())&&!ze(function(){var e=c.chars;return me(e.strip,e)}()))))s=!1}return ze(!ze(s))&&me(l,null),r}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=r.environmentname;if(ze(!ze((o=n,me(o.supports_feature,o,"math"))))){var s=me($r,null,"Feature 'math' is not enabled, cannot render math environment");throw s.__cause__=null,s}var _=function(){var e=n;return me(e.feature_render_manager,e,"math")}(),u=null;if(ze(function(){var e=n;return me(e.supports_feature,e,"refs")}()))u=function(){var e=n;return me(e.feature_render_manager,e,"refs")}();for(var c=me(tr,null,r.nodelist),f=null,d=me(rr,null,r.llm_equation_lines_labels_infos),p=0;p<Ne(d);p++){var h=(m=qr(d,p))[0],g=m[1],v=qr(g,"custom_tag_llm_text"),m=function(){var e=_;return me(e.new_numbered_display_math,e,r,h,v)}(),w=m[0],y=m[1],k="equation-{}".format(w);if(ze(null===f))f=k;if(ze(!ze(v))){var b=qr(g,"newline_node");if(ze(null!==b))var x=function(){var e=c;return me(e.index,e,b)}();else x=me(Ne,null,c);!function(){var e=c;me(e.insert,e,x,me(H_,null,Or(Or("\\tag*{",y),"}")))}()}k=f;if(ze(ze(null!==u)&&n.is_first_pass))for(var P=qr(g,"labels"),O=0;O<Ne(P);O++){var S=qr(P,O),E=(m=qr(S,"label"))[0],C=m[1];!function(){var e=u;me(e.register_reference,e,E,C,we({node:r,formatted_ref_llm_text:y,target_href:"#{}".format(k)}))}()}}return function(){var e=n.fragment_renderer;return me(e.render_math_content,e,ar(["\\begin{}{}{}".format("{",l,"}"),"\\end{}{}{}".format("{",l,"}")]),me(Tn.LatexNodeList,Tn,c),n,"display",we({environmentname:l,target_id:f}))}()}))}}),Q_=ve("MathEqrefMacro",[Ll],{__module__:B_,delayed_render:!0,allowed_in_standalone_mode:!1,get __init__(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="eqref";if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n="eq";var t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macroname":r=i[o];break;case"ref_type":n=i[o];break;default:t[o]=i[o]}delete t.__kwargtrans__}}me(me(ye,null,Q_,"__init__"),null,e,we({macroname:r,arguments_spec_list:[me(hl,null,me(Ja.LatexCharsGroupParser,Ja),we({argname:"ref_label"}))]})),e.ref_type=n}))},get postprocess_parsed_node(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"node":r=t[a]}}}var i,o=(i=me(lt,null,we({node:r})),me(i.get_all_arguments_info,i,ar(["ref_label"]))),l=null,s=function(){var e=qr(o,"ref_label");return me(e.get_content_as_chars,e)}();if(ze(Le(":",s))){var _=function(){var e=s;return me(e.py_split,e,":",1)}();l=_[0],s=_[1]}if(ze(jr(l,e.ref_type))){var u=me(En,null,"Equation labels must begin with {}: (error in \\{})".format(e.ref_type,r.macroname),we({pos:r.pos}));throw u.__cause__=null,u}r.llmarg_ref=ar([l,s])}))},get prepare_delayed_render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}}))},get render(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l=r.llmarg_ref,s=l[0],_=l[1],u=me((o=n).feature_render_manager,o,"refs"),c=r.latex_walker.resource_info;try{return function(){var e=u;return me(e.render_ref,e,s,_,null,c,n)}()}catch(e){if(Ae(e,Wr)){var f=e;!function(){var e,n=G_;me(n.error,n,"Failed to resolve reference to {}:{}: {} in {} @ {}".format(s,_,f,me((e=r).latex_verbatim,e),function(){var e=r;return me(e.format_pos,e)}()))}();var d=me(En,null,"Unable to resolve reference to {}:{}. {}".format(s,_,f),we({pos:r.pos}));throw d.__cause__=null,d}throw e}}))}}),Y_={};fe(Y_,"",pn);for(var X_="llm.llmstd",Z_=(me(Y_.getLogger,Y_,X_),ve("LLMLatexWalkerParsingStateEventHandler",[dn.LatexWalkerParsingStateEventHandler],{__module__:X_,get enter_math_mode(){return de(this,(function(e,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"math_mode_delimiter":r=a[i];break;case"trigger_token":n=a[i]}}}var o=me(yr,null,we({in_math_mode:!0,math_mode_delimiter:r}));return me(Ji.ParsingStateDeltaExtendLatexContextDb,Ji,we({set_attributes:o,extend_latex_context:me(yr,null,we({unknown_macro_spec:me(Ji.MacroSpec,Ji,""),unknown_environment_spec:me(Ji.EnvironmentSpec,Ji,""),unknown_specials_spec:me(Ji.SpecialsSpec,Ji,"")}))}))}))},get leave_math_mode(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"trigger_token":r=t[a]}}}return me(Ji.ParsingStateDeltaExtendLatexContextDb,Ji,we({set_attributes:me(yr,null,we({in_math_mode:!1,math_mode_delimiter:null})),extend_latex_context:me(yr,null,we({unknown_macro_spec:null,unknown_environment_spec:null,unknown_specials_spec:null}))}))}))}})),K_=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var r=arguments[e--];for(var n in r);}}var t,a=me(Ji.LatexContextDb,Ji);return me((t=a).add_context_category,t,"base-formatting",we({macros:[me(Tl,null,"textbackslash",we({value:"\\"})),me(Tl,null,"%",we({value:"%"})),me(Tl,null,"#",we({value:"#"})),me(Tl,null,"&",we({value:"&"})),me(Tl,null,"$",we({value:"$"})),me(Tl,null," ",we({value:" "})),me(Tl,null,"{",we({value:"{"})),me(Tl,null,"}",we({value:"}"})),me(Al,null,"emph",we({text_formats:ar(["textit"])})),me(Al,null,"textit",we({text_formats:ar(["textit"])})),me(Al,null,"textbf",we({text_formats:ar(["textbf"])}))],specials:[me(Ml,null,"~",we({value:""})),me(Fl,null,"\n\n")]})),function(){var e=a;me(e.add_context_category,e,"href",we({macros:[me($l,null,we({macroname:"href",command_arguments:ar(["target_href","display_text"])})),me($l,null,we({macroname:"url",command_arguments:ar(["target_href"])}))]}))}(),function(){var e=a;me(e.add_context_category,e,"verbatimtext",we({environments:new ir([me(Xl,null,we({environmentname:"verbatimtext"}))])}))}(),a},J_=function(){var e=null,r=!0,n="%%",t="",a=!1;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"force_block_level":e=o[l];break;case"enable_comments":r=o[l];break;case"comment_start":n=o[l];break;case"extra_forbidden_characters":t=o[l];break;case"dollar_inline_math_mode":a=o[l]}}}var s=me(or,null,t);if(ze(ze(!ze(a))&&!Le("$",s)))s=me(Rr,null,s,"$");if(ze(ze(ze(!ze(r))||jr(n,"%"))&&!Le("%",s)))s=me(Rr,null,s,"%");var _,u=[ar(["\\(","\\)"])];return ze(a)&&me((_=u).append,_,ar(["$","$"])),me(dl,null,we({is_block_level:e,latex_context:null,enable_comments:r,comment_start:n,latex_inline_math_delimiters:u,latex_display_math_delimiters:[ar(["\\[","\\]"])],forbidden_characters:s}))},eu=function(){var e=!0,r=!0,n=null,t=!0,a=null,i=!0,o=null,l=!0,s=!0,_=null,u=null,c=null,f=null,d=!0,p=!0,h=null,g=!0;if(arguments.length){var v=arguments.length-1;if(arguments[v]&&arguments[v].hasOwnProperty("__kwargtrans__")){var m=arguments[v--];for(var w in m)switch(w){case"math":e=m[w];break;case"headings":r=m[w];break;case"heading_section_commands_by_level":n=m[w];break;case"refs":t=m[w];break;case"external_ref_resolvers":a=m[w];break;case"enumeration_environments":i=m[w];break;case"enumeration_environments_dict":o=m[w];break;case"endnotes":l=m[w];break;case"citations":s=m[w];break;case"external_citations_providers":_=m[w];break;case"eq_counter_formatter":u=m[w];break;case"footnote_counter_formatter":c=m[w];break;case"citation_counter_formatter":f=m[w];break;case"use_simple_path_graphics_resource_provider":d=m[w];break;case"floats":p=m[w];break;case"float_types":h=m[w];break;case"defterm":g=m[w]}}}if(ze(null===c))c="alph";if(ze(null===f))f="arabic";var y,k=[];if(ze(e)&&me((y=k).append,y,me(V_,null,we({eq_counter_formatter:u}))),ze(i)&&function(){var e=k;me(e.append,e,me(q_,null,we({enumeration_environments:o})))}(),ze(r)&&function(){var e=k;me(e.append,e,me(k_,null,we({section_commands_by_level:n})))}(),ze(t)&&function(){var e=k;me(e.append,e,me(ss,null,we({external_ref_resolvers:a})))}(),ze(l)){var b=[me(P_,null,we({category_name:"footnote",counter_formatter:c,heading_title:"Footnotes",endnote_command:"footnote"}))];!function(){var e=k;me(e.append,e,me(E_,null,we({categories:b})))}()}return ze(ze(s)&&null!==_)&&function(){var e=k;me(e.append,e,me(z_,null,we({external_citations_providers:_,counter_formatter:f,citation_delimiters:ar(["[","]"])})))}(),ze(d)&&function(){var e=k;me(e.append,e,me(xs,null))}(),ze(p)&&function(){var e=k;me(e.append,e,me(g_,null,we({float_types:h})))}(),ze(g)&&function(){var e=k;me(e.append,e,me(ms,null))}(),k},ru=ve("LLMStandardEnvironment",[wl],{__module__:X_,get __init__(){return de(this,(function(e,r,n,t){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;var a=yr();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"features":r=o[l];break;case"parsing_state":n=o[l];break;case"latex_context":t=o[l];break;default:a[l]=o[l]}delete a.__kwargtrans__}}if(ze(null===t))t=me(K_,null);if(ze(null===n))n=me(J_,null,we(function(){for(var e,r=[],n=ar(["enable_comments","comment_start"]),t=0;t<Ne(n);t++){var i=qr(n,t);ze(Le(i,a))&&(e=void 0,me(r.append,r,[i,(e=a,me(e.py_pop,e,i))]))}return yr(r)}()));if(ze(null===r))r=me(eu,null,we(function(){for(var e,r=[],n=ar(["external_citations_providers","external_ref_resolvers","footnote_counter_formatter","citation_counter_formatter"]),t=0;t<Ne(n);t++){var i=qr(n,t);ze(Le(i,a))&&(e=void 0,me(r.append,r,[i,(e=a,me(e.py_pop,e,i))]))}return yr(r)}()));me(me(ye,null,ru,"__init__"),null,e,r,n,t,we(a))}))},parsing_state_event_handler:me(Z_,null),get get_parse_error_message(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"exception_object":r=t[a]}}}var i=null,o=r.error_type_info;if(ze(o)){var l=qr(o,"what");if(ze(Lr(l,"token_forbidden_character")))if(ze(Lr(qr(o,"forbidden_character"),"%")))i="LaTeX comments are not allowed here. Use \\% to typeset a literal percent sign.";else if(ze(Lr(qr(o,"forbidden_character"),"$")))i="You can't use $ here. LaTeX math should be typeset using \\(...\\) for inline math and \\[...\\] for unnumbered display equations. Use \\$ for a literal dollar sign."}if(ze(!ze(i)))i=r.msg;var s,_=me(dn.LatexWalkerParseErrorFormatter,dn,r);return i=me(Rr,null,i,me((s=_).format_full_traceback,s))}))}}),nu=n(m)("zoodb.zoollm._environment"),tu=k_.SectionCommandSpec,au=P_,iu=ns,ou=h_,lu=ks,su=0,_u=[tu,au,rs,iu,ou,lu];su<_u.length;su++){_u[su].toJSON=function(){return this.asdict()}}function uu(e){return Ae(e,Hi)}var cu=function(){"use strict";function e(r){T(this,e),this.options=null!=r?r:{},this.clear_all_refs(),this.target_href_resolver=null}return I(e,[{key:"clear_all_refs",value:function(){var e=this;this.ref_instance_database={},this.options.ref_types&&this.options.ref_types.forEach((function(r){e.ref_instance_database[r]={}}))}},{key:"add_ref",value:function(e){var r=e.ref_type,n=e.ref_label;if(null==r)throw new Error("Invalid ref_type:ref_label pair ".concat(r,":").concat(n,""));if(!this.ref_instance_database.hasOwnProperty(r)){if(void 0!==this.options.ref_types)throw new Error("Invalid ref prefix ".concat(r," in ").concat(r,":").concat(n,", ")+"expected one of ".concat(this.options.ref_types));this.ref_instance_database[r]={}}if(this.ref_instance_database[r].hasOwnProperty(n))throw new Error("Ref target ".concat(r,":").concat(n," already exists in ref instance ")+"database, found "+"".concat(JSON.stringify(this.ref_instance_database[r][n])));this.ref_instance_database[r][n]=e}},{key:"get_ref",value:function(e,r,n,t){var a,i,o=null===(a=this.ref_instance_database)||void 0===a||null===(i=a[e])||void 0===i?void 0:i[r];return null==o?(nu("No such reference in ref instance database  ".concat(e,":").concat(r)),null):null!=this.target_href_resolver?new iu(sn(Object.assign({},o.asdict(),{target_href:this.target_href_resolver(o,t)}))):o}},{key:"dump_database",value:function(){return{ref_instance_database:this.ref_instance_database}}},{key:"load_database",value:function(e){var r={},n=!0,t=!1,a=void 0;try{for(var i,o=Object.entries(e.ref_instance_database)[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=d(i.value,2),s=l[0],_=l[1];r[s]={};var u=!0,c=!1,f=void 0;try{for(var p,h=Object.entries(_)[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var g=d(p.value,2),v=g[0],m=g[1];r[s][v]=new iu(sn(m))}}catch(e){c=!0,f=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw f}}}}catch(e){t=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(t)throw a}}this.ref_instance_database=r}}]),e}(),fu=function(){"use strict";function e(){T(this,e),this.clear_citations()}return I(e,[{key:"clear_citations",value:function(){this.citations_database={}}},{key:"add_citation",value:function(e,r,n){if(this.citations_database.hasOwnProperty(e)||(this.citations_database[e]={}),this.citations_database[e].hasOwnProperty(r))throw new Error("There is already a citation registered for ".concat(e,":").concat(r,""));this.citations_database[e][r]=n}},{key:"set_citations",value:function(e){this.clear_citations();var r=!0,n=!1,t=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var o=a.value,l=o.cite_prefix,s=o.cite_key,_=o.citation_text;this.add_citation(l,s,_)}}catch(e){n=!0,t=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw t}}}},{key:"get_citation_full_text_llm",value:function(e,r,n){return this.citations_database.hasOwnProperty(e)?this.citations_database[e].hasOwnProperty(r)?this.citations_database[e][r]:this.handle_unresolved_citation({cite_prefix:e,cite_key:r,resource_info:n,message:"There is no citation registered for key ".concat(e,":").concat(r," ")+"in ".concat(n)}):this.handle_unresolved_citation({cite_prefix:e,cite_key:r,resource_info:n,message:"There is no citation registered for prefix ".concat(e," in query ")+"for ".concat(e,":").concat(r," in ").concat(n)})}},{key:"handle_unresolved_citation",value:function(e){var r=e.cite_prefix,n=e.cite_key,t=e.message;e.resource_info;return nu("Can't find citation ".concat(r,":").concat(n,": ").concat(t)),null}},{key:"dump_database",value:function(){var e={},r=!0,n=!1,t=void 0;try{for(var a,i=Object.entries(this.citations_database)[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var o=d(a.value,2),l=o[0],s=o[1];e[l]={};var _=!0,u=!1,c=void 0;try{for(var f,p=Object.entries(s)[Symbol.iterator]();!(_=(f=p.next()).done);_=!0){var h=d(f.value,2),g=h[0],v=h[1];uu(v)&&(v=v.llm_text),e[l][g]=v}}catch(e){u=!0,c=e}finally{try{_||null==p.return||p.return()}finally{if(u)throw c}}}}catch(e){n=!0,t=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw t}}return{citations_database:e}}},{key:"load_database",value:function(e){this.citations_database=e.citations_database}}]),e}(),du=ve("FeatureZooGraphicsCollection",[bl],{__module__:"zoodb.zoollm._environment",RenderManager:ve("RenderManager",[bl.RenderManager],{get get_graphics_resource(){return de(this,(function(e,r,t){var a=e.feature,i=n(ln).join(t.get_source_directory(),r);if(!a.graphics_collection.hasOwnProperty(i))throw new Error("No such graphics ".concat(i," (").concat(r," ")+"relative to ".concat(t,")"));var o=a.graphics_collection[i];if(null!=a.src_url_resolver){var l=a.src_url_resolver(o,e.render_context),s=l.src_url,_=l.srcset;if(void 0===s)throw new Error("src_url_resolver() did not return { src_url }.");return lu(sn(Object.assign({},o.asdict(),{src_url:s,srcset:_})))}return o}))}}),get __init__(){return de(this,(function(e){ye(du,"__init__")(e),e.graphics_collection={},e.feature_name="graphics_resource_provider",e.src_url_resolver=null}))},get add_graphics(){return de(this,(function(e,r,n){if(e.graphics_collection.hasOwnProperty(r))throw new Error("Graphics collection already has a graphics resource registered "+" for path ".concat(r," (registered target ")+"".concat(e.graphics_collection[r].src_url,", new target ")+"".concat(n.src_url,")"));e.graphics_collection[r]=n}))},get set_collection(){return de(this,(function(e,r){Object.entries(r).forEach((function(r){var n=d(r,2),t=n[0],a=n[1];e.add_graphics(t,a)}))}))}});var pu=ve("ZooLLMEnvironment",[ru],{get __init__(){return de(this,(function(e,r){var n,t,a;r=Object.assign({},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"alph";return{heading_section_commands_by_level:{2:tu("section",sn({inline:!1})),3:tu("subsection",sn({inline:!1})),4:tu("paragraph",sn({inline:!0}))},endnote_categories:[au("footnote",sn({counter_formatter:e,heading_title:"Footnotes",endnote_command:"footnote"}))],citation_counter_formatter:"arabic",citation_delimiters:["[","]"],figure_filename_extensions:["",".svg",".png",".jpg",".jpeg"],float_types:[ou("figure","Figure",sn({counter_formatter:"Roman",content_handlers:["includegraphics"]})),ou("table","Table",sn({counter_formatter:"Roman",content_handlers:["cells","includegraphics"]}))],defterm_render_defterm_with_term:!0,defterm_render_defterm_with_term_suffix:": "}}(),r),e.citations_provider=null!==(n=r.citations_provider)&&void 0!==n?n:new fu,e.ref_resolver=null!==(t=r.ref_resolver)&&void 0!==t?t:new cu(r.ref_resolver_options),e.graphics_collection=null!==(a=r.graphics_collection)&&void 0!==a?a:new du,nu("ZooLLMEnvironment.__init__(): creating feature class instances ..."),e.feature_math=new V_,e.feature_headings=new k_(sn({section_commands_by_level:r.heading_section_commands_by_level})),e.feature_refs=new ss([e.ref_resolver]),e.feature_endnotes=new E_(sn({categories:r.endnote_categories})),e.feature_citations=new z_(sn({external_citations_providers:[e.citations_provider],counter_formatter:r.citation_counter_formatter,citation_delimiters:r.citation_delimiters})),e.feature_floats=new g_(sn({float_types:r.float_types})),e.feature_defterm=new ms,e.feature_defterm.render_defterm_with_term=r.defterm_render_defterm_with_term,e.feature_defterm.render_defterm_with_term_suffix=r.defterm_render_defterm_with_term_suffix;var i=[e.feature_math,e.feature_headings,e.feature_refs,e.feature_endnotes,e.feature_citations,e.feature_floats,e.feature_defterm,e.graphics_collection];nu("ZooLLMEnvironment.__init__(): calling super constructor ..."),ye(pu,"__init__")(e,i)}))}}),hu={};fe(hu,"",za);var gu="llm.llmdump",vu=hu.fn_unique_object_id,mu=ve("_FakeDataLoadedLLMLatexWalker",[ge],{__module__:gu,get __init__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"s":r=t[a]}}}e.s=r,e._fields=ar(["s"])}))},get __repr__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return"{}(s={})".format(e.__class__.__name__,e.s)}))}}),wu=ve("_Skip",[ge],{__module__:gu}),yu=ar([Rn,Qo,Yo,Xo,Bo]),ku=(ve("LLMDataDumper",[ge],{__module__:gu,get __init__(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)switch(t){case"self":e=n[t];break;case"environment":var a=n[t]}}}var i;e.environment=a,me((i=e).py_clear,i)}))},get py_clear(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}e.data=yr({objects:yr({}),resources:yr({}),_dump:yr({version:1})})}))},get get_data(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return e.data}))},get add_dump(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"key":r=a[i];break;case"obj":n=a[i]}}}var o,l=me((o=e)._make_object_dump,o,n,we({dumping_state:yr({object:n})}));Fr(qr(e.data,"objects"),r,l)}))},get _make_object_dump(){return de(this,(function(e,r){var n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"obj":r=a[i];break;case"dumping_state":var o=a[i];break;case"type_name":n=a[i]}}}for(var l,s=me(ir,null,r._fields),_=me(Oe,null,r),u=0;u<Ne(_);u++){var c=qr(_,u);ze((l=void 0,me((l=c).startswith,l,"llm")))&&function(){var e=s;me(e.add,e,c)}()}var f=yr({$type:ze(null!==n)?n:r.__class__.__name__});for(_=me(nn,null,s),u=0;u<Ne(_);u++){var d=qr(_,u),p=function(){var n=e;return me(n._make_dump,n,me(Ee,null,r,d),we({dumping_state:o}))}();if(ze(p===wu))p=yr({$skip:!0});Fr(f,d,p)}return f}))},get _make_dump(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"x":r=t[a];break;case"dumping_state":var i=t[a]}}}if(ze(me(Ae,null,r,ar([ar,tr])))){for(var o=[],l=r,s=0;s<Ne(l);s++){var _=qr(l,s);if(ze((u=(c=void 0,me((c=e)._make_dump,c,_,we({dumping_state:i}))))===wu))var u=null;!function(){var e=o;me(e.append,e,u)}()}return o}var c;if(ze(me(Ae,null,r,ml)))return function(){var n=e;return me(n._make_resource,n,"LLMLatexWalker",r,me(mu,null,r.s),we({dumping_state:i}))}();if(ze(me(Ae,null,r,dl)))return function(){var n=e;return me(n._make_resource,n,"LLMParsingState",r,r,we({dumping_state:i}))}();if(ze(me(Ae,null,r,yu)))return wu;if(ze(me(Ce,null,r,"_fields")))return function(){var n=e;return me(n._make_object_dump,n,r,we({dumping_state:i}))}();if(ze(null===r))return null;if(ze(me(Ae,null,r,ar([or,Ie,Me,Te]))))return r;var f=me($r,null,"Cannot dump value {} of unsupported type".format(r));throw f.__cause__=null,f}))},get _make_resource(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"restype":r=i[o];break;case"y":n=i[o];break;case"ydata":t=i[o];break;case"dumping_state":var l=i[o]}}}ze(!Le(r,qr(e.data,"resources")))&&Fr(qr(e.data,"resources"),r,yr({}));var s,_=me(or,null,me(vu,null,n));if(ze(!Le(_,qr(qr(e.data,"resources"),r)))){var u=me((s=e)._make_object_dump,s,t,we({dumping_state:l,type_name:r}));Fr(qr(qr(e.data,"resources"),r),_,u)}return yr({$restype:r,$reskey:_})}))}}),ve("LLMDataLoadNotSupported",[ge],{__module__:gu})),bu=function(){for(var e=[],r=et,n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,[t.__name__,t])}return yr(e)}(),xu=function(){for(var e=[],r=[dl,Dn],n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,[t.__name__,t])}return yr(e)}(),Pu=(ve("LLMDataLoader",[ge],{__module__:gu,get __init__(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"data":r=t[a];break;case"environment":var i=t[a]}}}if(e.data=r,e.environment=i,ze(jr(qr(qr(e.data,"_dump"),"version"),1))){var o=me(RuntimeError,null,"Dump version mismatch: {}, expected {}".format(qr(qr(e.data,"_dump"),"version"),1));throw o.__cause__=null,o}}))},get get_keys(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return me(tr,null,me((a=qr(e.data,"objects")).py_keys,a));var a}))},get get_object(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"key":r=t[a]}}}var i,o=qr(qr(e.data,"objects"),r);return me((i=e)._load_from_data,i,o)}))},get _load_from_data(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"data":r=t[a]}}}if(ze(me(Ae,null,r,tr)))return function(){for(var n,t=[],a=r,i=0;i<Ne(a);i++){var o=qr(a,i);n=void 0,me(t.append,t,me((n=e)._load_from_data,n,o))}return t}();if(ze(me(Ae,null,r,yr))){if(ze(ze(Le("$skip",r))&&!0===qr(r,"$skip")))return ku;if(ze(Le("$restype",r)))return me((i=e)._load_resource,i,qr(r,"$restype"),qr(r,"$reskey"));if(ze(Le("$type",r)))return function(){var n,t=e;return me(t._load_object,t,me((n=r).py_pop,n,"$type"),r)}()}var i;return r}))},get _load_resource(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"restype":r=a[i];break;case"reskey":n=a[i]}}}var o,l=qr(qr(qr(e.data,"resources"),r),n);if(ze(Lr(r,"LLMLatexWalker")))return me(mu,null,qr(l,"s"));if(ze(Lr(r,"LLMParsingState")))return me((o=e)._load_object,o,r,me(yr,null,l,we({latex_context:ku})));var s=me($r,null,"Unknown data resource type to load: {}".format(r));throw s.__cause__=null,s}))},get _load_object(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"objtype":r=a[i];break;case"data":n=a[i]}}}if(ze(Lr(r,"LLMFragment")))var o=e._make_fragment;else if(ze(ze(Le(r,bu))||Lr(r,"LatexNodeList")))o=function(){var n,t=yr();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)t[o]=i[o];delete t.__kwargtrans__}}return me((n=e)._make_node_instance,n,r,t)};else{if(!ze(Le(r,xu))){var l=me($r,null,"Unknown object type {} for data loading".format(r));throw l.__cause__=null,l}o=qr(xu,r)}var s=function(){for(var r,t,a=[],i=me((r=n).py_items,r),o=0;o<Ne(i);o++){var l=qr(i,o),s=l[0],_=l[1];ze(!ze(function(){var e=s;return me(e.startswith,e,"$")}()))&&(t=void 0,me(a.append,a,[s,(t=e,me(t._load_from_data,t,_))]))}return yr(a)}(),_=me(o,null,we(s));return _}))},get _make_node_instance(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodetype":r=a[i];break;case"kwargs":n=a[i]}}}for(var o,l=yr({}),s=yr({}),_=me((o=n).py_items,o),u=0;u<Ne(_);u++){var c=(h=qr(_,u))[0],f=h[1];ze(function(){var e=c;return me(e.startswith,e,"llm")}())?Fr(s,c,f):Fr(l,c,f)}if(ze(Lr(r,"LatexNodeList")))var d=Xn;else d=qr(bu,r);var p=me(d,null,we(l));for(_=function(){var e=s;return me(e.py_items,e)}(),u=0;u<Ne(_);u++){var h;c=(h=qr(_,u))[0],f=h[1];me(Se,null,p,c,f)}return p}))},get _make_fragment(){return de(this,(function(e){var r=yr();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)if("self"===a)e=t[a];else r[a]=t[a];delete r.__kwargtrans__}}var i,o=me((i=r).py_pop,i,"nodes"),l=function(){var e=r;return me(e.py_pop,e,"llm_text")}();return me(Hi,null,we(Pe({llm_text:o,environment:e.environment,_llm_text_if_loading_nodes:l},r)))}))}}),{});fe(Pu,"",pn);var Ou="llm.fragmentrenderer._base",Su=(me(Pu.getLogger,Pu,Ou),ve("FragmentRenderer",[ge],{__module__:Ou,supports_delayed_render_markers:!1,get __init__(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"config":r=t[a]}}}if(me(me(ye,null,Su,"__init__"),null,e),ze(null!==r))for(var i=me((u=r).py_items,u),o=0;o<Ne(i);o++){var l=qr(i,o),s=l[0],_=l[1];me(Se,null,e,s,_)}var u}))},get render_fragment(){return de(this,(function(e,r,n,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"llm_fragment":r=i[o];break;case"render_context":n=i[o];break;case"is_block_level":t=i[o]}}}try{return me((s=e).render_nodelist,s,r.nodes,me((l=e)._ensure_render_context,l,n),we({is_block_level:t}))}catch(e){if(Ae(e,Wr)){throw e.__cause__=null,e}throw e}var l,s}))},get render_nodelist(){return de(this,(function(e,r,n,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"nodelist":r=i[o];break;case"render_context":n=i[o];break;case"is_block_level":t=i[o]}}}var l,s;if(ze(null===r))throw(l=me($r,null,"render_nodelist(): nodelist should not be None")).__cause__=null,l;if(ze(!ze(me(Ce,null,r,"llm_is_block_level"))))throw(l=me($r,null,"The given node list was not parsed & produced by LLM; missing .llm_is_block_level attribute")).__cause__=null,l;if(ze(null===t))t=r.llm_is_block_level;if(ze(ze(!ze(t))&&r.llm_is_block_level))throw(l=me($r,null,"Cannot render node list {} in inline mode (not block level mode) as it contains block-level elements.".format(r))).__cause__=null,l;if(ze(t)){if(ze(me(Ce,null,r,"llm_blocks")))var _=r.llm_blocks;else _=[r];return me((s=e).render_blocks,s,_,n)}return function(){var t=e;return me(t.render_inline_content,t,r,n)}()}))},get render_node(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o;n=me((o=e)._ensure_render_context,o,n);if(ze(function(){var e=r;return me(e.isNodeType,e,Un)}()))return function(){var t=e;return me(t.render_node_chars,t,r,n)}();if(ze(function(){var e=r;return me(e.isNodeType,e,Gn)}()))return function(){var t=e;return me(t.render_node_comment,t,r,n)}();if(ze(function(){var e=r;return me(e.isNodeType,e,Bn)}()))return function(){var t=e;return me(t.render_node_group,t,r,n)}();if(ze(function(){var e=r;return me(e.isNodeType,e,Wn)}()))return function(){var t=e;return me(t.render_node_macro,t,r,n)}();if(ze(function(){var e=r;return me(e.isNodeType,e,Vn)}()))return function(){var t=e;return me(t.render_node_environment,t,r,n)}();if(ze(function(){var e=r;return me(e.isNodeType,e,$n)}()))return function(){var t=e;return me(t.render_node_specials,t,r,n)}();if(ze(function(){var e=r;return me(e.isNodeType,e,Qn)}()))return function(){var t=e;return me(t.render_node_math,t,r,n)}();var l=me($r,null,"Invalid node type: {}".format(r));throw l.__cause__=null,l}))},get render_node_chars(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}if(ze(me(Ce,null,r,"llm_chars_value")))var o=r.llm_chars_value;else o=null;if(ze(null===o))o=r.chars;return me((l=e).render_value,l,o);var l}))},get render_node_comment(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}return""}))},get render_node_group(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}return me((l=e).render_nodelist,l,r.nodelist,me((o=e)._ensure_render_context,o,n));var o,l}))},get render_node_macro(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}return me((l=e).render_invocable_node,l,r,me((o=e)._ensure_render_context,o,n));var o,l}))},get render_node_environment(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}return me((l=e).render_invocable_node,l,r,me((o=e)._ensure_render_context,o,n));var o,l}))},get render_node_specials(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}return me((l=e).render_invocable_node,l,r,me((o=e)._ensure_render_context,o,n));var o,l}))},get render_invocable_node(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}var o,l;if(ze(ze(!ze(me(Ce,null,r,"llm_specinfo")))||null===r.llm_specinfo))throw(o=me(RuntimeError,null,"Node {} does not have the `llm_specinfo` attribute set".format(r))).__cause__=null,o;if(ze(n.is_standalone_mode)&&ze(!ze(r.llm_specinfo.allowed_in_standalone_mode)))throw(o=me($r,null,"Cannot render {} in standalone mode.".format(me((l=r).latex_verbatim,l)))).__cause__=null,o;return function(){var t,a=e;return me(a.render_invocable_node_call_render,a,r,r.llm_specinfo,me((t=e)._ensure_render_context,t,n))}()}))},get render_invocable_node_call_render(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":r=i[o];break;case"llm_specinfo":n=i[o];break;case"render_context":t=i[o]}}}if(xe(null!==t),ze(null===n)){var l=me($r,null,"Cannot render node={} because specinfo is None!".format(r));throw l.__cause__=null,l}var s,_=me((s=t).get_is_delayed_render,s,r);if(ze(_)){var u=t.is_first_pass,c=null;if(ze(u)){!function(){var e=n;me(e.prepare_delayed_render,e,r,t)}();c=function(){var n=t;return me(n.register_delayed_render,n,r,e)}()}return ze(e.supports_delayed_render_markers)?function(){var n=e;return me(n.render_delayed_marker,n,r,c,t)}():ze(u)?(function(){var e=n;me(e.prepare_delayed_render,e,r,t)}(),function(){var n=e;return me(n.render_delayed_dummy_placeholder,n,r,c,t)}()):(xe(!ze(t.is_first_pass)),function(){var e=t;return me(e.get_delayed_render_content,e,r)}())}var f=function(){var e=n;return me(e.render,e,r,t)}();return f}))},get render_node_math(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":r=a[i];break;case"render_context":n=a[i]}}}return me((l=e).render_math_content,l,r.delimiters,r.nodelist,me((o=e)._ensure_render_context,o,n),we({displaytype:r.displaytype,target_id:null}));var o,l}))},get render_math_content(){return de(this,(function(e,r,n,t,a){var i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"delimiters":r=l[s];break;case"nodelist":n=l[s];break;case"render_context":t=l[s];break;case"displaytype":a=l[s];break;case"environmentname":l[s];break;case"target_id":i=l[s]}}}var _,u,c=me((u=e).render_verbatim,u,Or(Or(qr(r,0),me((_=n).latex_verbatim,_)),qr(r,1)),we({annotations:["{}-math".format(a)],target_id:i}));return c}))},get render_blocks(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"node_blocks":r=a[i];break;case"render_context":n=a[i]}}}for(var o,l=[],s=r,_=0;_<Ne(s);_++){var u=qr(s,_);if(ze(me(Ae,null,u,Xn)))var c=(o=void 0,me((o=e).render_build_paragraph,o,u,n));else c=function(){var r=e;return me(r.render_node,r,u,n)}();!function(){var e=l;me(e.append,e,c)}()}return function(){var r=e;return me(r.render_join_blocks,r,l)}()}))},get render_build_paragraph(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":r=a[i];break;case"render_context":n=a[i]}}}return me((o=e).render_inline_content,o,r,n);var o}))},get render_inline_content(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":r=a[i];break;case"render_context":n=a[i]}}}return me((o=e).render_join,o,function(){for(var t,a=[],i=r,o=0;o<Ne(i);o++){var l=qr(i,o);t=void 0,me(a.append,a,me((t=e).render_node,t,l,n))}return a}());var o}))},get render_join(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"content_list":r=t[a]}}}return me("".join,"",r)}))},get render_join_blocks(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"content_list":r=t[a]}}}return me("\n\n".join,"\n\n",function(){for(var e=[],n=r,t=0;t<Ne(n);t++){var a=qr(n,t);ze(ze(null!==a)&&me(Ne,null,a))&&me(e.append,e,a)}return e}())}))},get render_semantic_block(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"content":r=a[i];break;case"role":n=a[i];break;case"annotations":a[i];break;case"target_id":a[i]}}}return r}))},get replace_delayed_markers_with_final_values(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"content":r=a[i];break;case"delayed_values":n=a[i]}}}var o=me(RuntimeError,null,"Reimplement me!");throw o.__cause__=null,o}))},get render_value(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"value":r=t[a]}}}var i=me(RuntimeError,null,"Subclasses need to reimplement this method");throw i.__cause__=null,i}))},get render_delayed_marker(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":r=i[o];break;case"delayed_key":n=i[o];break;case"render_context":t=i[o]}}}var l=me(RuntimeError,null,"Subclasses need to reimplement this method");throw l.__cause__=null,l}))},get render_delayed_dummy_placeholder(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":r=i[o];break;case"delayed_key":n=i[o];break;case"render_context":t=i[o]}}}var l=me(RuntimeError,null,"Subclasses need to reimplement this method");throw l.__cause__=null,l}))},get render_nothing(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"annotations":r=t[a]}}}var i=me(RuntimeError,null,"Subclasses need to reimplement this method");throw i.__cause__=null,i}))},get render_empty_error_placeholder(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"debug_str":r=t[a]}}}var i=me(RuntimeError,null,"Subclasses need to reimplement this method");throw i.__cause__=null,i}))},get render_text_format(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"text_formats":r=i[o];break;case"nodelist":n=i[o];break;case"render_context":t=i[o]}}}var l=me(RuntimeError,null,"Subclasses need to reimplement this method");throw l.__cause__=null,l}))},get render_enumeration(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"iter_items_nodelists":r=i[o];break;case"counter_formatter":n=i[o];break;case"render_context":t=i[o];break;case"target_id_generator":i[o];break;case"annotations":i[o]}}}var l=me(RuntimeError,null,"Subclasses need to reimplement this method");throw l.__cause__=null,l}))},get render_heading(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"heading_nodelist":r=a[i];break;case"render_context":n=a[i];break;case"heading_level":a[i];break;case"inline_heading":a[i];break;case"target_id":a[i]}}}var o=me(RuntimeError,null,"Subclasses need to reimplement this method");throw o.__cause__=null,o}))},get render_verbatim(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"value":r=t[a];break;case"annotations":t[a];break;case"target_id":t[a]}}}var i=me(RuntimeError,null,"Subclasses need to reimplement this method");throw i.__cause__=null,i}))},get render_link(){return de(this,(function(e,r,n,t,a,i){if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"ref_type":r=l[s];break;case"href":n=l[s];break;case"display_nodelist":t=l[s];break;case"render_context":a=l[s];break;case"annotations":i=l[s]}}}var _=me(RuntimeError,null,"Subclasses need to reimplement this method");throw _.__cause__=null,_}))},get render_float(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_instance":r=a[i];break;case"render_context":n=a[i]}}}var o=me(RuntimeError,null,"Feature is not implemented by subclass");throw o.__cause__=null,o}))},get render_graphics_block(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"graphics_resource":r=t[a]}}}var i=me(RuntimeError,null,"Feature is not implemented by subclass");throw i.__cause__=null,i}))},get render_cells(){return de(this,(function(e,r,n,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cells_model":r=i[o];break;case"render_context":n=i[o];break;case"target_id":t=i[o]}}}var l=me(RuntimeError,null,"Feature is not implemented by subclass");throw l.__cause__=null,l}))},get _ensure_render_context(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"render_context":r=t[a]}}}return ze(r)||me(Xa,null,we({fragment_renderer:e}))}))}})),Eu={};e(Eu,"__all__",(function(){return Au})),e(Eu,"escape",(function(){return qu})),e(Eu,"_invalid_charrefs",(function(){return Fu})),e(Eu,"_invalid_codepoints",(function(){return Uu})),e(Eu,"_replace_charref",(function(){return Bu})),e(Eu,"_charref",(function(){return Gu})),e(Eu,"unescape",(function(){return Wu})),e(Eu,"_html5",(function(){return ju})),e(Eu,"_re",(function(){return Ct}));for(var Cu,Lu=yr({AElig:198,Aacute:193,Acirc:194,Agrave:192,Alpha:913,Aring:197,Atilde:195,Auml:196,Beta:914,Ccedil:199,Chi:935,Dagger:8225,Delta:916,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Epsilon:917,Eta:919,Euml:203,Gamma:915,Iacute:205,Icirc:206,Igrave:204,Iota:921,Iuml:207,Kappa:922,Lambda:923,Mu:924,Ntilde:209,Nu:925,OElig:338,Oacute:211,Ocirc:212,Ograve:210,Omega:937,Omicron:927,Oslash:216,Otilde:213,Ouml:214,Phi:934,Pi:928,Prime:8243,Psi:936,Rho:929,Scaron:352,Sigma:931,THORN:222,Tau:932,Theta:920,Uacute:218,Ucirc:219,Ugrave:217,Upsilon:933,Uuml:220,Xi:926,Yacute:221,Yuml:376,Zeta:918,aacute:225,acirc:226,acute:180,aelig:230,agrave:224,alefsym:8501,alpha:945,amp:38,and:8743,ang:8736,aring:229,asymp:8776,atilde:227,auml:228,bdquo:8222,beta:946,brvbar:166,bull:8226,cap:8745,ccedil:231,cedil:184,cent:162,chi:967,circ:710,clubs:9827,cong:8773,copy:169,crarr:8629,cup:8746,curren:164,dArr:8659,dagger:8224,darr:8595,deg:176,delta:948,diams:9830,divide:247,eacute:233,ecirc:234,egrave:232,empty:8709,emsp:8195,ensp:8194,epsilon:949,equiv:8801,eta:951,eth:240,euml:235,euro:8364,exist:8707,fnof:402,forall:8704,frac12:189,frac14:188,frac34:190,frasl:8260,gamma:947,ge:8805,gt:62,hArr:8660,harr:8596,hearts:9829,hellip:8230,iacute:237,icirc:238,iexcl:161,igrave:236,image:8465,infin:8734,int:8747,iota:953,iquest:191,isin:8712,iuml:239,kappa:954,lArr:8656,lambda:955,lang:9001,laquo:171,larr:8592,lceil:8968,ldquo:8220,le:8804,lfloor:8970,lowast:8727,loz:9674,lrm:8206,lsaquo:8249,lsquo:8216,lt:60,macr:175,mdash:8212,micro:181,middot:183,minus:8722,mu:956,nabla:8711,nbsp:160,ndash:8211,ne:8800,ni:8715,not:172,notin:8713,nsub:8836,ntilde:241,nu:957,oacute:243,ocirc:244,oelig:339,ograve:242,oline:8254,omega:969,omicron:959,oplus:8853,or:8744,ordf:170,ordm:186,oslash:248,otilde:245,otimes:8855,ouml:246,para:182,part:8706,permil:8240,perp:8869,phi:966,pi:960,piv:982,plusmn:177,pound:163,prime:8242,prod:8719,prop:8733,psi:968,quot:34,rArr:8658,radic:8730,rang:9002,raquo:187,rarr:8594,rceil:8969,rdquo:8221,real:8476,reg:174,rfloor:8971,rho:961,rlm:8207,rsaquo:8250,rsquo:8217,sbquo:8218,scaron:353,sdot:8901,sect:167,shy:173,sigma:963,sigmaf:962,sim:8764,spades:9824,sub:8834,sube:8838,sum:8721,sup:8835,sup1:185,sup2:178,sup3:179,supe:8839,szlig:223,tau:964,there4:8756,theta:952,thetasym:977,thinsp:8201,thorn:254,tilde:732,times:215,trade:8482,uArr:8657,uacute:250,uarr:8593,ucirc:251,ugrave:249,uml:168,upsih:978,upsilon:965,uuml:252,weierp:8472,xi:958,yacute:253,yen:165,yuml:255,zeta:950,zwj:8205,zwnj:8204}),ju=yr({Aacute:"",aacute:"","Aacute;":"","aacute;":"","Abreve;":"","abreve;":"","ac;":"","acd;":"","acE;":"",Acirc:"",acirc:"","Acirc;":"","acirc;":"",acute:"","acute;":"","Acy;":"","acy;":"",AElig:"",aelig:"","AElig;":"","aelig;":"","af;":"","Afr;":"","afr;":"",Agrave:"",agrave:"","Agrave;":"","agrave;":"","alefsym;":"","aleph;":"","Alpha;":"","alpha;":"","Amacr;":"","amacr;":"","amalg;":"",AMP:"&",amp:"&","AMP;":"&","amp;":"&","And;":"","and;":"","andand;":"","andd;":"","andslope;":"","andv;":"","ang;":"","ange;":"","angle;":"","angmsd;":"","angmsdaa;":"","angmsdab;":"","angmsdac;":"","angmsdad;":"","angmsdae;":"","angmsdaf;":"","angmsdag;":"","angmsdah;":"","angrt;":"","angrtvb;":"","angrtvbd;":"","angsph;":"","angst;":"","angzarr;":"","Aogon;":"","aogon;":"","Aopf;":"","aopf;":"","ap;":"","apacir;":"","apE;":"","ape;":"","apid;":"","apos;":"'","ApplyFunction;":"","approx;":"","approxeq;":"",Aring:"",aring:"","Aring;":"","aring;":"","Ascr;":"","ascr;":"","Assign;":"","ast;":"*","asymp;":"","asympeq;":"",Atilde:"",atilde:"","Atilde;":"","atilde;":"",Auml:"",auml:"","Auml;":"","auml;":"","awconint;":"","awint;":"","backcong;":"","backepsilon;":"","backprime;":"","backsim;":"","backsimeq;":"","Backslash;":"","Barv;":"","barvee;":"","Barwed;":"","barwed;":"","barwedge;":"","bbrk;":"","bbrktbrk;":"","bcong;":"","Bcy;":"","bcy;":"","bdquo;":"","becaus;":"","Because;":"","because;":"","bemptyv;":"","bepsi;":"","bernou;":"","Bernoullis;":"","Beta;":"","beta;":"","beth;":"","between;":"","Bfr;":"","bfr;":"","bigcap;":"","bigcirc;":"","bigcup;":"","bigodot;":"","bigoplus;":"","bigotimes;":"","bigsqcup;":"","bigstar;":"","bigtriangledown;":"","bigtriangleup;":"","biguplus;":"","bigvee;":"","bigwedge;":"","bkarow;":"","blacklozenge;":"","blacksquare;":"","blacktriangle;":"","blacktriangledown;":"","blacktriangleleft;":"","blacktriangleright;":"","blank;":"","blk12;":"","blk14;":"","blk34;":"","block;":"","bne;":"=","bnequiv;":"","bNot;":"","bnot;":"","Bopf;":"","bopf;":"","bot;":"","bottom;":"","bowtie;":"","boxbox;":"","boxDL;":"","boxDl;":"","boxdL;":"","boxdl;":"","boxDR;":"","boxDr;":"","boxdR;":"","boxdr;":"","boxH;":"","boxh;":"","boxHD;":"","boxHd;":"","boxhD;":"","boxhd;":"","boxHU;":"","boxHu;":"","boxhU;":"","boxhu;":"","boxminus;":"","boxplus;":"","boxtimes;":"","boxUL;":"","boxUl;":"","boxuL;":"","boxul;":"","boxUR;":"","boxUr;":"","boxuR;":"","boxur;":"","boxV;":"","boxv;":"","boxVH;":"","boxVh;":"","boxvH;":"","boxvh;":"","boxVL;":"","boxVl;":"","boxvL;":"","boxvl;":"","boxVR;":"","boxVr;":"","boxvR;":"","boxvr;":"","bprime;":"","Breve;":"","breve;":"",brvbar:"","brvbar;":"","Bscr;":"","bscr;":"","bsemi;":"","bsim;":"","bsime;":"","bsol;":"\\","bsolb;":"","bsolhsub;":"","bull;":"","bullet;":"","bump;":"","bumpE;":"","bumpe;":"","Bumpeq;":"","bumpeq;":"","Cacute;":"","cacute;":"","Cap;":"","cap;":"","capand;":"","capbrcup;":"","capcap;":"","capcup;":"","capdot;":"","CapitalDifferentialD;":"","caps;":"","caret;":"","caron;":"","Cayleys;":"","ccaps;":"","Ccaron;":"","ccaron;":"",Ccedil:"",ccedil:"","Ccedil;":"","ccedil;":"","Ccirc;":"","ccirc;":"","Cconint;":"","ccups;":"","ccupssm;":"","Cdot;":"","cdot;":"",cedil:"","cedil;":"","Cedilla;":"","cemptyv;":"",cent:"","cent;":"","CenterDot;":"","centerdot;":"","Cfr;":"","cfr;":"","CHcy;":"","chcy;":"","check;":"","checkmark;":"","Chi;":"","chi;":"","cir;":"","circ;":"","circeq;":"","circlearrowleft;":"","circlearrowright;":"","circledast;":"","circledcirc;":"","circleddash;":"","CircleDot;":"","circledR;":"","circledS;":"","CircleMinus;":"","CirclePlus;":"","CircleTimes;":"","cirE;":"","cire;":"","cirfnint;":"","cirmid;":"","cirscir;":"","ClockwiseContourIntegral;":"","CloseCurlyDoubleQuote;":"","CloseCurlyQuote;":"","clubs;":"","clubsuit;":"","Colon;":"","colon;":":","Colone;":"","colone;":"","coloneq;":"","comma;":",","commat;":"@","comp;":"","compfn;":"","complement;":"","complexes;":"","cong;":"","congdot;":"","Congruent;":"","Conint;":"","conint;":"","ContourIntegral;":"","Copf;":"","copf;":"","coprod;":"","Coproduct;":"",COPY:"",copy:"","COPY;":"","copy;":"","copysr;":"","CounterClockwiseContourIntegral;":"","crarr;":"","Cross;":"","cross;":"","Cscr;":"","cscr;":"","csub;":"","csube;":"","csup;":"","csupe;":"","ctdot;":"","cudarrl;":"","cudarrr;":"","cuepr;":"","cuesc;":"","cularr;":"","cularrp;":"","Cup;":"","cup;":"","cupbrcap;":"","CupCap;":"","cupcap;":"","cupcup;":"","cupdot;":"","cupor;":"","cups;":"","curarr;":"","curarrm;":"","curlyeqprec;":"","curlyeqsucc;":"","curlyvee;":"","curlywedge;":"",curren:"","curren;":"","curvearrowleft;":"","curvearrowright;":"","cuvee;":"","cuwed;":"","cwconint;":"","cwint;":"","cylcty;":"","Dagger;":"","dagger;":"","daleth;":"","Darr;":"","dArr;":"","darr;":"","dash;":"","Dashv;":"","dashv;":"","dbkarow;":"","dblac;":"","Dcaron;":"","dcaron;":"","Dcy;":"","dcy;":"","DD;":"","dd;":"","ddagger;":"","ddarr;":"","DDotrahd;":"","ddotseq;":"",deg:"","deg;":"","Del;":"","Delta;":"","delta;":"","demptyv;":"","dfisht;":"","Dfr;":"","dfr;":"","dHar;":"","dharl;":"","dharr;":"","DiacriticalAcute;":"","DiacriticalDot;":"","DiacriticalDoubleAcute;":"","DiacriticalGrave;":"`","DiacriticalTilde;":"","diam;":"","Diamond;":"","diamond;":"","diamondsuit;":"","diams;":"","die;":"","DifferentialD;":"","digamma;":"","disin;":"","div;":"",divide:"","divide;":"","divideontimes;":"","divonx;":"","DJcy;":"","djcy;":"","dlcorn;":"","dlcrop;":"","dollar;":"$","Dopf;":"","dopf;":"","Dot;":"","dot;":"","DotDot;":"","doteq;":"","doteqdot;":"","DotEqual;":"","dotminus;":"","dotplus;":"","dotsquare;":"","doublebarwedge;":"","DoubleContourIntegral;":"","DoubleDot;":"","DoubleDownArrow;":"","DoubleLeftArrow;":"","DoubleLeftRightArrow;":"","DoubleLeftTee;":"","DoubleLongLeftArrow;":"","DoubleLongLeftRightArrow;":"","DoubleLongRightArrow;":"","DoubleRightArrow;":"","DoubleRightTee;":"","DoubleUpArrow;":"","DoubleUpDownArrow;":"","DoubleVerticalBar;":"","DownArrow;":"","Downarrow;":"","downarrow;":"","DownArrowBar;":"","DownArrowUpArrow;":"","DownBreve;":"","downdownarrows;":"","downharpoonleft;":"","downharpoonright;":"","DownLeftRightVector;":"","DownLeftTeeVector;":"","DownLeftVector;":"","DownLeftVectorBar;":"","DownRightTeeVector;":"","DownRightVector;":"","DownRightVectorBar;":"","DownTee;":"","DownTeeArrow;":"","drbkarow;":"","drcorn;":"","drcrop;":"","Dscr;":"","dscr;":"","DScy;":"","dscy;":"","dsol;":"","Dstrok;":"","dstrok;":"","dtdot;":"","dtri;":"","dtrif;":"","duarr;":"","duhar;":"","dwangle;":"","DZcy;":"","dzcy;":"","dzigrarr;":"",Eacute:"",eacute:"","Eacute;":"","eacute;":"","easter;":"","Ecaron;":"","ecaron;":"","ecir;":"",Ecirc:"",ecirc:"","Ecirc;":"","ecirc;":"","ecolon;":"","Ecy;":"","ecy;":"","eDDot;":"","Edot;":"","eDot;":"","edot;":"","ee;":"","efDot;":"","Efr;":"","efr;":"","eg;":"",Egrave:"",egrave:"","Egrave;":"","egrave;":"","egs;":"","egsdot;":"","el;":"","Element;":"","elinters;":"","ell;":"","els;":"","elsdot;":"","Emacr;":"","emacr;":"","empty;":"","emptyset;":"","EmptySmallSquare;":"","emptyv;":"","EmptyVerySmallSquare;":"","emsp13;":"","emsp14;":"","emsp;":"","ENG;":"","eng;":"","ensp;":"","Eogon;":"","eogon;":"","Eopf;":"","eopf;":"","epar;":"","eparsl;":"","eplus;":"","epsi;":"","Epsilon;":"","epsilon;":"","epsiv;":"","eqcirc;":"","eqcolon;":"","eqsim;":"","eqslantgtr;":"","eqslantless;":"","Equal;":"","equals;":"=","EqualTilde;":"","equest;":"","Equilibrium;":"","equiv;":"","equivDD;":"","eqvparsl;":"","erarr;":"","erDot;":"","Escr;":"","escr;":"","esdot;":"","Esim;":"","esim;":"","Eta;":"","eta;":"",ETH:"",eth:"","ETH;":"","eth;":"",Euml:"",euml:"","Euml;":"","euml;":"","euro;":"","excl;":"!","exist;":"","Exists;":"","expectation;":"","ExponentialE;":"","exponentiale;":"","fallingdotseq;":"","Fcy;":"","fcy;":"","female;":"","ffilig;":"","fflig;":"","ffllig;":"","Ffr;":"","ffr;":"","filig;":"","FilledSmallSquare;":"","FilledVerySmallSquare;":"","fjlig;":"fj","flat;":"","fllig;":"","fltns;":"","fnof;":"","Fopf;":"","fopf;":"","ForAll;":"","forall;":"","fork;":"","forkv;":"","Fouriertrf;":"","fpartint;":"",frac12:"","frac12;":"","frac13;":"",frac14:"","frac14;":"","frac15;":"","frac16;":"","frac18;":"","frac23;":"","frac25;":"",frac34:"","frac34;":"","frac35;":"","frac38;":"","frac45;":"","frac56;":"","frac58;":"","frac78;":"","frasl;":"","frown;":"","Fscr;":"","fscr;":"","gacute;":"","Gamma;":"","gamma;":"","Gammad;":"","gammad;":"","gap;":"","Gbreve;":"","gbreve;":"","Gcedil;":"","Gcirc;":"","gcirc;":"","Gcy;":"","gcy;":"","Gdot;":"","gdot;":"","gE;":"","ge;":"","gEl;":"","gel;":"","geq;":"","geqq;":"","geqslant;":"","ges;":"","gescc;":"","gesdot;":"","gesdoto;":"","gesdotol;":"","gesl;":"","gesles;":"","Gfr;":"","gfr;":"","Gg;":"","gg;":"","ggg;":"","gimel;":"","GJcy;":"","gjcy;":"","gl;":"","gla;":"","glE;":"","glj;":"","gnap;":"","gnapprox;":"","gnE;":"","gne;":"","gneq;":"","gneqq;":"","gnsim;":"","Gopf;":"","gopf;":"","grave;":"`","GreaterEqual;":"","GreaterEqualLess;":"","GreaterFullEqual;":"","GreaterGreater;":"","GreaterLess;":"","GreaterSlantEqual;":"","GreaterTilde;":"","Gscr;":"","gscr;":"","gsim;":"","gsime;":"","gsiml;":"",GT:">",gt:">","GT;":">","Gt;":"","gt;":">","gtcc;":"","gtcir;":"","gtdot;":"","gtlPar;":"","gtquest;":"","gtrapprox;":"","gtrarr;":"","gtrdot;":"","gtreqless;":"","gtreqqless;":"","gtrless;":"","gtrsim;":"","gvertneqq;":"","gvnE;":"","Hacek;":"","hairsp;":"","half;":"","hamilt;":"","HARDcy;":"","hardcy;":"","hArr;":"","harr;":"","harrcir;":"","harrw;":"","Hat;":"^","hbar;":"","Hcirc;":"","hcirc;":"","hearts;":"","heartsuit;":"","hellip;":"","hercon;":"","Hfr;":"","hfr;":"","HilbertSpace;":"","hksearow;":"","hkswarow;":"","hoarr;":"","homtht;":"","hookleftarrow;":"","hookrightarrow;":"","Hopf;":"","hopf;":"","horbar;":"","HorizontalLine;":"","Hscr;":"","hscr;":"","hslash;":"","Hstrok;":"","hstrok;":"","HumpDownHump;":"","HumpEqual;":"","hybull;":"","hyphen;":"",Iacute:"",iacute:"","Iacute;":"","iacute;":"","ic;":"",Icirc:"",icirc:"","Icirc;":"","icirc;":"","Icy;":"","icy;":"","Idot;":"","IEcy;":"","iecy;":"",iexcl:"","iexcl;":"","iff;":"","Ifr;":"","ifr;":"",Igrave:"",igrave:"","Igrave;":"","igrave;":"","ii;":"","iiiint;":"","iiint;":"","iinfin;":"","iiota;":"","IJlig;":"","ijlig;":"","Im;":"","Imacr;":"","imacr;":"","image;":"","ImaginaryI;":"","imagline;":"","imagpart;":"","imath;":"","imof;":"","imped;":"","Implies;":"","in;":"","incare;":"","infin;":"","infintie;":"","inodot;":"","Int;":"","int;":"","intcal;":"","integers;":"","Integral;":"","intercal;":"","Intersection;":"","intlarhk;":"","intprod;":"","InvisibleComma;":"","InvisibleTimes;":"","IOcy;":"","iocy;":"","Iogon;":"","iogon;":"","Iopf;":"","iopf;":"","Iota;":"","iota;":"","iprod;":"",iquest:"","iquest;":"","Iscr;":"","iscr;":"","isin;":"","isindot;":"","isinE;":"","isins;":"","isinsv;":"","isinv;":"","it;":"","Itilde;":"","itilde;":"","Iukcy;":"","iukcy;":"",Iuml:"",iuml:"","Iuml;":"","iuml;":"","Jcirc;":"","jcirc;":"","Jcy;":"","jcy;":"","Jfr;":"","jfr;":"","jmath;":"","Jopf;":"","jopf;":"","Jscr;":"","jscr;":"","Jsercy;":"","jsercy;":"","Jukcy;":"","jukcy;":"","Kappa;":"","kappa;":"","kappav;":"","Kcedil;":"","kcedil;":"","Kcy;":"","kcy;":"","Kfr;":"","kfr;":"","kgreen;":"","KHcy;":"","khcy;":"","KJcy;":"","kjcy;":"","Kopf;":"","kopf;":"","Kscr;":"","kscr;":"","lAarr;":"","Lacute;":"","lacute;":"","laemptyv;":"","lagran;":"","Lambda;":"","lambda;":"","Lang;":"","lang;":"","langd;":"","langle;":"","lap;":"","Laplacetrf;":"",laquo:"","laquo;":"","Larr;":"","lArr;":"","larr;":"","larrb;":"","larrbfs;":"","larrfs;":"","larrhk;":"","larrlp;":"","larrpl;":"","larrsim;":"","larrtl;":"","lat;":"","lAtail;":"","latail;":"","late;":"","lates;":"","lBarr;":"","lbarr;":"","lbbrk;":"","lbrace;":"{","lbrack;":"[","lbrke;":"","lbrksld;":"","lbrkslu;":"","Lcaron;":"","lcaron;":"","Lcedil;":"","lcedil;":"","lceil;":"","lcub;":"{","Lcy;":"","lcy;":"","ldca;":"","ldquo;":"","ldquor;":"","ldrdhar;":"","ldrushar;":"","ldsh;":"","lE;":"","le;":"","LeftAngleBracket;":"","LeftArrow;":"","Leftarrow;":"","leftarrow;":"","LeftArrowBar;":"","LeftArrowRightArrow;":"","leftarrowtail;":"","LeftCeiling;":"","LeftDoubleBracket;":"","LeftDownTeeVector;":"","LeftDownVector;":"","LeftDownVectorBar;":"","LeftFloor;":"","leftharpoondown;":"","leftharpoonup;":"","leftleftarrows;":"","LeftRightArrow;":"","Leftrightarrow;":"","leftrightarrow;":"","leftrightarrows;":"","leftrightharpoons;":"","leftrightsquigarrow;":"","LeftRightVector;":"","LeftTee;":"","LeftTeeArrow;":"","LeftTeeVector;":"","leftthreetimes;":"","LeftTriangle;":"","LeftTriangleBar;":"","LeftTriangleEqual;":"","LeftUpDownVector;":"","LeftUpTeeVector;":"","LeftUpVector;":"","LeftUpVectorBar;":"","LeftVector;":"","LeftVectorBar;":"","lEg;":"","leg;":"","leq;":"","leqq;":"","leqslant;":"","les;":"","lescc;":"","lesdot;":"","lesdoto;":"","lesdotor;":"","lesg;":"","lesges;":"","lessapprox;":"","lessdot;":"","lesseqgtr;":"","lesseqqgtr;":"","LessEqualGreater;":"","LessFullEqual;":"","LessGreater;":"","lessgtr;":"","LessLess;":"","lesssim;":"","LessSlantEqual;":"","LessTilde;":"","lfisht;":"","lfloor;":"","Lfr;":"","lfr;":"","lg;":"","lgE;":"","lHar;":"","lhard;":"","lharu;":"","lharul;":"","lhblk;":"","LJcy;":"","ljcy;":"","Ll;":"","ll;":"","llarr;":"","llcorner;":"","Lleftarrow;":"","llhard;":"","lltri;":"","Lmidot;":"","lmidot;":"","lmoust;":"","lmoustache;":"","lnap;":"","lnapprox;":"","lnE;":"","lne;":"","lneq;":"","lneqq;":"","lnsim;":"","loang;":"","loarr;":"","lobrk;":"","LongLeftArrow;":"","Longleftarrow;":"","longleftarrow;":"","LongLeftRightArrow;":"","Longleftrightarrow;":"","longleftrightarrow;":"","longmapsto;":"","LongRightArrow;":"","Longrightarrow;":"","longrightarrow;":"","looparrowleft;":"","looparrowright;":"","lopar;":"","Lopf;":"","lopf;":"","loplus;":"","lotimes;":"","lowast;":"","lowbar;":"_","LowerLeftArrow;":"","LowerRightArrow;":"","loz;":"","lozenge;":"","lozf;":"","lpar;":"(","lparlt;":"","lrarr;":"","lrcorner;":"","lrhar;":"","lrhard;":"","lrm;":"","lrtri;":"","lsaquo;":"","Lscr;":"","lscr;":"","Lsh;":"","lsh;":"","lsim;":"","lsime;":"","lsimg;":"","lsqb;":"[","lsquo;":"","lsquor;":"","Lstrok;":"","lstrok;":"",LT:"<",lt:"<","LT;":"<","Lt;":"","lt;":"<","ltcc;":"","ltcir;":"","ltdot;":"","lthree;":"","ltimes;":"","ltlarr;":"","ltquest;":"","ltri;":"","ltrie;":"","ltrif;":"","ltrPar;":"","lurdshar;":"","luruhar;":"","lvertneqq;":"","lvnE;":"",macr:"","macr;":"","male;":"","malt;":"","maltese;":"","Map;":"","map;":"","mapsto;":"","mapstodown;":"","mapstoleft;":"","mapstoup;":"","marker;":"","mcomma;":"","Mcy;":"","mcy;":"","mdash;":"","mDDot;":"","measuredangle;":"","MediumSpace;":"","Mellintrf;":"","Mfr;":"","mfr;":"","mho;":"",micro:"","micro;":"","mid;":"","midast;":"*","midcir;":"",middot:"","middot;":"","minus;":"","minusb;":"","minusd;":"","minusdu;":"","MinusPlus;":"","mlcp;":"","mldr;":"","mnplus;":"","models;":"","Mopf;":"","mopf;":"","mp;":"","Mscr;":"","mscr;":"","mstpos;":"","Mu;":"","mu;":"","multimap;":"","mumap;":"","nabla;":"","Nacute;":"","nacute;":"","nang;":"","nap;":"","napE;":"","napid;":"","napos;":"","napprox;":"","natur;":"","natural;":"","naturals;":"",nbsp:"","nbsp;":"","nbump;":"","nbumpe;":"","ncap;":"","Ncaron;":"","ncaron;":"","Ncedil;":"","ncedil;":"","ncong;":"","ncongdot;":"","ncup;":"","Ncy;":"","ncy;":"","ndash;":"","ne;":"","nearhk;":"","neArr;":"","nearr;":"","nearrow;":"","nedot;":"","NegativeMediumSpace;":"","NegativeThickSpace;":"","NegativeThinSpace;":"","NegativeVeryThinSpace;":"","nequiv;":"","nesear;":"","nesim;":"","NestedGreaterGreater;":"","NestedLessLess;":"","NewLine;":"\n","nexist;":"","nexists;":"","Nfr;":"","nfr;":"","ngE;":"","nge;":"","ngeq;":"","ngeqq;":"","ngeqslant;":"","nges;":"","nGg;":"","ngsim;":"","nGt;":"","ngt;":"","ngtr;":"","nGtv;":"","nhArr;":"","nharr;":"","nhpar;":"","ni;":"","nis;":"","nisd;":"","niv;":"","NJcy;":"","njcy;":"","nlArr;":"","nlarr;":"","nldr;":"","nlE;":"","nle;":"","nLeftarrow;":"","nleftarrow;":"","nLeftrightarrow;":"","nleftrightarrow;":"","nleq;":"","nleqq;":"","nleqslant;":"","nles;":"","nless;":"","nLl;":"","nlsim;":"","nLt;":"","nlt;":"","nltri;":"","nltrie;":"","nLtv;":"","nmid;":"","NoBreak;":"","NonBreakingSpace;":"","Nopf;":"","nopf;":"",not:"","Not;":"","not;":"","NotCongruent;":"","NotCupCap;":"","NotDoubleVerticalBar;":"","NotElement;":"","NotEqual;":"","NotEqualTilde;":"","NotExists;":"","NotGreater;":"","NotGreaterEqual;":"","NotGreaterFullEqual;":"","NotGreaterGreater;":"","NotGreaterLess;":"","NotGreaterSlantEqual;":"","NotGreaterTilde;":"","NotHumpDownHump;":"","NotHumpEqual;":"","notin;":"","notindot;":"","notinE;":"","notinva;":"","notinvb;":"","notinvc;":"","NotLeftTriangle;":"","NotLeftTriangleBar;":"","NotLeftTriangleEqual;":"","NotLess;":"","NotLessEqual;":"","NotLessGreater;":"","NotLessLess;":"","NotLessSlantEqual;":"","NotLessTilde;":"","NotNestedGreaterGreater;":"","NotNestedLessLess;":"","notni;":"","notniva;":"","notnivb;":"","notnivc;":"","NotPrecedes;":"","NotPrecedesEqual;":"","NotPrecedesSlantEqual;":"","NotReverseElement;":"","NotRightTriangle;":"","NotRightTriangleBar;":"","NotRightTriangleEqual;":"","NotSquareSubset;":"","NotSquareSubsetEqual;":"","NotSquareSuperset;":"","NotSquareSupersetEqual;":"","NotSubset;":"","NotSubsetEqual;":"","NotSucceeds;":"","NotSucceedsEqual;":"","NotSucceedsSlantEqual;":"","NotSucceedsTilde;":"","NotSuperset;":"","NotSupersetEqual;":"","NotTilde;":"","NotTildeEqual;":"","NotTildeFullEqual;":"","NotTildeTilde;":"","NotVerticalBar;":"","npar;":"","nparallel;":"","nparsl;":"","npart;":"","npolint;":"","npr;":"","nprcue;":"","npre;":"","nprec;":"","npreceq;":"","nrArr;":"","nrarr;":"","nrarrc;":"","nrarrw;":"","nRightarrow;":"","nrightarrow;":"","nrtri;":"","nrtrie;":"","nsc;":"","nsccue;":"","nsce;":"","Nscr;":"","nscr;":"","nshortmid;":"","nshortparallel;":"","nsim;":"","nsime;":"","nsimeq;":"","nsmid;":"","nspar;":"","nsqsube;":"","nsqsupe;":"","nsub;":"","nsubE;":"","nsube;":"","nsubset;":"","nsubseteq;":"","nsubseteqq;":"","nsucc;":"","nsucceq;":"","nsup;":"","nsupE;":"","nsupe;":"","nsupset;":"","nsupseteq;":"","nsupseteqq;":"","ntgl;":"",Ntilde:"",ntilde:"","Ntilde;":"","ntilde;":"","ntlg;":"","ntriangleleft;":"","ntrianglelefteq;":"","ntriangleright;":"","ntrianglerighteq;":"","Nu;":"","nu;":"","num;":"#","numero;":"","numsp;":"","nvap;":"","nVDash;":"","nVdash;":"","nvDash;":"","nvdash;":"","nvge;":"","nvgt;":">","nvHarr;":"","nvinfin;":"","nvlArr;":"","nvle;":"","nvlt;":"<","nvltrie;":"","nvrArr;":"","nvrtrie;":"","nvsim;":"","nwarhk;":"","nwArr;":"","nwarr;":"","nwarrow;":"","nwnear;":"",Oacute:"",oacute:"","Oacute;":"","oacute;":"","oast;":"","ocir;":"",Ocirc:"",ocirc:"","Ocirc;":"","ocirc;":"","Ocy;":"","ocy;":"","odash;":"","Odblac;":"","odblac;":"","odiv;":"","odot;":"","odsold;":"","OElig;":"","oelig;":"","ofcir;":"","Ofr;":"","ofr;":"","ogon;":"",Ograve:"",ograve:"","Ograve;":"","ograve;":"","ogt;":"","ohbar;":"","ohm;":"","oint;":"","olarr;":"","olcir;":"","olcross;":"","oline;":"","olt;":"","Omacr;":"","omacr;":"","Omega;":"","omega;":"","Omicron;":"","omicron;":"","omid;":"","ominus;":"","Oopf;":"","oopf;":"","opar;":"","OpenCurlyDoubleQuote;":"","OpenCurlyQuote;":"","operp;":"","oplus;":"","Or;":"","or;":"","orarr;":"","ord;":"","order;":"","orderof;":"",ordf:"","ordf;":"",ordm:"","ordm;":"","origof;":"","oror;":"","orslope;":"","orv;":"","oS;":"","Oscr;":"","oscr;":"",Oslash:"",oslash:"","Oslash;":"","oslash;":"","osol;":"",Otilde:"",otilde:"","Otilde;":"","otilde;":"","Otimes;":"","otimes;":"","otimesas;":"",Ouml:"",ouml:"","Ouml;":"","ouml;":"","ovbar;":"","OverBar;":"","OverBrace;":"","OverBracket;":"","OverParenthesis;":"","par;":"",para:"","para;":"","parallel;":"","parsim;":"","parsl;":"","part;":"","PartialD;":"","Pcy;":"","pcy;":"","percnt;":"%","period;":".","permil;":"","perp;":"","pertenk;":"","Pfr;":"","pfr;":"","Phi;":"","phi;":"","phiv;":"","phmmat;":"","phone;":"","Pi;":"","pi;":"","pitchfork;":"","piv;":"","planck;":"","planckh;":"","plankv;":"","plus;":"+","plusacir;":"","plusb;":"","pluscir;":"","plusdo;":"","plusdu;":"","pluse;":"","PlusMinus;":"",plusmn:"","plusmn;":"","plussim;":"","plustwo;":"","pm;":"","Poincareplane;":"","pointint;":"","Popf;":"","popf;":"",pound:"","pound;":"","Pr;":"","pr;":"","prap;":"","prcue;":"","prE;":"","pre;":"","prec;":"","precapprox;":"","preccurlyeq;":"","Precedes;":"","PrecedesEqual;":"","PrecedesSlantEqual;":"","PrecedesTilde;":"","preceq;":"","precnapprox;":"","precneqq;":"","precnsim;":"","precsim;":"","Prime;":"","prime;":"","primes;":"","prnap;":"","prnE;":"","prnsim;":"","prod;":"","Product;":"","profalar;":"","profline;":"","profsurf;":"","prop;":"","Proportion;":"","Proportional;":"","propto;":"","prsim;":"","prurel;":"","Pscr;":"","pscr;":"","Psi;":"","psi;":"","puncsp;":"","Qfr;":"","qfr;":"","qint;":"","Qopf;":"","qopf;":"","qprime;":"","Qscr;":"","qscr;":"","quaternions;":"","quatint;":"","quest;":"?","questeq;":"",QUOT:'"',quot:'"',"QUOT;":'"',"quot;":'"',"rAarr;":"","race;":"","Racute;":"","racute;":"","radic;":"","raemptyv;":"","Rang;":"","rang;":"","rangd;":"","range;":"","rangle;":"",raquo:"","raquo;":"","Rarr;":"","rArr;":"","rarr;":"","rarrap;":"","rarrb;":"","rarrbfs;":"","rarrc;":"","rarrfs;":"","rarrhk;":"","rarrlp;":"","rarrpl;":"","rarrsim;":"","Rarrtl;":"","rarrtl;":"","rarrw;":"","rAtail;":"","ratail;":"","ratio;":"","rationals;":"","RBarr;":"","rBarr;":"","rbarr;":"","rbbrk;":"","rbrace;":"}","rbrack;":"]","rbrke;":"","rbrksld;":"","rbrkslu;":"","Rcaron;":"","rcaron;":"","Rcedil;":"","rcedil;":"","rceil;":"","rcub;":"}","Rcy;":"","rcy;":"","rdca;":"","rdldhar;":"","rdquo;":"","rdquor;":"","rdsh;":"","Re;":"","real;":"","realine;":"","realpart;":"","reals;":"","rect;":"",REG:"",reg:"","REG;":"","reg;":"","ReverseElement;":"","ReverseEquilibrium;":"","ReverseUpEquilibrium;":"","rfisht;":"","rfloor;":"","Rfr;":"","rfr;":"","rHar;":"","rhard;":"","rharu;":"","rharul;":"","Rho;":"","rho;":"","rhov;":"","RightAngleBracket;":"","RightArrow;":"","Rightarrow;":"","rightarrow;":"","RightArrowBar;":"","RightArrowLeftArrow;":"","rightarrowtail;":"","RightCeiling;":"","RightDoubleBracket;":"","RightDownTeeVector;":"","RightDownVector;":"","RightDownVectorBar;":"","RightFloor;":"","rightharpoondown;":"","rightharpoonup;":"","rightleftarrows;":"","rightleftharpoons;":"","rightrightarrows;":"","rightsquigarrow;":"","RightTee;":"","RightTeeArrow;":"","RightTeeVector;":"","rightthreetimes;":"","RightTriangle;":"","RightTriangleBar;":"","RightTriangleEqual;":"","RightUpDownVector;":"","RightUpTeeVector;":"","RightUpVector;":"","RightUpVectorBar;":"","RightVector;":"","RightVectorBar;":"","ring;":"","risingdotseq;":"","rlarr;":"","rlhar;":"","rlm;":"","rmoust;":"","rmoustache;":"","rnmid;":"","roang;":"","roarr;":"","robrk;":"","ropar;":"","Ropf;":"","ropf;":"","roplus;":"","rotimes;":"","RoundImplies;":"","rpar;":")","rpargt;":"","rppolint;":"","rrarr;":"","Rrightarrow;":"","rsaquo;":"","Rscr;":"","rscr;":"","Rsh;":"","rsh;":"","rsqb;":"]","rsquo;":"","rsquor;":"","rthree;":"","rtimes;":"","rtri;":"","rtrie;":"","rtrif;":"","rtriltri;":"","RuleDelayed;":"","ruluhar;":"","rx;":"","Sacute;":"","sacute;":"","sbquo;":"","Sc;":"","sc;":"","scap;":"","Scaron;":"","scaron;":"","sccue;":"","scE;":"","sce;":"","Scedil;":"","scedil;":"","Scirc;":"","scirc;":"","scnap;":"","scnE;":"","scnsim;":"","scpolint;":"","scsim;":"","Scy;":"","scy;":"","sdot;":"","sdotb;":"","sdote;":"","searhk;":"","seArr;":"","searr;":"","searrow;":"",sect:"","sect;":"","semi;":";","seswar;":"","setminus;":"","setmn;":"","sext;":"","Sfr;":"","sfr;":"","sfrown;":"","sharp;":"","SHCHcy;":"","shchcy;":"","SHcy;":"","shcy;":"","ShortDownArrow;":"","ShortLeftArrow;":"","shortmid;":"","shortparallel;":"","ShortRightArrow;":"","ShortUpArrow;":"",shy:"","shy;":"","Sigma;":"","sigma;":"","sigmaf;":"","sigmav;":"","sim;":"","simdot;":"","sime;":"","simeq;":"","simg;":"","simgE;":"","siml;":"","simlE;":"","simne;":"","simplus;":"","simrarr;":"","slarr;":"","SmallCircle;":"","smallsetminus;":"","smashp;":"","smeparsl;":"","smid;":"","smile;":"","smt;":"","smte;":"","smtes;":"","SOFTcy;":"","softcy;":"","sol;":"/","solb;":"","solbar;":"","Sopf;":"","sopf;":"","spades;":"","spadesuit;":"","spar;":"","sqcap;":"","sqcaps;":"","sqcup;":"","sqcups;":"","Sqrt;":"","sqsub;":"","sqsube;":"","sqsubset;":"","sqsubseteq;":"","sqsup;":"","sqsupe;":"","sqsupset;":"","sqsupseteq;":"","squ;":"","Square;":"","square;":"","SquareIntersection;":"","SquareSubset;":"","SquareSubsetEqual;":"","SquareSuperset;":"","SquareSupersetEqual;":"","SquareUnion;":"","squarf;":"","squf;":"","srarr;":"","Sscr;":"","sscr;":"","ssetmn;":"","ssmile;":"","sstarf;":"","Star;":"","star;":"","starf;":"","straightepsilon;":"","straightphi;":"","strns;":"","Sub;":"","sub;":"","subdot;":"","subE;":"","sube;":"","subedot;":"","submult;":"","subnE;":"","subne;":"","subplus;":"","subrarr;":"","Subset;":"","subset;":"","subseteq;":"","subseteqq;":"","SubsetEqual;":"","subsetneq;":"","subsetneqq;":"","subsim;":"","subsub;":"","subsup;":"","succ;":"","succapprox;":"","succcurlyeq;":"","Succeeds;":"","SucceedsEqual;":"","SucceedsSlantEqual;":"","SucceedsTilde;":"","succeq;":"","succnapprox;":"","succneqq;":"","succnsim;":"","succsim;":"","SuchThat;":"","Sum;":"","sum;":"","sung;":"",sup1:"","sup1;":"",sup2:"","sup2;":"",sup3:"","sup3;":"","Sup;":"","sup;":"","supdot;":"","supdsub;":"","supE;":"","supe;":"","supedot;":"","Superset;":"","SupersetEqual;":"","suphsol;":"","suphsub;":"","suplarr;":"","supmult;":"","supnE;":"","supne;":"","supplus;":"","Supset;":"","supset;":"","supseteq;":"","supseteqq;":"","supsetneq;":"","supsetneqq;":"","supsim;":"","supsub;":"","supsup;":"","swarhk;":"","swArr;":"","swarr;":"","swarrow;":"","swnwar;":"",szlig:"","szlig;":"","Tab;":"\t","target;":"","Tau;":"","tau;":"","tbrk;":"","Tcaron;":"","tcaron;":"","Tcedil;":"","tcedil;":"","Tcy;":"","tcy;":"","tdot;":"","telrec;":"","Tfr;":"","tfr;":"","there4;":"","Therefore;":"","therefore;":"","Theta;":"","theta;":"","thetasym;":"","thetav;":"","thickapprox;":"","thicksim;":"","ThickSpace;":"","thinsp;":"","ThinSpace;":"","thkap;":"","thksim;":"",THORN:"",thorn:"","THORN;":"","thorn;":"","Tilde;":"","tilde;":"","TildeEqual;":"","TildeFullEqual;":"","TildeTilde;":"",times:"","times;":"","timesb;":"","timesbar;":"","timesd;":"","tint;":"","toea;":"","top;":"","topbot;":"","topcir;":"","Topf;":"","topf;":"","topfork;":"","tosa;":"","tprime;":"","TRADE;":"","trade;":"","triangle;":"","triangledown;":"","triangleleft;":"","trianglelefteq;":"","triangleq;":"","triangleright;":"","trianglerighteq;":"","tridot;":"","trie;":"","triminus;":"","TripleDot;":"","triplus;":"","trisb;":"","tritime;":"","trpezium;":"","Tscr;":"","tscr;":"","TScy;":"","tscy;":"","TSHcy;":"","tshcy;":"","Tstrok;":"","tstrok;":"","twixt;":"","twoheadleftarrow;":"","twoheadrightarrow;":"",Uacute:"",uacute:"","Uacute;":"","uacute;":"","Uarr;":"","uArr;":"","uarr;":"","Uarrocir;":"","Ubrcy;":"","ubrcy;":"","Ubreve;":"","ubreve;":"",Ucirc:"",ucirc:"","Ucirc;":"","ucirc;":"","Ucy;":"","ucy;":"","udarr;":"","Udblac;":"","udblac;":"","udhar;":"","ufisht;":"","Ufr;":"","ufr;":"",Ugrave:"",ugrave:"","Ugrave;":"","ugrave;":"","uHar;":"","uharl;":"","uharr;":"","uhblk;":"","ulcorn;":"","ulcorner;":"","ulcrop;":"","ultri;":"","Umacr;":"","umacr;":"",uml:"","uml;":"","UnderBar;":"_","UnderBrace;":"","UnderBracket;":"","UnderParenthesis;":"","Union;":"","UnionPlus;":"","Uogon;":"","uogon;":"","Uopf;":"","uopf;":"","UpArrow;":"","Uparrow;":"","uparrow;":"","UpArrowBar;":"","UpArrowDownArrow;":"","UpDownArrow;":"","Updownarrow;":"","updownarrow;":"","UpEquilibrium;":"","upharpoonleft;":"","upharpoonright;":"","uplus;":"","UpperLeftArrow;":"","UpperRightArrow;":"","Upsi;":"","upsi;":"","upsih;":"","Upsilon;":"","upsilon;":"","UpTee;":"","UpTeeArrow;":"","upuparrows;":"","urcorn;":"","urcorner;":"","urcrop;":"","Uring;":"","uring;":"","urtri;":"","Uscr;":"","uscr;":"","utdot;":"","Utilde;":"","utilde;":"","utri;":"","utrif;":"","uuarr;":"",Uuml:"",uuml:"","Uuml;":"","uuml;":"","uwangle;":"","vangrt;":"","varepsilon;":"","varkappa;":"","varnothing;":"","varphi;":"","varpi;":"","varpropto;":"","vArr;":"","varr;":"","varrho;":"","varsigma;":"","varsubsetneq;":"","varsubsetneqq;":"","varsupsetneq;":"","varsupsetneqq;":"","vartheta;":"","vartriangleleft;":"","vartriangleright;":"","Vbar;":"","vBar;":"","vBarv;":"","Vcy;":"","vcy;":"","VDash;":"","Vdash;":"","vDash;":"","vdash;":"","Vdashl;":"","Vee;":"","vee;":"","veebar;":"","veeeq;":"","vellip;":"","Verbar;":"","verbar;":"|","Vert;":"","vert;":"|","VerticalBar;":"","VerticalLine;":"|","VerticalSeparator;":"","VerticalTilde;":"","VeryThinSpace;":"","Vfr;":"","vfr;":"","vltri;":"","vnsub;":"","vnsup;":"","Vopf;":"","vopf;":"","vprop;":"","vrtri;":"","Vscr;":"","vscr;":"","vsubnE;":"","vsubne;":"","vsupnE;":"","vsupne;":"","Vvdash;":"","vzigzag;":"","Wcirc;":"","wcirc;":"","wedbar;":"","Wedge;":"","wedge;":"","wedgeq;":"","weierp;":"","Wfr;":"","wfr;":"","Wopf;":"","wopf;":"","wp;":"","wr;":"","wreath;":"","Wscr;":"","wscr;":"","xcap;":"","xcirc;":"","xcup;":"","xdtri;":"","Xfr;":"","xfr;":"","xhArr;":"","xharr;":"","Xi;":"","xi;":"","xlArr;":"","xlarr;":"","xmap;":"","xnis;":"","xodot;":"","Xopf;":"","xopf;":"","xoplus;":"","xotime;":"","xrArr;":"","xrarr;":"","Xscr;":"","xscr;":"","xsqcup;":"","xuplus;":"","xutri;":"","xvee;":"","xwedge;":"",Yacute:"",yacute:"","Yacute;":"","yacute;":"","YAcy;":"","yacy;":"","Ycirc;":"","ycirc;":"","Ycy;":"","ycy;":"",yen:"","yen;":"","Yfr;":"","yfr;":"","YIcy;":"","yicy;":"","Yopf;":"","yopf;":"","Yscr;":"","yscr;":"","YUcy;":"","yucy;":"",yuml:"","Yuml;":"","yuml;":"","Zacute;":"","zacute;":"","Zcaron;":"","zcaron;":"","Zcy;":"","zcy;":"","Zdot;":"","zdot;":"","zeetrf;":"","ZeroWidthSpace;":"","Zeta;":"","zeta;":"","Zfr;":"","zfr;":"","ZHcy;":"","zhcy;":"","zigrarr;":"","Zopf;":"","zopf;":"","Zscr;":"","zscr;":"","zwj;":"","zwnj;":""}),Nu=yr({}),zu=yr({}),Tu=me((Cu=Lu).py_items,Cu),Mu=0;Mu<Ne(Tu);Mu++){var Iu=qr(Tu,Mu),Ru=Iu[0],Du=Iu[1];Fr(Nu,Du,Ru),Fr(zu,Ru,me(Ue,null,Du))}var Au=["escape","unescape"],qu=function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"s":e=t[a];break;case"quote":r=t[a]}}}e=function(){var r=e;return me(r.py_replace,r,"&","&amp;")}(),e=function(){var r=e;return me(r.py_replace,r,"<","&lt;")}(),e=function(){var r=e;return me(r.py_replace,r,">","&gt;")}();if(ze(r))e=function(){var r=e;return me(r.py_replace,r,'"',"&quot;")}(),e=function(){var r=e;return me(r.py_replace,r,"'","&#x27;")}();return e},Fu=yr({0:"",13:"\r",128:"",129:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",141:"",142:"",143:"",144:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",157:"",158:"",159:""}),Uu=new ir([1,2,3,4,5,6,7,8,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,11,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Bu=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("s"===t)e=n[t]}}e=function(){var r=e;return me(r.group,r,1)}();if(ze(Lr(qr(e,0),"#"))){if(ze(Le(qr(e,1),"xX")))var a=me(Me,null,function(){var r=Ur(e,2,null,1);return me(r.rstrip,r,";")}(),16);else a=me(Me,null,function(){var r=Ur(e,1,null,1);return me(r.rstrip,r,";")}());return ze(Le(a,Fu))?qr(Fu,a):ze(ze(zr(55296,a)&&zr(a,57343))||Tr(a,1114111))?"":ze(Le(a,Uu))?"":me(Ue,null,a)}if(ze(Le(e,ju)))return qr(ju,e);for(var i=!1,o=Sr(me(Ne,null,e),1);o>1;o--)if(ze(Le(Ur(e,0,o,1),ju)))return Or(qr(ju,Ur(e,0,o,1)),Ur(e,o,null,1));return i?void 0:Or("&",e)},Gu=me(Ct.compile,Ct,"&(#[0-9]+;?|#[xX][0-9a-fA-F]+;?|[^\\t\\n\\f <&#;]{1,32};?)"),Wu=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("s"===t)e=n[t]}}return ze(!Le("&",e))?e:function(){var r=Gu;return me(r.sub,r,Bu,e)}()},Vu={},Hu={},$u={};fe(Hu,"",pn),fe($u,"",Ct),fe(Vu,"",Eu);var Qu="llm.fragmentrenderer.html",Yu=me(Hu.getLogger,Hu,Qu),Xu=me($u.compile,$u,"[&]([a-zA-Z]+|[#][0-9]+|[#]x[0-9a-fA-F]+);"),Zu=ve("HtmlFragmentRenderer",[Su],{__module__:Qu,supports_delayed_render_markers:!0,use_link_target_blank:!1,html_blocks_joiner:"\n",heading_tags_by_level:yr({1:"h1",2:"h2",3:"h3",4:"span",5:"span",6:"span"}),inline_heading_add_space:!0,aggressively_escape_html_attributes:!1,render_nothing_as_comment_with_annotations:!0,use_mathjax:!0,get htmlescape(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"value":r=t[a]}}}return me(Vu.escape,Vu,r)}))},get htmlescape_double_quoted_attribute_value(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"value":r=t[a]}}}if(ze(e.aggressively_escape_html_attributes))return function(){var n=e;return me(n.htmlescape,n,r)}();r=function(){var e=Xu;return me(e.sub,e,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("m"===t)e=n[t]}}return Or(Or("&amp;",me((a=e).group,a,1)),";");var a}),r)}(),r=function(){var e=r;return me(e.py_replace,e,'"',"&quot;")}();return r}))},get generate_open_tag(){return de(this,(function(e,r){var n=null,t=null,a=!1;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"tagname":r=o[l];break;case"attrs":n=o[l];break;case"class_names":t=o[l];break;case"self_close_tag":a=o[l]}}}var s="<{}".format(r);if(ze(!ze(n)))var n=yr({});if(ze(Le("class",n=me(yr,null,n)))){var _=me($r,null,"generate_open_tag(): set HTML 'class' attribute with class_names=, not with attrs=");throw _.__cause__=null,_}if(ze(t)&&Fr(n,"class",me(" ".join," ",t)),ze(n))for(var u=function(){var e=n;return me(e.py_items,e)}(),c=0;c<Ne(u);c++){var f=qr(u,c),d=f[0],p=f[1];s=me(Rr,null,s,' {}="{}"'.format(d,function(){var r=e;return me(r.htmlescape_double_quoted_attribute_value,r,p)}()))}if(ze(a))s=me(Rr,null,s,"/>");else s=me(Rr,null,s,">");return s}))},get wrap_in_tag(){return de(this,(function(e,r,n){var t=null,a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"tagname":r=o[l];break;case"content_html":n=o[l];break;case"attrs":t=o[l];break;case"class_names":a=o[l]}}}var s=function(){var n=e;return me(n.generate_open_tag,n,r,we({attrs:t,class_names:a}))}();s=me(Rr,null,s,me(or,null,n));return s=me(Rr,null,s,"</{}>".format(r))}))},get wrap_in_link(){return de(this,(function(e,r,n){var t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"display_html":r=i[o];break;case"target_href":n=i[o];break;case"class_names":t=i[o]}}}if(ze(!ze(n)))n="#";var l=yr({href:n});return ze(me(qe,null,e.use_link_target_blank))?ze(function(){var r=e;return me(r.use_link_target_blank,r,n)}())&&Fr(l,"target","_blank"):ze(ze(e.use_link_target_blank)&&!ze(function(){var e=n;return me(e.startswith,e,"#")}()))&&Fr(l,"target","_blank"),function(){var n=e;return me(n.wrap_in_tag,n,"a",r,we({attrs:l,class_names:t}))}()}))},get render_build_paragraph(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":r=a[i];break;case"render_context":n=a[i]}}}return Or(Or("<p>",function(){var t=e;return me(t.render_inline_content,t,r,n)}()),"</p>")}))},get render_inline_content(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":r=a[i];break;case"render_context":n=a[i]}}}return function(){var t=e;return me(t.render_join,t,function(){for(var t,a=[],i=r,o=0;o<Ne(i);o++){var l=qr(i,o);t=void 0,me(a.append,a,me((t=e).render_node,t,l,n))}return a}())}()}))},get render_join(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"content_list":r=t[a]}}}return me("".join,"",function(){for(var e=[],n=r,t=0;t<Ne(n);t++){var a=qr(n,t);me(e.append,e,me(or,null,a))}return e}())}))},get render_join_blocks(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"content_list":r=t[a]}}}return function(){var n=e.html_blocks_joiner;return me(n.join,n,function(){for(var e=[],n=r,t=0;t<Ne(n);t++){var a=qr(n,t);ze(ze(null!==a)&&me(Ne,null,a))&&me(e.append,e,a)}return e}())}()}))},get render_value(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"value":r=t[a]}}}return function(){var n=e;return me(n.htmlescape,n,r)}()}))},get render_empty_error_placeholder(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"debug_str":r=t[a]}}}var i=function(){var e=r;return me(e.py_replace,e,"--","- - ")}();return'<span class="empty-error-placeholder">\x3c!-- {} --\x3e(?)</span>'.format(i)}))},get render_nothing(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"annotations":r=t[a]}}}if(ze(!ze(e.render_nothing_as_comment_with_annotations)))return"";if(ze(!ze(r)))r=[];r=function(){for(var e,n=[],t=r,a=0;a<Ne(t);a++){var i=qr(t,a);e=void 0,me(n.append,n,me((e=i).py_replace,e,"--","- - "))}return n}();return function(){var e="\x3c!-- {} --\x3e";return me(e.format,e,me(" ".join," ",r))}()}))},get render_verbatim(){return de(this,(function(e,r){var n=null;if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"value":r=a[i];break;case"annotations":var o=a[i];break;case"target_id":n=a[i]}}}var l=yr({});return ze(null!==n)&&Fr(l,"id",n),function(){var n,t=e;return me(t.wrap_in_tag,t,"span",me((n=e).htmlescape,n,r),we({class_names:ze(o)?o:["verbatim"],attrs:l}))}()}))},get render_math_content(){return de(this,(function(e,r,n,t,a,i,o){if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"delimiters":r=s[_];break;case"nodelist":n=s[_];break;case"render_context":t=s[_];break;case"displaytype":a=s[_];break;case"environmentname":i=s[_];break;case"target_id":o=s[_]}}}ze(!ze(e.use_mathjax))&&function(){var e=Yu;me(e.warning,e,"called HtmlFragmentRenderer.render_math_content() but self.use_mathjax is not set. Your math will probably not render correctly.")}();var u=["{}-math".format(a)];ze(null!==i)&&function(){var e,r=u;me(r.append,r,"env-{}".format(me((e=i).py_replace,e,"*","-star")))}();var c=function(){var t,a=e;return me(a.htmlescape,a,Or(Or(qr(r,0),me((t=n).latex_verbatim,t)),qr(r,1)))}(),f=yr({});return ze(null!==o)&&Fr(f,"id",o),ze(Lr(a,"display"))?function(){var r=e;return me(r.wrap_in_tag,r,"span",c,we({class_names:u,attrs:f}))}():function(){var r=e;return me(r.wrap_in_tag,r,"span",c,we({class_names:u,attrs:f}))}()}))},get render_text_format(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"text_formats":r=i[o];break;case"nodelist":n=i[o];break;case"render_context":t=i[o]}}}var l=function(){var r=e;return me(r.render_nodelist,r,n,t,we({is_block_level:!1}))}();return function(){var n=e;return me(n.wrap_in_tag,n,"span",l,we({class_names:r}))}()}))},get render_semantic_block(){return de(this,(function(e,r,n){var t=null,a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var l in o)switch(l){case"self":e=o[l];break;case"content":r=o[l];break;case"role":n=o[l];break;case"annotations":t=o[l];break;case"target_id":a=o[l]}}}var s=yr({});return ze(null!==a)&&Fr(s,"id",a),ze(Le(n,ar(["section","main","article"])))?function(){var a=e;return me(a.wrap_in_tag,a,n,r,we({attrs:s,class_names:t}))}():function(){var a=e;return me(a.wrap_in_tag,a,"div",r,we({attrs:s,class_names:Or([n],ze(t)?t:[])}))}()}))},get render_enumeration(){return de(this,(function(e,r,n,t){var a=null,i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"iter_items_nodelists":r=l[s];break;case"counter_formatter":n=l[s];break;case"render_context":t=l[s];break;case"target_id_generator":a=l[s];break;case"annotations":i=l[s];break;case"nested_depth":l[s]}}}for(var _=[],u=me(rr,null,r),c=0;c<Ne(u);c++){var f=qr(u,c),d=f[0],p=f[1],h=!0;if(ze(!1===p.parsing_state.is_block_level))h=!1;var g=function(){var r=e;return me(r.render_nodelist,r,p,we({render_context:t,is_block_level:h}))}(),v=Or(1,d),m=me(n,null,v);if(ze(me(Ae,null,m,or)))var w=function(){var r=e;return me(r.render_value,r,m)}();else w=function(){var r=e;return me(r.render_nodelist,r,m,we({render_context:t,is_block_level:!1}))}();var y=yr({});ze(null!==a)&&Fr(y,"id",me(a,null,v)),function(){var r,n,t=_;me(t.append,t,me((n=e).render_join,n,[(r=e,me(r.wrap_in_tag,r,"dt",w,we({attrs:y}))),function(){var r=e;return me(r.wrap_in_tag,r,"dd",g)}()]))}()}return function(){var r,n=e;return me(n.wrap_in_tag,n,"dl",me((r=e).render_join,r,_),we({class_names:Or(["enumeration"],ze(i)?i:[])}))}()}))},get render_heading(){return de(this,(function(e,r,n){var t=1,a=null,i=!1,o=null;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var s=arguments[l--];for(var _ in s)switch(_){case"self":e=s[_];break;case"heading_nodelist":r=s[_];break;case"render_context":n=s[_];break;case"heading_level":t=s[_];break;case"target_id":a=s[_];break;case"inline_heading":i=s[_];break;case"annotations":o=s[_]}}}if(ze(!Le(t,e.heading_tags_by_level))){var u=me($r,null,"Bad heading_level={}, expected one of {}".format(t,me(tr,null,function(){var r=e.heading_tags_by_level;return me(r.py_keys,r)}())));throw u.__cause__=null,u}var c=ze(o)?me(tr,null,o):[];!function(){var e=c;me(e.append,e,"heading-level-{}".format(t))}(),ze(i)&&function(){var e=c;me(e.append,e,"heading-inline")}();var f=yr({});ze(null!==a)&&Fr(f,"id",a);var d=function(){var a,i=e;return me(i.wrap_in_tag,i,qr(e.heading_tags_by_level,t),me((a=e).render_inline_content,a,r,n),we({class_names:c,attrs:f}))}();if(ze(ze(i)&&e.inline_heading_add_space))d=me(Rr,null,d," ");return d}))},get render_link(){return de(this,(function(e,r,n,t,a,i){if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"ref_type":r=l[s];break;case"href":n=l[s];break;case"display_nodelist":t=l[s];break;case"render_context":a=l[s];break;case"annotations":i=l[s]}}}var _=function(){var r=e;return me(r.render_nodelist,r,t,we({render_context:a,is_block_level:!1}))}();return function(){var t=e;return me(t.wrap_in_link,t,_,n,we({class_names:Or(["href-{}".format(r)],ze(i)?i:[])}))}()}))},get render_delayed_marker(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":r=i[o];break;case"delayed_key":n=i[o];break;case"render_context":t=i[o]}}}return"<LLM:DLYD:{}/>".format(n)}))},get render_delayed_dummy_placeholder(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":r=i[o];break;case"delayed_key":n=i[o];break;case"render_context":t=i[o]}}}return"\x3c!-- delayed:{} --\x3e".format(n)}))},get replace_delayed_markers_with_final_values(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"content":r=a[i];break;case"delayed_values":n=a[i]}}}return function(){var e=Ku;return me(e.sub,e,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var t=arguments[r--];for(var a in t)if("m"===a)e=t[a]}}return qr(n,me(Me,null,me((i=e).group,i,"key")));var i}),r)}()}))},get render_float(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_instance":r=a[i];break;case"render_context":n=a[i]}}}var o=yr({});ze(null!==r.target_id)&&Fr(o,"id",r.target_id);var l=[];ze(null!==r.number)?function(){var t,a,i,o=l;me(o.append,o,me((i=e).wrap_in_tag,i,"span",me((a=e).render_join,a,[(t=e,me(t.render_value,t,r.float_type_info.float_caption_name)),"&nbsp;",function(){var t=e;return me(t.render_nodelist,t,r.formatted_counter_value_llm.nodes,we({render_context:n}))}()]),we({class_names:["float-number"]})))}():ze(r.caption_nodelist)&&function(){var n,t,a,i=l;me(i.append,i,me((a=e).wrap_in_tag,a,"span",me((t=e).render_join,t,[(n=e,me(n.render_value,n,r.float_type_info.float_caption_name))]),we({class_names:["float-no-number"]})))}(),ze(r.caption_nodelist)&&(function(){var e=l;me(e.append,e,": ")}(),function(){var t,a=l;me(a.append,a,me((t=e).render_nodelist,t,r.caption_nodelist,we({render_context:n})))}());var s=null;if(ze(l))s=function(){var r,n,t=e;return me(t.wrap_in_tag,t,"figcaption",me((n=e).wrap_in_tag,n,"span",me((r=e).render_join,r,l)),we({class_names:["float-caption-content"]}))}();var _=function(){var t=e;return me(t.render_nodelist,t,r.content_nodelist,we({render_context:n,is_block_level:!0}))}(),u=function(){var r=e;return me(r.render_semantic_block,r,_,"float-contents")}();if(ze(null!==s))var c=function(){var r=e;return me(r.render_join_blocks,r,[u,s])}();else c=u;var f=function(){var n=e;return me(n.wrap_in_tag,n,"figure",c,we({attrs:o,class_names:["float","float-{}".format(r.float_type)]}))}();return f}))},graphics_raster_magnification:1,graphics_vector_magnification:1,get render_graphics_block(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"graphics_resource":r=t[a]}}}var i=yr({}),o=[];if(ze(null!==r.physical_dimensions)){var l=r.physical_dimensions,s=l[0],_=l[1];if(ze(Lr(r.graphics_type,"raster"))){if(ze(null!==s))s=me(Ir,null,s,e.graphics_raster_magnification);if(ze(null!==_))_=me(Ir,null,_,e.graphics_raster_magnification)}else if(ze(Lr(r.graphics_type,"vector"))){if(ze(null!==s))s=me(Ir,null,s,e.graphics_vector_magnification);if(ze(null!==_))_=me(Ir,null,_,e.graphics_vector_magnification)}ze(null!==s)&&function(){var e=o;me(e.append,e,"width:{}pt".format(s))}(),ze(null!==_)&&function(){var e=o;me(e.append,e,"height:{}pt".format(_))}()}ze(o)&&Fr(i,"style",me(";".join,";",o));var u=r.src_url;return Fr(i,"src",u),ze(ze(null!==r.srcset)&&me(Ne,null,r.srcset))&&Fr(i,"srcset",r.srcset),function(){var r=e;return me(r.generate_open_tag,r,"img",we({attrs:i}))}()}))},get render_cells(){return de(this,(function(e,r,n,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cells_model":r=i[o];break;case"render_context":n=i[o];break;case"target_id":t=i[o]}}}for(var l=[],s=0;ze(Nr(s,me(Ne,null,r.grid_data)));){for(var _=[],u=0;ze(Nr(u,me(Ne,null,qr(r.grid_data,s))));){var c=qr(qr(r.grid_data,s),u);if(ze(ze(null===c)||null===qr(c,"cell"))){!function(){var r,n=_;me(n.append,n,me((r=e).wrap_in_tag,r,"td","",we({class_names:["cell-empty"]})))}();u=me(Rr,null,u,1)}else if(ze(qr(c,"is_topleft"))){var f=qr(c,"cell"),d=function(){var r=e;return me(r.render_nodelist,r,f.content_nodes,we({render_context:n}))}(),p=Or(["cell"],function(){for(var e=[],r=f.styles,n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,"cellstyle-{}".format(t))}return e}()),h="td";if(ze(ze(Le("H",f.styles))||Le("rH",f.styles)))h="th";var g=yr({}),v=f.placement;ze(jr(v.col_range.end,Or(v.col_range.start,1)))&&Fr(g,"colspan",me(or,null,Sr(v.col_range.end,v.col_range.start))),ze(jr(v.row_range.end,Or(v.row_range.start,1)))&&Fr(g,"rowspan",me(or,null,Sr(v.row_range.end,v.row_range.start))),function(){var r,n=_;me(n.append,n,me((r=e).wrap_in_tag,r,h,d,we({attrs:g,class_names:p})))}();u=v.col_range.end}else u=me(Rr,null,u,1)}!function(){var e=l;me(e.append,e,_)}();s=me(Rr,null,s,1)}var m=yr({});ze(null!==t)&&Fr(m,"id",t);var w=function(){var r=e;return me(r.wrap_in_tag,r,"table",me("".join,"",function(){for(var e=[],r=l,n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,Or(Or("<tr>",me("".join,"",t)),"</tr>"))}return e}()),we({attrs:m,class_names:["cells"]}))}();return w}))},get get_html_css_global(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return Ju}))},get get_html_css_content(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ec}))},get get_html_js(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(e.use_mathjax)?rc:""}))},get get_html_body_end_js_scripts(){return de(this,(function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var t in n)if("self"===t)e=n[t]}}return ze(e.use_mathjax)?nc:""}))}}),Ku=me($u.compile,$u,"<LLM:DLYD:(?P<key>\\d+)\\s*/>"),Ju="\np, ul, ol {\n  margin: 1em 0px;\n}\np:first-child, ul:first-child, ol:first-child {\n  margin-top: 0px;\n}\np:last-child, ul:last-child, ol:last-child {\n  margin-bottom: 0px;\n}\ndd > p, dd > p:first-child, dd > p:last-child {\n  margin: 0.33em 0px;\n}\n\na, a:link, a:hover, a:active, a:visited {\n  color: #3232c8;\n  text-decoration: none;\n}\na:hover {\n  color: #22228a;\n}\n",ec="\n.emph, .textit {\n  font-style: italic;\n}\n.textbf {\n  font-weight: bold;\n}\n\nh1 {\n  font-size: 1.6rem;\n  line-height: 1.3em;\n  font-weight: bold;\n  margin: 1em 0px;\n}\nh2 {\n  font-size: 1.3rem;\n  line-height: 1.3em;\n  font-weight: bold;\n  margin: 1em 0px;\n}\nh3 {\n  font-size: 1rem;\n  font-weight: bold;\n  margin: 1em 0px;\n}\n\n.heading-level-4 {\n  font-style: italic;\n  display: inline;\n}\n.heading-level-4::after {\n  display: inline-block;\n  margin: 0px .12em;\n  content: '';\n}\n\n.heading-level-5 {\n  font-style: italic;\n  font-size: .9em;\n  display: inline;\n}\n.heading-level-5::after {\n  display: inline-block;\n  margin-right: .12em;\n  content: '';\n}\n\n.heading-level-6 {\n  font-style: italic;\n  font-size: .8em;\n  display: inline;\n}\n.heading-level-6::after {\n  display: inline-block;\n  margin-right: .06em;\n  content: '';\n}\n\ndl.enumeration {\n  display: block;\n  margin-left: 2.5em;\n}\ndl.enumeration > dt {\n  float: left;\n  clear: left;\n  display: inline-block;\n  /*margin: 0px; */\n  margin-left: -2.5em;\n  width: 2.0em;\n  min-width: 2.0em;\n  max-width: 2.0em;\n  margin-right: 0.5em;\n  text-align: right;\n}\ndl.enumeration > dd {\n  /*display: inline-block;\n  width: 100%;*/\n  border: 0px;\n  padding: 0px;\n  margin: 0px;\n}\n\nfigure.float {\n  width: 100%;\n  border-width: 1px 0px 1px 0px;\n  border-style: solid none solid none;\n  border-color: rgba(120, 120, 140, 0.15);\n  margin: 0.5rem 0px;\n  padding: 0.5rem 0px;\n}\n\nfigure.float .float-contents {\n  width: 100%;\n  max-width: 100%;\n  overflow-x: auto;\n}\n\nfigure.float .float-contents img {\n  display: block;\n  margin: 0pt auto;\n  padding: 0pt;\n  border: 0pt;\n  margin: 0px auto;\n}\n\nfigure.float figcaption {\n  display: block;\n  margin-top: 0.5em;\n  margin: 0.75em 2em 0px;\n  text-align: center;\n}\n\nfigure.float figcaption > span {\n  display: inline-block;\n  font-style: italic;\n  text-align: left;\n}\n\ntable {\n  margin: 1em 0px 1em 0px;\n  border-collapse: collapse;\n  border-top: solid 1pt;\n  border-bottom: solid 1pt;\n}\nfigure.float .float-contents table {\n  margin: 0px auto;\n}\ntd {\n  padding: 0.3em 0.5em;\n}\nth {\n  padding: 0.3em 0.5em;\n}\nth.cellstyle-H {\n  border-bottom: solid .5pt;\n}\nth.cellstyle-rH {\n}\n.cellstyle-l {\n  text-align: left;\n}\n.cellstyle-c {\n  text-align: center;\n}\n.cellstyle-r {\n  text-align: right;\n}\n.cellstyle-green {\n  background-color: rgb(200,255,200);\n}\n.cellstyle-blue {\n  background-color: rgb(200,220,255);\n}\n.cellstyle-yellow {\n  background-color: rgb(255,255,200);\n}\n.cellstyle-red {\n  background-color: rgb(255,200,200);\n}\n.cellstyle-lvert {\n  border-left: solid .5pt;\n}\n.cellstyle-rvert {\n  border-right: solid .5pt;\n}\n\n.defterm {\n  font-style: italic;\n}\n\n.defterm .defterm-term {\n  font-style: italic;\n  font-weight: bold;\n}\n\n.display-math {\n  width: 100%;\n  max-width: 100%;\n  display: block;\n  overflow-x: auto;\n}\n\n.citation {\n  font-size: 0.8em;\n  display: inline-block;\n  vertical-align: 0.3em;\n  margin-top: -0.3em;\n}\n.footnote {\n  font-size: 0.8em;\n  display: inline-block;\n  vertical-align: 0.3em;\n  margin-top: -0.3em;\n}\ndl.citation-list > dt, dl.footnote-list > dt {\n  font-size: 0.8em;\n  display: inline-block;\n  vertical-align: 0.3em;\n  margin-top: -0.3em;\n}\n",rc="\nMathJax = {\n    tex: {\n        inlineMath: [['\\\\(', '\\\\)']],\n        displayMath: [['\\\\[', '\\\\]']],\n        processEnvironments: true,\n        processRefs: true,\n\n        // equation numbering on\n        tags: 'ams'\n    },\n    options: {\n        // all MathJax content is marked with CSS classes\n        // skipHtmlTags: 'body',\n        // processHtmlClass: 'display-math|inline-math',\n    },\n    startup: {\n        pageReady: function() {\n            // override the default \"typeset everything on the page\" behavior to\n            // only typeset whatever we have explicitly marked as math\n            return typesetPageMathPromise();\n        }\n    }\n};\nfunction typesetPageMathPromise()\n{\n    var elements = document.querySelectorAll('.display-math, .inline-math');\n    return MathJax.typesetPromise(elements);\n}\n",nc='\n<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"><\/script>\n<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>\n',tc=ve("TextFragmentRenderer",[Su],{__module__:"llm.fragmentrenderer.text",display_href_urls:!0,float_separator_top:xr("",80),float_separator_bottom:xr("",80),get render_value(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"value":r=t[a]}}}return r}))},get render_delayed_marker(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":r=i[o];break;case"delayed_key":n=i[o];break;case"render_context":t=i[o]}}}return""}))},get render_delayed_dummy_placeholder(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":r=i[o];break;case"delayed_key":n=i[o];break;case"render_context":t=i[o]}}}return"#DELAYED#"}))},get render_nothing(){return de(this,(function(e,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"annotations":r=t[a]}}}return""}))},get render_empty_error_placeholder(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"debug_str":r=t[a]}}}return""}))},get render_text_format(){return de(this,(function(e,r,n,t){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"text_formats":r=i[o];break;case"nodelist":n=i[o];break;case"render_context":t=i[o]}}}var l=function(){var r=e;return me(r.render_nodelist,r,n,t,we({is_block_level:!1}))}();return l}))},get render_enumeration(){return de(this,(function(e,r,n,t){var a=null,i=0;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"iter_items_nodelists":r=l[s];break;case"counter_formatter":n=l[s];break;case"render_context":t=l[s];break;case"target_id_generator":l[s];break;case"annotations":a=l[s];break;case"nested_depth":i=l[s]}}}for(var _=[],u=me(rr,null,r),c=0;c<Ne(u);c++){var f=qr(u,c),d=f[0],p=f[1],h=function(){var r=e;return me(r.render_nodelist,r,p,we({render_context:t,is_block_level:!0}))}(),g=me(n,null,Or(1,d));if(ze(null===g))var v="?";else if(ze(me(Ae,null,g,or)))v=function(){var r=e;return me(r.render_value,r,g)}();else v=function(){var r=e;return me(r.render_nodelist,r,g,we({render_context:t,is_block_level:!1}))}();if(ze(Tr(i,0)))v=Or(xr(" ",xr(4,i)),v);!function(){var e=_;me(e.append,e,ar([v,h]))}()}if(ze(!ze(_)))return function(){var r=e;return me(r.render_semantic_block,r,"","enumeration",we({annotations:a}))}();var m=me(Ge,null,function(){for(var e=[],r=_,n=0;n<Ne(r);n++){var t=qr(r,n),a=t[0];t[1];me(e.append,e,me(Ne,null,a))}return e}());return function(){var r=e;return me(r.render_join_blocks,r,function(){for(var r,n,t,i,o=[],l=_,s=0;s<Ne(l);s++){var u=qr(l,s),c=u[0],f=u[1];r=void 0,n=void 0,t=void 0,i=void 0,me(o.append,o,me((i=e).render_semantic_block,i,me((t=e).render_join,t,[(n=e,me(n.render_value,n,Or(me((r=c).rjust,r,Or(m,2)," ")," "))),f]),"enumeration",we({annotations:a})))}return o}())}()}))},get render_heading(){return de(this,(function(e,r,n){var t=1;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"heading_nodelist":r=i[o];break;case"render_context":n=i[o];break;case"heading_level":t=i[o];break;case"target_id":i[o];break;case"inline_heading":i[o];break;case"annotations":i[o]}}}var l=function(){var t=e;return me(t.render_inline_content,t,r,n)}(),s=function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"x":e=t[a];break;case"c":r=t[a]}}}e=me(or,null,e);return ze(Le(Ur(function(){var r=e;return me(r.rstrip,r)}(),br(1),null,1),".,:;?!"))?e:Or(e,r)};if(ze(Lr(t,1)))return"{}\n{}".format(l,xr("=",me(Ne,null,l)));if(ze(Lr(t,2)))return"{}\n{}".format(l,xr("-",me(Ne,null,l)));if(ze(Lr(t,3)))return"{}\n{}".format(l,xr("~",me(Ne,null,l)));if(ze(Lr(t,4)))return"{}  ".format(me(s,null,l,":"));if(ze(Lr(t,5)))return"    {}  ".format(me(s,null,l,":"));if(ze(Lr(t,6)))return"        {}  ".format(me(s,null,l,":"));var _=me($r,null,"Bad heading_level={}, expected 1..6".format(t));throw _.__cause__=null,_}))},get render_verbatim(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"value":r=t[a];break;case"annotations":t[a];break;case"target_id":t[a]}}}return r}))},get render_link(){return de(this,(function(e,r,n,t,a,i){if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var l=arguments[o--];for(var s in l)switch(s){case"self":e=l[s];break;case"ref_type":r=l[s];break;case"href":n=l[s];break;case"display_nodelist":t=l[s];break;case"render_context":a=l[s];break;case"annotations":i=l[s]}}}var _=function(){var r=e;return me(r.render_nodelist,r,t,we({render_context:a,is_block_level:!1}))}();return ze(ze(e.display_href_urls)&&!ze(function(){var e=n;return me(e.startswith,e,"#")}()))?"{} <{}>".format(_,n):_}))},get render_float(){return de(this,(function(e,r,n){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var a=arguments[t--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_instance":r=a[i];break;case"render_context":n=a[i]}}}var o=[];ze(null!==r.number)?function(){var t,a,i=o;me(i.append,i,me((a=e).render_join,a,[r.float_type_info.float_caption_name,"",(t=e,me(t.render_nodelist,t,r.formatted_counter_value_llm.nodes,we({render_context:n})))]))}():ze(r.caption_nodelist)&&function(){var e=o;me(e.append,e,r.float_type_info.float_caption_name)}(),ze(r.caption_nodelist)&&(function(){var e=o;me(e.append,e,": ")}(),function(){var t,a=o;me(a.append,a,me((t=e).render_nodelist,t,r.caption_nodelist,we({render_context:n})))}());var l=null;if(ze(o))l=function(){var r=e;return me(r.render_join,r,o)}();var s=function(){var t=e;return me(t.render_nodelist,t,r.content_nodelist,we({render_context:n,is_block_level:!0}))}();if(ze(null!==l))var _=function(){var r=e;return me(r.render_join_blocks,r,[s,l])}();else _=s;return Or(Or(Or(Or(e.float_separator_top,"\n"),_),"\n"),e.float_separator_bottom)}))},get render_graphics_block(){return de(this,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var t=arguments[n--];for(var a in t)switch(a){case"self":e=t[a];break;case"graphics_resource":r=t[a]}}}return"{}".format(Or(Or("[",r.src_url),"]"))}))},cells_column_sep:"   ",get render_cells(){return de(this,(function(e,r,n,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cells_model":r=i[o];break;case"render_context":n=i[o];break;case"target_id":t=i[o]}}}for(var l=[],s=r.cells_data,_=0;_<Ne(s);_++){var u=qr(s,_),c=function(){var r=e;return me(r.render_nodelist,r,u.content_nodes,we({render_context:n}))}(),f=function(){var e=c;return me(e.py_split,e,"\n")}(),d=!1;if(ze(Le("H",u.styles)))d=!0;!function(){var e=l;me(e.append,e,yr({cell:u,rendered_contents_lines:f,width:me(Ge,null,function(){for(var e=[],r=f,n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,me(Ne,null,t))}return e}()),is_header:d}))}()}var p=[];for(s=l,_=0;_<Ne(s);_++){var h=qr(s,_);!function(){var e=p;me(e.append,e,me("\n".join,"\n",function(){for(var e=[],r=qr(h,"rendered_contents_lines"),n=0;n<Ne(r);n++){var t=qr(r,n);me(e.append,e,"    {}".format(t))}return e}()))}()}return me("\n".join,"\n",p)}))}});var ac=ve("ZooHtmlFragmentRenderer",[Zu],{inline_heading_add_space:!1,html_blocks_joiner:"",get use_link_target_blank(){return de(this,(function(e,r){return!function(e){return e.startsWith("#")||e.startsWith("/")&&!e.startsWith("//")||e.startsWith("javascript:")}(r)}))}}),ic=ve("ZooTextFragmentRenderer",[tc],{display_href_urls:!1,float_separator_top:"[figure]",float_separator_bottom:""});function oc(e){var r=new ic;return e.render_standalone(r)}function lc(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function sc(){var e=lc(['\n  <div class="llm-html-error">\n    <b> LLM ERROR </b>\n    <pre>',"</pre>\n  </div>"]);return sc=function(){return e},e}var _c=n(m)("zoodb.zoollm._renderutils");function uc(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)return"";var t=Object.assign({list_joiner:"\n",list_item_wrapper:function(e){return e}},n),a=t.list_joiner,i=t.list_item_wrapper;if("string"==typeof e)return r.fragment_renderer.render_verbatim(e);if("number"==typeof e)return r.fragment_renderer.render_verbatim(Number(e).toString());if(e&&e.length)return e.map((function(e){return i(uc(e,r,n))})).join(a);if(e&&"render"in e)return e.render(r);throw _c("Cannot render %O",e),new Error("No idea how to render x = ".concat(e))}function cc(e){return null!=e&&(""!==e&&("is_empty"in e&&!e.is_empty()||void 0!==e.length&&e.length>0))}function fc(e){var r=e.render_context,n=e.render_value_options;if(null==r)throw new Error("render_context is not defined");n=Object.assign({list_joiner:"",list_item_wrapper:function(e){return'<span class="paragraph-in-list">'.concat(e,"</span>")}},null!=n?n:{});return{ne:cc,rdr:function(e){return uc(e,r,n)},rdrblock:function(e){return e.render(r,sn({is_block_level:!0}))},ref:function(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).display_llm,a=r.feature_render_manager("refs");return a.render_ref(e,n,null!=t?t:null,null,r)}}}function dc(e){var r=e.zoo_llm_environment,n=e.render_doc_fn,t=e.doc_metadata,a=e.render_endnotes,i=e.fragment_renderer,o=e.llm_error_policy,l=e.feature_document_options,s=e.feature_render_options;null!=o||(o="abort"),null!=i||(i=new ac);var _={};null!=t&&(_.metadata=t),null!=l&&(_.feature_document_options=l);var u=r.make_document(n,sn(_));try{var c=d(u.render(i,s),2),f=c[0],p=c[1];if(a){var h={endnotes_heading_title:"References",endnotes_heading_level:2};"object"==typeof a&&Object.assign(h,a);var g=p.feature_render_manager("endnotes").render_endnotes(sn(h));f=f.replace("<RENDER_ENDNOTES/>",g)}return f}catch(e){var v="<??>";try{v=e&&null!=e.__class__?Fe(e):""+e}catch(e){}if(console.error("\n LLM RENDERING ERROR \n\n"+v,e),"abort"===o)throw _c("LLM Error & policy is 'abort', aborting compilation"),e;if("continue"==o)return _c("Continuing despite LLM Error (llm_error_policy is 'continue')"),sqzhtml(sc(),v);throw new Error("Invalid llm_error_policy: ".concat(o,", ")+"expected 'abort' or 'continue'")}}n(m)("zoodb.zoollm");var pc,hc,gc,vc=n(m)("zoodb.dbprocessor.llmcontent");function mc(e){var r=e._llm;if(!r)return{enabled:!1,standalone:!1};if("full"===r||!0===r)return{enabled:!0,standalone:!1};if("standalone"===r)return{enabled:!0,standalone:!0};var n=r.enabled,t=r.standalone;return{enabled:null!=n&&n,standalone:null!=t&&t}}var wc,yc=function(e){"use strict";B(n,e);var r=Y(n);function n(e){var t,a,i;if(T(this,n),(t=r.call(this)).config=Object.assign({},e),!t.config.llm_environment)throw new Error("You need to specify the config field llm_environment for LLMContentCompiler!");return null!==(a=(hc=t.config).content_scanner)&&void 0!==a||(hc.content_scanner=null),null!==(i=(gc=t.config).llm_error_policy)&&void 0!==i||(gc.llm_error_policy="abort"),t}return I(n,[{key:"initialize_zoo",value:function(){var e;null!==(e=(pc=this.config).object_types)&&void 0!==e||(pc.object_types=this.zoodb.object_types)}},{key:"process_zoo",value:function(){if(null==this.zoodb)throw new Error("No zoodb set!");var e=!0,r=!1,n=void 0;try{for(var t,a=this.config.object_types[Symbol.iterator]();!(e=(t=a.next()).done);e=!0){var i=t.value,o=this.zoodb.schema(i),l=!0,s=!1,_=void 0;try{for(var u,c=Object.entries(this.zoodb.objects[i])[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var f=d(u.value,2),p=f[0],h=f[1];this.compile_object(i,p,h,o)}}catch(e){s=!0,_=e}finally{try{l||null==c.return||c.return()}finally{if(s)throw _}}}}catch(e){r=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"prepare_zoo_update_objects",value:function(e){var r=!0,n=!1,t=void 0,a=!0,i=!1,o=void 0;try{for(var l,s=Object.entries(e)[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var _=d(l.value,2),u=_[0],c=_[1];try{for(var f,p=Object.entries(c)[Symbol.iterator]();!(r=(f=p.next()).done);r=!0){var h=d(f.value,2),g=h[0];h[1];this.config.content_scanner.unregister_all_from_object(u,g)}}catch(e){n=!0,t=e}finally{try{r||null==p.return||p.return()}finally{if(n)throw t}}}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"compile_llm",value:function(e,r){var n,t=r.llm_options,a=r.fieldschema,i=r.object_schema,o=r.object_type,l=r.object,s=r.fieldname;if(uu(e))return e;if(null==t){if(null==a){var _=_e(i),u=!0,c=!1,f=void 0;try{for(var d,p=_[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;if(h.fieldname===s){a=h.fieldschema;break}}}catch(e){c=!0,f=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw f}}if(null==a)throw new Error("Couldn't find field schema for ".concat(s," in object_schema"))}t=mc(a)}var g=null==l?void 0:l._zoodb.id,v=null==l||null===(n=l._zoodb)||void 0===n?void 0:n.source_file_path,m=new fn(o,g,v),w=m.toString()+" .".concat(s);null!=e||(e="");var y=null;try{var k;y=this.config.llm_environment.make_fragment(e,sn({standalone_mode:null!==(k=t.standalone)&&void 0!==k&&k,resource_info:m,what:w}))}catch(e){var b=void 0!==e.msg?e.msg+"\n"+e.stack:e;if(console.error("Error while compiling LLM content for ".concat(m," ")+" field ".concat(s,": "),b),"abort"==this.config.llm_error_policy)throw vc("LLM Error & policy is 'abort', aborting compilation"),e;if("continue"!=this.config.llm_error_policy)throw new Error("Invalid llm_error_policy: ".concat(this.config.llm_error_policy,", ")+"expected 'abort' or 'continue'");vc("Continuing despite LLM Error (llm_error_policy is 'continue')"),y=this.config.llm_environment.make_fragment("\\textbf{LLM ERROR "+"(\\begin{verbatimtext}".concat(w," (").concat(s,")\\end{verbatimtext}):} ")+"\\begin{verbatimtext}".concat(b,"\\end{verbatimtext}"),sn({standalone_mode:!0,resource_info:m,what:"ERROR-MESSAGE:".concat(w)}))}return null!=this.config.content_scanner&&this.config.content_scanner.scan_fragment(y),y}},{key:"_iter_llm_fields",value:function(e,r){var n,t,a,i,o,l,s,_,u,c,f,d,h;return p(this,(function(p){switch(p.label){case 0:n=!0,t=!1,a=void 0,p.label=1;case 1:p.trys.push([1,6,7,8]),i=se(e,r,{provide_parent:!0})[Symbol.iterator](),p.label=2;case 2:return(n=(o=i.next()).done)?[3,5]:(l=o.value,s=l.fieldname,_=l.fieldvalue,u=l.fieldschema,c=l.parent,f=l.parent_index,(d=mc(u)).enabled?[4,{fieldname:s,fieldvalue:_,fieldschema:u,parent:c,parent_index:f,llm_options:d}]:[3,4]);case 3:p.sent(),p.label=4;case 4:return n=!0,[3,2];case 5:return[3,8];case 6:return h=p.sent(),t=!0,a=h,[3,8];case 7:try{n||null==i.return||i.return()}finally{if(t)throw a}return[7];case 8:return[2]}}))}},{key:"compile_object",value:function(e,r,n,t){vc("Compiling LLM content - ".concat(e," ").concat(r,"")),n._zoodb.llm_fields=[];var a=!0,i=!1,o=void 0;try{for(var l,s=this._iter_llm_fields(n,t)[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var _=l.value,u=_.fieldname,c=_.fieldvalue,f=(_.fieldschema,_.parent),d=_.parent_index,p=_.llm_options;n._zoodb.llm_fields.push(u),f[d]=this.compile_llm(c,{object_type:e,llm_options:p,object:n,fieldname:u})}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"prepare_data_dump",value:function(e,r){if(r.llm_keep_fragment_instances)return e;throw new Error("Operation not supported!")}}]),n}(ne),kc=n(m)("eczoo_jscomponents.codegraph");function bc(e,r){if(-1===e.indexOf("[TREEDIRECTION]"))return function(r){return r.connectedEdges(e)};var n;if("children"===r)n="target","source";else{if("parents"!==r)throw new Error("treeDirection must be 'children' or 'parents'");n="source","target"}return function(r){var t=r.cy().collection();return r.forEach((function(r){if(r.isNode()){var a=e.replace("[TREEDIRECTION]","[".concat(n,'="').concat(r.id(),'"]')),i=r.connectedEdges(a);t.merge(i)}})),t}}n(A).use(n(q));var xc=function(){"use strict";function e(r){var t=r.eczoodb,a=r.graphOptions,i=r.displayOptions;T(this,e),kc("EczCodeGraph constructor"),this.getNodeIdCode=e.getNodeIdCode,this.getNodeIdDomain=e.getNodeIdDomain,this.eczoodb=t,this.graphOptions=n(R).merge({graphRootNodesPrelayoutHints:{},isolationRelationSelector:{primary:"[TREEDIRECTION][_primaryParent=1]",secondary:'[TREEDIRECTION], [_relType="cousin"]'},rootPositioning:{rootAbstractCodesXSpacing:180,rootAbstractCodesYPosition:100,domainNodesXSpacing:180,domainNodesYPosition:0}},null!=a?a:{}),this.displayOptions=n(R).merge({displayMode:"all",modeIsolateNodesOptions:{nodeIds:null,redoLayout:!1,range:{parents:{primary:5,secondary:1},children:{primary:2,secondary:1}}},domainColoring:!0,cousinEdgesShown:!1,secondaryParentEdgesShown:!1,lowDegreeNodesDimmed:{enabled:!1,degree:8,dimLeaf:!1}},null!=i?i:{}),this._initialLayoutInvalidated=!0}return I(e,[{key:"initialize",value:function(){var e=this;return l((function(){return p(this,(function(r){switch(r.label){case 0:return kc("EczCodeGraph initialize()"),[4,e.initGraph()];case 1:return r.sent(),kc("EczCodeGraph initialize() done"),[2]}}))}))()}},{key:"initGraph",value:function(e){var r=this;return l((function(){var e,t,a,i,o,l,s,_,u,c,f,h,g,v,m,w,y,k,b,x,P,O,S,E,C,L,j,N,z,T,M,I,R,D,q,F,U,B,G,W,V,H,$,Q,Y,X,Z,K,J,ee,re,ne,te,ae,ie,oe,le,se,_e,ue,ce,fe,de,pe,he,ge,ve,me,we,ye,ke,be,xe,Pe,Oe,Se,Ee,Ce,Le,je,Ne,ze,Te;return p(this,(function(p){kc("EczCodeGraph: initGraph() ..."),e=[],t=[],a=0,i={},o=!0,l=!1,s=void 0;try{for(_=Object.entries(r.eczoodb.objects.domain)[Symbol.iterator]();!(o=(u=_.next()).done);o=!0)c=d(u.value,2),f=c[0],h=c[1],g=r.getNodeIdDomain(f),uu(v=h.name)&&(v=oc(h.name)),e.push({data:{id:g,label:v,_isDomain:1,_domainId:f,_domainColorIndex:a}}),i[f]=a,a=(a+1)%Sc}catch(e){l=!0,s=e}finally{try{o||null==_.return||_.return()}finally{if(l)throw s}}m=!0,w=!1,y=void 0;try{for(k=Object.entries(r.eczoodb.objects.code)[Symbol.iterator]();!(m=(b=k.next()).done);m=!0){if(x=d(b.value,2),P=x[0],O=x[1],S=r.eczoodb.code_short_name(O),E=S,uu(S)&&(E=oc(S)),E=E.replace(/\\\(|\\\)/g,""),C=r.getNodeIdCode(P),L={id:C,label:E,_codeId:P,_isCode:1},e.push({data:L}),(j=O.relations.defines_kingdom)&&j.length)N=j[0].kingdom,z=N.kingdom_id,T=N.parent_domain,M=T.domain_id,I=r.getNodeIdDomain(M),uu(R=N.name)&&(R=oc(R)),Object.assign(L,{_isKingdom:1,_kingdomId:z,_kingdomName:R,_parentDomainId:M,_domainColorIndex:i[M]}),t.push({data:{_relType:"parent",_primaryParent:1,source:C,target:I}});else{for(V=O;(null==(null===(D=V.relations)||void 0===D?void 0:D.defines_kingdom)||0==(null===(q=V.relations)||void 0===q||null===(F=q.defines_kingdom)||void 0===F?void 0:F.length))&&(null===(U=V.relations)||void 0===U||null===(B=U.parents)||void 0===B?void 0:B.length)>0;)V=V.relations.parents[0].code;null!=(null===(G=V.relations)||void 0===G?void 0:G.defines_kingdom)&&(null===(W=V.relations)||void 0===W?void 0:W.defines_kingdom.length)>0?(H=V.relations.defines_kingdom[0].kingdom,$=H.kingdom_id,Q=H.parent_domain.domain_id,Object.assign(L,{_hasParentKingdom:1,_parentKingdomId:$,_parentDomainId:Q,_domainColorIndex:i[Q]})):Object.assign(L,{_hasParentKingdom:0})}for(Y=0,X=["parent","cousin"];Y<X.length;Y++)if(Z=X[Y],null!=(K=O.relations[Z+"s"]))for(J=0;J<K.length;++J)ee=K[J],re={_relType:Z,source:C,target:r.getNodeIdCode(ee.code.code_id)},"parent"===Z&&(re._primaryParent=0==J&&null==j?1:0),t.push({data:re})}}catch(e){w=!0,y=e}finally{try{m||null==k.return||k.return()}finally{if(w)throw y}}(ne={}).elements={nodes:e,edges:t},ne.style=Ec,r.cy=n(A)(ne),te=r.graphOptions.rootPositioning,ae=te.rootAbstractCodesXSpacing,ie=te.rootAbstractCodesYPosition,oe=te.domainNodesXSpacing,le=te.domainNodesYPosition,se={},_e=Object.keys(r.eczoodb.objects.domain),ue=!0,ce=!1,fe=void 0;try{for(de=_e.entries()[Symbol.iterator]();!(ue=(pe=de.next()).done);ue=!0)he=d(pe.value,2),ge=he[0],ve=he[1],me=r.getNodeIdDomain(ve),se[me]={position:{x:(ge-(_e.length-1)/2)*ae,y:ie},radiusOffset:50,direction:Math.PI-Math.PI*(ge+.5)/_e.length,angularSpread:Math.PI/_e.length}}catch(e){ce=!0,fe=e}finally{try{ue||null==de.return||de.return()}finally{if(ce)throw fe}}we=r.getOverallRootNodeIds({includeDomains:!1}),ye=!0,ke=!1,be=void 0;try{for(xe=we.entries()[Symbol.iterator]();!(ye=(Pe=xe.next()).done);ye=!0)Oe=d(Pe.value,2),Se=Oe[0],Ee=Oe[1],se[Ee]={position:{x:(Se-(we.length-1)/2)*oe,y:le},radiusOffset:50,direction:Math.PI+Math.PI*(Se+.5)/we.length,angularSpread:Math.PI/we.length}}catch(e){ke=!0,be=e}finally{try{ye||null==xe.return||xe.return()}finally{if(ke)throw be}}r.graphOptions.graphRootNodesPrelayoutHints=se,Ce=!0,Le=!1,je=void 0;try{for(Ne=Object.keys(r.graphOptions.graphRootNodesPrelayoutHints)[Symbol.iterator]();!(Ce=(ze=Ne.next()).done);Ce=!0)Te=ze.value,r.cy.getElementById(Te).addClass("graphRoot")}catch(e){Le=!0,je=e}finally{try{Ce||null==Ne.return||Ne.return()}finally{if(Le)throw je}}return r.setDisplayMode(null),r.setDomainColoring(null),r.setCousinEdgesShown(null),r.setSecondaryParentEdgesShown(null),r.setLowDegreeNodesDimmed(null),[2]}))}))()}},{key:"mountInDom",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.style.backgroundColor="rgb(255, 236, 217)",this.cy.mount(e);var t,a=n(R).merge({},r);null!==(t=(wc=a).matchWebPageFonts)&&void 0!==t||(wc.matchWebPageFonts=!0);var i=Cc(a);this.cy.style().resetToDefault().fromJson(i).update()}},{key:"domainColoring",value:function(){return this.displayOptions.domainColoring}},{key:"setDomainColoring",value:function(e){if(null!=e){if((e=!!e)===this.displayOptions.domainColoring)return;this.displayOptions.domainColoring=e}this.displayOptions.domainColoring?this.cy.nodes().addClass("useDomainColors"):this.cy.nodes().removeClass("useDomainColors")}},{key:"cousinEdgesShown",value:function(){return this.displayOptions.cousinEdgesShown}},{key:"setCousinEdgesShown",value:function(e){if(null!=e){if((e=!!e)===this.displayOptions.cousinEdgesShown)return;this.displayOptions.cousinEdgesShown=e}var r=this.cy.edges('[_relType="cousin"]');this.displayOptions.cousinEdgesShown?r.removeClass("hidden"):r.addClass("hidden")}},{key:"secondaryParentEdgesShown",value:function(){return this.displayOptions.secondaryParentEdgesShown}},{key:"setSecondaryParentEdgesShown",value:function(e){if(null!=e){if((e=!!e)===this.displayOptions.secondaryParentEdgesShown)return;this.displayOptions.secondaryParentEdgesShown=e}var r=this.cy.edges("[_primaryParent=0]");this.displayOptions.secondaryParentEdgesShown?r.removeClass("hidden"):r.addClass("hidden")}},{key:"lowDegreeNodesDimmed",value:function(){return this.displayOptions.lowDegreeNodesDimmed}},{key:"setLowDegreeNodesDimmed",value:function(e){if(null!=e){if(n(R).isEqual(this.displayOptions.lowDegreeNodesDimmed,e))return;this.displayOptions.lowDegreeNodesDimmed=e}var r=this.displayOptions.lowDegreeNodesDimmed,t=r.enabled,a=r.degree,i=r.dimLeaf;if(this.cy.elements().removeClass("lowDegreeDimmed"),t){null!=a||(a=8),null!=i||(i=!0);var o="[[degree < ".concat(a,"]]");i||(o+="[[indegree >= 1]]"),this.cy.nodes(o).addClass("lowDegreeDimmed"),this.cy.edges((function(e){return e.source().is(".lowDegreeDimmed")||e.target().is(".lowDegreeDimmed")})).addClass("lowDegreeDimmed")}}},{key:"displayMode",value:function(){return this.displayOptions.displayMode}},{key:"modeIsolateNodesOptions",value:function(){return this.displayOptions.modeIsolateNodesOptions}},{key:"setDisplayMode",value:function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).modeIsolateNodesOptions,t=this;if(kc("setDisplayMode(): ",{displayMode:e,modeIsolateNodesOptions:r}),null!=e){if(e===this.displayOptions.displayMode){if("all"===e)return;if("isolate-nodes"!==e)throw new Error("Invalid display mode: ".concat(e));if(n(R).isEqual(r,this.displayOptions.modeIsolateNodesOptions))return}if(this.displayOptions.displayMode=e,"all"===e);else{if("isolate-nodes"!==e)throw new Error("Invalid display mode: ".concat(e));n(R).merge(this.displayOptions.modeIsolateNodesOptions,r)}}if(this.cy.elements().removeClass(["isolationRoot","isolationSelected","isolationSecondary","isolationHidden"]),"all"===this.displayOptions.displayMode)kc("displayMode is 'all'");else{if("isolate-nodes"!==this.displayOptions.displayMode)throw new Error("Unknown displayMode = ".concat(this.displayOptions.displayMode));kc("applying displayMode=".concat(this.displayOptions.displayMode," with"),{displayOptions:this.displayOptions});for(var a=this.displayOptions.modeIsolateNodesOptions,i=a.nodeIds,o=(a.redoLayout,a.range),l={},s=0,_=["parents","children"];s<_.length;s++){var u=_[s];l[u]={};for(var c=0,f=["primary","secondary"];c<f.length;c++){var d=f[c],p=this.graphOptions.isolationRelationSelector[d];if(!1!==p){var h=bc(p,u);l[u][d]=h}else l[u][d]=!1}}var g=this.cy.collection();i.forEach((function(e){return g.merge(t.cy.getElementById(e))}));for(var v=g,m=g,w=0;w<o.children.primary;++w){var y=l.children.primary(v);v=v.union(y).union(y.connectedNodes())}for(var k=v,b=0;b<o.children.secondary;++b){var x=l.children.secondary(k);k=v.union(x).union(x.connectedNodes())}for(var P=0;P<o.parents.primary;++P){var O=l.parents.primary(m);m=m.union(O).union(O.connectedNodes())}for(var S=m,E=0;E<o.parents.secondary;++E){var C=l.parents.secondary(m);S=m.union(C).union(C.connectedNodes())}var L=v.union(m),j=k.union(S),N=j.union(j.connectedNodes()).union(L),z=N.not(L);g.addClass("isolationRoot"),L.addClass("isolationSelected"),z.addClass(["isolationSelected","isolationSecondary"]),this.cy.elements().not(N).addClass("isolationHidden")}}},{key:"initialLayoutInvalidated",value:function(){return this._initialLayoutInvalidated}},{key:"prelayout",value:function(e,r){var t=this;return l((function(){var a,i;return p(this,(function(o){if("all"===t.displayOptions.displayMode)a={primary:"[TREEDIRECTION][_primaryParent=1]",secondary:!1};else{if("isolate-nodes"!==t.displayOptions.displayMode)throw new Error("unknown displayMode=".concat(t.displayOptions.displayMode));a=t.graphOptions.isolationRelationSelector}return r=n(R).merge({origin:{position:{x:0,y:0},angularSpread:2*Math.PI,useWeights:!1},relationSelector:a,weightCalcLevels:6,weightCalcSecondaryFactor:.3},r),kc("prelayout(): Using rootNodeIds =",e),i=new Pc({cy:t.cy,rootNodeIds:e,options:r,graphRootNodesPrelayoutHints:t.graphOptions.graphRootNodesPrelayoutHints}),t.cy.batch((function(){t.cy.elements().removeClass(["prelayoutPositioned","prelayoutOutOfLayoutTree","prelayoutRoot"]);try{i.run()}catch(e){return void console.error(e)}t.cy.edges((function(e){return e.target().is(".prelayoutPositioned")&&e.source().is(".prelayoutPositioned")})).addClass("prelayoutPositioned"),t.cy.elements(":visible").not(".prelayoutPositioned").addClass("prelayoutOutOfLayoutTree")})),[2]}))}))()}},{key:"getOverallRootNodeIds",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeDomains,r=this;null!=e||(e=!0);var n=[];e&&(n=Object.keys(this.eczoodb.objects.domain).map((function(e){return r.getNodeIdDomain(e)})));var t=Object.entries(this.eczoodb.objects.code).filter((function(e){var r,n,t,a=d(e,2),i=(a[0],a[1]);return!(null===(r=i.relations)||void 0===r||null===(n=r.parents)||void 0===n?void 0:n.length)&&!(null===(t=i.relations)||void 0===t?void 0:t.defines_kingdom)})).map((function(e){var n=d(e,2),t=n[0];n[1];return r.getNodeIdCode(t)}));return[].concat(n,t)}},{key:"layout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.animate,t=e.forceRelayout,a=e.prelayoutOptions,i=this;return l((function(){var e,o,l,s,_,u,c,f,d,h;return p(this,(function(p){switch(p.label){case 0:return null!=r||(r=!0),t&&(i._initialLayoutInvalidated=!0),kc("code graph layout()"),e=null,o=!0,l=!0,"all"===i.displayOptions.displayMode?(i._initialLayoutInvalidated||(o=!1,l=!1),e=i.getOverallRootNodeIds(),a=n(R).merge({},a)):"isolate-nodes"===i.displayOptions.displayMode&&(s=i.displayOptions.modeIsolateNodesOptions,_=s.nodeIds,(u=s.redoLayout)?e=_:(o=!1,e=i.getOverallRootNodeIds()),c={position:{x:0,y:0},radius:80},1===_.length&&n(R).merge(c,{radius:0}),a=n(R).merge({origin:n(R).merge({direction:Math.PI/2,angularSpread:Math.PI},c)},a),u||(l=!1),i.cy.nodes(".prelayoutPositioned").size,(o||l)&&(i._initialLayoutInvalidated=!0)),o?[4,i.prelayout(e,a)]:[3,2];case 1:p.sent(),p.label=2;case 2:return l?(kc("Running fcose layout ..."),f=[].concat(e.map((function(e){return{nodeId:e,position:i.cy.getElementById(e).position()}}))),d={name:"fcose",quality:"proof",randomize:!1,animate:r,fit:!0,sampleSize:500,nodeDimensionsIncludeLabels:!0,nodeRepulsion:function(e){return 1e5},idealEdgeLength:function(e){return 1===e.data("_primaryParent")?100:300},edgeElasticity:function(e){return 1===e.data("_primaryParent")?.3:.01},numIter:5e4,gravity:0,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:f},h=new Promise((function(e){kc("in promise - creating and running layout"),i.cy.elements((function(e){return e.visible()})).layout(n(R).merge({ready:function(){return e()},stop:function(){return e()}},d)).run()})),kc("laying out (fcose) - waiting for promise."),[4,h]):[2];case 3:return p.sent(),"all"===i.displayOptions.displayMode&&o&&l&&(i._initialLayoutInvalidated=!1),kc("done!"),[2]}}))}))()}}],[{key:"getNodeIdCode",value:function(e){return"c_".concat(e)}},{key:"getNodeIdDomain",value:function(e){return"d_".concat(e)}}]),e}(),Pc=function(){"use strict";function e(r){var t=r.cy,a=r.rootNodeIds,i=r.options,o=r.graphRootNodesPrelayoutHints;T(this,e),this.cy=t,this.rootNodeIds=a,this.graphRootNodesPrelayoutHints=o,this.options=n(R).merge({trees:{children:{primary:!0,secondary:1},parents:{primary:!0,secondary:1}},relationSelector:{primary:"",secondary:""},origin:{position:{x:0,y:0},radius:50,angularSpread:2*Math.PI,direction:Math.PI/2,useWeights:!1},radiusSegmentLevels:[200,200],radiusSegmentLevelFactor:1.1,weightCalcLevels:2},i)}return I(e,[{key:"run",value:function(){var e=[],r={},n={},t=[],a=!0,i=!1,o=void 0;try{for(var l,s=this.rootNodeIds[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var _=l.value,u=this.graphRootNodesPrelayoutHints[_];null!=u?n[_]=u:t.push(_)}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}var c=t.length,f=Math.max(t.length-1,1),p=this.options.origin;kc("Will need to auto position ".concat(c," root nodes"),{origin:p});var h=!0,g=!1,v=void 0;try{for(var m,w=t.entries()[Symbol.iterator]();!(h=(m=w.next()).done);h=!0){var y=d(m.value,2),k=y[0],b=y[1],x=k/f;1===f&&(x=.5);var P=p.direction+(x-.5)*p.angularSpread,O=p.radius,S={x:p.position.x+O*Math.cos(P),y:p.position.y+O*Math.sin(P)};n[b]={position:S,radiusOffset:O,direction:P,angularSpread:p.angularSpread/c}}}catch(e){g=!0,v=e}finally{try{h||null==w.return||w.return()}finally{if(g)throw v}}var E=!0,C=!1,L=void 0;try{for(var j,N=Object.entries(n)[Symbol.iterator]();!(E=(j=N.next()).done);E=!0){var z=d(j.value,2),T=z[0],M=z[1];if(kc("Prelayout - Prepping root node ".concat(T),{hints:M}),r[T]={position:M.position,isRoot:!0,relatedAs:"root"},this.options.trees.children){var I=this.options.trees.children;e.push(new Oc({cy:this.cy,root:{nodeId:T,radius:M.radiusOffset,position:M.position,direction:M.direction,angularSpread:M.angularSpread},options:this.options,branchOptions:{treeDirection:"children",flipDirection:!1,tree:I},positionedNodesData:r}))}if(this.options.trees.parents){var R=this.options.trees.parents;e.push(new Oc({cy:this.cy,root:{nodeId:T,radius:M.radiusOffset,position:M.position,direction:M.direction,angularSpread:M.angularSpread},options:this.options,branchOptions:{treeDirection:"parents",flipDirection:!0,tree:R},positionedNodesData:r}))}}}catch(e){C=!0,L=e}finally{try{E||null==N.return||N.return()}finally{if(C)throw L}}var D=!0,A=!1,q=void 0;try{for(var F,U=e[Symbol.iterator]();!(D=(F=U.next()).done);D=!0){F.value.positionAndMarkNodesInData()}}catch(e){A=!0,q=e}finally{try{D||null==U.return||U.return()}finally{if(A)throw q}}var B=!0,G=!1,W=void 0;try{for(var V,H=Object.entries(r)[Symbol.iterator]();!(B=(V=H.next()).done);B=!0){var $=d(V.value,2),Q=$[0],Y=$[1],X=this.cy.getElementById(Q),Z=Y.position,K=Y.isRoot,J=Y.relatedAs;X.addClass(["prelayoutPositioned","prelayoutRelatedAs_".concat(J)]),K&&X.addClass(["prelayoutPositioned","prelayoutRoot"]),X.position(Z)}}catch(e){G=!0,W=e}finally{try{B||null==H.return||H.return()}finally{if(G)throw W}}}}]),e}(),Oc=function(){"use strict";function e(r){var t=r.cy,a=r.root,i=r.options,o=r.branchOptions,l=r.positionedNodesData;T(this,e),this.cy=t,this.root=a,this.rootNode=this.cy.getElementById(this.root.nodeId),this.options=i,this.branchOptions=n(R).merge({treeDirection:"children",flipDirection:!1},o),this.positionedNodesData=l,this.nodeOrderinginfoByLevel=null}return I(e,[{key:"_computeNodeInfos",value:function(){for(var e=[],r=this.options,n=new Set,t=[{nodeId:this.root.nodeId,level:0,treeDepthRemaining:Object.assign({},this.branchOptions.tree),parentNodeOrderingInfo:null,connectedNodesInfos:[],totalNumDescendants:0,numDescendants:[],relatedAs:"root"}],a=function(e,r){var n=e.source(),t=e.target();return n.id()===r?t:n},i={},o=0,l=["primary","secondary"];o<l.length;o++){var s=l[o],_=r.relationSelector[s];if(!1!==_){var u=bc(_,this.branchOptions.treeDirection);i[s]=u}else i[s]=!1}e.push(t);for(var c=0;t.length;){var f=[],d=!0,p=!1,h=void 0;try{for(var g,v=t[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){for(var m=g.value,w=m.nodeId,y=m.parentNodeOrderingInfo,k=m.treeDepthRemaining,b=y,x=0;null!=b;){for(b.totalNumDescendants+=1;b.numDescendants.length<=x;)b.numDescendants.push(0);b.numDescendants[x]+=1,b=b.parentNodeOrderingInfo,x+=1}for(var P=0,O=["primary","secondary"];P<O.length;P++){var S,E,C=O[P];if(0!==k[C]){var L=i[C];if(!1!==L){var j=L(this.cy.getElementById(w)),N=[],z=!0,T=!1,M=void 0;try{for(var I,R=j[Symbol.iterator]();!(z=(I=R.next()).done);z=!0){var A=a(I.value,w).id();if(!this.positionedNodesData.hasOwnProperty(A)&&!n.has(A)){n.add(A);var q=Object.assign({},k);!0!==q[C]&&(q[C]-=1),"secondary"===C&&(q.primary=0),N.push({nodeId:A,level:c+1,parentNodeOrderingInfo:m,connectedNodesInfos:[],totalNumDescendants:0,numDescendants:[],treeDepthRemaining:q,relatedAs:C})}}}catch(e){T=!0,M=e}finally{try{z||null==R.return||R.return()}finally{if(T)throw M}}(S=m.connectedNodesInfos).push.apply(S,(0,D.default)(N)),(E=f).push.apply(E,(0,D.default)(N))}}}}}catch(e){p=!0,h=e}finally{try{d||null==v.return||v.return()}finally{if(p)throw h}}e.push(f),t=f,c+=1}this.nodeOrderinginfoByLevel=e}},{key:"_computeNodeWeights",value:function(){var e=this,r=!0,t=!1,a=void 0;try{for(var i,o=this.nodeOrderinginfoByLevel.entries()[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=d(i.value,2);l[0];l[1].forEach((function(r){var t,a=Math.max(1,null!==(t=n(R).sum(r.numDescendants.slice(0,e.options.weightCalcLevels)))&&void 0!==t?t:0);"secondary"===r.relatedAs&&(a*=e.options.weightCalcSecondaryFactor),r._weight=a}))}}catch(e){t=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(t)throw a}}}},{key:"positionAndMarkNodesInData",value:function(){this._computeNodeInfos(),this._computeNodeWeights();var e=this.root.direction;this.branchOptions.flipDirection&&(e=-e),this._positionNodeChildren({node:this.rootNode,nodePosition:this.root.position,nodeInfo:this.nodeOrderinginfoByLevel[0][0],level:1,angularSpread:this.root.angularSpread,direction:e})}},{key:"_markNodeAndSetRelativePosition",value:function(e){var r=e.node,n=e.isRoot,t=e.referencePoint,a=e.relPos,i=e.relatedAs,o={x:t.x+a.x,y:t.y+a.y},l=r.id();if(this.positionedNodesData.hasOwnProperty(l))throw new Error("Node ".concat(l," is being positioned in two different subtrees!"));return this.positionedNodesData[r.id()]={position:o,isRoot:n,relatedAs:i},o}},{key:"_positionNodesRadially",value:function(e){var r,t=e.nodeInfos,a=e.referencePoint,i=e.R,o=e.direction,l=e.angularSpread,s=e.isRoot,_=e.useWeights;null!=s||(s=!1),null!=_||(_=!0);var u=n(R).sum(t.map((function(e){return null!==(r=e._weight)&&void 0!==r?r:1}))),c=0,f=[],p=t.length,h=!0,g=!1,v=void 0;try{for(var m,w=t.entries()[Symbol.iterator]();!(h=(m=w.next()).done);h=!0){var y=d(m.value,2),k=y[0],b=y[1],x=b.nodeId,P=b._weight,O=b.relatedAs,S=this.cy.getElementById(x),E=void 0;1===p?E=.5:_?(E=c/u,s&&p>1||(E+=P/(2*u))):(E=k/p,s&&p>1||(E+=.5/p));var C=o+(E-.5)*l,L={x:i*Math.cos(C),y:i*Math.sin(C)};c+=P;var j=this._markNodeAndSetRelativePosition({node:S,referencePoint:a,relPos:L,isRoot:s,relatedAs:O}),N=P*l/u;f.push({nodeId:x,node:S,nodePosition:j,nodeInfo:b,angularSpread:N,direction:C})}}catch(e){g=!0,v=e}finally{try{h||null==w.return||w.return()}finally{if(g)throw v}}return f}},{key:"_positionNodeChildren",value:function(e){e.node;var r=e.nodePosition,n=e.nodeInfo,t=e.level,a=e.angularSpread,i=e.direction,o=this.options;null==i&&(i=Math.atan2(r.y-this.root.position.y,r.x-this.root.position.x));for(var l=o.radiusSegmentLevels.length,s=this.root.radius,_=0;_<t;++_)s+=t<l?o.radiusSegmentLevels[t]:o.radiusSegmentLevels[l-1]*Math.pow(o.radiusSegmentLevelFactor,t-l);var u=this._positionNodesRadially({nodeInfos:n.connectedNodesInfos,referencePoint:this.root.position,R:s,direction:i,angularSpread:a}),c=!0,f=!1,d=void 0;try{for(var p,h=u[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var g=p.value;this._positionNodeChildren({node:g.node,nodePosition:g.nodePosition,nodeInfo:g.nodeInfo,level:t+1,angularSpread:g.angularSpread,direction:g.direction})}}catch(e){f=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw d}}}}]),e}(),Sc=3,Ec=[{selector:"node",style:{color:"rgb(127, 48, 0)","background-color":"rgb(127, 48, 0)",label:"data(label)",width:15,height:15,"min-zoomed-font-size":10}},{selector:"node[_isDomain=1]",style:{shape:"round-rectangle",width:25,height:25}},{selector:"node[_isKingdom=1]",style:{shape:"diamond",width:25,height:25}},{selector:"node[_hasParentKingdom=0]",style:{shape:"round-diamond",color:"rgb(136, 91, 7)","background-color":"rgb(136, 91, 7)",width:20,height:20}},{selector:"node.useDomainColors[_domainColorIndex=0]",style:{color:"rgb(95,69,130)","background-color":"rgb(95,69,130)"}},{selector:"node.useDomainColors[_domainColorIndex=1]",style:{color:"rgb(50,108,110)","background-color":"rgb(50,108,110)"}},{selector:"node.useDomainColors[_domainColorIndex=2]",style:{color:"rgb(111,50,72)","background-color":"rgb(111,50,72)"}},{selector:"edge",style:{width:1,opacity:.5,"target-arrow-shape":"triangle","curve-style":"bezier","font-size":"12px"}},{selector:'edge[_relType="parent"]',style:{width:1,"line-color":"#00307f","target-arrow-color":"#00307f",color:"#00307f"}},{selector:"edge[_primaryParent=0]",style:{opacity:.25}},{selector:'edge[_relType="cousin"]',style:{width:1,"target-arrow-shape":"none","line-style":"dotted","line-color":"#00883f","target-arrow-color":"#00883f",color:"#00883f"}},{selector:".graphRoot[_isDomain!=1]",style:{width:25,height:25}},{selector:".isolationRoot",style:{color:"rgb(230,50,50)","font-weight":"bold","background-color":"rgb(230,50,50)"}},{selector:".isolationSecondary",style:{opacity:.3}},{selector:"node.isolationSecondary",style:{width:10,height:10}},{selector:".prelayoutOutOfLayoutTree",style:{color:"rgb(120,0,50)","background-color":"rgb(120,0,50)"}},{selector:".hidden, .isolationHidden",style:{display:"none"}},{selector:".lowDegreeDimmed",style:{opacity:.15,label:""}},{selector:"node.lowDegreeDimmed",style:{width:10,height:10}},{selector:".highlight",style:{opacity:1,color:"rgb(220,80,0)","background-color":"rgb(220,80,0)",width:40,height:40,"font-size":20}},{selector:".dimmed",style:{opacity:.3}}];function Cc(e){var r={};if(null!=e||(e={}),e.matchWebPageFonts){var t,a=null!==(t=e.window)&&void 0!==t?t:window,i=a.getComputedStyle(a.document.body);r["font-family"]=i.getPropertyValue("font-family"),r["font-size"]=i.getPropertyValue("font-size"),r["font-weight"]=i.getPropertyValue("font-weight"),r["font-style"]=i.getPropertyValue("font-style")}return null!=e.fontFamily&&(r["font-family"]=e.fontFamily),null!=e.fontSize&&(r["font-size"]=e.fontSize),null!=e.fontWeight&&(r["font-weight"]=e.fontWeight),null!=e.fontStyle&&(r["font-style"]=e.fontStyle),n(R).isEmpty(r)?Ec:[].concat([{selector:"*",style:r}],Ec)}var Lc;Lc=i("47ZFg");var jc=i("8XZMw"),Nc={};$=i("3Ie7j");window,Nc=function(e){var r={};function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)n.d(t,a,function(r){return e[r]}.bind(null,a));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=0)}([function(e,r,n){"use strict";var t=n(1),a=function(e){e&&e("core","svg",t.svg)};"undefined"!=typeof cytoscape&&a(cytoscape),e.exports=a},function(e,r,n){"use strict";var t="function"==typeof Symbol&&"symbol"==(0,$.default)(Symbol.iterator)?function(e){return void 0===e?"undefined":(0,$.default)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":(0,$.default)(e)},a=n(2),i={},o={number:function(e){return null!=e&&(void 0===e?"undefined":t(e))===t(1)&&!isNaN(e)}};i.bufferCanvasImage=function(e,r){var n=r.renderer().usePaths;r.renderer().usePaths=function(){return!1},r.elements().forEach((function(e){e._private.rscratch.pathCacheKey=null,e._private.rscratch.pathCache=null}));var t=r.renderer(),i=r.mutableElements().boundingBox(),l=t.findContainerClientCoords(),s=e.full?Math.ceil(i.w):l[2],_=e.full?Math.ceil(i.h):l[3],u=o.number(e.maxWidth)||o.number(e.maxHeight),c=t.getPixelRatio(),f=1;if(void 0!==e.scale)s*=e.scale,_*=e.scale,f=e.scale;else if(u){var d=1/0,p=1/0;o.number(e.maxWidth)&&(d=f*e.maxWidth/s),o.number(e.maxHeight)&&(p=f*e.maxHeight/_),s*=f=Math.min(d,p),_*=f}u||(s*=c,_*=c,f*=c);var h=null,g=h=new a(s,_);if(s>0&&_>0){h.clearRect(0,0,s,_),e.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=e.bg,h.fillRect(0,0,s,_)),h.globalCompositeOperation="source-over";var v=t.getCachedZSortedEles();if(e.full)h.translate(-i.x1*f,-i.y1*f),h.scale(f,f),t.drawElements(h,v),h.scale(1/f,1/f),h.translate(i.x1*f,i.y1*f);else{var m=r.pan(),w={x:m.x*f,y:m.y*f};f*=r.zoom(),h.translate(w.x,w.y),h.scale(f,f),t.drawElements(h,v),h.scale(1/f,1/f),h.translate(-w.x,-w.y)}}return r.renderer().usePaths=n,g},i.svg=function(e){return i.bufferCanvasImage(e||{},this).getSerializedSvg()},e.exports=i},function(e,r,n){!function(){"use strict";var r,n,t,a,i,o=function(e,r){var n,t=Object.keys(r);for(n=0;n<t.length;n++)e=e.replace(new RegExp("\\{"+t[n]+"\\}","gi"),r[t[n]]);return e},l=function(e){var r,n,t;if(!e)throw new Error("cannot create a random attribute name for an undefined object");r="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",t=0;t<12;t++)n+=r[Math.floor(Math.random()*r.length)]}while(e[n]);return n},s=function(e){var r={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return r[e]||r.alphabetic};i=function(e,r){var n,t,a,i={};for(e=e.split(","),r=r||10,n=0;n<e.length;n+=2)t="&"+e[n+1]+";",a=parseInt(e[n],r),i[t]="&#"+a+";";return i["\\xa0"]="&#160;",i}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),r={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(t=function(e,r){this.__root=e,this.__ctx=r}).prototype.addColorStop=function(e,r){var n,t=this.__ctx.__createElement("stop");t.setAttribute("offset",e),-1!==r.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(r),t.setAttribute("stop-color",o("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),t.setAttribute("stop-opacity",n[4])):t.setAttribute("stop-color",r),this.__root.appendChild(t)},a=function(e,r){this.__root=e,this.__ctx=r},(n=function(e){var r,t={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((r=t).width=arguments[0],r.height=arguments[1]):r=e||t,!(this instanceof n))return new n(r);this.width=r.width||t.width,this.height=r.height||t.height,this.enableMirroring=void 0!==r.enableMirroring?r.enableMirroring:t.enableMirroring,this.canvas=this,this.__document=r.document||document,r.ctx?this.__ctx=r.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(e,r,n){void 0===r&&(r={});var t,a,i=this.__document.createElementNS("http://www.w3.org/2000/svg",e),o=Object.keys(r);for(n&&(i.setAttribute("fill","none"),i.setAttribute("stroke","none")),t=0;t<o.length;t++)a=o[t],i.setAttribute(a,r[a]);return i},n.prototype.__setDefaultStyles=function(){var e,n,t=Object.keys(r);for(e=0;e<t.length;e++)this[n=t[e]]=r[n].canvas},n.prototype.__applyStyleState=function(e){if(e){var r,n,t=Object.keys(e);for(r=0;r<t.length;r++)this[n=t[r]]=e[n]}},n.prototype.__getStyleState=function(){var e,n,t={},a=Object.keys(r);for(e=0;e<a.length;e++)t[n=a[e]]=this[n];return t},n.prototype.__applyStyleToCurrentElement=function(e){var n=this.__currentElement;this.__currentElementsToStyle;var i,l,s,_,u,c=Object.keys(r);for(i=0;i<c.length;i++)if(l=r[c[i]],s=this[c[i]],l.apply)if(s instanceof a){if(s.__ctx)for(;s.__ctx.__defs.childNodes.length;)_=s.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[_]=_,this.__defs.appendChild(s.__ctx.__defs.childNodes[0]);n.setAttribute(l.apply,o("url(#{id})",{id:s.__root.getAttribute("id")}))}else if(s instanceof t)n.setAttribute(l.apply,o("url(#{id})",{id:s.__root.getAttribute("id")}));else if(-1!==l.apply.indexOf(e)&&l.svg!==s)if("stroke"!==l.svgAttr&&"fill"!==l.svgAttr||-1===s.indexOf("rgba")){var f=l.svgAttr;if("globalAlpha"===c[i]&&(f=e+"-"+l.svgAttr,n.getAttribute(f)))continue;n.setAttribute(f,s)}else{u=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(s),n.setAttribute(l.svgAttr,o("rgb({r},{g},{b})",{r:u[1],g:u[2],b:u[3]}));var d=u[4],p=this.globalAlpha;null!=p&&(d*=p),n.setAttribute(l.svgAttr+"-opacity",d)}},n.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},n.prototype.getSerializedSvg=function(e){var r,n,t,a,o,l=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(l)&&(l=l.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),e)for(r=Object.keys(i),n=0;n<r.length;n++)t=r[n],a=i[t],(o=new RegExp(t,"gi")).test(l)&&(l=l.replace(o,a));return l},n.prototype.getSvg=function(){return this.__root},n.prototype.save=function(){var e=this.__createElement("g"),r=this.__closestGroupOrSvg();this.__groupStack.push(r),r.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},n.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)},n.prototype.__addTransform=function(e){var r=this.__closestGroupOrSvg();if(r.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:r,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");r.appendChild(n),this.__currentElement=n}var t=this.__currentElement.getAttribute("transform");t?t+=" ":t="",t+=e,this.__currentElement.setAttribute("transform",t)},n.prototype.scale=function(e,r){void 0===r&&(r=e),this.__addTransform(o("scale({x},{y})",{x:e,y:r}))},n.prototype.rotate=function(e){var r=180*e/Math.PI;this.__addTransform(o("rotate({angle},{cx},{cy})",{angle:r,cx:0,cy:0}))},n.prototype.translate=function(e,r){this.__addTransform(o("translate({x},{y})",{x:e,y:r}))},n.prototype.transform=function(e,r,n,t,a,i){this.__addTransform(o("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:r,c:n,d:t,e:a,f:i}))},n.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},n.prototype.__applyCurrentDefaultPath=function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)},n.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},n.prototype.moveTo=function(e,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:r},this.__addPathCommand(o("M {x} {y}",{x:e,y:r}))},n.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},n.prototype.lineTo=function(e,r){this.__currentPosition={x:e,y:r},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(o("L {x} {y}",{x:e,y:r})):this.__addPathCommand(o("M {x} {y}",{x:e,y:r}))},n.prototype.bezierCurveTo=function(e,r,n,t,a,i){this.__currentPosition={x:a,y:i},this.__addPathCommand(o("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:r,cp2x:n,cp2y:t,x:a,y:i}))},n.prototype.quadraticCurveTo=function(e,r,n,t){this.__currentPosition={x:n,y:t},this.__addPathCommand(o("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:r,x:n,y:t}))};var _=function(e){var r=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/r,e[1]/r]};n.prototype.arcTo=function(e,r,n,t,a){var i=this.__currentPosition&&this.__currentPosition.x,o=this.__currentPosition&&this.__currentPosition.y;if(void 0!==i&&void 0!==o){if(a<0)throw new Error("IndexSizeError: The radius provided ("+a+") is negative.");if(i===e&&o===r||e===n&&r===t||0===a)this.lineTo(e,r);else{var l=_([i-e,o-r]),s=_([n-e,t-r]);if(l[0]*s[1]!=l[1]*s[0]){var u=l[0]*s[0]+l[1]*s[1],c=Math.acos(Math.abs(u)),f=_([l[0]+s[0],l[1]+s[1]]),d=a/Math.sin(c/2),p=e+d*f[0],h=r+d*f[1],g=[-l[1],l[0]],v=[s[1],-s[0]],m=function(e){var r=e[0];return e[1]>=0?Math.acos(r):-Math.acos(r)},w=m(g),y=m(v);this.lineTo(p+g[0]*a,h+g[1]*a),this.arc(p,h,a,w,y)}else this.lineTo(e,r)}}},n.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},n.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},n.prototype.rect=function(e,r,n,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,r),this.lineTo(e+n,r),this.lineTo(e+n,r+t),this.lineTo(e,r+t),this.lineTo(e,r),this.closePath()},n.prototype.fillRect=function(e,r,n,t){var a;a=this.__createElement("rect",{x:e,y:r,width:n,height:t},!0),this.__closestGroupOrSvg().appendChild(a),this.__currentElement=a,this.__applyStyleToCurrentElement("fill")},n.prototype.strokeRect=function(e,r,n,t){var a;a=this.__createElement("rect",{x:e,y:r,width:n,height:t},!0),this.__closestGroupOrSvg().appendChild(a),this.__currentElement=a,this.__applyStyleToCurrentElement("stroke")},n.prototype.__clearCanvas=function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),r=this.__root.childNodes[1],n=r.childNodes,t=n.length-1;t>=0;t--)n[t]&&r.removeChild(n[t]);this.__currentElement=r,this.__groupStack=[],e&&this.__addTransform(e)},n.prototype.clearRect=function(e,r,n,t){if(0!==e||0!==r||n!==this.width||t!==this.height){var a,i=this.__closestGroupOrSvg();a=this.__createElement("rect",{x:e,y:r,width:n,height:t,fill:"#FFFFFF"},!0),i.appendChild(a)}else this.__clearCanvas()},n.prototype.createLinearGradient=function(e,r,n,a){var i=this.__createElement("linearGradient",{id:l(this.__ids),x1:e+"px",x2:n+"px",y1:r+"px",y2:a+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new t(i,this)},n.prototype.createRadialGradient=function(e,r,n,a,i,o){var s=this.__createElement("radialGradient",{id:l(this.__ids),cx:a+"px",cy:i+"px",r:o+"px",fx:e+"px",fy:r+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(s),new t(s,this)},n.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),r={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(r.decoration="underline"),this.__fontHref&&(r.href=this.__fontHref),r},n.prototype.__wrapTextLink=function(e,r){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(r),n}return r},n.prototype.__applyText=function(e,r,n,t){var a,i,o=this.__parseFont(),l=this.__closestGroupOrSvg(),_=this.__createElement("text",{"font-family":o.family,"font-size":o.size,"font-style":o.style,"font-weight":o.weight,"text-decoration":o.decoration,x:r,y:n,"text-anchor":(a=this.textAlign,i={left:"start",right:"end",center:"middle",start:"start",end:"end"},i[a]||i.start),"dominant-baseline":s(this.textBaseline)},!0);_.appendChild(this.__document.createTextNode(e)),this.__currentElement=_,this.__applyStyleToCurrentElement(t),l.appendChild(this.__wrapTextLink(o,_))},n.prototype.fillText=function(e,r,n){this.__applyText(e,r,n,"fill")},n.prototype.strokeText=function(e,r,n){this.__applyText(e,r,n,"stroke")},n.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},n.prototype.arc=function(e,r,n,t,a,i){if(t!==a){(t%=2*Math.PI)==(a%=2*Math.PI)&&(a=(a+2*Math.PI-.001*(i?-1:1))%(2*Math.PI));var l=e+n*Math.cos(a),s=r+n*Math.sin(a),_=e+n*Math.cos(t),u=r+n*Math.sin(t),c=i?0:1,f=0,d=a-t;d<0&&(d+=2*Math.PI),f=i?d>Math.PI?0:1:d>Math.PI?1:0,this.lineTo(_,u),this.__addPathCommand(o("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:f,sweepFlag:c,endX:l,endY:s})),this.__currentPosition={x:l,y:s}}},n.prototype.clip=function(){var e=this.__closestGroupOrSvg(),r=this.__createElement("clipPath"),n=l(this.__ids),t=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),r.setAttribute("id",n),r.appendChild(this.__currentElement),this.__defs.appendChild(r),e.setAttribute("clip-path",o("url(#{id})",{id:n})),e.appendChild(t),this.__currentElement=t},n.prototype.drawImage=function(){var e,r,t,a,i,o,l,s,_,u,c,f,d,p=Array.prototype.slice.call(arguments),h=p[0],g=0,v=0;if(3===p.length)e=p[1],r=p[2],t=i=h.width,a=o=h.height;else if(5===p.length)e=p[1],r=p[2],t=p[3],a=p[4],i=h.width,o=h.height;else{if(9!==p.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);g=p[1],v=p[2],i=p[3],o=p[4],e=p[5],r=p[6],t=p[7],a=p[8]}l=this.__closestGroupOrSvg(),this.__currentElement;var m="translate("+e+", "+r+")";if(h instanceof n){if((s=h.getSvg().cloneNode(!0)).childNodes&&s.childNodes.length>1){for(_=s.childNodes[0];_.childNodes.length;)d=_.childNodes[0].getAttribute("id"),this.__ids[d]=d,this.__defs.appendChild(_.childNodes[0]);if(u=s.childNodes[1]){var w,y=u.getAttribute("transform");w=y?y+" "+m:m,u.setAttribute("transform",w),l.appendChild(u)}}}else"CANVAS"!==h.nodeName&&"IMG"!==h.nodeName||((c=this.__createElement("image")).setAttribute("width",t),c.setAttribute("height",a),c.setAttribute("opacity",this.globalAlpha),c.setAttribute("preserveAspectRatio","none"),(f=this.__document.createElement("canvas")).width=t,f.height=a,f.getContext("2d").drawImage(h,g,v,i,o,0,0,t,a),h=f,c.setAttribute("transform",m),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===h.nodeName?h.toDataURL():h.getAttribute("src")),l.appendChild(c))},n.prototype.createPattern=function(e,r){var t,i=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),o=l(this.__ids);return i.setAttribute("id",o),i.setAttribute("width",e.width),i.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((t=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",e.width),t.setAttribute("height",e.height),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),i.appendChild(t),this.__defs.appendChild(i)):e instanceof n&&(i.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(i)),new a(i,this)},n.prototype.setLineDash=function(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null},n.prototype.drawFocusRing=function(){},n.prototype.createImageData=function(){},n.prototype.getImageData=function(){},n.prototype.putImageData=function(){},n.prototype.globalCompositeOperation=function(){},n.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=n),"object"==typeof e.exports&&(e.exports=n)}()}]);jc=i("8XZMw"),D=i("fOdIC");function zc(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];var a,i=e.length-1,o=e.map((function(e,r){var n=e.replace(/>\n+ */g,">").replace(/\n+ *</g,"<");return 0===r?n.trimStart():r===i?n.trimEnd():n}));return(a=String).raw.apply(a,[{raw:o}].concat((0,D.default)(n)))}function Tc(){var e=lc(['\n  <span class="code-name" title="','">','</span>\n  <span class="code-introduced">',"</span>"]);return Tc=function(){return e},e}function Mc(){var e=lc(['\n  <div class="kingdom-name">\n    <span class="kingdom-name-label">\n      This code defines the\n    </span>&nbsp;','</div>\n  <div class="kingdom-description">',"</div>"]);return Mc=function(){return e},e}function Ic(){var e=lc(['\n  <div class="code-description">','</div>\n  <a class="code-link" href="','">go to code page</a>']);return Ic=function(){return e},e}function Rc(){var e=lc(['\n  <a class="kingdom-link" href="','">go to kingdom page</a>']);return Rc=function(){return e},e}function Dc(){var e=lc(['\n  <div class="code-relations">\n    <span class="code-relation-type">',"</span>\n    <ul>","</ul>\n  </div>"]);return Dc=function(){return e},e}function Ac(){var e=lc(["\n  <RENDER_ENDNOTES/>"]);return Ac=function(){return e},e}function qc(){var e=lc(['\n  <div class="domain-name">','</div>\n  <div class="domain-description">','</div>\n  <a class="domain-link" href="','">go to domain page</a>\n  <div class="domain-kingdoms-list">\n    <p>Kingdoms:</p>\n    <ul>']);return qc=function(){return e},e}function Fc(){var e=lc(["\n      <li>","</li>"]);return Fc=function(){return e},e}function Uc(){var e=lc(['\n      <div class="empty-info-pane">\n        <p>\n          Click on a node in the code graph\n          to display additional information here.\n        </p>\n        <p style="margin-top: 2em">Zoom into:</p>\n        <ul>']);return Uc=function(){return e},e}function Bc(){var e=lc(["\n          <li>","</li>"]);return Bc=function(){return e},e}function Gc(){var e=lc(["\n        </ul>\n      </div>\n"]);return Gc=function(){return e},e}var Wc=n(m)("eczoo_jscomponents.codegraph.CodeGraphInformationPane");function Vc(e){var r=e.eczoodb,n=e.captureLinksToObjectTypes,t=r.zoo_llm_environment,a=(new ac,new yc({llm_environment:t,llm_error_policy:"continue"})),i={get_ref:function(e,t,a){var i=r.zoo_llm_environment.ref_resolver.get_ref(e,t,a);return n.includes(e)?new iu(sn(Object.assign({},i.asdict(),{target_href:"jsCallbackRef:".concat(e,"/").concat(t)}))):null}};return{zoo_llm_environment:t,llm_simple_content:a,render:function(e){var r=dc({zoo_llm_environment:t,render_doc_fn:e,render_endnotes:{target_id:null,include_headings_at_level:!1,endnotes_heading_title:null,endnotes_heading_level:null},feature_render_options:{refs:{add_external_ref_resolvers:[i]}},llm_error_policy:"continue"});return Wc("Got HTML: ",r),r}}}function Hc(e){var r=e.eczoodb,n=e.currentCodeSelected,t=e.currentDomainSelected,a=e.captureLinksToObjectTypes,i=e.onLinkToObjectActivated,o=e.displayInformationOptions;Wc("In CodeGraphInformationPane ()",e),null!=a||(a=["code","domain","kingdom"]);var s=(0,jc.useRef)(null),_=n||t,u=d((0,jc.useState)({html:null,what:_}),2),c=u[0],f=u[1];return(0,jc.useLayoutEffect)((function(){Wc("layout effect. gonna gotta have to set up some html.");var e,u=(e=l((function(){var e,l,u,h,g,v,m,w,y,k,b,x;return p(this,(function(p){switch(p.label){case 0:return Wc("setupHtmlContent()..."),null!=c.html&&c.what==_?[3,1]:(Wc("setupHtmlContent() ... gotta render some HTML here"),null!=n?(e=function(e){var r,n,t,a=e.eczoodb,i=e.code,o=e.displayInformationOptions,l=e.captureLinksToObjectTypes,s=Vc({eczoodb:a,captureLinksToObjectTypes:l}),_=s.llm_simple_content,u=s.render,c=(null!=o?o:{}).truncateDescriptionLength;null!=c||(c=700),Wc("Rendering code information ...");var f,p=i.code_id,h=a.zoo_object_permalink("code",p),g=a.schemas.code,v=_.compile_llm(i.name,{object_type:"code",object_schema:g,object:i,fieldname:"name"}),m=_.compile_llm(i.introduced,{object_type:"code",object_schema:g,object:i,fieldname:"introduced"}),w=_.compile_llm(i.description,{object_type:"code",object_schema:g,object:i,fieldname:"description"}).truncate_to(c),y=null,k=null,b=null!==(f=null===(r=i.relations)||void 0===r||null===(n=r.defines_kingdom)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.kingdom)&&void 0!==f?f:null;if(null!=b){Wc("code is a kingdom,",b);var x=a.schemas.kingdom;y=_.compile_llm(b.name,{object_type:"kingdom",object_schema:x,object:b,fieldname:"name"}),k=_.compile_llm(b.description,{object_type:"kingdom",object_schema:x,object:b,fieldname:"description"})}return u((function(e){var r,n,t,o,l,s,_,u,c=fc({render_context:e}),f=(c.ne,c.rdr),g=c.ref,x="";if(x+=zc(Tc(),p,f(v),f(m)),null!=b&&(x+=zc(Mc(),f(y),f(k))),x+=zc(Ic(),f(w),h),null!=b){var P=a.zoo_object_permalink("kingdom",b.kingdom_id);x+=zc(Rc(),P)}if(null!=i.relations)for(var O=0,S=[["Parent","Parents",null!==(l=null===(r=i.relations)||void 0===r?void 0:r.parents)&&void 0!==l?l:[]],["Child","Children",null!==(s=null===(n=i.relations)||void 0===n?void 0:n.parent_of)&&void 0!==s?s:[]],["Cousin","Cousins",[].concat(null!==(_=null===(t=i.relations)||void 0===t?void 0:t.cousins)&&void 0!==_?_:[],null!==(u=null===(o=i.relations)||void 0===o?void 0:o.cousin_of)&&void 0!==u?u:[])]];O<S.length;O++){var E=d(S[O],3),C=E[0],L=E[1],j=E[2];if(0!==j.length){var N=1===j.length?C:L,z=j.map((function(e){return"<li>"+g("code",e.code_id)+"</li>"})).join("");x+=zc(Dc(),N,z)}}return x+zc(Ac())}))}({eczoodb:r,displayInformationOptions:o,captureLinksToObjectTypes:a,code:n}),f({html:e,what:_})):null!=t?(l=function(e){var r=e.eczoodb,n=e.domain,t=Vc({eczoodb:r,captureLinksToObjectTypes:e.captureLinksToObjectTypes}),a=t.llm_simple_content,i=t.render;Wc("Rendering domain information ...");var o=r.schemas.domain,l=a.compile_llm(n.name,{object_type:"domain",object_schema:o,object:n,fieldname:"name"}),s=a.compile_llm(n.description,{object_type:"domain",object_schema:o,object:n,fieldname:"description"}),_=r.zoo_object_permalink("domain",n.domain_id);return i((function(e){var r=fc({render_context:e}),t=(r.ne,r.rdr),a=r.ref,i="";i+=zc(qc(),t(l),t(s),_);var o=!0,u=!1,c=void 0;try{for(var f,d=n.kingdoms[Symbol.iterator]();!(o=(f=d.next()).done);o=!0){var p=f.value.kingdom_id;i+=zc(Fc(),a("kingdom",p))}}catch(e){u=!0,c=e}finally{try{o||null==d.return||d.return()}finally{if(u)throw c}}return i+"\n    </ul>\n  </div>"}))}({eczoodb:r,displayInformationOptions:o,captureLinksToObjectTypes:a,domain:t}),f({html:l,what:_})):(u=function(e){var r=e.eczoodb,n=e.captureLinksToObjectTypes,t=Vc({eczoodb:r,captureLinksToObjectTypes:n}),a=(t.llm_simple_content,t.render);return Wc("Rendering empty pane information ..."),a((function(e){var n=fc({render_context:e}),t=(n.ne,n.rdr,n.ref),a="";a+=zc(Uc());var i=!0,o=!1,l=void 0;try{for(var s,_=Object.entries(r.objects.domain)[Symbol.iterator]();!(i=(s=_.next()).done);i=!0){var u=d(s.value,2),c=u[0];u[1],a+=zc(Bc(),t("domain",c))}}catch(e){o=!0,l=e}finally{try{i||null==_.return||_.return()}finally{if(o)throw l}}return a+zc(Gc())}))}({eczoodb:r,displayInformationOptions:o,captureLinksToObjectTypes:a}),f({html:u,what:_})),[3,4]);case 1:return null==(h=s.current)?[3,4]:null==window.MathJax?[3,3]:[4,window.MathJax.typesetPromise([h])];case 2:p.sent(),p.label=3;case 3:g=!0,v=!1,m=void 0;try{for(w=h.querySelectorAll("a")[Symbol.iterator]();!(g=(y=w.next()).done);g=!0)k=y.value,b=k.getAttribute("href"),null!=(x=/^jsCallbackRef:([^\/]+)\/(.*)$/.exec(b))&&function(){var e=x[1],r=x[2];Wc("Setting up captured callback for",{objectType:e,objectId:r}),k.addEventListener("click",(function(){i(e,r)})),k.removeAttribute("href",""),k.style.cursor="pointer"}()}catch(e){v=!0,m=e}finally{try{g||null==w.return||w.return()}finally{if(v)throw m}}p.label=4;case 4:return[2]}}))})),function(){return e.apply(this,arguments)});u()}),[c,n,t]),(0,Lc.jsx)("div",{className:"CodeGraphInformationPane",ref:s,dangerouslySetInnerHTML:{__html:c.html}})}var $c=n(m)("eczoo_jscomponents.codegraph.ui");cytoscape.use(n(Nc));function Qc(e){var r=e.eczCodeGraph,n=e.domainColoring,t=e.onChangeDomainColoring,a=e.cousinEdgesShown,i=e.onChangeCousinEdgesShown,o=e.secondaryParentEdgesShown,l=e.onChangeSecondaryParentEdgesShown,s=e.displayModeWithOptions,_=e.onChangeDisplayModeWithOptions,u=r.cy,c=d((0,jc.useState)(u.zoom()),2),f=c[0],p=c[1];(0,jc.useEffect)((function(){f!=u.zoom()&&u.zoom({level:f,renderedPosition:{x:u.width()/2,y:u.height()/2}})}),[f]);var h=d((0,jc.useState)(s.modeIsolateNodesOptions.range.parents.primary),2),g=h[0],v=h[1];(0,jc.useEffect)((function(){_({modeIsolateNodesOptions:{range:{parents:{primary:Math.round(g)},children:{primary:Math.round(g/2)}}}})}),[g]);var m=d((0,jc.useState)(0!==s.modeIsolateNodesOptions.range.parents.secondary),2),w=m[0],y=m[1];(0,jc.useEffect)((function(){var e=w?1:0;_({modeIsolateNodesOptions:{range:{parents:{secondary:e},children:{secondary:e}}}})}),[w]);var k=d((0,jc.useState)(""),2),b=k[0],x=k[1];(0,jc.useEffect)((function(){if(u.nodes().removeClass(["highlight","dimmed"]),""!==b){var e=u.nodes("[label @*= ".concat(JSON.stringify(b),"]"));e.addClass("highlight"),u.stop(),u.animate({fit:{eles:e},duration:80}),u.elements().not(".highlight").addClass("dimmed")}}),[b]);var P="viewport",O=function(e){u.zoom()!=f&&p(u.zoom())};(0,jc.useEffect)((function(){return u.on(P,O),function(){u.removeListener(P,O)}}),[r]);var S=function(e){var n=r.cy.svg(e),t=window.document.createElement("a");t.setAttribute("href","data:image/svg+xml;base64,"+btoa(n)),t.setAttribute("download","Error_Correction_Zoo_Code_Graph.svg"),t.click()};return(0,Lc.jsxs)("div",{className:"EczCodeGraphControlsComponent",children:[(0,Lc.jsxs)("div",{children:[(0,Lc.jsx)("input",{type:"range",min:-2.3,max:2.3,step:.01,value:Math.log(f),onChange:function(e){return r=Math.exp(parseFloat(e.target.value)),void p(r);var r}}),(0,Lc.jsx)("button",{onClick:function(){p(1.2*f)},children:"+"}),(0,Lc.jsx)("button",{onClick:function(){p(f/1.2)},children:"-"}),(0,Lc.jsx)("button",{onClick:function(){var e=u.nodes();if("all"===s.displayMode);else{if("isolate-nodes"!==s.displayMode)throw new Error("can't center, don't know display mode = ",s);e=u.collection();var r=!0,n=!1,t=void 0;try{for(var a,i=s.modeIsolateNodesOptions.nodeIds[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var o=a.value;e.merge(u.getElementById(o))}}catch(e){n=!0,t=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw t}}}u.animate({center:{eles:e}},{duration:200})},children:"center"}),(0,Lc.jsx)("button",{onClick:function(){u.animate({fit:!0}),p(u.zoom())},children:"fit"})]}),(0,Lc.jsxs)("div",{children:[(0,Lc.jsx)("input",{type:"checkbox",id:"input_domainColoring",checked:n,onChange:function(e){return t(!!e.target.checked)}}),(0,Lc.jsx)("label",{for:"input_domainColoring",children:"domain colors"}),(0,Lc.jsx)("input",{type:"checkbox",id:"input_cousinEdgesShown",checked:a,onChange:function(e){return i(!!e.target.checked)}}),(0,Lc.jsx)("label",{for:"input_cousinEdgesShown",children:"cousins"}),(0,Lc.jsx)("input",{type:"checkbox",id:"input_secondaryParentEdgesShown",checked:o,onChange:function(e){return l(!!e.target.checked)}}),(0,Lc.jsx)("label",{for:"input_secondaryParentEdgesShown",children:"secondary parents"})]}),(0,Lc.jsxs)("div",{children:[(0,Lc.jsxs)("div",{children:[(0,Lc.jsx)("button",{disabled:"isolate-nodes"!==s.displayMode,onClick:function(){_({displayMode:"all"})},children:"back"}),(0,Lc.jsx)("button",{disabled:"isolate-nodes"!==s.displayMode,onClick:function(){_({modeIsolateNodesOptions:{redoLayout:!0}})},children:"relayout"}),(0,Lc.jsx)("span",{children:" "}),(0,Lc.jsx)("label",{for:"input_modeIsolateNodesDisplayRange",children:"tree:"}),(0,Lc.jsx)("input",{type:"range",id:"input_modeIsolateNodesDisplayRange",disabled:"isolate-nodes"!==s.displayMode,min:0,max:16,step:1,value:g,onChange:function(e){return v(parseFloat(e.target.value))}})]}),(0,Lc.jsxs)("div",{children:[(0,Lc.jsx)("input",{type:"checkbox",id:"input_modeIsolateNodesAddSecondary",disabled:"isolate-nodes"!==s.displayMode,checked:w,onChange:function(e){return y(!!e.target.checked)}}),(0,Lc.jsx)("label",{for:"input_modeIsolateNodesAddSecondary",children:"expand with secondary step"})]})]}),(0,Lc.jsxs)("div",{children:[(0,Lc.jsx)("input",{type:"text",id:"input_searchGraphNodes",placeholder:"search",value:b,onChange:function(e){return r=e.target.value,void x(r);var r}}),(0,Lc.jsx)("button",{onClick:function(){x("")},children:"clear"})]}),(0,Lc.jsx)("button",{onClick:function(){return S({full:!0})},children:"SVG full"}),(0,Lc.jsx)("button",{onClick:function(){return S({full:!1})},children:"SVG snapshot"})]})}function Yc(e){var r,t,a,i,o=e.eczCodeGraph,s=e.matchWebPageFonts,_=e.onLayoutDone,u=o.eczoodb,c=(0,jc.useRef)(null),f=(0,jc.useRef)(null),h=d((0,jc.useState)(!1),2),g=h[0],v=h[1],m={};r=d((0,jc.useState)(o.domainColoring()),2),m.domainColoring=r[0],m.setDomainColoring=r[1],(0,jc.useEffect)((function(){o.setDomainColoring(m.domainColoring)}),[m.domainColoring]),t=d((0,jc.useState)(o.cousinEdgesShown()),2),m.cousinEdgesShown=t[0],m.setCousinEdgesShown=t[1],(0,jc.useEffect)((function(){o.setCousinEdgesShown(m.cousinEdgesShown)}),[m.cousinEdgesShown]),a=d((0,jc.useState)(o.secondaryParentEdgesShown()),2),m.secondaryParentEdgesShown=a[0],m.setSecondaryParentEdgesShown=a[1],(0,jc.useEffect)((function(){o.setSecondaryParentEdgesShown(m.secondaryParentEdgesShown)}),[m.secondaryParentEdgesShown]),i=d((0,jc.useState)({displayMode:o.displayMode(),modeIsolateNodesOptions:o.modeIsolateNodesOptions()}),2),m.displayModeWithOptions=i[0],m.setDisplayModeWithOptions=i[1],(0,jc.useEffect)((function(){var e,r=(e=l((function(){return p(this,(function(e){switch(e.label){case 0:return $c("Updating graph's displayMode&Options -> ",m.displayModeWithOptions),o.setDisplayMode(m.displayModeWithOptions.displayMode,m.displayModeWithOptions),[4,o.layout({animate:!0})];case 1:return e.sent(),null==_||_(),[2]}}))})),function(){return e.apply(this,arguments)});r()}),[m.displayModeWithOptions]);var w=function(e){var r=e.nodeId,t=e.codeId,a=e.kingdomId,i=e.domainId;if(e.background)m.setDisplayModeWithOptions(n(R).merge({},m.displayModeWithOptions,{displayMode:"all"}));else{i&&(r=o.getNodeIdDomain(i)),a&&(t=u.objects.kingdom[a].kingdom_code.code_id),t&&(r=o.getNodeIdCode(t)),m.setDisplayModeWithOptions(n(R).merge({},m.displayModeWithOptions,{displayMode:"isolate-nodes",modeIsolateNodesOptions:{nodeIds:[r],redoLayout:!1}}));var l=o.cy,s=l.getElementById(r),_=s.renderedPosition();(_.x<0||_.y<0||_.x>l.width()||_.y>l.height())&&l.animate({center:{eles:s}},{duration:400})}};(0,jc.useLayoutEffect)((function(){g||(o.mountInDom(c.current,{matchWebPageFonts:s,window:window}),o.cy.on("tap",(function(e){var r=e.target;if($c("Tap! eventTarget = ",r),!r||!r.isNode)return $c("Unknown or non-node tap target."),void w({background:!0});if(r.isEdge()){var n=o.cy;n.animate({fit:{eles:r,padding:Math.min(n.width(),n.height())/6}})}else{if(r.isNode()){var t=r;return $c("Tapped node ".concat(t.id())),void w({nodeId:t.id()})}$c("Unknown click target ??!")}})),o.layout({animate:!0}).then((function(){return v(!0)})))})),(0,jc.useEffect)((function(){if(g){m.displayModeWithOptions.displayMode;$c("effect hook for diplayModeWithOptions",m.displayModeWithOptions),o.setDisplayMode(m.displayMode,m.displayModeWithOptions),o.layout()}}),[m.diplayModeWithOptions]),$c("Rendering components. displayModeWithOptions=",m.displayModeWithOptions);var y=null,k=null;if("isolate-nodes"===m.displayModeWithOptions.displayMode){var b=m.displayModeWithOptions.modeIsolateNodesOptions.nodeIds;if(b&&1===b.length){var x=b[0],P=o.cy.getElementById(x).data()._codeId,O=o.cy.getElementById(x).data()._domainId;null!=P&&(y=u.objects.code[P]),null!=O&&(k=u.objects.domain[O])}}return(0,Lc.jsxs)("div",{className:"EczCodeGraphComponent",children:[(0,Lc.jsx)("div",{ref:f,className:"EczCodeGraphComponent_CyPanel",children:(0,Lc.jsx)("div",{ref:c,className:"EczCodeGraphComponent_Cy"})}),(0,Lc.jsxs)("div",{className:"EczCodeGraphComponent_SidePanel",children:[(0,Lc.jsx)(Qc,{eczCodeGraph:o,displayModeWithOptions:m.displayModeWithOptions,onChangeDisplayModeWithOptions:function(e){$c("request to set display options -> ",e),m.setDisplayModeWithOptions(n(R).merge({},m.displayModeWithOptions,e))},domainColoring:m.domainColoring,onChangeDomainColoring:m.setDomainColoring,cousinEdgesShown:m.cousinEdgesShown,onChangeCousinEdgesShown:m.setCousinEdgesShown,secondaryParentEdgesShown:m.secondaryParentEdgesShown,onChangeSecondaryParentEdgesShown:m.setSecondaryParentEdgesShown}),(0,Lc.jsx)(Hc,{eczoodb:u,currentCodeSelected:y,currentDomainSelected:k,captureLinksToObjectTypes:["code","domain","kingdom"],onLinkToObjectActivated:function(e,r){if($c("Link to object clicked: ",{objectType:e,objectId:r}),"code"===e)w({codeId:r});else if("kingdom"===e)w({kingdomId:r});else{if("domain"!==e)throw new Error("I don't know what to do with click on ".concat(object_type));w({domainId:r})}}})]})]})}function Xc(e){return new ie}var Zc,Kc,Jc={},ef={},rf={};Kc=function(){this.__data__=[],this.size=0};var nf,tf={},af={};af=function(e,r){return e===r||e!=e&&r!=r},tf=function(e,r){for(var n=e.length;n--;)if(af(e[n][0],r))return n;return-1};var of=Array.prototype.splice;nf=function(e){var r=this.__data__,n=tf(r,e);return!(n<0)&&(n==r.length-1?r.pop():of.call(r,n,1),--this.size,!0)};var lf;lf=function(e){var r=this.__data__,n=tf(r,e);return n<0?void 0:r[n][1]};var sf;sf=function(e){return tf(this.__data__,e)>-1};var _f;function uf(e){var r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var t=e[r];this.set(t[0],t[1])}}_f=function(e,r){var n=this.__data__,t=tf(n,e);return t<0?(++this.size,n.push([e,r])):n[t][1]=r,this},uf.prototype.clear=Kc,uf.prototype.delete=nf,uf.prototype.get=lf,uf.prototype.has=sf,uf.prototype.set=_f,rf=uf;var cf;cf=function(){this.__data__=new rf,this.size=0};var ff;ff=function(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n};var df;df=function(e){return this.__data__.get(e)};var pf;pf=function(e){return this.__data__.has(e)};var hf,gf,vf,mf={},wf={},yf={},kf={};vf=(Vf=i("aBh4o")).Symbol;var bf={},xf=Object.prototype,Pf=xf.hasOwnProperty,Of=xf.toString,Sf=vf?vf.toStringTag:void 0;bf=function(e){var r=Pf.call(e,Sf),n=e[Sf];try{e[Sf]=void 0;var t=!0}catch(e){}var a=Of.call(e);return t&&(r?e[Sf]=n:delete e[Sf]),a};var Ef={},Cf=Object.prototype.toString;Ef=function(e){return Cf.call(e)};var Lf=vf?vf.toStringTag:void 0;kf=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Lf&&Lf in Object(e)?bf(e):Ef(e)};var jf={};$=i("3Ie7j");jf=function(e){var r=void 0===e?"undefined":(0,$.default)(e);return null!=e&&("object"==r||"function"==r)};yf=function(e){if(!jf(e))return!1;var r=kf(e);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r};var Nf,zf,Tf={},Mf=(Vf=i("aBh4o"))["__core-js_shared__"],If=(zf=/[^.]+$/.exec((Nf=Mf)&&Nf.keys&&Nf.keys.IE_PROTO||""))?"Symbol(src)_1."+zf:"";Tf=function(e){return!!If&&If in e};var Rf={},Df=Function.prototype.toString;Rf=function(e){if(null!=e){try{return Df.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var Af=/^\[object .+?Constructor\]$/,qf=Function.prototype,Ff=Object.prototype,Uf=qf.toString,Bf=Ff.hasOwnProperty,Gf=RegExp("^"+Uf.call(Bf).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");wf=function(e){return!(!jf(e)||Tf(e))&&(yf(e)?Gf:Af).test(Rf(e))};var Wf={};Wf=function(e,r){return null==e?void 0:e[r]},mf=function(e,r){var n=Wf(e,r);return wf(n)?n:void 0};var Vf=i("aBh4o"),Hf=mf(Vf,"Map");gf=Hf;var $f,Qf,Yf={},Xf={},Zf={},Kf=mf(Object,"create");Zf=Kf,Qf=function(){this.__data__=Zf?Zf(null):{},this.size=0};var Jf;Jf=function(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r};var ed,rd=Object.prototype.hasOwnProperty;ed=function(e){var r=this.__data__;if(Zf){var n=r[e];return"__lodash_hash_undefined__"===n?void 0:n}return rd.call(r,e)?r[e]:void 0};var nd,td=Object.prototype.hasOwnProperty;nd=function(e){var r=this.__data__;return Zf?void 0!==r[e]:td.call(r,e)};var ad;function id(e){var r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var t=e[r];this.set(t[0],t[1])}}ad=function(e,r){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Zf&&void 0===r?"__lodash_hash_undefined__":r,this},id.prototype.clear=Qf,id.prototype.delete=Jf,id.prototype.get=ed,id.prototype.has=nd,id.prototype.set=ad,Xf=id,$f=function(){this.size=0,this.__data__={hash:new Xf,map:new(gf||rf),string:new Xf}};var od,ld={},sd={};$=i("3Ie7j");sd=function(e){var r=void 0===e?"undefined":(0,$.default)(e);return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e},ld=function(e,r){var n=e.__data__;return sd(r)?n["string"==typeof r?"string":"hash"]:n.map},od=function(e){var r=ld(this,e).delete(e);return this.size-=r?1:0,r};var _d;_d=function(e){return ld(this,e).get(e)};var ud;ud=function(e){return ld(this,e).has(e)};var cd;function fd(e){var r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var t=e[r];this.set(t[0],t[1])}}cd=function(e,r){var n=ld(this,e),t=n.size;return n.set(e,r),this.size+=n.size==t?0:1,this},fd.prototype.clear=$f,fd.prototype.delete=od,fd.prototype.get=_d,fd.prototype.has=ud,fd.prototype.set=cd,Yf=fd;function dd(e){var r=this.__data__=new rf(e);this.size=r.size}hf=function(e,r){var n=this.__data__;if(n instanceof rf){var t=n.__data__;if(!gf||t.length<199)return t.push([e,r]),this.size=++n.size,this;n=this.__data__=new Yf(t)}return n.set(e,r),this.size=n.size,this},dd.prototype.clear=cf,dd.prototype.delete=ff,dd.prototype.get=df,dd.prototype.has=pf,dd.prototype.set=hf,ef=dd;var pd={},hd={},gd={},vd=function(){try{var e=mf(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();gd=vd,hd=function(e,r,n){"__proto__"==r&&gd?gd(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n},pd=function(e,r,n){(void 0!==n&&!af(e[r],n)||void 0===n&&!(r in e))&&hd(e,r,n)};var md={},wd={};wd=function(e){return function(r,n,t){for(var a=-1,i=Object(r),o=t(r),l=o.length;l--;){var s=o[e?l:++a];if(!1===n(i[s],s,i))break}return r}};var yd=wd();md=yd;var kd={},bd=i("8XwGc"),xd={},Pd={},Od={},Sd=(Vf=i("aBh4o")).Uint8Array;Od=Sd,Pd=function(e){var r=new e.constructor(e.byteLength);return new Od(r).set(new Od(e)),r},xd=function(e,r){var n=r?Pd(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Ed={};Ed=function(e,r){var n=-1,t=e.length;for(r||(r=Array(t));++n<t;)r[n]=e[n];return r};var Cd,Ld={},jd={},Nd=Object.create,zd=(Cd=function(){},function(e){if(!jf(e))return{};if(Nd)return Nd(e);Cd.prototype=e;var r=new Cd;return Cd.prototype=void 0,r});jd=zd;var Td={};var Md=function(e,r){return function(n){return e(r(n))}}(Object.getPrototypeOf,Object);Td=Md;var Id={},Rd=Object.prototype;Id=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||Rd)},Ld=function(e){return"function"!=typeof e.constructor||Id(e)?{}:jd(Td(e))};var Dd={},Ad={},qd={};qd=function(e){return null!=e&&"object"==typeof e};Ad=function(e){return qd(e)&&"[object Arguments]"==kf(e)};var Fd=Object.prototype,Ud=Fd.hasOwnProperty,Bd=Fd.propertyIsEnumerable,Gd=Ad(function(){return arguments}())?Ad:function(e){return qd(e)&&Ud.call(e,"callee")&&!Bd.call(e,"callee")};Dd=Gd;var Wd={},Vd=Array.isArray;Wd=Vd;var Hd={},$d={},Qd={};Qd=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},$d=function(e){return null!=e&&Qd(e.length)&&!yf(e)},Hd=function(e){return qd(e)&&$d(e)};var Yd=i("c065E"),Xd={},Zd=Function.prototype,Kd=Object.prototype,Jd=Zd.toString,ep=Kd.hasOwnProperty,rp=Jd.call(Object);Xd=function(e){if(!qd(e)||"[object Object]"!=kf(e))return!1;var r=Td(e);if(null===r)return!0;var n=ep.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&Jd.call(n)==rp};var np,tp={},ap={};ap["[object Float32Array]"]=ap["[object Float64Array]"]=ap["[object Int8Array]"]=ap["[object Int16Array]"]=ap["[object Int32Array]"]=ap["[object Uint8Array]"]=ap["[object Uint8ClampedArray]"]=ap["[object Uint16Array]"]=ap["[object Uint32Array]"]=!0,ap["[object Arguments]"]=ap["[object Array]"]=ap["[object ArrayBuffer]"]=ap["[object Boolean]"]=ap["[object DataView]"]=ap["[object Date]"]=ap["[object Error]"]=ap["[object Function]"]=ap["[object Map]"]=ap["[object Number]"]=ap["[object Object]"]=ap["[object RegExp]"]=ap["[object Set]"]=ap["[object String]"]=ap["[object WeakMap]"]=!1,np=function(e){return qd(e)&&Qd(e.length)&&!!ap[kf(e)]};var ip={};ip=function(e){return function(r){return e(r)}};var op=i("iJh8n"),lp=op&&op.isTypedArray,sp=lp?ip(lp):np;tp=sp;var _p={};_p=function(e,r){if(("constructor"!==r||"function"!=typeof e[r])&&"__proto__"!=r)return e[r]};var up={},cp={},fp={},dp=Object.prototype.hasOwnProperty;fp=function(e,r,n){var t=e[r];dp.call(e,r)&&af(t,n)&&(void 0!==n||r in e)||hd(e,r,n)},cp=function(e,r,n,t){var a=!n;n||(n={});for(var i=-1,o=r.length;++i<o;){var l=r[i],s=t?t(n[l],e[l],l,n,e):void 0;void 0===s&&(s=e[l]),a?hd(n,l,s):fp(n,l,s)}return n};var pp={},hp={},gp={};gp=function(e,r){for(var n=-1,t=Array(e);++n<e;)t[n]=r(n);return t};Yd=i("c065E");var vp={},mp=($=i("3Ie7j"),/^(?:0|[1-9]\d*)$/);vp=function(e,r){var n=void 0===e?"undefined":(0,$.default)(e);return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&mp.test(e))&&e>-1&&e%1==0&&e<r};var wp=Object.prototype.hasOwnProperty;hp=function(e,r){var n=Wd(e),t=!n&&Dd(e),a=!n&&!t&&Yd(e),i=!n&&!t&&!a&&tp(e),o=n||t||a||i,l=o?gp(e.length,String):[],s=l.length;for(var _ in e)!r&&!wp.call(e,_)||o&&("length"==_||a&&("offset"==_||"parent"==_)||i&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||vp(_,s))||l.push(_);return l};var yp={},kp={};kp=function(e){var r=[];if(null!=e)for(var n in Object(e))r.push(n);return r};var bp=Object.prototype.hasOwnProperty;yp=function(e){if(!jf(e))return kp(e);var r=Id(e),n=[];for(var t in e)("constructor"!=t||!r&&bp.call(e,t))&&n.push(t);return n},pp=function(e){return $d(e)?hp(e,!0):yp(e)},up=function(e){return cp(e,pp(e))},kd=function(e,r,n,t,a,i,o){var l=_p(e,n),s=_p(r,n),_=o.get(s);if(_)pd(e,n,_);else{var u=i?i(l,s,n+"",e,r,o):void 0,c=void 0===u;if(c){var f=Wd(s),d=!f&&Yd(s),p=!f&&!d&&tp(s);u=s,f||d||p?Wd(l)?u=l:Hd(l)?u=Ed(l):d?(c=!1,u=bd(s,!0)):p?(c=!1,u=xd(s,!0)):u=[]:Xd(s)||Dd(s)?(u=l,Dd(l)?u=up(l):jf(l)&&!yf(l)||(u=Ld(s))):c=!1}c&&(o.set(s,u),a(u,s,t,i,o),o.delete(s)),pd(e,n,u)}},Jc=function e(r,n,t,a,i){r!==n&&md(n,(function(o,l){if(i||(i=new ef),jf(o))kd(r,n,l,t,e,a,i);else{var s=a?a(_p(r,l),o,l+"",r,n,i):void 0;void 0===s&&(s=o),pd(r,l,s)}}),pp)};var xp,Pp={},Op={};xp=function(e){return e};var Sp={},Ep={};Ep=function(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)};var Cp=Math.max;Sp=function(e,r,n){return r=Cp(void 0===r?e.length-1:r,0),function(){for(var t=arguments,a=-1,i=Cp(t.length-r,0),o=Array(i);++a<i;)o[a]=t[r+a];a=-1;for(var l=Array(r+1);++a<r;)l[a]=t[a];return l[r]=n(o),Ep(e,this,l)}};var Lp,jp={},Np={};Np=function(e){return function(){return e}},Lp=gd?function(e,r){return gd(e,"toString",{configurable:!0,enumerable:!1,value:Np(r),writable:!0})}:xp;var zp={},Tp=Date.now;zp=function(e){var r=0,n=0;return function(){var t=Tp(),a=16-(t-n);if(n=t,a>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}};var Mp=zp(Lp);jp=Mp,Op=function(e,r){return jp(Sp(e,r,xp),e+"")};var Ip={};$=i("3Ie7j");Ip=function(e,r,n){if(!jf(n))return!1;var t=void 0===r?"undefined":(0,$.default)(r);return!!("number"==t?$d(n)&&vp(r,n.length):"string"==t&&r in n)&&af(n[r],e)},Pp=function(e){return Op((function(r,n){var t=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,o&&Ip(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),r=Object(r);++t<a;){var l=n[t];l&&e(r,l,t,i)}return r}))};var Rp=Pp((function(e,r,n){Jc(e,r,n)}));Zc=Rp;var Dp=n(m)("zoodb.std.use_llm_environment");function Ap(e){var r,t,a,i=n(Zc)({},null!==(a=e.config.zoo_llm_environment_options)&&void 0!==a?a:{}),o=new pu(i);return o.ref_resolver.target_href_resolver=function(r,n){return function(e,r,n){var t,a,i=n.zoo_object_permalink,o=null!=e?e:{},l=o.target_href,s=o.ref_type,_=o.ref_label;if(null!=l){var u=new URL(l);if("zoodbobjectref:"==u.protocol){var c=d(-1==(a=(t=u.pathname.replace(/^\/+/,"")).indexOf(":"))?[null,t]:[t.slice(0,a),t.slice(a+1)],2);return i(c[0],c[1])+u.hash}return l}throw new Error("Cannot resolve link reference to ".concat(s,":").concat(_,""))}(r,0,{zoo_object_permalink:e.zoo_object_permalink})},(null===(r=e.config.llm_options)||void 0===r?void 0:r.allow_unresolved_references)&&o.feature_refs.add_external_ref_resolver({get_ref:function(e,r,n,t){return Dp("Default ref_resolver called for invalid reference "+"".concat(e,":").concat(r,"")),iu(e,r,"<??>",null)}}),(null===(t=e.config.llm_options)||void 0===t?void 0:t.allow_unresolved_citations)&&o.feature_citations.add_external_citations_provider({get_citation_full_text_llm:function(e,r,n){return Dp("Note: unresolved citation ".concat(e,":").concat(r,"")),"\\begin{verbatimtext}".concat(e,":").concat(r,"\\end{verbatimtext}")}}),o.graphics_collection.src_url_resolver=function(r,n){return{src_url:e.config.zoo_permalinks.graphics_resource(r),srcset:undefined}},e.$$kw=sn,o}var qp,Fp,Up={object:function(e,r){if("code"===e)return"/c/".concat(r);if("domain"===e)return"/domain/".concat(r);if("kingdom"===e)return"/kingdom/".concat(r);if("user"===e)return"/team#u-".concat(r);if("codelist"===e)return"all"===r?"/all":"/list/".concat(r);throw new Error("Unknown object type ".concat(e,""))},graphics_resource:function(e){return"/fig/".concat(e.src_url)}},Bp=n(m)("zoodb._zoodb"),Gp=function(){"use strict";function e(r){var n=r.processors;T(this,e),this.processors=null!=n?n:[],this.processors_initialized=!1;var t=!0,a=!1,i=void 0;try{for(var o,l=this.processors[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){o.value.install_zoo(this)}}catch(e){a=!0,i=e}finally{try{t||null==l.return||l.return()}finally{if(a)throw i}}this.raw_data_db={}}return I(e,[{key:"schema",value:function(e){if(!this.db.schemas.hasOwnProperty(e))throw new Error("No zoo schema associated with object type ".concat(e,""));return this.db.schemas[e]}},{key:"object_types",get:function(){return Object.keys(this.db.objects)}},{key:"schemas",get:function(){return this.db.schemas}},{key:"objects",get:function(){return this.db.objects}},{key:"data_dump",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={db:this.db},n=!0,t=!1,a=void 0;try{for(var i,o=Array.from(this.processors).reverse()[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;r=l.process_data_dump(r,e)}}catch(e){t=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(t)throw a}}return r}},{key:"raw_data_db_dump",value:function(){return{db:this.raw_data_db}}},{key:"load_data",value:function(e){var r=this;return l((function(){var n,t,a,i,o,l,s,_,u,c,f;return p(this,(function(d){switch(d.label){case 0:if(Bp("zoodb load_data"),!e||"object"!=typeof e.schemas||"object"!=typeof e.objects)throw new Error("Invalid zoo DB data, expected db.schemas and db.objects to be objects, got "+"db=".concat(e));for(var p in e.objects)if(null==e.schemas[p])throw new Error("Zoo DB data does not have schema for objects of type ".concat(p,""));if(r.db=Object.assign({},e),r._object_types=Object.keys(e.objects),r.raw_data_db=JSON.parse(JSON.stringify(r.db)),r.processors_initialized)return[3,8];r.processors_initialized=!0,n=!0,t=!1,a=void 0,d.label=1;case 1:d.trys.push([1,6,7,8]),i=r.processors[Symbol.iterator](),d.label=2;case 2:return(n=(o=i.next()).done)?[3,5]:[4,o.value.initialize_zoo()];case 3:d.sent(),d.label=4;case 4:return n=!0,[3,2];case 5:return[3,8];case 6:return f=d.sent(),t=!0,a=f,[3,8];case 7:try{n||null==i.return||i.return()}finally{if(t)throw a}return[7];case 8:l=!0,s=!1,_=void 0,d.label=9;case 9:d.trys.push([9,14,15,16]),u=r.processors[Symbol.iterator](),d.label=10;case 10:return(l=(c=u.next()).done)?[3,13]:[4,c.value.process_zoo()];case 11:d.sent(),d.label=12;case 12:return l=!0,[3,10];case 13:return[3,16];case 14:return f=d.sent(),s=!0,_=f,[3,16];case 15:try{l||null==u.return||u.return()}finally{if(s)throw _}return[7];case 16:return Bp("zoodb load_data done."),[2]}}))}))()}},{key:"update_objects",value:function(e){var r=this;return l((function(){var n,t,a,i,o,l,s,_,u,c,f,h,g,v,m,w,y,k,b,x,P,O,S,E,C,L,j,N,z,T,M,I,R,D,A,q,F,U,B,G,W,V;return p(this,(function(p){switch(p.label){case 0:n=!0,t=!1,a=void 0,i=!0,o=!1,l=void 0;try{for(s=Object.entries(e)[Symbol.iterator]();!(i=(_=s.next()).done);i=!0){u=d(_.value,2),c=u[0],f=u[1];try{for(h=Object.entries(f)[Symbol.iterator]();!(n=(g=h.next()).done);n=!0)v=d(g.value,2),m=v[0],v[1],r.raw_data_db.objects[c][m]=JSON.parse(JSON.stringify(e[c][m]))}catch(e){t=!0,a=e}finally{try{n||null==h.return||h.return()}finally{if(t)throw a}}}}catch(e){o=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}w=!0,y=!1,k=void 0,p.label=1;case 1:p.trys.push([1,6,7,8]),b=r.processors[Symbol.iterator](),p.label=2;case 2:return(w=(x=b.next()).done)?[3,5]:[4,x.value.prepare_zoo_update_objects(e)];case 3:p.sent(),p.label=4;case 4:return w=!0,[3,2];case 5:return[3,8];case 6:return V=p.sent(),y=!0,k=V,[3,8];case 7:try{w||null==b.return||b.return()}finally{if(y)throw k}return[7];case 8:P=!0,O=!1,S=void 0,E=!0,C=!1,L=void 0;try{for(j=Object.entries(e)[Symbol.iterator]();!(E=(N=j.next()).done);E=!0){z=d(N.value,2),T=z[0],M=z[1];try{for(I=Object.entries(M)[Symbol.iterator]();!(P=(R=I.next()).done);P=!0)D=d(R.value,2),A=D[0],q=D[1],r.update_object(r.db.objects[T],A,q)}catch(e){O=!0,S=e}finally{try{P||null==I.return||I.return()}finally{if(O)throw S}}}}catch(e){C=!0,L=e}finally{try{E||null==j.return||j.return()}finally{if(C)throw L}}F=!0,U=!1,B=void 0,p.label=9;case 9:p.trys.push([9,14,15,16]),G=r.processors[Symbol.iterator](),p.label=10;case 10:return(F=(W=G.next()).done)?[3,13]:[4,W.value.process_zoo_update_objects(e)];case 11:p.sent(),p.label=12;case 12:return F=!0,[3,10];case 13:return[3,16];case 14:return V=p.sent(),U=!0,B=V,[3,16];case 15:try{F||null==G.return||G.return()}finally{if(U)throw B}return[7];case 16:return[2]}}))}))()}},{key:"update_object",value:function(e,r,n){e[r]=n}}]),e}(),Wp=n(m)("zoodb.std.stdzoodb"),Vp=function(e){"use strict";B(t,e);var r=Y(t);function t(e){var a;T(this,t);var i={};if(i.config=n(Zc)({continue_with_errors:!1,fs:null,fs_data_dir:null,use_relations_populator:null,use_llm_environment:null,zoo_llm_environment_options:null,use_llm_processor:null,llm_options:{refs:{},citations:{csl_style:null,override_arxiv_dois_file:null,preset_bibliography_files:[],default_user_agent:null},allow_unresolved_references:!1,allow_unresolved_citations:!1,resources:{rename_figure_template:null,figure_filename_extensions:null,graphics_resources_fs_data_dir:null,resource_file_extensions:null}},use_searchable_text_processor:null,searchable_text_options:{object_types:[]},zoo_permalinks:null},e),null==i.config.zoo_permalinks)throw new Error("StandardZooDb: The zoo_permalinks: config property is not set");i.zoo_object_permalink=i.config.zoo_permalinks.object,i.zoo_llm_environment=null,i.config.use_llm_environment&&(i.zoo_llm_environment=i.config.use_llm_environment(i)),i.zoodb_processors=[],i.config.use_relations_populator?(i.zoo_relations_populator=i.config.use_relations_populator(i),i.zoodb_processors.push(i.zoo_relations_populator)):i.zoo_relations_populator=null,i.llm_error_policy=i.config.continue_with_errors?"continue":"abort",Wp("llm_error_policy = ".concat(i.llm_error_policy)),i.zoo_llm_processor=null,i.config.use_llm_processor&&(i.zoo_llm_processor=i.config.use_llm_processor(i),i.zoodb_processors.push(i.zoo_llm_processor)),i.searchable_text_processor=null,i.config.use_searchable_text_processor&&(i.searchable_text_processor=i.config.use_searchable_text_processor(i),i.zoodb_processors.push(i.searchable_text_processor)),a=r.call(this,{processors:i.zoodb_processors});var o=!0,l=!1,s=void 0;try{for(var _,u=Object.entries(i)[Symbol.iterator]();!(o=(_=u.next()).done);o=!0){var c=d(_.value,2),f=c[0],p=c[1];a[f]=p}}catch(e){l=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(l)throw s}}return a.zoo_loader=null,a}return I(t,[{key:"install_zoo_loader",value:function(e){this.zoo_loader=e,this.zoo_loader.initialize(this)}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this;return l((function(){return p(this,(function(n){switch(n.label){case 0:if(null==r.zoo_loader)throw new Error("No zoo loader installed, use StandardZooDb#install_zoo_loader()");return[4,r.zoo_loader.load(e)];case 1:return n.sent(),[2]}}))}))()}}]),t}(Gp),Hp=(n(m)("eczoodbjs"),{continue_with_errors:!1,use_relations_populator:null,use_llm_environment:null,zoo_llm_environment_options:null,llm_allow_unresolved_references:!1,llm_allow_unresolved_citations:!1,use_llm_processor:null,llm_options:{refs:{code:{formatted_ref_llm_text_fn:function(e,r){return r.name.llm_text}},user:{formatted_ref_llm_text_fn:function(e,r){return r.name}}},citations:{csl_style:null,override_arxiv_dois_file:"code_extra/override_arxiv_dois.yml",preset_bibliography_files:["code_extra/bib_preset.yml"],default_user_agent:null},resources:{rename_figure_template:null,figure_filename_extensions:null,graphics_resources_fs_data_dir:null}},use_searchable_text_processor:null,searchable_text_options:{object_types:["code"]},zoo_permalinks:Up}),$p=function(e){"use strict";B(t,e);var r=Y(t);function t(e){return T(this,t),r.call(this,n(Zc)({},Hp,e))}return I(t,[{key:"user_earliest_contribution",value:function(e){if(!e.zoo_contributions||!e.zoo_contributions.code)return null;var r=null,n=!0,t=!1,a=void 0;try{for(var i,o=e.zoo_contributions.code[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value,s=new Date(l.date);(null===r||s-r<0)&&(r=s)}}catch(e){t=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(t)throw a}}return r}},{key:"code_short_name",value:function(e){if(null!=e.short_name&&""!==e.short_name)return e.short_name;var r=e.name,n=null;return this.config.use_llm_processor&&(r=r.llm_text),r.endsWith(" code")&&(n=r.slice(0,-5)),null!==n?this.config.use_llm_processor?this.zoo_llm_environment.make_fragment(n,this.$$kw({what:"".concat(e.name.what," (short)"),resource_info:e._zoodb.resource_info,standalone_mode:!0})):n:e.name}},{key:"code_visit_relations",value:function(e,r){var n=r.relation_properties,t=r.callback,a=r.only_first_relation,i=r.predicate_relation,o=[e],l={};for(l[e.code_id]=!0;o.length;){var s=o.shift();if(!0===t(s))return;var _=!0,u=!1,c=void 0;try{for(var f,d=n[Symbol.iterator]();!(_=(f=d.next()).done);_=!0){var p=f.value;if(s.relations&&s.relations[p]){var h=s.relations[p];a&&(h=h.slice(0,1));var g=!0,v=!1,m=void 0;try{for(var w,y=h[Symbol.iterator]();!(g=(w=y.next()).done);g=!0){var k=w.value;if(null==i||!i(s,k)){var b=k.code_id;l[b]||(l[b]=!0,o.push(this.objects.code[b]))}}}catch(e){v=!0,m=e}finally{try{g||null==y.return||y.return()}finally{if(v)throw m}}}}}catch(e){u=!0,c=e}finally{try{_||null==d.return||d.return()}finally{if(u)throw c}}}}},{key:"code_is_descendant_of",value:function(e,r){var n=!1;return this.code_visit_relations(e,{relation_properties:["parents"],callback:function(e){if(e.code_id===r)return n=!0,!0}}),n}},{key:"code_is_cousin_of",value:function(e,r){if(e.relations)for(var n=!0,t=!1,a=void 0,i=0,o=["cousins","cousin_of"];i<o.length;i++){var l=o[i];try{for(var s,_=(e.relations[l]||[])[Symbol.iterator]();!(n=(s=_.next()).done);n=!0){if(s.value.code_id===r)return!0}}catch(e){t=!0,a=e}finally{try{n||null==_.return||_.return()}finally{if(t)throw a}}}return!1}},{key:"code_parent_domains",value:function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).find_domain_id,n=Object.fromEntries(Object.entries(this.objects.kingdom).map((function(e){var r=d(e,2),n=(r[0],r[1]);return[n.kingdom_code.code_id,n.parent_domain]})));return this.code_visit_relations(e,{relation_properties:["parents"],callback:function(e){var t=n[e.code_id];if(void 0!==t&&domains.push(t),null!=r&&t.domain_id===r)return!0}}),domains}},{key:"code_get_family_tree",value:function(e){var r=[];return this.code_visit_relations(e,{relation_properties:["parent_of"],callback:function(e){r.push(e)}}),r}}]),t}(Vp);jc=i("8XZMw");!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),Fp=i("8vlNu"),qp=Fp.createRoot,Fp.hydrateRoot;var Qp=n(m)("eczoo_site.jscomponents.codegraph.setup");window.addEventListener("load",l((function(){var e,r,t,a,i,o,l,s,_,u,c,f,h,g,v,m,w;return p(this,(function(p){switch(p.label){case 0:return Qp("setup code graph!"),(t=window.document.getElementById("main")).innerHTML="loading ",i=null!==(a=t.dataset.eczoodbDataUrl)&&void 0!==a?a:"/dat/eczoodata.json",l=null!==(o=t.dataset.eczoodbRefsDataUrl)&&void 0!==o?o:"/dat/eczoorefsdata.json",s=null===(e=window.eczData)||void 0===e?void 0:e.eczoodbData,_=null===(r=window.eczData)||void 0===r?void 0:r.eczoodbRefsData,s?[3,2]:(Qp("Downloading the zoo graph data..."),u=fetch(i).then((function(e){return e.json()})),c=fetch(l).then((function(e){return e.json()})),[4,Promise.all([u,c])]);case 1:f=d.apply(void 0,[p.sent(),2]),s=f[0],_=f[1],p.label=2;case 2:return(h=new $p({use_relations_populator:Xc,use_llm_environment:Ap,use_llm_processor:!1,llm_options:{allow_unresolved_references:!0},use_searchable_text_processor:!1,fs:null,continue_with_errors:!0})).zoo_llm_environment.ref_resolver.load_database(_.refs),h.zoo_llm_environment.citations_provider.load_database(_.citations),[4,h.load_data(s.db)];case 3:return p.sent(),g={},v=window.location.hash,Qp({hrefFragment:v}),null!=v&&n(R).merge(g,function(e){var r=null,n=/^#code_(.*)$/.exec(e);if(null!=n){var t=n[1];Qp("Gonna highlight code ".concat(t)),r=xc.getNodeIdCode(t)}var a=/^#domain_(.*)$/.exec(e);if(null!=a){var i=a[1];Qp("Gonna highlight domain ".concat(i)),r=xc.getNodeIdDomain(i)}if(null!=r)return{displayMode:"isolate-nodes",modeIsolateNodesOptions:{nodeIds:[r],redoLayout:!0,range:{parents:{primary:5,secondary:1},children:{primary:2,secondary:1}}}}}(v)),[4,(m=new xc({eczoodb:h,displayOptions:g})).initialize()];case 4:return p.sent(),window.eczCodeGraph=m,Qp("Graph initialized."),w=qp(t),[4,new Promise((function(e){w.render(n(jc).createElement(Yc,{eczCodeGraph:m,onLayoutDone:function(){return e()}},null))}))];case 5:return p.sent(),Qp("Layout done."),[2]}}))})))}();
//# sourceMappingURL=setup.js.map
