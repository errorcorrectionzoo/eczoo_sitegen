!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=r.parcelRequire7e58;function o(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){o(i,n,a,s,l,"next",e)}function l(e){o(i,n,a,s,l,"throw",e)}s(void 0)}))}}function l(e){if(Array.isArray(e))return e}null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},r.parcelRequire7e58=i),i.register("cizm5",(function(e,t){var r=i("fOdIC");e.exports=function(e){var t=function(e,t){var r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r},n=function(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")};function a(e){var r,n,i,o=null;function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(s.enabled){var i=s,o=Number(new Date),l=o-(r||o);i.diff=l,i.prev=r,i.curr=o,r=o,t[0]=a.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var _=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";_++;var n=a.formatters[r];if("function"==typeof n){var o=t[_];e=n.call(i,o),t.splice(_,1),_--}return e})),a.formatArgs.call(i,t);var u=i.log||a.log;u.apply(i,t)}}return s.namespace=e,s.useColors=a.useColors(),s.color=a.selectColor(e),s.extend=t,s.destroy=a.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(n!==a.namespaces&&(n=a.namespaces,i=a.enabled(e)),i)},set:function(e){o=e}}),"function"==typeof a.init&&a.init(s),s}return a.debug=a,a.default=a,a.coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=(0,r.default)(a.names.map(n)).concat((0,r.default)(a.skips.map(n).map((function(e){return"-"+e})))).join(",");return a.enable(""),e},a.enable=function(e){var t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.slice(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=i("90Gbe"),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(t){a[t]=e[t]})),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return a.colors[Math.abs(t)%a.colors.length]},a.enable(a.load()),a}})),i.register("fOdIC",(function(t,r){e(t.exports,"default",(function(){return l}));var n=i("7CaDy"),a=i("8TZNp"),o=i("48THx"),s=i("8X9XF");function l(e){return(0,n.default)(e)||(0,a.default)(e)||(0,s.default)(e)||(0,o.default)()}})),i.register("7CaDy",(function(t,r){e(t.exports,"default",(function(){return a}));var n=i("1GA5j");function a(e){if(Array.isArray(e))return(0,n.default)(e)}})),i.register("1GA5j",(function(t,r){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e(t.exports,"default",(function(){return n}))})),i.register("8TZNp",(function(t,r){function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e(t.exports,"default",(function(){return n}))})),i.register("48THx",(function(t,r){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e(t.exports,"default",(function(){return n}))})),i.register("8X9XF",(function(t,r){e(t.exports,"default",(function(){return a}));var n=i("1GA5j");function a(e,t){if(e){if("string"==typeof e)return(0,n.default)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.default)(e,t):void 0}}})),i.register("90Gbe",(function(e,t){var r=i("3Ie7j"),n=1e3,a=6e4,o=36e5,s=864e5,l=6048e5,_=315576e5;function u(e,t,r,n){var a=t>=1.5*r;return Math.round(e/r)+" "+n+(a?"s":"")}e.exports=function(e,t){t=t||{};var i,c,f=void 0===e?"undefined":(0,r.default)(e);if("string"===f&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*_;case"weeks":case"week":case"w":return r*l;case"days":case"day":case"d":return r*s;case"hours":case"hour":case"hrs":case"hr":case"h":return r*o;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===f&&isFinite(e))return t.long?(i=e,(c=Math.abs(i))>=s?u(i,c,s,"day"):c>=o?u(i,c,o,"hour"):c>=a?u(i,c,a,"minute"):c>=n?u(i,c,n,"second"):i+" ms"):function(e){var t=Math.abs(e);return t>=s?Math.round(e/s)+"d":t>=o?Math.round(e/o)+"h":t>=a?Math.round(e/a)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}})),i.register("3Ie7j",(function(t,r){function n(e){return e&&e.constructor===Symbol?"symbol":typeof e}e(t.exports,"default",(function(){return n}))})),i.register("5tGeu",(function(e,t){var r;e.exports,r=function(e){return function(){"use strict";var t={45:function(e,t,r){var n={};n.layoutBase=r(551),n.CoSEConstants=r(806),n.CoSEEdge=r(767),n.CoSEGraph=r(880),n.CoSEGraphManager=r(578),n.CoSELayout=r(765),n.CoSENode=r(991),n.ConstraintHandler=r(902),e.exports=n},806:function(e,t,r){var n=function(){},a=r(551).FDLayoutConstants;for(var i in a)n[i]=a[i];n.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,n.DEFAULT_RADIAL_SEPARATION=a.DEFAULT_EDGE_LENGTH,n.DEFAULT_COMPONENT_SEPERATION=60,n.TILE=!0,n.TILING_PADDING_VERTICAL=10,n.TILING_PADDING_HORIZONTAL=10,n.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,n.ENFORCE_CONSTRAINTS=!0,n.APPLY_LAYOUT=!0,n.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,n.TREE_REDUCTION_ON_INCREMENTAL=!0,n.PURE_INCREMENTAL=n.DEFAULT_INCREMENTAL,e.exports=n},767:function(e,t,r){var n=function(e,t,r){a.call(this,e,t,r)},a=r(551).FDLayoutEdge;for(var i in n.prototype=Object.create(a.prototype),a)n[i]=a[i];e.exports=n},880:function(e,t,r){var n=function(e,t,r){a.call(this,e,t,r)},a=r(551).LGraph;for(var i in n.prototype=Object.create(a.prototype),a)n[i]=a[i];e.exports=n},578:function(e,t,r){var n=function(e){a.call(this,e)},a=r(551).LGraphManager;for(var i in n.prototype=Object.create(a.prototype),a)n[i]=a[i];e.exports=n},765:function(e,t,r){var n=function(){a.call(this),this.toBeTiled={},this.constraints={}},a=r(551).FDLayout,i=r(578),o=r(880),s=r(991),l=r(767),_=r(806),u=r(902),c=r(551).FDLayoutConstants,f=r(551).LayoutConstants,d=r(551).Point,h=r(551).PointD,p=r(551).DimensionD,g=r(551).Layout,v=r(551).Integer,m=r(551).IGeometry,y=r(551).LGraph,w=r(551).Transform,k=r(551).LinkedList;for(var b in n.prototype=Object.create(a.prototype),a)n[b]=a[b];n.prototype.newGraphManager=function(){var e=new i(this);return this.graphManager=e,e},n.prototype.newGraph=function(e){return new o(null,this.graphManager,e)},n.prototype.newNode=function(e){return new s(this.graphManager,e)},n.prototype.newEdge=function(e){return new l(null,null,e)},n.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.isSubLayout||(_.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=_.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=_.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},n.prototype.initSpringEmbedder=function(){a.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/c.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},n.prototype.layout=function(){return f.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},n.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)_.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),t=new Set(this.getAllNodes()),r=this.nodesWithGravity.filter((function(e){return t.has(e)})),this.graphManager.setAllNodesToApplyGravitation(r));else{var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),r=this.nodesWithGravity.filter((function(e){return t.has(e)}));this.graphManager.setAllNodesToApplyGravitation(r),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(u.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),_.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},n.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter((function(t){return e.has(t)}));this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),_.PURE_INCREMENTAL?this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),_.PURE_INCREMENTAL?this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var r=!this.isTreeGrowing&&!this.isGrowthFinished,n=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(r,n),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},n.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},r=0;r<e.length;r++){var n=e[r].rect,a=e[r].id;t[a]={id:a,x:n.getCenterX(),y:n.getCenterY(),w:n.width,h:n.height}}return t},n.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===c.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},n.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),t=0;t<e.length;t++)e[t].move()},n.prototype.initConstraintVariables=function(){var e=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var t=this.graphManager.getAllNodes(),r=0;r<t.length;r++){var n=t[r];this.idToNodeMap.set(n.id,n)}var a=function t(r){for(var n,a=r.getChild().getNodes(),i=0,o=0;o<a.length;o++)null==(n=a[o]).getChild()?e.fixedNodeSet.has(n.id)&&(i+=100):i+=t(n);return i};if(this.constraints.fixedNodeConstraint)for(this.constraints.fixedNodeConstraint.forEach((function(t){e.fixedNodeSet.add(t.nodeId)})),t=this.graphManager.getAllNodes(),r=0;r<t.length;r++)if(null!=(n=t[r]).getChild()){var i=a(n);i>0&&(n.fixedNodeWeight=i)}if(this.constraints.relativePlacementConstraint){var o=new Map,s=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach((function(t){e.fixedNodesOnHorizontal.add(t),e.fixedNodesOnVertical.add(t)})),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var l=this.constraints.alignmentConstraint.vertical;for(r=0;r<l.length;r++)this.dummyToNodeForVerticalAlignment.set("dummy"+r,[]),l[r].forEach((function(t){o.set(t,"dummy"+r),e.dummyToNodeForVerticalAlignment.get("dummy"+r).push(t),e.fixedNodeSet.has(t)&&e.fixedNodesOnHorizontal.add("dummy"+r)}))}if(this.constraints.alignmentConstraint.horizontal){var u=this.constraints.alignmentConstraint.horizontal;for(r=0;r<u.length;r++)this.dummyToNodeForHorizontalAlignment.set("dummy"+r,[]),u[r].forEach((function(t){s.set(t,"dummy"+r),e.dummyToNodeForHorizontalAlignment.get("dummy"+r).push(t),e.fixedNodeSet.has(t)&&e.fixedNodesOnVertical.add("dummy"+r)}))}}if(_.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(e){var t,r,n;for(n=e.length-1;n>=2*e.length/3;n--)t=Math.floor(Math.random()*(n+1)),r=e[n],e[n]=e[t],e[t]=r;return e},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach((function(t){if(t.left){var r=o.has(t.left)?o.get(t.left):t.left,n=o.has(t.right)?o.get(t.right):t.right;e.nodesInRelativeHorizontal.includes(r)||(e.nodesInRelativeHorizontal.push(r),e.nodeToRelativeConstraintMapHorizontal.set(r,[]),e.dummyToNodeForVerticalAlignment.has(r)?e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(r)[0]).getCenterX()):e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(r).getCenterX())),e.nodesInRelativeHorizontal.includes(n)||(e.nodesInRelativeHorizontal.push(n),e.nodeToRelativeConstraintMapHorizontal.set(n,[]),e.dummyToNodeForVerticalAlignment.has(n)?e.nodeToTempPositionMapHorizontal.set(n,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(n)[0]).getCenterX()):e.nodeToTempPositionMapHorizontal.set(n,e.idToNodeMap.get(n).getCenterX())),e.nodeToRelativeConstraintMapHorizontal.get(r).push({right:n,gap:t.gap}),e.nodeToRelativeConstraintMapHorizontal.get(n).push({left:r,gap:t.gap})}else{var a=s.has(t.top)?s.get(t.top):t.top,i=s.has(t.bottom)?s.get(t.bottom):t.bottom;e.nodesInRelativeVertical.includes(a)||(e.nodesInRelativeVertical.push(a),e.nodeToRelativeConstraintMapVertical.set(a,[]),e.dummyToNodeForHorizontalAlignment.has(a)?e.nodeToTempPositionMapVertical.set(a,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(a)[0]).getCenterY()):e.nodeToTempPositionMapVertical.set(a,e.idToNodeMap.get(a).getCenterY())),e.nodesInRelativeVertical.includes(i)||(e.nodesInRelativeVertical.push(i),e.nodeToRelativeConstraintMapVertical.set(i,[]),e.dummyToNodeForHorizontalAlignment.has(i)?e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(i)[0]).getCenterY()):e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(i).getCenterY())),e.nodeToRelativeConstraintMapVertical.get(a).push({bottom:i,gap:t.gap}),e.nodeToRelativeConstraintMapVertical.get(i).push({top:a,gap:t.gap})}}));else{var c=new Map,f=new Map;this.constraints.relativePlacementConstraint.forEach((function(e){if(e.left){var t=o.has(e.left)?o.get(e.left):e.left,r=o.has(e.right)?o.get(e.right):e.right;c.has(t)?c.get(t).push(r):c.set(t,[r]),c.has(r)?c.get(r).push(t):c.set(r,[t])}else{var n=s.has(e.top)?s.get(e.top):e.top,a=s.has(e.bottom)?s.get(e.bottom):e.bottom;f.has(n)?f.get(n).push(a):f.set(n,[a]),f.has(a)?f.get(a).push(n):f.set(a,[n])}}));var d=function(e,t){var r=[],n=[],a=new k,i=new Set,o=0;return e.forEach((function(s,l){if(!i.has(l)){r[o]=[],n[o]=!1;var _=l;for(a.push(_),i.add(_),r[o].push(_);0!=a.length;)_=a.shift(),t.has(_)&&(n[o]=!0),e.get(_).forEach((function(e){i.has(e)||(a.push(e),i.add(e),r[o].push(e))}));o++}})),{components:r,isFixed:n}},h=d(c,e.fixedNodesOnHorizontal);this.componentsOnHorizontal=h.components,this.fixedComponentsOnHorizontal=h.isFixed;var p=d(f,e.fixedNodesOnVertical);this.componentsOnVertical=p.components,this.fixedComponentsOnVertical=p.isFixed}}},n.prototype.updateDisplacements=function(){var e=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach((function(t){var r=e.idToNodeMap.get(t.nodeId);r.displacementX=0,r.displacementY=0})),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var t=this.constraints.alignmentConstraint.vertical,r=0;r<t.length;r++){for(var n=0,a=0;a<t[r].length;a++){if(this.fixedNodeSet.has(t[r][a])){n=0;break}n+=this.idToNodeMap.get(t[r][a]).displacementX}var i=n/t[r].length;for(a=0;a<t[r].length;a++)this.idToNodeMap.get(t[r][a]).displacementX=i}if(this.constraints.alignmentConstraint.horizontal){var o=this.constraints.alignmentConstraint.horizontal;for(r=0;r<o.length;r++){var s=0;for(a=0;a<o[r].length;a++){if(this.fixedNodeSet.has(o[r][a])){s=0;break}s+=this.idToNodeMap.get(o[r][a]).displacementY}var l=s/o[r].length;for(a=0;a<o[r].length;a++)this.idToNodeMap.get(o[r][a]).displacementY=l}}}if(this.constraints.relativePlacementConstraint)if(_.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach((function(t){if(!e.fixedNodesOnHorizontal.has(t)){var r=0;r=e.dummyToNodeForVerticalAlignment.has(t)?e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(t)[0]).displacementX:e.idToNodeMap.get(t).displacementX,e.nodeToRelativeConstraintMapHorizontal.get(t).forEach((function(n){var a;n.right?(a=e.nodeToTempPositionMapHorizontal.get(n.right)-e.nodeToTempPositionMapHorizontal.get(t)-r)<n.gap&&(r-=n.gap-a):(a=e.nodeToTempPositionMapHorizontal.get(t)-e.nodeToTempPositionMapHorizontal.get(n.left)+r)<n.gap&&(r+=n.gap-a)})),e.nodeToTempPositionMapHorizontal.set(t,e.nodeToTempPositionMapHorizontal.get(t)+r),e.dummyToNodeForVerticalAlignment.has(t)?e.dummyToNodeForVerticalAlignment.get(t).forEach((function(t){e.idToNodeMap.get(t).displacementX=r})):e.idToNodeMap.get(t).displacementX=r}})),this.nodesInRelativeVertical.forEach((function(t){if(!e.fixedNodesOnHorizontal.has(t)){var r=0;r=e.dummyToNodeForHorizontalAlignment.has(t)?e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(t)[0]).displacementY:e.idToNodeMap.get(t).displacementY,e.nodeToRelativeConstraintMapVertical.get(t).forEach((function(n){var a;n.bottom?(a=e.nodeToTempPositionMapVertical.get(n.bottom)-e.nodeToTempPositionMapVertical.get(t)-r)<n.gap&&(r-=n.gap-a):(a=e.nodeToTempPositionMapVertical.get(t)-e.nodeToTempPositionMapVertical.get(n.top)+r)<n.gap&&(r+=n.gap-a)})),e.nodeToTempPositionMapVertical.set(t,e.nodeToTempPositionMapVertical.get(t)+r),e.dummyToNodeForHorizontalAlignment.has(t)?e.dummyToNodeForHorizontalAlignment.get(t).forEach((function(t){e.idToNodeMap.get(t).displacementY=r})):e.idToNodeMap.get(t).displacementY=r}}));else{for(r=0;r<this.componentsOnHorizontal.length;r++){var u=this.componentsOnHorizontal[r];if(this.fixedComponentsOnHorizontal[r])for(a=0;a<u.length;a++)this.dummyToNodeForVerticalAlignment.has(u[a])?this.dummyToNodeForVerticalAlignment.get(u[a]).forEach((function(t){e.idToNodeMap.get(t).displacementX=0})):this.idToNodeMap.get(u[a]).displacementX=0;else{var c=0,f=0;for(a=0;a<u.length;a++)this.dummyToNodeForVerticalAlignment.has(u[a])?(c+=(h=this.dummyToNodeForVerticalAlignment.get(u[a])).length*this.idToNodeMap.get(h[0]).displacementX,f+=h.length):(c+=this.idToNodeMap.get(u[a]).displacementX,f++);var d=c/f;for(a=0;a<u.length;a++)this.dummyToNodeForVerticalAlignment.has(u[a])?this.dummyToNodeForVerticalAlignment.get(u[a]).forEach((function(t){e.idToNodeMap.get(t).displacementX=d})):this.idToNodeMap.get(u[a]).displacementX=d}}for(r=0;r<this.componentsOnVertical.length;r++)if(u=this.componentsOnVertical[r],this.fixedComponentsOnVertical[r])for(a=0;a<u.length;a++)this.dummyToNodeForHorizontalAlignment.has(u[a])?this.dummyToNodeForHorizontalAlignment.get(u[a]).forEach((function(t){e.idToNodeMap.get(t).displacementY=0})):this.idToNodeMap.get(u[a]).displacementY=0;else{for(c=0,f=0,a=0;a<u.length;a++)if(this.dummyToNodeForHorizontalAlignment.has(u[a])){var h;c+=(h=this.dummyToNodeForHorizontalAlignment.get(u[a])).length*this.idToNodeMap.get(h[0]).displacementY,f+=h.length}else c+=this.idToNodeMap.get(u[a]).displacementY,f++;for(d=c/f,a=0;a<u.length;a++)this.dummyToNodeForHorizontalAlignment.has(u[a])?this.dummyToNodeForHorizontalAlignment.get(u[a]).forEach((function(t){e.idToNodeMap.get(t).displacementY=d})):this.idToNodeMap.get(u[a]).displacementY=d}}},n.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,r=[],n=this.graphManager.getGraphs(),a=n.length;for(t=0;t<a;t++)(e=n[t]).updateConnected(),e.isConnected||(r=r.concat(e.getNodes()));return r},n.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,r=new Set;for(t=0;t<e.length;t++){var n=e[t];if(!r.has(n)){var a=n.getSource(),i=n.getTarget();if(a==i)n.getBendpoints().push(new h),n.getBendpoints().push(new h),this.createDummyNodesForBendpoints(n),r.add(n);else{var o=[];if(o=(o=o.concat(a.getEdgeListToNode(i))).concat(i.getEdgeListToNode(a)),!r.has(o[0])){var s;if(o.length>1)for(s=0;s<o.length;s++){var l=o[s];l.getBendpoints().push(new h),this.createDummyNodesForBendpoints(l)}o.forEach((function(e){r.add(e)}))}}}if(r.size==e.length)break}},n.prototype.positionNodesRadially=function(e){for(var t=new d(0,0),r=Math.ceil(Math.sqrt(e.length)),a=0,i=0,o=0,s=new h(0,0),l=0;l<e.length;l++){l%r==0&&(o=0,i=a,0!=l&&(i+=_.DEFAULT_COMPONENT_SEPERATION),a=0);var u=e[l],c=g.findCenterOfTree(u);t.x=o,t.y=i,(s=n.radialLayout(u,c,t)).y>a&&(a=Math.floor(s.y)),o=Math.floor(s.x+_.DEFAULT_COMPONENT_SEPERATION)}this.transform(new h(f.WORLD_CENTER_X-s.x/2,f.WORLD_CENTER_Y-s.y/2))},n.radialLayout=function(e,t,r){var a=Math.max(this.maxDiagonalInTree(e),_.DEFAULT_RADIAL_SEPARATION);n.branchRadialLayout(t,null,0,359,0,a);var i=y.calculateBounds(e),o=new w;o.setDeviceOrgX(i.getMinX()),o.setDeviceOrgY(i.getMinY()),o.setWorldOrgX(r.x),o.setWorldOrgY(r.y);for(var s=0;s<e.length;s++)e[s].transform(o);var l=new h(i.getMaxX(),i.getMaxY());return o.inverseTransformPoint(l)},n.branchRadialLayout=function(e,t,r,a,i,o){var s=(a-r+1)/2;s<0&&(s+=180);var l=(s+r)%360*m.TWO_PI/360,_=(Math.cos(l),i*Math.cos(l)),u=i*Math.sin(l);e.setCenter(_,u);var c=[],f=(c=c.concat(e.getEdges())).length;null!=t&&f--;for(var d,h=0,p=c.length,g=e.getEdgesBetween(t);g.length>1;){var v=g[0];g.splice(0,1);var y=c.indexOf(v);y>=0&&c.splice(y,1),p--,f--}d=null!=t?(c.indexOf(g[0])+1)%p:0;for(var w=Math.abs(a-r)/f,k=d;h!=f;k=++k%p){var b=c[k].getOtherEnd(e);if(b!=t){var x=(r+h*w)%360;n.branchRadialLayout(b,e,x,(x+w)%360,i+o,o),h++}}},n.maxDiagonalInTree=function(e){for(var t=v.MIN_VALUE,r=0;r<e.length;r++){var n=e[r].getDiagonal();n>t&&(t=n)}return t},n.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},n.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var r=[],n=this.graphManager.getAllNodes(),a=0;a<n.length;a++){var i=(o=n[a]).getParent();0!==this.getNodeDegreeWithChildren(o)||null!=i.id&&this.getToBeTiled(i)||r.push(o)}for(a=0;a<r.length;a++){var o,l=(o=r[a]).getParent().id;void 0===t[l]&&(t[l]=[]),t[l]=t[l].concat(o)}Object.keys(t).forEach((function(r){if(t[r].length>1){var n="DummyCompound_"+r;e.memberGroups[n]=t[r];var a=t[r][0].getParent(),i=new s(e.graphManager);i.id=n,i.paddingLeft=a.paddingLeft||0,i.paddingRight=a.paddingRight||0,i.paddingBottom=a.paddingBottom||0,i.paddingTop=a.paddingTop||0,e.idToDummyNode[n]=i;var o=e.getGraphManager().add(e.newGraph(),i),l=a.getChild();l.add(i);for(var _=0;_<t[r].length;_++){var u=t[r][_];l.remove(u),o.add(u)}}}))},n.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var r=0;r<this.compoundOrder.length;r++)t[this.compoundOrder[r].id]=this.compoundOrder[r],e[this.compoundOrder[r].id]=[].concat(this.compoundOrder[r].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[r].getChild()),this.compoundOrder[r].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},n.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach((function(r){var n=e.idToDummyNode[r];if(t[r]=e.tileNodes(e.memberGroups[r],n.paddingLeft+n.paddingRight),n.rect.width=t[r].width,n.rect.height=t[r].height,n.setCenter(t[r].centerX,t[r].centerY),n.labelMarginLeft=0,n.labelMarginTop=0,_.NODE_DIMENSIONS_INCLUDE_LABELS){var a=n.rect.width,i=n.rect.height;n.labelWidth&&("left"==n.labelPosHorizontal?(n.rect.x-=n.labelWidth,n.setWidth(a+n.labelWidth),n.labelMarginLeft=n.labelWidth):"center"==n.labelPosHorizontal&&n.labelWidth>a?(n.rect.x-=(n.labelWidth-a)/2,n.setWidth(n.labelWidth),n.labelMarginLeft=(n.labelWidth-a)/2):"right"==n.labelPosHorizontal&&n.setWidth(a+n.labelWidth)),n.labelHeight&&("top"==n.labelPosVertical?(n.rect.y-=n.labelHeight,n.setHeight(i+n.labelHeight),n.labelMarginTop=n.labelHeight):"center"==n.labelPosVertical&&n.labelHeight>i?(n.rect.y-=(n.labelHeight-i)/2,n.setHeight(n.labelHeight),n.labelMarginTop=(n.labelHeight-i)/2):"bottom"==n.labelPosVertical&&n.setHeight(i+n.labelHeight))}}))},n.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],r=t.id,n=t.paddingLeft,a=t.paddingTop,i=t.labelMarginLeft,o=t.labelMarginTop;this.adjustLocations(this.tiledMemberPack[r],t.rect.x,t.rect.y,n,a,i,o)}},n.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach((function(r){var n=e.idToDummyNode[r],a=n.paddingLeft,i=n.paddingTop,o=n.labelMarginLeft,s=n.labelMarginTop;e.adjustLocations(t[r],n.rect.x,n.rect.y,a,i,o,s)}))},n.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var r=e.getChild();if(null==r)return this.toBeTiled[t]=!1,!1;for(var n=r.getNodes(),a=0;a<n.length;a++){var i=n[a];if(this.getNodeDegree(i)>0)return this.toBeTiled[t]=!1,!1;if(null!=i.getChild()){if(!this.getToBeTiled(i))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[i.id]=!1}return this.toBeTiled[t]=!0,!0},n.prototype.getNodeDegree=function(e){e.id;for(var t=e.getEdges(),r=0,n=0;n<t.length;n++){var a=t[n];a.getSource().id!==a.getTarget().id&&(r+=1)}return r},n.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var r=e.getChild().getNodes(),n=0;n<r.length;n++){var a=r[n];t+=this.getNodeDegreeWithChildren(a)}return t},n.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},n.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var r=e[t];null!=r.getChild()&&this.fillCompexOrderByDFS(r.getChild().getNodes()),this.getToBeTiled(r)&&this.compoundOrder.push(r)}},n.prototype.adjustLocations=function(e,t,r,n,a,i,o){r+=a+o;for(var s=t+=n+i,l=0;l<e.rows.length;l++){var _=e.rows[l];t=s;for(var u=0,c=0;c<_.length;c++){var f=_[c];f.rect.x=t,f.rect.y=r,t+=f.rect.width+e.horizontalPadding,f.rect.height>u&&(u=f.rect.height)}r+=u+e.verticalPadding}},n.prototype.tileCompoundMembers=function(e,t){var r=this;this.tiledMemberPack=[],Object.keys(e).forEach((function(n){var a=t[n];if(r.tiledMemberPack[n]=r.tileNodes(e[n],a.paddingLeft+a.paddingRight),a.rect.width=r.tiledMemberPack[n].width,a.rect.height=r.tiledMemberPack[n].height,a.setCenter(r.tiledMemberPack[n].centerX,r.tiledMemberPack[n].centerY),a.labelMarginLeft=0,a.labelMarginTop=0,_.NODE_DIMENSIONS_INCLUDE_LABELS){var i=a.rect.width,o=a.rect.height;a.labelWidth&&("left"==a.labelPosHorizontal?(a.rect.x-=a.labelWidth,a.setWidth(i+a.labelWidth),a.labelMarginLeft=a.labelWidth):"center"==a.labelPosHorizontal&&a.labelWidth>i?(a.rect.x-=(a.labelWidth-i)/2,a.setWidth(a.labelWidth),a.labelMarginLeft=(a.labelWidth-i)/2):"right"==a.labelPosHorizontal&&a.setWidth(i+a.labelWidth)),a.labelHeight&&("top"==a.labelPosVertical?(a.rect.y-=a.labelHeight,a.setHeight(o+a.labelHeight),a.labelMarginTop=a.labelHeight):"center"==a.labelPosVertical&&a.labelHeight>o?(a.rect.y-=(a.labelHeight-o)/2,a.setHeight(a.labelHeight),a.labelMarginTop=(a.labelHeight-o)/2):"bottom"==a.labelPosVertical&&a.setHeight(o+a.labelHeight))}}))},n.prototype.tileNodes=function(e,t){var r=this.tileNodesByFavoringDim(e,t,!0),n=this.tileNodesByFavoringDim(e,t,!1),a=this.getOrgRatio(r);return this.getOrgRatio(n)<a?n:r},n.prototype.getOrgRatio=function(e){var t=e.width/e.height;return t<1&&(t=1/t),t},n.prototype.calcIdealRowWidth=function(e,t){var r=_.TILING_PADDING_VERTICAL,n=_.TILING_PADDING_HORIZONTAL,a=e.length,i=0,o=0,s=0;e.forEach((function(e){i+=e.getWidth(),o+=e.getHeight(),e.getWidth()>s&&(s=e.getWidth())}));var l,u=i/a,c=o/a,f=Math.pow(r-n,2)+4*(u+n)*(c+r)*a,d=(n-r+Math.sqrt(f))/(2*(u+n));t?(l=Math.ceil(d))==d&&l++:l=Math.floor(d);var h=l*(u+n)-n;return s>h&&(h=s),h+=2*n},n.prototype.tileNodesByFavoringDim=function(e,t,r){var n=_.TILING_PADDING_VERTICAL,a=_.TILING_PADDING_HORIZONTAL,i=_.TILING_COMPARE_BY,o={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:n,horizontalPadding:a,centerX:0,centerY:0};i&&(o.idealRowWidth=this.calcIdealRowWidth(e,r));var s=function(e){return e.rect.width*e.rect.height},l=function(e,t){return s(t)-s(e)};e.sort((function(e,t){var r=l;return o.idealRowWidth?(r=i)(e.id,t.id):r(e,t)}));for(var u=0,c=0,f=0;f<e.length;f++)u+=(d=e[f]).getCenterX(),c+=d.getCenterY();for(o.centerX=u/e.length,o.centerY=c/e.length,f=0;f<e.length;f++){var d=e[f];if(0==o.rows.length)this.insertNodeToRow(o,d,0,t);else if(this.canAddHorizontal(o,d.rect.width,d.rect.height)){var h=o.rows.length-1;o.idealRowWidth||(h=this.getShortestRowIndex(o)),this.insertNodeToRow(o,d,h,t)}else this.insertNodeToRow(o,d,o.rows.length,t);this.shiftToLastRow(o)}return o},n.prototype.insertNodeToRow=function(e,t,r,n){var a=n;r==e.rows.length&&(e.rows.push([]),e.rowWidth.push(a),e.rowHeight.push(0));var i=e.rowWidth[r]+t.rect.width;e.rows[r].length>0&&(i+=e.horizontalPadding),e.rowWidth[r]=i,e.width<i&&(e.width=i);var o=t.rect.height;r>0&&(o+=e.verticalPadding);var s=0;o>e.rowHeight[r]&&(s=e.rowHeight[r],e.rowHeight[r]=o,s=e.rowHeight[r]-s),e.height+=s,e.rows[r].push(t)},n.prototype.getShortestRowIndex=function(e){for(var t=-1,r=Number.MAX_VALUE,n=0;n<e.rows.length;n++)e.rowWidth[n]<r&&(t=n,r=e.rowWidth[n]);return t},n.prototype.getLongestRowIndex=function(e){for(var t=-1,r=Number.MIN_VALUE,n=0;n<e.rows.length;n++)e.rowWidth[n]>r&&(t=n,r=e.rowWidth[n]);return t},n.prototype.canAddHorizontal=function(e,t,r){if(e.idealRowWidth){var n=e.rows.length-1;return e.rowWidth[n]+t+e.horizontalPadding<=e.idealRowWidth}var a=this.getShortestRowIndex(e);if(a<0)return!0;var i=e.rowWidth[a];if(i+e.horizontalPadding+t<=e.width)return!0;var o,s,l=0;return e.rowHeight[a]<r&&a>0&&(l=r+e.verticalPadding-e.rowHeight[a]),o=e.width-i>=t+e.horizontalPadding?(e.height+l)/(i+t+e.horizontalPadding):(e.height+l)/e.width,l=r+e.verticalPadding,(s=e.width<t?(e.height+l)/t:(e.height+l)/e.width)<1&&(s=1/s),o<1&&(o=1/o),o<s},n.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),r=e.rowWidth.length-1,n=e.rows[t],a=n[n.length-1],i=a.width+e.horizontalPadding;if(e.width-e.rowWidth[r]>i&&t!=r){n.splice(-1,1),e.rows[r].push(a),e.rowWidth[t]=e.rowWidth[t]-i,e.rowWidth[r]=e.rowWidth[r]+i,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var o=Number.MIN_VALUE,s=0;s<n.length;s++)n[s].height>o&&(o=n[s].height);t>0&&(o+=e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[r];e.rowHeight[t]=o,e.rowHeight[r]<a.height+e.verticalPadding&&(e.rowHeight[r]=a.height+e.verticalPadding);var _=e.rowHeight[t]+e.rowHeight[r];e.height+=_-l,this.shiftToLastRow(e)}},n.prototype.tilingPreLayout=function(){_.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},n.prototype.tilingPostLayout=function(){_.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},n.prototype.reduceTrees=function(){for(var e,t=[],r=!0;r;){var n=this.graphManager.getAllNodes(),a=[];r=!1;for(var i=0;i<n.length;i++)if(1==(e=n[i]).getEdges().length&&!e.getEdges()[0].isInterGraph&&null==e.getChild()){if(_.PURE_INCREMENTAL){var o=e.getEdges()[0].getOtherEnd(e),s=new p(e.getCenterX()-o.getCenterX(),e.getCenterY()-o.getCenterY());a.push([e,e.getEdges()[0],e.getOwner(),s])}else a.push([e,e.getEdges()[0],e.getOwner()]);r=!0}if(1==r){for(var l=[],u=0;u<a.length;u++)1==a[u][0].getEdges().length&&(l.push(a[u]),a[u][0].getOwner().remove(a[u][0]));t.push(l),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},n.prototype.growTree=function(e){for(var t,r=e[e.length-1],n=0;n<r.length;n++)t=r[n],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},n.prototype.findPlaceforPrunedNode=function(e){var t,r,n=e[0];if(r=n==e[1].source?e[1].target:e[1].source,_.PURE_INCREMENTAL)n.setCenter(r.getCenterX()+e[3].getWidth(),r.getCenterY()+e[3].getHeight());else{var a=r.startX,i=r.finishX,o=r.startY,s=r.finishY,l=[0,0,0,0];if(o>0)for(var u=a;u<=i;u++)l[0]+=this.grid[u][o-1].length+this.grid[u][o].length-1;if(i<this.grid.length-1)for(u=o;u<=s;u++)l[1]+=this.grid[i+1][u].length+this.grid[i][u].length-1;if(s<this.grid[0].length-1)for(u=a;u<=i;u++)l[2]+=this.grid[u][s+1].length+this.grid[u][s].length-1;if(a>0)for(u=o;u<=s;u++)l[3]+=this.grid[a-1][u].length+this.grid[a][u].length-1;for(var f,d,h=v.MAX_VALUE,p=0;p<l.length;p++)l[p]<h?(h=l[p],f=1,d=p):l[p]==h&&f++;if(3==f&&0==h)0==l[0]&&0==l[1]&&0==l[2]?t=1:0==l[0]&&0==l[1]&&0==l[3]?t=0:0==l[0]&&0==l[2]&&0==l[3]?t=3:0==l[1]&&0==l[2]&&0==l[3]&&(t=2);else if(2==f&&0==h){var g=Math.floor(2*Math.random());t=0==l[0]&&0==l[1]?0==g?0:1:0==l[0]&&0==l[2]?0==g?0:2:0==l[0]&&0==l[3]?0==g?0:3:0==l[1]&&0==l[2]?0==g?1:2:0==l[1]&&0==l[3]?0==g?1:3:0==g?2:3}else t=4==f&&0==h?g=Math.floor(4*Math.random()):d;0==t?n.setCenter(r.getCenterX(),r.getCenterY()-r.getHeight()/2-c.DEFAULT_EDGE_LENGTH-n.getHeight()/2):1==t?n.setCenter(r.getCenterX()+r.getWidth()/2+c.DEFAULT_EDGE_LENGTH+n.getWidth()/2,r.getCenterY()):2==t?n.setCenter(r.getCenterX(),r.getCenterY()+r.getHeight()/2+c.DEFAULT_EDGE_LENGTH+n.getHeight()/2):n.setCenter(r.getCenterX()-r.getWidth()/2-c.DEFAULT_EDGE_LENGTH-n.getWidth()/2,r.getCenterY())}},e.exports=n},991:function(e,t,r){var n=function(e,t,r,n){a.call(this,e,t,r,n)},a=r(551).FDLayoutNode,i=r(551).IMath;for(var o in n.prototype=Object.create(a.prototype),a)n[o]=a[o];n.prototype.calculateDisplacement=function(){var e=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},n.prototype.propogateDisplacementToChildren=function(e,t){for(var r,n=this.getChild().getNodes(),a=0;a<n.length;a++)null==(r=n[a]).getChild()?(r.displacementX+=e,r.displacementY+=t):r.propogateDisplacementToChildren(e,t)},n.prototype.move=function(){var e=this.graphManager.getLayout();null!=this.child&&0!=this.child.getNodes().length||(this.moveBy(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},n.prototype.setPred1=function(e){this.pred1=e},n.prototype.getPred1=function(){return pred1},n.prototype.getPred2=function(){return pred2},n.prototype.setNext=function(e){this.next=e},n.prototype.getNext=function(){return next},n.prototype.setProcessed=function(e){this.processed=e},n.prototype.isProcessed=function(){return processed},e.exports=n},902:function(e,t,r){var n=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},a=function(){},i=r(806),o=r(551).LinkedList,s=r(551).Matrix,l=r(551).SVD;a.handleConstraints=function(e){var t={};t.fixedNodeConstraint=e.constraints.fixedNodeConstraint,t.alignmentConstraint=e.constraints.alignmentConstraint,t.relativePlacementConstraint=e.constraints.relativePlacementConstraint;for(var r=new Map,a=new Map,_=[],u=[],c=e.getAllNodes(),f=0,d=0;d<c.length;d++){var h=c[d];null==h.getChild()&&(a.set(h.id,f++),_.push(h.getCenterX()),u.push(h.getCenterY()),r.set(h.id,h))}t.relativePlacementConstraint&&t.relativePlacementConstraint.forEach((function(e){e.gap||0==e.gap||(e.left?e.gap=i.DEFAULT_EDGE_LENGTH+r.get(e.left).getWidth()/2+r.get(e.right).getWidth()/2:e.gap=i.DEFAULT_EDGE_LENGTH+r.get(e.top).getHeight()/2+r.get(e.bottom).getHeight()/2)}));var p=function(e){var t=0,r=0;return e.forEach((function(e){t+=_[a.get(e)],r+=u[a.get(e)]})),{x:t/e.size,y:r/e.size}},g=function(e,t,r,i,s){var l=new Map;e.forEach((function(e,t){l.set(t,0)})),e.forEach((function(e,t){e.forEach((function(e){l.set(e.id,l.get(e.id)+1)}))}));var c=new Map,f=new Map,d=new o;l.forEach((function(e,n){0==e?(d.push(n),r||("horizontal"==t?c.set(n,a.has(n)?_[a.get(n)]:i.get(n)):c.set(n,a.has(n)?u[a.get(n)]:i.get(n)))):c.set(n,Number.NEGATIVE_INFINITY),r&&f.set(n,new Set([n]))})),r&&s.forEach((function(e){var n=[];if(e.forEach((function(e){r.has(e)&&n.push(e)})),n.length>0){var o=0;n.forEach((function(e){"horizontal"==t?(c.set(e,a.has(e)?_[a.get(e)]:i.get(e)),o+=c.get(e)):(c.set(e,a.has(e)?u[a.get(e)]:i.get(e)),o+=c.get(e))})),o/=n.length,e.forEach((function(e){r.has(e)||c.set(e,o)}))}else{var s=0;e.forEach((function(e){s+="horizontal"==t?a.has(e)?_[a.get(e)]:i.get(e):a.has(e)?u[a.get(e)]:i.get(e)})),s/=e.length,e.forEach((function(e){c.set(e,s)}))}}));for(var h=function(){var n=d.shift();e.get(n).forEach((function(e){if(c.get(e.id)<c.get(n)+e.gap)if(r&&r.has(e.id)){var o=void 0;if(o="horizontal"==t?a.has(e.id)?_[a.get(e.id)]:i.get(e.id):a.has(e.id)?u[a.get(e.id)]:i.get(e.id),c.set(e.id,o),o<c.get(n)+e.gap){var s=c.get(n)+e.gap-o;f.get(n).forEach((function(e){c.set(e,c.get(e)-s)}))}}else c.set(e.id,c.get(n)+e.gap);l.set(e.id,l.get(e.id)-1),0==l.get(e.id)&&d.push(e.id),r&&f.set(e.id,function(e,t){var r=new Set(e),n=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;r.add(l)}}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(f.get(n),f.get(e.id)))}))};0!=d.length;)h();if(r){var p=new Set;e.forEach((function(e,t){0==e.length&&p.add(t)}));var g=[];f.forEach((function(e,t){if(p.has(t)){var a=!1,i=!0,o=!1,s=void 0;try{for(var l,_=e[Symbol.iterator]();!(i=(l=_.next()).done);i=!0){var u=l.value;r.has(u)&&(a=!0)}}catch(e){o=!0,s=e}finally{try{!i&&_.return&&_.return()}finally{if(o)throw s}}if(!a){var c=!1,f=void 0;g.forEach((function(t,r){t.has([].concat(n(e))[0])&&(c=!0,f=r)})),c?e.forEach((function(e){g[f].add(e)})):g.push(new Set(e))}}})),g.forEach((function(e,r){var n=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY,f=!0,d=!1,h=void 0;try{for(var p,g=e[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var v=p.value,m=void 0;m="horizontal"==t?a.has(v)?_[a.get(v)]:i.get(v):a.has(v)?u[a.get(v)]:i.get(v);var y=c.get(v);m<n&&(n=m),m>s&&(s=m),y<o&&(o=y),y>l&&(l=y)}}catch(e){d=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(d)throw h}}var w=(n+s)/2-(o+l)/2,k=!0,b=!1,x=void 0;try{for(var O,P=e[Symbol.iterator]();!(k=(O=P.next()).done);k=!0){var E=O.value;c.set(E,c.get(E)+w)}}catch(e){b=!0,x=e}finally{try{!k&&P.return&&P.return()}finally{if(b)throw x}}}))}return c},v=function(e){var t=0,r=0,n=0,i=0;if(e.forEach((function(e){e.left?_[a.get(e.left)]-_[a.get(e.right)]>=0?t++:r++:u[a.get(e.top)]-u[a.get(e.bottom)]>=0?n++:i++})),t>r&&n>i)for(var o=0;o<a.size;o++)_[o]=-1*_[o],u[o]=-1*u[o];else if(t>r)for(var s=0;s<a.size;s++)_[s]=-1*_[s];else if(n>i)for(var l=0;l<a.size;l++)u[l]=-1*u[l]},m=function(e){var t=[],r=new o,n=new Set,a=0;return e.forEach((function(i,o){if(!n.has(o)){t[a]=[];var s=o;for(r.push(s),n.add(s),t[a].push(s);0!=r.length;)s=r.shift(),e.get(s).forEach((function(e){n.has(e.id)||(r.push(e.id),n.add(e.id),t[a].push(e.id))}));a++}})),t},y=function(e){var t=new Map;return e.forEach((function(e,r){t.set(r,[])})),e.forEach((function(e,r){e.forEach((function(e){t.get(r).push(e),t.get(e.id).push({id:r,gap:e.gap,direction:e.direction})}))})),t},w=function(e){var t=new Map;return e.forEach((function(e,r){t.set(r,[])})),e.forEach((function(e,r){e.forEach((function(e){t.get(e.id).push({id:r,gap:e.gap,direction:e.direction})}))})),t},k=[],b=[],x=!1,O=!1,P=new Set,E=new Map,C=new Map,N=[];if(t.fixedNodeConstraint&&t.fixedNodeConstraint.forEach((function(e){P.add(e.nodeId)})),t.relativePlacementConstraint&&(t.relativePlacementConstraint.forEach((function(e){e.left?(E.has(e.left)?E.get(e.left).push({id:e.right,gap:e.gap,direction:"horizontal"}):E.set(e.left,[{id:e.right,gap:e.gap,direction:"horizontal"}]),E.has(e.right)||E.set(e.right,[])):(E.has(e.top)?E.get(e.top).push({id:e.bottom,gap:e.gap,direction:"vertical"}):E.set(e.top,[{id:e.bottom,gap:e.gap,direction:"vertical"}]),E.has(e.bottom)||E.set(e.bottom,[]))})),C=y(E),N=m(C)),i.TRANSFORM_ON_CONSTRAINT_HANDLING){if(t.fixedNodeConstraint&&t.fixedNodeConstraint.length>1)t.fixedNodeConstraint.forEach((function(e,t){k[t]=[e.position.x,e.position.y],b[t]=[_[a.get(e.nodeId)],u[a.get(e.nodeId)]]})),x=!0;else if(t.alignmentConstraint)!function(){var e=0;if(t.alignmentConstraint.vertical){for(var r=t.alignmentConstraint.vertical,i=function(t){var i=new Set;r[t].forEach((function(e){i.add(e)}));var o=new Set([].concat(n(i)).filter((function(e){return P.has(e)}))),s=void 0;s=o.size>0?_[a.get(o.values().next().value)]:p(i).x,r[t].forEach((function(t){k[e]=[s,u[a.get(t)]],b[e]=[_[a.get(t)],u[a.get(t)]],e++}))},o=0;o<r.length;o++)i(o);x=!0}if(t.alignmentConstraint.horizontal){for(var s=t.alignmentConstraint.horizontal,l=function(t){var r=new Set;s[t].forEach((function(e){r.add(e)}));var i=new Set([].concat(n(r)).filter((function(e){return P.has(e)}))),o=void 0;o=i.size>0?_[a.get(i.values().next().value)]:p(r).y,s[t].forEach((function(t){k[e]=[_[a.get(t)],o],b[e]=[_[a.get(t)],u[a.get(t)]],e++}))},c=0;c<s.length;c++)l(c);x=!0}t.relativePlacementConstraint&&(O=!0)}();else if(t.relativePlacementConstraint){for(var S=0,L=0,T=0;T<N.length;T++)N[T].length>S&&(S=N[T].length,L=T);if(S<C.size/2)v(t.relativePlacementConstraint),x=!1,O=!1;else{var A=new Map,M=new Map,I=[];N[L].forEach((function(e){E.get(e).forEach((function(t){"horizontal"==t.direction?(A.has(e)?A.get(e).push(t):A.set(e,[t]),A.has(t.id)||A.set(t.id,[]),I.push({left:e,right:t.id})):(M.has(e)?M.get(e).push(t):M.set(e,[t]),M.has(t.id)||M.set(t.id,[]),I.push({top:e,bottom:t.id}))}))})),v(I),O=!1;var R=g(A,"horizontal"),D=g(M,"vertical");N[L].forEach((function(e,t){b[t]=[_[a.get(e)],u[a.get(e)]],k[t]=[],R.has(e)?k[t][0]=R.get(e):k[t][0]=_[a.get(e)],D.has(e)?k[t][1]=D.get(e):k[t][1]=u[a.get(e)]})),x=!0}}if(x){for(var j,z=s.transpose(k),F=s.transpose(b),G=0;G<z.length;G++)z[G]=s.multGamma(z[G]),F[G]=s.multGamma(F[G]);var U=s.multMat(z,s.transpose(F)),q=l.svd(U);j=s.multMat(q.V,s.transpose(q.U));for(var H=0;H<a.size;H++){var V=[_[H],u[H]],B=[j[0][0],j[1][0]],W=[j[0][1],j[1][1]];_[H]=s.dotProduct(V,B),u[H]=s.dotProduct(V,W)}O&&v(t.relativePlacementConstraint)}}if(i.ENFORCE_CONSTRAINTS){if(t.fixedNodeConstraint&&t.fixedNodeConstraint.length>0){var Y={x:0,y:0};t.fixedNodeConstraint.forEach((function(e,t){var r,n,i={x:_[a.get(e.nodeId)],y:u[a.get(e.nodeId)]},o=e.position,s=(n=i,{x:(r=o).x-n.x,y:r.y-n.y});Y.x+=s.x,Y.y+=s.y})),Y.x/=t.fixedNodeConstraint.length,Y.y/=t.fixedNodeConstraint.length,_.forEach((function(e,t){_[t]+=Y.x})),u.forEach((function(e,t){u[t]+=Y.y})),t.fixedNodeConstraint.forEach((function(e){_[a.get(e.nodeId)]=e.position.x,u[a.get(e.nodeId)]=e.position.y}))}if(t.alignmentConstraint){if(t.alignmentConstraint.vertical)for(var X=t.alignmentConstraint.vertical,$=function(e){var t=new Set;X[e].forEach((function(e){t.add(e)}));var r=new Set([].concat(n(t)).filter((function(e){return P.has(e)}))),i=void 0;i=r.size>0?_[a.get(r.values().next().value)]:p(t).x,t.forEach((function(e){P.has(e)||(_[a.get(e)]=i)}))},Q=0;Q<X.length;Q++)$(Q);if(t.alignmentConstraint.horizontal)for(var Z=t.alignmentConstraint.horizontal,K=function(e){var t=new Set;Z[e].forEach((function(e){t.add(e)}));var r=new Set([].concat(n(t)).filter((function(e){return P.has(e)}))),i=void 0;i=r.size>0?u[a.get(r.values().next().value)]:p(t).y,t.forEach((function(e){P.has(e)||(u[a.get(e)]=i)}))},J=0;J<Z.length;J++)K(J)}t.relativePlacementConstraint&&function(){var e=new Map,r=new Map,n=new Map,i=new Map,o=new Map,s=new Map,l=new Set,c=new Set;if(P.forEach((function(e){l.add(e),c.add(e)})),t.alignmentConstraint){if(t.alignmentConstraint.vertical)for(var f=t.alignmentConstraint.vertical,d=function(t){n.set("dummy"+t,[]),f[t].forEach((function(r){e.set(r,"dummy"+t),n.get("dummy"+t).push(r),P.has(r)&&l.add("dummy"+t)})),o.set("dummy"+t,_[a.get(f[t][0])])},h=0;h<f.length;h++)d(h);if(t.alignmentConstraint.horizontal)for(var p=t.alignmentConstraint.horizontal,v=function(e){i.set("dummy"+e,[]),p[e].forEach((function(t){r.set(t,"dummy"+e),i.get("dummy"+e).push(t),P.has(t)&&c.add("dummy"+e)})),s.set("dummy"+e,u[a.get(p[e][0])])},k=0;k<p.length;k++)v(k)}var b=new Map,x=new Map,O=function(t){E.get(t).forEach((function(n){var a=void 0,i=void 0;"horizontal"==n.direction?(a=e.get(t)?e.get(t):t,i=e.get(n.id)?{id:e.get(n.id),gap:n.gap,direction:n.direction}:n,b.has(a)?b.get(a).push(i):b.set(a,[i]),b.has(i.id)||b.set(i.id,[])):(a=r.get(t)?r.get(t):t,i=r.get(n.id)?{id:r.get(n.id),gap:n.gap,direction:n.direction}:n,x.has(a)?x.get(a).push(i):x.set(a,[i]),x.has(i.id)||x.set(i.id,[]))}))},C=!0,N=!1,S=void 0;try{for(var L,T=E.keys()[Symbol.iterator]();!(C=(L=T.next()).done);C=!0)O(L.value)}catch(e){N=!0,S=e}finally{try{!C&&T.return&&T.return()}finally{if(N)throw S}}var A=y(b),M=y(x),I=m(A),R=m(M),D=w(b),j=w(x),z=[],F=[];I.forEach((function(e,t){z[t]=[],e.forEach((function(e){0==D.get(e).length&&z[t].push(e)}))})),R.forEach((function(e,t){F[t]=[],e.forEach((function(e){0==j.get(e).length&&F[t].push(e)}))}));var G=g(b,"horizontal",l,o,z),U=g(x,"vertical",c,s,F),q=function(e){n.get(e)?n.get(e).forEach((function(t){_[a.get(t)]=G.get(e)})):_[a.get(e)]=G.get(e)},H=!0,V=!1,B=void 0;try{for(var W,Y=G.keys()[Symbol.iterator]();!(H=(W=Y.next()).done);H=!0)q(W.value)}catch(e){V=!0,B=e}finally{try{!H&&Y.return&&Y.return()}finally{if(V)throw B}}var X=function(e){i.get(e)?i.get(e).forEach((function(t){u[a.get(t)]=U.get(e)})):u[a.get(e)]=U.get(e)},$=!0,Q=!1,Z=void 0;try{for(var K,J=U.keys()[Symbol.iterator]();!($=(K=J.next()).done);$=!0)X(K.value)}catch(e){Q=!0,Z=e}finally{try{!$&&J.return&&J.return()}finally{if(Q)throw Z}}}()}for(var ee=0;ee<c.length;ee++){var te=c[ee];null==te.getChild()&&te.setCenter(_[a.get(te.id)],u[a.get(te.id)])}},e.exports=a},551:function(t){t.exports=e}},r={},n=function e(n){var a=r[n];if(void 0!==a)return a.exports;var i=r[n]={exports:{}};return t[n](i,i.exports,e),i.exports}(45);return n}()},e.exports=r(i("7hmwS"))})),i.register("7hmwS",(function(e,t){var r,n=i("3Ie7j");r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=28)}([function(e,t,r){"use strict";var n=function(){};n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_HALF_SIZE=(n.SIMPLE_NODE_SIZE=40)/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.INITIAL_WORLD_BOUNDARY=(n.WORLD_BOUNDARY=1e6)/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,e.exports=n},function(e,t,r){"use strict";var n=function(e,t,r){a.call(this,r),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=r,this.bendpoints=[],this.source=e,this.target=t},a=r(2),i=r(8),o=r(9);for(var s in n.prototype=Object.create(a.prototype),a)n[s]=a[s];n.prototype.getSource=function(){return this.source},n.prototype.getTarget=function(){return this.target},n.prototype.isInterGraph=function(){return this.isInterGraph},n.prototype.getLength=function(){return this.length},n.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},n.prototype.getBendpoints=function(){return this.bendpoints},n.prototype.getLca=function(){return this.lca},n.prototype.getSourceInLca=function(){return this.sourceInLca},n.prototype.getTargetInLca=function(){return this.targetInLca},n.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},n.prototype.getOtherEndInGraph=function(e,t){for(var r=this.getOtherEnd(e),n=t.getGraphManager().getRoot();;){if(r.getOwner()==t)return r;if(r.getOwner()==n)break;r=r.getOwner().getParent()}return null},n.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},n.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=n},function(e,t,r){"use strict";e.exports=function(e){this.vGraphObject=e}},function(e,t,r){"use strict";var n=function(e,t,r,n){null==r&&null==n&&(n=t),a.call(this,n),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=n,this.edges=[],this.graphManager=e,this.rect=null!=r&&null!=t?new o(t.x,t.y,r.width,r.height):new o},a=r(2),i=r(10),o=r(13),s=r(0),l=r(16),_=r(5);for(var u in n.prototype=Object.create(a.prototype),a)n[u]=a[u];n.prototype.getEdges=function(){return this.edges},n.prototype.getChild=function(){return this.child},n.prototype.getOwner=function(){return this.owner},n.prototype.getWidth=function(){return this.rect.width},n.prototype.setWidth=function(e){this.rect.width=e},n.prototype.getHeight=function(){return this.rect.height},n.prototype.setHeight=function(e){this.rect.height=e},n.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},n.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},n.prototype.getCenter=function(){return new _(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},n.prototype.getLocation=function(){return new _(this.rect.x,this.rect.y)},n.prototype.getRect=function(){return this.rect},n.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},n.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},n.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},n.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},n.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},n.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},n.prototype.getEdgeListToNode=function(e){var t=[],r=this;return r.edges.forEach((function(n){if(n.target==e){if(n.source!=r)throw"Incorrect edge source!";t.push(n)}})),t},n.prototype.getEdgesBetween=function(e){var t=[],r=this;return r.edges.forEach((function(n){if(n.source!=r&&n.target!=r)throw"Incorrect edge source and/or target";n.target!=e&&n.source!=e||t.push(n)})),t},n.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach((function(r){if(r.source==t)e.add(r.target);else{if(r.target!=t)throw"Incorrect incidency!";e.add(r.source)}})),e},n.prototype.withChildren=function(){var e=new Set;if(e.add(this),null!=this.child)for(var t=this.child.getNodes(),r=0;r<t.length;r++)t[r].withChildren().forEach((function(t){e.add(t)}));return e},n.prototype.getNoOfChildren=function(){var e=0;if(null==this.child)e=1;else for(var t=this.child.getNodes(),r=0;r<t.length;r++)e+=t[r].getNoOfChildren();return 0==e&&(e=1),e},n.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},n.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},n.prototype.scatter=function(){var e,t,r=-s.INITIAL_WORLD_BOUNDARY,n=s.INITIAL_WORLD_BOUNDARY;e=s.WORLD_CENTER_X+l.nextDouble()*(n-r)+r;var a=-s.INITIAL_WORLD_BOUNDARY,i=s.INITIAL_WORLD_BOUNDARY;t=s.WORLD_CENTER_Y+l.nextDouble()*(i-a)+a,this.rect.x=e,this.rect.y=t},n.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),r=e.getBottom()-e.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(t+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>t?(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(t+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(r+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>r?(this.rect.y-=(this.labelHeight-r)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(r+this.labelHeight))}}},n.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},n.prototype.transform=function(e){var t=this.rect.x;t>s.WORLD_BOUNDARY?t=s.WORLD_BOUNDARY:t<-s.WORLD_BOUNDARY&&(t=-s.WORLD_BOUNDARY);var r=this.rect.y;r>s.WORLD_BOUNDARY?r=s.WORLD_BOUNDARY:r<-s.WORLD_BOUNDARY&&(r=-s.WORLD_BOUNDARY);var n=new _(t,r),a=e.inverseTransformPoint(n);this.setLocation(a.x,a.y)},n.prototype.getLeft=function(){return this.rect.x},n.prototype.getRight=function(){return this.rect.x+this.rect.width},n.prototype.getTop=function(){return this.rect.y},n.prototype.getBottom=function(){return this.rect.y+this.rect.height},n.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=n},function(e,t,r){"use strict";var n=function(){},a=r(0);for(var i in a)n[i]=a[i];n.MAX_ITERATIONS=2500,n.DEFAULT_EDGE_LENGTH=50,n.DEFAULT_SPRING_STRENGTH=.45,n.DEFAULT_REPULSION_STRENGTH=4500,n.DEFAULT_GRAVITY_STRENGTH=.4,n.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,n.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,n.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,n.COOLING_ADAPTATION_FACTOR=.33,n.ADAPTATION_LOWER_NODE_LIMIT=1e3,n.ADAPTATION_UPPER_NODE_LIMIT=5e3,n.MAX_NODE_DISPLACEMENT=3*(n.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),n.MIN_REPULSION_DIST=n.DEFAULT_EDGE_LENGTH/10,n.CONVERGENCE_CHECK_PERIOD=100,n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,n.MIN_EDGE_LENGTH=1,n.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=n},function(e,t,r){"use strict";var n=function(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)};n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(e){this.x=e},n.prototype.setY=function(e){this.y=e},n.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=n},function(e,t,r){"use strict";var n=function(e,t,r){a.call(this,r),this.estimatedSize=i.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof s?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)},a=r(2),i=r(10),o=r(0),s=r(7),l=r(3),_=r(1),u=r(13),c=r(12),f=r(11);for(var d in n.prototype=Object.create(a.prototype),a)n[d]=a[d];n.prototype.getNodes=function(){return this.nodes},n.prototype.getEdges=function(){return this.edges},n.prototype.getGraphManager=function(){return this.graphManager},n.prototype.getParent=function(){return this.parent},n.prototype.getLeft=function(){return this.left},n.prototype.getRight=function(){return this.right},n.prototype.getTop=function(){return this.top},n.prototype.getBottom=function(){return this.bottom},n.prototype.isConnected=function(){return this.isConnected},n.prototype.add=function(e,t,r){if(null==t&&null==r){var n=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(n)>-1)throw"Node already in graph!";return n.owner=this,this.getNodes().push(n),n}var a=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(r)>-1))throw"Source or target not in graph!";if(t.owner!=r.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=r.owner?null:(a.source=t,a.target=r,a.isInterGraph=!1,this.getEdges().push(a),t.edges.push(a),r!=t&&r.edges.push(a),a)},n.prototype.remove=function(e){var t=e;if(e instanceof l){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var r=t.edges.slice(),n=r.length,a=0;a<n;a++)(i=r[a]).isInterGraph?this.graphManager.remove(i):i.source.owner.remove(i);if(-1==(o=this.nodes.indexOf(t)))throw"Node not in owner node list!";this.nodes.splice(o,1)}else if(e instanceof _){var i;if(null==(i=e))throw"Edge is null!";if(null==i.source||null==i.target)throw"Source and/or target is null!";if(null==i.source.owner||null==i.target.owner||i.source.owner!=this||i.target.owner!=this)throw"Source and/or target owner is invalid!";var o,s=i.source.edges.indexOf(i),u=i.target.edges.indexOf(i);if(!(s>-1&&u>-1))throw"Source and/or target doesn't know this edge!";if(i.source.edges.splice(s,1),i.target!=i.source&&i.target.edges.splice(u,1),-1==(o=i.source.owner.getEdges().indexOf(i)))throw"Not in owner's edge list!";i.source.owner.getEdges().splice(o,1)}},n.prototype.updateLeftTop=function(){for(var e,t,r,n=i.MAX_VALUE,a=i.MAX_VALUE,o=this.getNodes(),s=o.length,l=0;l<s;l++){var _=o[l];n>(e=_.getTop())&&(n=e),a>(t=_.getLeft())&&(a=t)}return n==i.MAX_VALUE?null:(r=null!=o[0].getParent().paddingLeft?o[0].getParent().paddingLeft:this.margin,this.left=a-r,this.top=n-r,new c(this.left,this.top))},n.prototype.updateBounds=function(e){for(var t,r,n,a,o,s=i.MAX_VALUE,l=-i.MAX_VALUE,_=i.MAX_VALUE,c=-i.MAX_VALUE,f=this.nodes,d=f.length,h=0;h<d;h++){var p=f[h];e&&null!=p.child&&p.updateBounds(),s>(t=p.getLeft())&&(s=t),l<(r=p.getRight())&&(l=r),_>(n=p.getTop())&&(_=n),c<(a=p.getBottom())&&(c=a)}var g=new u(s,_,l-s,c-_);s==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),o=null!=f[0].getParent().paddingLeft?f[0].getParent().paddingLeft:this.margin,this.left=g.x-o,this.right=g.x+g.width+o,this.top=g.y-o,this.bottom=g.y+g.height+o},n.calculateBounds=function(e){for(var t,r,n,a,o=i.MAX_VALUE,s=-i.MAX_VALUE,l=i.MAX_VALUE,_=-i.MAX_VALUE,c=e.length,f=0;f<c;f++){var d=e[f];o>(t=d.getLeft())&&(o=t),s<(r=d.getRight())&&(s=r),l>(n=d.getTop())&&(l=n),_<(a=d.getBottom())&&(_=a)}return new u(o,l,s-o,_-l)},n.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},n.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},n.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,r=t.length,n=0;n<r;n++)e+=t[n].calcEstimatedSize();return this.estimatedSize=0==e?o.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length),this.estimatedSize},n.prototype.updateConnected=function(){var e=this;if(0!=this.nodes.length){var t,r,n=new f,a=new Set,i=this.nodes[0];for(i.withChildren().forEach((function(e){n.push(e),a.add(e)}));0!==n.length;)for(var o=(t=(i=n.shift()).getEdges()).length,s=0;s<o;s++)null==(r=t[s].getOtherEndInGraph(i,this))||a.has(r)||r.withChildren().forEach((function(e){n.push(e),a.add(e)}));if(this.isConnected=!1,a.size>=this.nodes.length){var l=0;a.forEach((function(t){t.owner==e&&l++})),l==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=n},function(e,t,r){"use strict";var n,a=function(e){n=r(6),this.layout=e,this.graphs=[],this.edges=[]},i=r(1);a.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),r=this.add(e,t);return this.setRootGraph(r),this.rootGraph},a.prototype.add=function(e,t,r,n,a){if(null==r&&null==n&&null==a){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}a=r,r=e;var i=(n=t).getOwner(),o=a.getOwner();if(null==i||i.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==o||o.getGraphManager()!=this)throw"Target not in this graph mgr!";if(i==o)return r.isInterGraph=!1,i.add(r,n,a);if(r.isInterGraph=!0,r.source=n,r.target=a,this.edges.indexOf(r)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(r),null==r.source||null==r.target)throw"Edge source and/or target is null!";if(-1!=r.source.edges.indexOf(r)||-1!=r.target.edges.indexOf(r))throw"Edge already in source and/or target incidency list!";return r.source.edges.push(r),r.target.edges.push(r),r},a.prototype.remove=function(e){if(e instanceof n){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";for(var r,a=[],o=(a=a.concat(t.getEdges())).length,s=0;s<o;s++)r=a[s],t.remove(r);var l,_=[];for(o=(_=_.concat(t.getNodes())).length,s=0;s<o;s++)l=_[s],t.remove(l);t==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(t);this.graphs.splice(u,1),t.parent=null}else if(e instanceof i){if(null==(r=e))throw"Edge is null!";if(!r.isInterGraph)throw"Not an inter-graph edge!";if(null==r.source||null==r.target)throw"Source and/or target is null!";if(-1==r.source.edges.indexOf(r)||-1==r.target.edges.indexOf(r))throw"Source and/or target doesn't know this edge!";if(u=r.source.edges.indexOf(r),r.source.edges.splice(u,1),u=r.target.edges.indexOf(r),r.target.edges.splice(u,1),null==r.source.owner||null==r.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==r.source.owner.getGraphManager().edges.indexOf(r))throw"Not in owner graph manager's edge list!";u=r.source.owner.getGraphManager().edges.indexOf(r),r.source.owner.getGraphManager().edges.splice(u,1)}},a.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},a.prototype.getGraphs=function(){return this.graphs},a.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),r=t.length,n=0;n<r;n++)e=e.concat(t[n].getNodes());this.allNodes=e}return this.allNodes},a.prototype.resetAllNodes=function(){this.allNodes=null},a.prototype.resetAllEdges=function(){this.allEdges=null},a.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},a.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),r=(t.length,0);r<t.length;r++)e=e.concat(t[r].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},a.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},a.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},a.prototype.getRoot=function(){return this.rootGraph},a.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},a.prototype.getLayout=function(){return this.layout},a.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var r,n=e.getOwner();null!=(r=n.getParent());){if(r==t)return!0;if(null==(n=r.getOwner()))break}for(n=t.getOwner();null!=(r=n.getParent());){if(r==e)return!0;if(null==(n=r.getOwner()))break}return!1},a.prototype.calcLowestCommonAncestors=function(){for(var e,t,r,n,a,i=this.getAllEdges(),o=i.length,s=0;s<o;s++)if(t=(e=i[s]).source,r=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=r,t!=r){for(n=t.getOwner();null==e.lca;){for(e.targetInLca=r,a=r.getOwner();null==e.lca;){if(a==n){e.lca=a;break}if(a==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=a.getParent(),a=e.targetInLca.getOwner()}if(n==this.rootGraph)break;null==e.lca&&(e.sourceInLca=n.getParent(),n=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},a.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var r=e.getOwner();null!=r;){for(var n=t.getOwner();null!=n;){if(n==r)return n;n=n.getParent().getOwner()}r=r.getParent().getOwner()}return r},a.prototype.calcInclusionTreeDepths=function(e,t){var r;null==e&&null==t&&(e=this.rootGraph,t=1);for(var n=e.getNodes(),a=n.length,i=0;i<a;i++)(r=n[i]).inclusionTreeDepth=t,null!=r.child&&this.calcInclusionTreeDepths(r.child,t+1)},a.prototype.includesInvalidEdge=function(){for(var e,t=[],r=this.edges.length,n=0;n<r;n++)e=this.edges[n],this.isOneAncestorOfOther(e.source,e.target)&&t.push(e);for(n=0;n<t.length;n++)this.remove(t[n]);return!1},e.exports=a},function(e,t,r){"use strict";var n=function(){},a=r(12);n.calcSeparationAmount=function(e,t,r,n){if(!e.intersects(t))throw"assert failed";var a=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,a),r[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),r[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?r[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(r[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?r[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(r[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var i=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(i=1);var o=i*r[0],s=r[1]/i;r[0]<s?s=r[0]:o=r[1],r[0]=-1*a[0]*(s/2+n),r[1]=-1*a[1]*(o/2+n)},n.decideDirectionsForOverlappingNodes=function(e,t,r){e.getCenterX()<t.getCenterX()?r[0]=-1:r[0]=1,e.getCenterY()<t.getCenterY()?r[1]=-1:r[1]=1},n.getIntersection2=function(e,t,r){var n=e.getCenterX(),a=e.getCenterY(),i=t.getCenterX(),o=t.getCenterY();if(e.intersects(t))return r[0]=n,r[1]=a,r[2]=i,r[3]=o,!0;var s=e.getX(),l=e.getY(),_=e.getRight(),u=e.getX(),c=e.getBottom(),f=e.getRight(),d=e.getWidthHalf(),h=e.getHeightHalf(),p=t.getX(),g=t.getY(),v=t.getRight(),m=t.getX(),y=t.getBottom(),w=t.getRight(),k=t.getWidthHalf(),b=t.getHeightHalf(),x=!1,O=!1;if(n===i){if(a>o)return r[0]=n,r[1]=l,r[2]=i,r[3]=y,!1;if(a<o)return r[0]=n,r[1]=c,r[2]=i,r[3]=g,!1}else if(a===o){if(n>i)return r[0]=s,r[1]=a,r[2]=v,r[3]=o,!1;if(n<i)return r[0]=_,r[1]=a,r[2]=p,r[3]=o,!1}else{var P=e.height/e.width,E=t.height/t.width,C=(o-a)/(i-n),N=void 0,S=void 0,L=void 0,T=void 0,A=void 0,M=void 0;if(-P===C?n>i?(r[0]=u,r[1]=c,x=!0):(r[0]=_,r[1]=l,x=!0):P===C&&(n>i?(r[0]=s,r[1]=l,x=!0):(r[0]=f,r[1]=c,x=!0)),-E===C?i>n?(r[2]=m,r[3]=y,O=!0):(r[2]=v,r[3]=g,O=!0):E===C&&(i>n?(r[2]=p,r[3]=g,O=!0):(r[2]=w,r[3]=y,O=!0)),x&&O)return!1;if(n>i?a>o?(N=this.getCardinalDirection(P,C,4),S=this.getCardinalDirection(E,C,2)):(N=this.getCardinalDirection(-P,C,3),S=this.getCardinalDirection(-E,C,1)):a>o?(N=this.getCardinalDirection(-P,C,1),S=this.getCardinalDirection(-E,C,3)):(N=this.getCardinalDirection(P,C,2),S=this.getCardinalDirection(E,C,4)),!x)switch(N){case 1:T=l,L=n+-h/C,r[0]=L,r[1]=T;break;case 2:L=f,T=a+d*C,r[0]=L,r[1]=T;break;case 3:T=c,L=n+h/C,r[0]=L,r[1]=T;break;case 4:L=u,T=a+-d*C,r[0]=L,r[1]=T}if(!O)switch(S){case 1:M=g,A=i+-b/C,r[2]=A,r[3]=M;break;case 2:A=w,M=o+k*C,r[2]=A,r[3]=M;break;case 3:M=y,A=i+b/C,r[2]=A,r[3]=M;break;case 4:A=m,M=o+-k*C,r[2]=A,r[3]=M}}return!1},n.getCardinalDirection=function(e,t,r){return e>t?r:1+r%4},n.getIntersection=function(e,t,r,n){if(null==n)return this.getIntersection2(e,t,r);var i,o,s,l,_,u,c,f=e.x,d=e.y,h=t.x,p=t.y,g=r.x,v=r.y,m=n.x,y=n.y;return 0==(c=(i=p-d)*(l=g-m)-(o=y-v)*(s=f-h))?null:new a((s*(u=m*v-g*y)-l*(_=h*d-f*p))/c,(o*_-i*u)/c)},n.angleOfVector=function(e,t,r,n){var a=void 0;return e!==r?(a=Math.atan((n-t)/(r-e)),r<e?a+=Math.PI:n<t&&(a+=this.TWO_PI)):a=n<t?this.ONE_AND_HALF_PI:this.HALF_PI,a},n.doIntersect=function(e,t,r,n){var a=e.x,i=e.y,o=t.x,s=t.y,l=r.x,_=r.y,u=n.x,c=n.y,f=(o-a)*(c-_)-(u-l)*(s-i);if(0===f)return!1;var d=((c-_)*(u-a)+(l-u)*(c-i))/f,h=((i-s)*(u-a)+(o-a)*(c-i))/f;return 0<d&&d<1&&0<h&&h<1},n.findCircleLineIntersections=function(e,t,r,n,a,i,o){var s=(r-e)*(r-e)+(n-t)*(n-t),l=2*((e-a)*(r-e)+(t-i)*(n-t)),_=(e-a)*(e-a)+(t-i)*(t-i)-o*o;if(l*l-4*s*_>=0){var u=(-l+Math.sqrt(l*l-4*s*_))/(2*s),c=(-l-Math.sqrt(l*l-4*s*_))/(2*s);return u>=0&&u<=1?[u]:c>=0&&c<=1?[c]:null}return null},n.HALF_PI=.5*Math.PI,n.ONE_AND_HALF_PI=1.5*Math.PI,n.TWO_PI=2*Math.PI,n.THREE_PI=3*Math.PI,e.exports=n},function(e,t,r){"use strict";var n=function(){};n.sign=function(e){return e>0?1:e<0?-1:0},n.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},n.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=n},function(e,t,r){"use strict";var n=function(){};n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,e.exports=n},function(e,t,r){"use strict";var n,a=(n=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}},function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}),i=function(e){return{value:e,next:null,prev:null}},o=function(e,t,r,n){return null!==e?e.next=t:n.head=t,null!==r?r.prev=t:n.tail=t,t.prev=e,t.next=r,n.length++,t},s=function(e,t){var r=e.prev,n=e.next;return null!==r?r.next=n:t.head=n,null!==n?n.prev=r:t.tail=r,e.prev=e.next=null,t.length--,e},l=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=0,this.head=null,this.tail=null,null!=t&&t.forEach((function(e){return r.push(e)}))}return a(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return o(t.prev,i(e),t,this)}},{key:"insertAfter",value:function(e,t){return o(t,i(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return o(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return o(t,e,t.next,this)}},{key:"push",value:function(e){return o(this.tail,i(e),null,this)}},{key:"unshift",value:function(e){return o(null,i(e),this.head,this)}},{key:"remove",value:function(e){return s(e,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var t=1,r=this.head;t<e;)r=r.next,t++;return r.value}}},{key:"set_object_at",value:function(e,t){if(e<=this.length()){for(var r=1,n=this.head;r<e;)n=n.next,r++;n.value=t}}}]),e}();e.exports=l},function(e,t,r){"use strict";var n=function(e,t,r){this.x=null,this.y=null,null==e&&null==t&&null==r?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==r?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==r&&(r=e,this.x=r.x,this.y=r.y)};n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(e,t,r){"Point"==e.constructor.name&&null==t&&null==r?(r=e,this.setLocation(r.x,r.y)):"number"==typeof e&&"number"==typeof t&&null==r&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},n.prototype.move=function(e,t){this.x=e,this.y=t},n.prototype.translate=function(e,t){this.x+=e,this.y+=t},n.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},n.prototype.toString=function(){return(new n).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=n},function(e,t,r){"use strict";var n=function(e,t,r,n){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=r&&null!=n&&(this.x=e,this.y=t,this.width=r,this.height=n)};n.prototype.getX=function(){return this.x},n.prototype.setX=function(e){this.x=e},n.prototype.getY=function(){return this.y},n.prototype.setY=function(e){this.y=e},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(e){this.width=e},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(e){this.height=e},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(e){return!(this.getRight()<e.x||this.getBottom()<e.y||e.getRight()<this.x||e.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},e.exports=n},function(e,t,r){"use strict";var a=function(){},i="function"==typeof Symbol&&"symbol"===(0,n.default)(Symbol.iterator)?function(e){return void 0===e?"undefined":(0,n.default)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":(0,n.default)(e)};a.lastID=0,a.createID=function(e){return a.isPrimitive(e)?e:(null!=e.uniqueID||(e.uniqueID=a.getString(),a.lastID++),e.uniqueID)},a.getString=function(e){return null==e&&(e=a.lastID),"Object#"+e},a.isPrimitive=function(e){var t=void 0===e?"undefined":i(e);return null==e||"object"!=t&&"function"!=t},e.exports=a},function(e,t,r){"use strict";var n=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},a=function(e){f.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)},i=r(0),o=r(7),s=r(3),l=r(1),_=r(6),u=r(5),c=r(17),f=r(29);a.RANDOM_SEED=1,(a.prototype=Object.create(f.prototype)).getGraphManager=function(){return this.graphManager},a.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},a.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},a.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},a.prototype.newGraphManager=function(){var e=new o(this);return this.graphManager=e,e},a.prototype.newGraph=function(e){return new _(null,this.graphManager,e)},a.prototype.newNode=function(e){return new s(this.graphManager,e)},a.prototype.newEdge=function(e){return new l(null,null,e)},a.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},a.prototype.runLayout=function(){var e;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),e=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},a.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},a.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];var r=this.graphManager.getRoot().getNodes();for(t=0;t<r.length;t++)r[t];this.update(this.graphManager.getRoot())}},a.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof s){var t=e;if(null!=t.getChild())for(var r=t.getChild().getNodes(),n=0;n<r.length;n++)update(r[n]);null!=t.vGraphObject&&t.vGraphObject.update(t)}else if(e instanceof l){var a=e;null!=a.vGraphObject&&a.vGraphObject.update(a)}else if(e instanceof _){var i=e;null!=i.vGraphObject&&i.vGraphObject.update(i)}},a.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},a.prototype.transform=function(e){if(null==e)this.transform(new u(0,0));else{var t=new c,r=this.graphManager.getRoot().updateLeftTop();if(null!=r){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(r.x),t.setDeviceOrgY(r.y);for(var n=this.getAllNodes(),a=0;a<n.length;a++)n[a].transform(t)}}},a.prototype.positionNodesRandomly=function(e){if(null==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,r,n=e.getNodes(),a=0;a<n.length;a++)null==(r=(t=n[a]).getChild())||0==r.getNodes().length?t.scatter():(this.positionNodesRandomly(r),t.updateBounds())},a.prototype.getFlatForest=function(){for(var e=[],t=!0,r=this.graphManager.getRoot().getNodes(),a=!0,i=0;i<r.length;i++)null!=r[i].getChild()&&(a=!1);if(!a)return e;var o=new Set,s=[],l=new Map,_=[];for(_=_.concat(r);_.length>0&&t;){for(s.push(_[0]);s.length>0&&t;){var u=s[0];s.splice(0,1),o.add(u);var c=u.getEdges();for(i=0;i<c.length;i++){var f=c[i].getOtherEnd(u);if(l.get(u)!=f){if(o.has(f)){t=!1;break}s.push(f),l.set(f,u)}}}if(t){var d=[].concat(n(o));for(e.push(d),i=0;i<d.length;i++){var h=d[i],p=_.indexOf(h);p>-1&&_.splice(p,1)}o=new Set,l=new Map}else e=[]}return e},a.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],r=e.source,n=this.graphManager.calcLowestCommonAncestor(e.source,e.target),a=0;a<e.bendpoints.length;a++){var i=this.newNode(null);i.setRect(new Point(0,0),new Dimension(1,1)),n.add(i);var o=this.newEdge(null);this.graphManager.add(o,r,i),t.add(i),r=i}return o=this.newEdge(null),this.graphManager.add(o,r,e.target),this.edgeToDummyNodes.set(e,t),e.isInterGraph()?this.graphManager.remove(e):n.remove(e),t},a.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=[].concat(n(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var r=e[t];if(r.bendpoints.length>0){for(var a=this.edgeToDummyNodes.get(r),i=0;i<a.length;i++){var o=a[i],s=new u(o.getCenterX(),o.getCenterY()),l=r.bendpoints.get(i);l.x=s.x,l.y=s.y,o.getOwner().remove(o)}this.graphManager.add(r,r.source,r.target)}}},a.transform=function(e,t,r,n){if(null!=r&&null!=n){var a=t;return e<=50?a-=(t-t/r)/50*(50-e):a+=(t*n-t)/50*(e-50),a}var i,o;return e<=50?(i=9*t/500,o=t/10):(i=9*t/50,o=-8*t),i*e+o},a.findCenterOfTree=function(e){var t=[];t=t.concat(e);var r=[],n=new Map,a=!1,i=null;1!=t.length&&2!=t.length||(a=!0,i=t[0]);for(var o=0;o<t.length;o++){var s=(u=t[o]).getNeighborsList().size;n.set(u,u.getNeighborsList().size),1==s&&r.push(u)}var l=[];for(l=l.concat(r);!a;){var _=[];for(_=_.concat(l),l=[],o=0;o<t.length;o++){var u=t[o],c=t.indexOf(u);c>=0&&t.splice(c,1),u.getNeighborsList().forEach((function(e){if(r.indexOf(e)<0){var t=n.get(e)-1;1==t&&l.push(e),n.set(e,t)}}))}r=r.concat(l),1!=t.length&&2!=t.length||(a=!0,i=t[0])}return i},a.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=a},function(e,t,r){"use strict";var n=function(){};n.seed=1,n.x=0,n.nextDouble=function(){return(n.x=1e4*Math.sin(n.seed++))-Math.floor(n.x)},e.exports=n},function(e,t,r){"use strict";var n=function(e,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1},a=r(5);n.prototype.getWorldOrgX=function(){return this.lworldOrgX},n.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},n.prototype.getWorldOrgY=function(){return this.lworldOrgY},n.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},n.prototype.getWorldExtX=function(){return this.lworldExtX},n.prototype.setWorldExtX=function(e){this.lworldExtX=e},n.prototype.getWorldExtY=function(){return this.lworldExtY},n.prototype.setWorldExtY=function(e){this.lworldExtY=e},n.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},n.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},n.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},n.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},n.prototype.getDeviceExtX=function(){return this.ldeviceExtX},n.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},n.prototype.getDeviceExtY=function(){return this.ldeviceExtY},n.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},n.prototype.transformX=function(e){var t=0,r=this.lworldExtX;return 0!=r&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/r),t},n.prototype.transformY=function(e){var t=0,r=this.lworldExtY;return 0!=r&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/r),t},n.prototype.inverseTransformX=function(e){var t=0,r=this.ldeviceExtX;return 0!=r&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/r),t},n.prototype.inverseTransformY=function(e){var t=0,r=this.ldeviceExtY;return 0!=r&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/r),t},n.prototype.inverseTransformPoint=function(e){return new a(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=n},function(e,t,r){"use strict";var n=function(){a.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS},a=r(15),i=r(4),o=r(0),s=r(8),l=r(9);for(var _ in n.prototype=Object.create(a.prototype),a)n[_]=a[_];n.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},n.prototype.calcIdealEdgeLengths=function(){for(var e,t,r,n,a,s,l,_=this.getGraphManager().getAllEdges(),u=0;u<_.length;u++)t=(e=_[u]).idealLength,e.isInterGraph&&(n=e.getSource(),a=e.getTarget(),s=e.getSourceInLca().getEstimatedSize(),l=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=s+l-2*o.SIMPLE_NODE_SIZE),r=e.getLca().getInclusionTreeDepth(),e.idealLength+=t*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+a.getInclusionTreeDepth()-2*r))},n.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},n.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),r=0;r<t.length;r++)e=t[r],this.calcSpringForce(e,e.idealLength)},n.prototype.calcRepulsionForces=function(){var e,t,r,n,a,o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&o&&this.updateGrid(),a=new Set,e=0;e<l.length;e++)r=l[e],this.calculateRepulsionForceOfANode(r,a,o,s),a.add(r);else for(e=0;e<l.length;e++)for(r=l[e],t=e+1;t<l.length;t++)n=l[t],r.getOwner()==n.getOwner()&&this.calcRepulsionForce(r,n)},n.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),r=0;r<t.length;r++)e=t[r],this.calcGravitationalForce(e)},n.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].move()},n.prototype.calcSpringForce=function(e,t){var r,n,a,i,o=e.getSource(),s=e.getTarget();if(this.uniformLeafNodeSizes&&null==o.getChild()&&null==s.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;0!=(r=e.getLength())&&(a=(n=e.edgeElasticity*(r-t))*(e.lengthX/r),i=n*(e.lengthY/r),o.springForceX+=a,o.springForceY+=i,s.springForceX-=a,s.springForceY-=i)},n.prototype.calcRepulsionForce=function(e,t){var r,n,a,o,_,u,c,f=e.getRect(),d=t.getRect(),h=new Array(2),p=new Array(4);if(f.intersects(d)){s.calcSeparationAmount(f,d,h,i.DEFAULT_EDGE_LENGTH/2),u=2*h[0],c=2*h[1];var g=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=g*u,e.repulsionForceY-=g*c,t.repulsionForceX+=g*u,t.repulsionForceY+=g*c}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(r=d.getCenterX()-f.getCenterX(),n=d.getCenterY()-f.getCenterY()):(s.getIntersection(f,d,p),r=p[2]-p[0],n=p[3]-p[1]),Math.abs(r)<i.MIN_REPULSION_DIST&&(r=l.sign(r)*i.MIN_REPULSION_DIST),Math.abs(n)<i.MIN_REPULSION_DIST&&(n=l.sign(n)*i.MIN_REPULSION_DIST),a=r*r+n*n,o=Math.sqrt(a),u=(_=(e.nodeRepulsion/2+t.nodeRepulsion/2)*e.noOfChildren*t.noOfChildren/a)*r/o,c=_*n/o,e.repulsionForceX-=u,e.repulsionForceY-=c,t.repulsionForceX+=u,t.repulsionForceY+=c},n.prototype.calcGravitationalForce=function(e){var t,r,n,a,i,o,s,l;r=((t=e.getOwner()).getRight()+t.getLeft())/2,n=(t.getTop()+t.getBottom())/2,a=e.getCenterX()-r,i=e.getCenterY()-n,o=Math.abs(a)+e.getWidth()/2,s=Math.abs(i)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(o>(l=t.getEstimatedSize()*this.gravityRangeFactor)||s>l)&&(e.gravitationForceX=-this.gravityConstant*a,e.gravitationForceY=-this.gravityConstant*i):(o>(l=t.getEstimatedSize()*this.compoundGravityRangeFactor)||s>l)&&(e.gravitationForceX=-this.gravityConstant*a*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*i*this.compoundGravityConstant)},n.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},n.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},n.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),r=0;r<t.length;r++)(e=t[r]).noOfChildren=e.getNoOfChildren()},n.prototype.calcGrid=function(e){var t,r;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),r=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var n=new Array(t),a=0;a<t;a++)n[a]=new Array(r);for(a=0;a<t;a++)for(var i=0;i<r;i++)n[a][i]=new Array;return n},n.prototype.addNodeToGrid=function(e,t,r){var n,a,i,o;n=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),a=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().y-r)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().height+e.getRect().y-r)/this.repulsionRange));for(var s=n;s<=a;s++)for(var l=i;l<=o;l++)this.grid[s][l].push(e),e.setGridCoordinates(n,a,i,o)},n.prototype.updateGrid=function(){var e,t,r=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<r.length;e++)t=r[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},n.prototype.calculateRepulsionForceOfANode=function(e,t,r,n){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&r||n){var a,o=new Set;e.surrounding=new Array;for(var s=this.grid,l=e.startX-1;l<e.finishX+2;l++)for(var _=e.startY-1;_<e.finishY+2;_++)if(!(l<0||_<0||l>=s.length||_>=s[0].length))for(var u=0;u<s[l][_].length;u++)if(a=s[l][_][u],e.getOwner()==a.getOwner()&&e!=a&&!t.has(a)&&!o.has(a)){var c=Math.abs(e.getCenterX()-a.getCenterX())-(e.getWidth()/2+a.getWidth()/2),f=Math.abs(e.getCenterY()-a.getCenterY())-(e.getHeight()/2+a.getHeight()/2);c<=this.repulsionRange&&f<=this.repulsionRange&&o.add(a)}e.surrounding=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(o))}for(l=0;l<e.surrounding.length;l++)this.calcRepulsionForce(e,e.surrounding[l])},n.prototype.calcRepulsionRange=function(){return 0},e.exports=n},function(e,t,r){"use strict";var n=function(e,t,r){a.call(this,e,t,r),this.idealLength=i.DEFAULT_EDGE_LENGTH,this.edgeElasticity=i.DEFAULT_SPRING_STRENGTH},a=r(1),i=r(4);for(var o in n.prototype=Object.create(a.prototype),a)n[o]=a[o];e.exports=n},function(e,t,r){"use strict";var n=function(e,t,r,n){a.call(this,e,t,r,n),this.nodeRepulsion=i.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]},a=r(3),i=r(4);for(var o in n.prototype=Object.create(a.prototype),a)n[o]=a[o];n.prototype.setGridCoordinates=function(e,t,r,n){this.startX=e,this.finishX=t,this.startY=r,this.finishY=n},e.exports=n},function(e,t,r){"use strict";var n=function(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)};n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(e){this.width=e},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(e){this.height=e},e.exports=n},function(e,t,r){"use strict";var n=function(){this.map={},this.keys=[]},a=r(14);n.prototype.put=function(e,t){var r=a.createID(e);this.contains(r)||(this.map[r]=t,this.keys.push(e))},n.prototype.contains=function(e){return a.createID(e),null!=this.map[e]},n.prototype.get=function(e){var t=a.createID(e);return this.map[t]},n.prototype.keySet=function(){return this.keys},e.exports=n},function(e,t,r){"use strict";var n=function(){this.set={}},a=r(14);n.prototype.add=function(e){var t=a.createID(e);this.contains(t)||(this.set[t]=e)},n.prototype.remove=function(e){delete this.set[a.createID(e)]},n.prototype.clear=function(){this.set={}},n.prototype.contains=function(e){return this.set[a.createID(e)]==e},n.prototype.isEmpty=function(){return 0===this.size()},n.prototype.size=function(){return Object.keys(this.set).length},n.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),r=t.length,n=0;n<r;n++)e.push(this.set[t[n]])},n.prototype.size=function(){return Object.keys(this.set).length},n.prototype.addAll=function(e){for(var t=e.length,r=0;r<t;r++){var n=e[r];this.add(n)}},e.exports=n},function(e,t,r){"use strict";var n=function(){};n.multMat=function(e,t){for(var r=[],n=0;n<e.length;n++){r[n]=[];for(var a=0;a<t[0].length;a++){r[n][a]=0;for(var i=0;i<e[0].length;i++)r[n][a]+=e[n][i]*t[i][a]}}return r},n.transpose=function(e){for(var t=[],r=0;r<e[0].length;r++){t[r]=[];for(var n=0;n<e.length;n++)t[r][n]=e[n][r]}return t},n.multCons=function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=e[n]*t;return r},n.minusOp=function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=e[n]-t[n];return r},n.dotProduct=function(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r},n.mag=function(e){return Math.sqrt(this.dotProduct(e,e))},n.normalize=function(e){for(var t=[],r=this.mag(e),n=0;n<e.length;n++)t[n]=e[n]/r;return t},n.multGamma=function(e){for(var t=[],r=0,n=0;n<e.length;n++)r+=e[n];r*=-1/e.length;for(var a=0;a<e.length;a++)t[a]=r+e[a];return t},n.multL=function(e,t,r){for(var n=[],a=[],i=[],o=0;o<t[0].length;o++){for(var s=0,l=0;l<t.length;l++)s+=-.5*t[l][o]*e[l];a[o]=s}for(var _=0;_<r.length;_++){for(var u=0,c=0;c<r.length;c++)u+=r[_][c]*a[c];i[_]=u}for(var f=0;f<t.length;f++){for(var d=0,h=0;h<t[0].length;h++)d+=t[f][h]*i[h];n[f]=d}return n},e.exports=n},function(e,t,r){"use strict";var n,a=(n=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}},function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}),i=r(11),o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null===r&&void 0===r||(this.compareFunction=this._defaultCompareFunction);var n=void 0;n=t instanceof i?t.size():t.length,this._quicksort(t,0,n-1)}return a(e,[{key:"_quicksort",value:function(e,t,r){if(t<r){var n=this._partition(e,t,r);this._quicksort(e,t,n),this._quicksort(e,n+1,r)}}},{key:"_partition",value:function(e,t,r){for(var n=this._get(e,t),a=t,i=r;;){for(;this.compareFunction(n,this._get(e,i));)i--;for(;this.compareFunction(this._get(e,a),n);)a++;if(!(a<i))return i;this._swap(e,a,i),a++,i--}}},{key:"_get",value:function(e,t){return e instanceof i?e.get_object_at(t):e[t]}},{key:"_set",value:function(e,t,r){e instanceof i?e.set_object_at(t,r):e[t]=r}},{key:"_swap",value:function(e,t,r){var n=this._get(e,t);this._set(e,t,this._get(e,r)),this._set(e,r,n)}},{key:"_defaultCompareFunction",value:function(e,t){return t>e}}]),e}();e.exports=o},function(e,t,r){"use strict";var n=function(){};n.svd=function(e){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=e.length,this.n=e[0].length;var t=Math.min(this.m,this.n);this.s=function(e){for(var t=[];e-- >0;)t.push(0);return t}(Math.min(this.m+1,this.n)),this.U=function e(t){if(0==t.length)return 0;for(var r=[],n=0;n<t[0];n++)r.push(e(t.slice(1)));return r}([this.m,t]),this.V=function(e){return function e(t){if(0==t.length)return 0;for(var r=[],n=0;n<t[0];n++)r.push(e(t.slice(1)));return r}(e)}([this.n,this.n]);for(var r,a,i=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.n),o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.m),s=Math.min(this.m-1,this.n),l=Math.max(0,Math.min(this.n-2,this.m)),_=0;_<Math.max(s,l);_++){if(_<s){this.s[_]=0;for(var u=_;u<this.m;u++)this.s[_]=n.hypot(this.s[_],e[u][_]);if(0!==this.s[_]){e[_][_]<0&&(this.s[_]=-this.s[_]);for(var c=_;c<this.m;c++)e[c][_]/=this.s[_];e[_][_]+=1}this.s[_]=-this.s[_]}for(var f=_+1;f<this.n;f++){if(r=_<s,a=0!==this.s[_],r&&a){for(var d=0,h=_;h<this.m;h++)d+=e[h][_]*e[h][f];d=-d/e[_][_];for(var p=_;p<this.m;p++)e[p][f]+=d*e[p][_]}i[f]=e[_][f]}if(function(e,t){return t}(0,_<s))for(var g=_;g<this.m;g++)this.U[g][_]=e[g][_];if(_<l){i[_]=0;for(var v=_+1;v<this.n;v++)i[_]=n.hypot(i[_],i[v]);if(0!==i[_]){i[_+1]<0&&(i[_]=-i[_]);for(var m=_+1;m<this.n;m++)i[m]/=i[_];i[_+1]+=1}if(i[_]=-i[_],function(e,t){return e&&t}(_+1<this.m,0!==i[_])){for(var y=_+1;y<this.m;y++)o[y]=0;for(var w=_+1;w<this.n;w++)for(var k=_+1;k<this.m;k++)o[k]+=i[w]*e[k][w];for(var b=_+1;b<this.n;b++)for(var x=-i[b]/i[_+1],O=_+1;O<this.m;O++)e[O][b]+=x*o[O]}for(var P=_+1;P<this.n;P++)this.V[P][_]=i[P]}}var E=Math.min(this.n,this.m+1);s<this.n&&(this.s[s]=e[s][s]),this.m<E&&(this.s[E-1]=0),l+1<E&&(i[l]=e[l][E-1]),i[E-1]=0;for(var C=s;C<t;C++){for(var N=0;N<this.m;N++)this.U[N][C]=0;this.U[C][C]=1}for(var S=s-1;S>=0;S--)if(0!==this.s[S]){for(var L=S+1;L<t;L++){for(var T=0,A=S;A<this.m;A++)T+=this.U[A][S]*this.U[A][L];T=-T/this.U[S][S];for(var M=S;M<this.m;M++)this.U[M][L]+=T*this.U[M][S]}for(var I=S;I<this.m;I++)this.U[I][S]=-this.U[I][S];this.U[S][S]=1+this.U[S][S];for(var R=0;R<S-1;R++)this.U[R][S]=0}else{for(var D=0;D<this.m;D++)this.U[D][S]=0;this.U[S][S]=1}for(var j=this.n-1;j>=0;j--){if(function(e,t){return e&&t}(j<l,0!==i[j]))for(var z=j+1;z<t;z++){for(var F=0,G=j+1;G<this.n;G++)F+=this.V[G][j]*this.V[G][z];F=-F/this.V[j+1][j];for(var U=j+1;U<this.n;U++)this.V[U][z]+=F*this.V[U][j]}for(var q=0;q<this.n;q++)this.V[q][j]=0;this.V[j][j]=1}for(var H=E-1,V=Math.pow(2,-52),B=Math.pow(2,-966);E>0;){var W=void 0,Y=void 0;for(W=E-2;W>=-1&&-1!==W;W--)if(Math.abs(i[W])<=B+V*(Math.abs(this.s[W])+Math.abs(this.s[W+1]))){i[W]=0;break}if(W===E-2)Y=4;else{var X=void 0;for(X=E-1;X>=W&&X!==W;X--){var $=(X!==E?Math.abs(i[X]):0)+(X!==W+1?Math.abs(i[X-1]):0);if(Math.abs(this.s[X])<=B+V*$){this.s[X]=0;break}}X===W?Y=3:X===E-1?Y=1:(Y=2,W=X)}switch(W++,Y){case 1:var Q=i[E-2];i[E-2]=0;for(var Z=E-2;Z>=W;Z--){var K=n.hypot(this.s[Z],Q),J=this.s[Z]/K,ee=Q/K;this.s[Z]=K,Z!==W&&(Q=-ee*i[Z-1],i[Z-1]=J*i[Z-1]);for(var te=0;te<this.n;te++)K=J*this.V[te][Z]+ee*this.V[te][E-1],this.V[te][E-1]=-ee*this.V[te][Z]+J*this.V[te][E-1],this.V[te][Z]=K}break;case 2:var re=i[W-1];i[W-1]=0;for(var ne=W;ne<E;ne++){var ae=n.hypot(this.s[ne],re),ie=this.s[ne]/ae,oe=re/ae;this.s[ne]=ae,re=-oe*i[ne],i[ne]=ie*i[ne];for(var se=0;se<this.m;se++)ae=ie*this.U[se][ne]+oe*this.U[se][W-1],this.U[se][W-1]=-oe*this.U[se][ne]+ie*this.U[se][W-1],this.U[se][ne]=ae}break;case 3:var le=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[E-1]),Math.abs(this.s[E-2])),Math.abs(i[E-2])),Math.abs(this.s[W])),Math.abs(i[W])),_e=this.s[E-1]/le,ue=this.s[E-2]/le,ce=i[E-2]/le,fe=this.s[W]/le,de=i[W]/le,he=((ue+_e)*(ue-_e)+ce*ce)/2,pe=_e*ce*(_e*ce),ge=0;(function(e,t){return e||t})(0!==he,0!==pe)&&(ge=Math.sqrt(he*he+pe),he<0&&(ge=-ge),ge=pe/(he+ge));for(var ve=(fe+_e)*(fe-_e)+ge,me=fe*de,ye=W;ye<E-1;ye++){var we=n.hypot(ve,me),ke=ve/we,be=me/we;ye!==W&&(i[ye-1]=we),ve=ke*this.s[ye]+be*i[ye],i[ye]=ke*i[ye]-be*this.s[ye],me=be*this.s[ye+1],this.s[ye+1]=ke*this.s[ye+1];for(var xe=0;xe<this.n;xe++)we=ke*this.V[xe][ye]+be*this.V[xe][ye+1],this.V[xe][ye+1]=-be*this.V[xe][ye]+ke*this.V[xe][ye+1],this.V[xe][ye]=we;if(ke=ve/(we=n.hypot(ve,me)),be=me/we,this.s[ye]=we,ve=ke*i[ye]+be*this.s[ye+1],this.s[ye+1]=-be*i[ye]+ke*this.s[ye+1],me=be*i[ye+1],i[ye+1]=ke*i[ye+1],ye<this.m-1)for(var Oe=0;Oe<this.m;Oe++)we=ke*this.U[Oe][ye]+be*this.U[Oe][ye+1],this.U[Oe][ye+1]=-be*this.U[Oe][ye]+ke*this.U[Oe][ye+1],this.U[Oe][ye]=we}i[E-2]=ve;break;case 4:if(this.s[W]<=0){this.s[W]=this.s[W]<0?-this.s[W]:0;for(var Pe=0;Pe<=H;Pe++)this.V[Pe][W]=-this.V[Pe][W]}for(;W<H&&!(this.s[W]>=this.s[W+1]);){var Ee=this.s[W];if(this.s[W]=this.s[W+1],this.s[W+1]=Ee,W<this.n-1)for(var Ce=0;Ce<this.n;Ce++)Ee=this.V[Ce][W+1],this.V[Ce][W+1]=this.V[Ce][W],this.V[Ce][W]=Ee;if(W<this.m-1)for(var Ne=0;Ne<this.m;Ne++)Ee=this.U[Ne][W+1],this.U[Ne][W+1]=this.U[Ne][W],this.U[Ne][W]=Ee;W++}E--}}return{U:this.U,V:this.V,S:this.s}},n.hypot=function(e,t){var r=void 0;return Math.abs(e)>Math.abs(t)?(r=t/e,r=Math.abs(e)*Math.sqrt(1+r*r)):0!=t?(r=e/t,r=Math.abs(t)*Math.sqrt(1+r*r)):r=0,r},e.exports=n},function(e,t,r){"use strict";var n,a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=(n=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}},function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}),o=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;a(this,e),this.sequence1=t,this.sequence2=r,this.match_score=n,this.mismatch_penalty=i,this.gap_penalty=o,this.iMax=t.length+1,this.jMax=r.length+1,this.grid=new Array(this.iMax);for(var s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.grid[s][l]=0}this.tracebackGrid=new Array(this.iMax);for(var _=0;_<this.iMax;_++){this.tracebackGrid[_]=new Array(this.jMax);for(var u=0;u<this.jMax;u++)this.tracebackGrid[_][u]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(e,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var e=1;e<this.jMax;e++)this.grid[0][e]=this.grid[0][e-1]+this.gap_penalty,this.tracebackGrid[0][e]=[!1,!1,!0];for(var t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(var r=1;r<this.iMax;r++)for(var n=1;n<this.jMax;n++){var a=[this.sequence1[r-1]===this.sequence2[n-1]?this.grid[r-1][n-1]+this.match_score:this.grid[r-1][n-1]+this.mismatch_penalty,this.grid[r-1][n]+this.gap_penalty,this.grid[r][n-1]+this.gap_penalty],i=this.arrayAllMaxIndexes(a);this.grid[r][n]=a[i[0]],this.tracebackGrid[r][n]=[i.includes(0),i.includes(1),i.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var e=[];for(e.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});e[0];){var t=e[0],r=this.tracebackGrid[t.pos[0]][t.pos[1]];r[0]&&e.push({pos:[t.pos[0]-1,t.pos[1]-1],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),r[1]&&e.push({pos:[t.pos[0]-1,t.pos[1]],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:"-"+t.seq2}),r[2]&&e.push({pos:[t.pos[0],t.pos[1]-1],seq1:"-"+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),0===t.pos[0]&&0===t.pos[1]&&this.alignments.push({sequence1:t.seq1,sequence2:t.seq2}),e.shift()}return this.alignments}},{key:"getAllIndexes",value:function(e,t){for(var r=[],n=-1;-1!==(n=e.indexOf(t,n+1));)r.push(n);return r}},{key:"arrayAllMaxIndexes",value:function(e){return this.getAllIndexes(e,Math.max.apply(null,e))}}]),e}();e.exports=o},function(e,t,r){"use strict";var n=function(){};n.FDLayout=r(18),n.FDLayoutConstants=r(4),n.FDLayoutEdge=r(19),n.FDLayoutNode=r(20),n.DimensionD=r(21),n.HashMap=r(22),n.HashSet=r(23),n.IGeometry=r(8),n.IMath=r(9),n.Integer=r(10),n.Point=r(12),n.PointD=r(5),n.RandomSeed=r(16),n.RectangleD=r(13),n.Transform=r(17),n.UniqueIDGeneretor=r(14),n.Quicksort=r(25),n.LinkedList=r(11),n.LGraphObject=r(2),n.LGraph=r(6),n.LEdge=r(1),n.LGraphManager=r(7),n.LNode=r(3),n.Layout=r(15),n.LayoutConstants=r(0),n.NeedlemanWunsch=r(27),n.Matrix=r(24),n.SVD=r(26),e.exports=n},function(e,t,r){"use strict";var n=function(){this.listeners=[]},a=n.prototype;a.addListener=function(e,t){this.listeners.push({event:e,callback:t})},a.removeListener=function(e,t){for(var r=this.listeners.length;r>=0;r--){var n=this.listeners[r];n.event===e&&n.callback===t&&this.listeners.splice(r,1)}},a.emit=function(e,t){for(var r=0;r<this.listeners.length;r++){var n=this.listeners[r];e===n.event&&n.callback(t)}},e.exports=n}])},e.exports=r()})),i.register("47ZFg",(function(t,r){
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n,a,o;e(t.exports,"Fragment",(function(){return n}),(function(e){return n=e})),e(t.exports,"jsx",(function(){return a}),(function(e){return a=e})),e(t.exports,"jsxs",(function(){return o}),(function(e){return o=e}));var s=i("8XZMw"),l=Symbol.for("react.element"),_=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var n,a={},i=null,o=null;for(n in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(o=t.ref),t)u.call(t,n)&&!f.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:l,type:e,key:i,ref:o,props:a,_owner:c.current}}n=_,a=d,o=d})),i.register("8XZMw",(function(e,t){"use strict";e.exports=i("d7NCR")})),i.register("d7NCR",(function(t,r){e(t.exports,"Children",(function(){return n}),(function(e){return n=e})),e(t.exports,"Component",(function(){return a}),(function(e){return a=e})),e(t.exports,"Fragment",(function(){return o}),(function(e){return o=e})),e(t.exports,"Profiler",(function(){return s}),(function(e){return s=e})),e(t.exports,"PureComponent",(function(){return l}),(function(e){return l=e})),e(t.exports,"StrictMode",(function(){return _}),(function(e){return _=e})),e(t.exports,"Suspense",(function(){return u}),(function(e){return u=e})),e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return c}),(function(e){return c=e})),e(t.exports,"cloneElement",(function(){return f}),(function(e){return f=e})),e(t.exports,"createContext",(function(){return d}),(function(e){return d=e})),e(t.exports,"createElement",(function(){return h}),(function(e){return h=e})),e(t.exports,"createFactory",(function(){return p}),(function(e){return p=e})),e(t.exports,"createRef",(function(){return g}),(function(e){return g=e})),e(t.exports,"forwardRef",(function(){return v}),(function(e){return v=e})),e(t.exports,"isValidElement",(function(){return m}),(function(e){return m=e})),e(t.exports,"lazy",(function(){return y}),(function(e){return y=e})),e(t.exports,"memo",(function(){return w}),(function(e){return w=e})),e(t.exports,"startTransition",(function(){return k}),(function(e){return k=e})),e(t.exports,"unstable_act",(function(){return b}),(function(e){return b=e})),e(t.exports,"useCallback",(function(){return x}),(function(e){return x=e})),e(t.exports,"useContext",(function(){return O}),(function(e){return O=e})),e(t.exports,"useDebugValue",(function(){return P}),(function(e){return P=e})),e(t.exports,"useDeferredValue",(function(){return E}),(function(e){return E=e})),e(t.exports,"useEffect",(function(){return C}),(function(e){return C=e})),e(t.exports,"useId",(function(){return N}),(function(e){return N=e})),e(t.exports,"useImperativeHandle",(function(){return S}),(function(e){return S=e})),e(t.exports,"useInsertionEffect",(function(){return L}),(function(e){return L=e})),e(t.exports,"useLayoutEffect",(function(){return T}),(function(e){return T=e})),e(t.exports,"useMemo",(function(){return A}),(function(e){return A=e})),e(t.exports,"useReducer",(function(){return M}),(function(e){return M=e})),e(t.exports,"useRef",(function(){return I}),(function(e){return I=e})),e(t.exports,"useState",(function(){return R}),(function(e){return R=e})),e(t.exports,"useSyncExternalStore",(function(){return D}),(function(e){return D=e})),e(t.exports,"useTransition",(function(){return j}),(function(e){return j=e})),e(t.exports,"version",(function(){return z}),(function(e){return z=e}));
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n,a,o,s,l,_,u,c,f,d,h,p,g,v,m,y,w,k,b,x,O,P,E,C,N,S,L,T,A,M,I,R,D,j,z,F=i("3Ie7j"),G=Symbol.for("react.element"),U=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),W=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),$=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.iterator;var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ee={};function te(e,t,r){this.props=e,this.context=t,this.refs=ee,this.updater=r||K}function re(){}function ne(e,t,r){this.props=e,this.context=t,this.refs=ee,this.updater=r||K}te.prototype.isReactComponent={},te.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},te.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},re.prototype=te.prototype;var ae=ne.prototype=new re;ae.constructor=ne,J(ae,te.prototype),ae.isPureReactComponent=!0;var ie=Array.isArray,oe=Object.prototype.hasOwnProperty,se={current:null},le={key:!0,ref:!0,__self:!0,__source:!0};function _e(e,t,r){var n,a={},i=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)oe.call(t,n)&&!le.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),_=0;_<s;_++)l[_]=arguments[_+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===a[n]&&(a[n]=s[n]);return{$$typeof:G,type:e,key:i,ref:o,props:a,_owner:se.current}}function ue(e){return"object"==typeof e&&null!==e&&e.$$typeof===G}var ce=/\/+/g;function fe(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function de(e,t,r,n,a){var i=void 0===e?"undefined":(0,F.default)(e);"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case G:case U:o=!0}}if(o)return a=a(o=e),e=""===n?"."+fe(o,0):n,ie(a)?(r="",null!=e&&(r=e.replace(ce,"$&/")+"/"),de(a,t,r,"",(function(e){return e}))):null!=a&&(ue(a)&&(a=function(e,t){return{$$typeof:G,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(ce,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=""===n?".":n+":",ie(e))for(var s=0;s<e.length;s++){var l=n+fe(i=e[s],s);o+=de(i,t,r,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Z&&e[Z]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),s=0;!(i=e.next()).done;)o+=de(i=i.value,t,r,l=n+fe(i,s++),a);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function he(e,t,r){if(null==e)return e;var n=[],a=0;return de(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function pe(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ge={current:null},ve={transition:null};n={map:he,forEach:function(e,t,r){he(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return he(e,(function(){t++})),t},toArray:function(e){return he(e,(function(e){return e}))||[]},only:function(e){if(!ue(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},a=te,o=q,s=V,l=ne,_=H,u=X,c={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:ve,ReactCurrentOwner:se},f=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=J({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=se.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)oe.call(t,l)&&!le.hasOwnProperty(l)&&(n[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)n.children=r;else if(1<l){s=Array(l);for(var _=0;_<l;_++)s[_]=arguments[_+2];n.children=s}return{$$typeof:G,type:e.type,key:a,ref:i,props:n,_owner:o}},d=function(e){return(e={$$typeof:W,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:B,_context:e},e.Consumer=e},h=_e,p=function(e){var t=_e.bind(null,e);return t.type=e,t},g=function(){return{current:null}},v=function(e){return{$$typeof:Y,render:e}},m=ue,y=function(e){return{$$typeof:Q,_payload:{_status:-1,_result:e},_init:pe}},w=function(e,t){return{$$typeof:$,type:e,compare:void 0===t?null:t}},k=function(e){var t=ve.transition;ve.transition={};try{e()}finally{ve.transition=t}},b=function(){throw Error("act(...) is not supported in production builds of React.")},x=function(e,t){return ge.current.useCallback(e,t)},O=function(e){return ge.current.useContext(e)},P=function(){},E=function(e){return ge.current.useDeferredValue(e)},C=function(e,t){return ge.current.useEffect(e,t)},N=function(){return ge.current.useId()},S=function(e,t,r){return ge.current.useImperativeHandle(e,t,r)},L=function(e,t){return ge.current.useInsertionEffect(e,t)},T=function(e,t){return ge.current.useLayoutEffect(e,t)},A=function(e,t){return ge.current.useMemo(e,t)},M=function(e,t,r){return ge.current.useReducer(e,t,r)},I=function(e){return ge.current.useRef(e)},R=function(e){return ge.current.useState(e)},D=function(e,t,r){return ge.current.useSyncExternalStore(e,t,r)},j=function(){return ge.current.useTransition()},z="18.2.0"})),i.register("8vlNu",(function(t,r){e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return n}),(function(e){return n=e})),e(t.exports,"createPortal",(function(){return a}),(function(e){return a=e})),e(t.exports,"createRoot",(function(){return o}),(function(e){return o=e})),e(t.exports,"findDOMNode",(function(){return s}),(function(e){return s=e})),e(t.exports,"flushSync",(function(){return l}),(function(e){return l=e})),e(t.exports,"hydrate",(function(){return _}),(function(e){return _=e})),e(t.exports,"hydrateRoot",(function(){return u}),(function(e){return u=e})),e(t.exports,"render",(function(){return c}),(function(e){return c=e})),e(t.exports,"unmountComponentAtNode",(function(){return f}),(function(e){return f=e})),e(t.exports,"unstable_batchedUpdates",(function(){return d}),(function(e){return d=e})),e(t.exports,"unstable_renderSubtreeIntoContainer",(function(){return h}),(function(e){return h=e})),e(t.exports,"version",(function(){return p}),(function(e){return p=e}));
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n,a,o,s,l,_,u,c,f,d,h,p,g=i("3Ie7j"),v=i("8XZMw"),m=i("1qQH9");function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,k={};function b(e,t){x(e,t),x(e+"Capture",t)}function x(e,t){for(k[e]=t,e=0;e<t.length;e++)w.add(t[e])}var O=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),P=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},N={};function S(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(void 0===t?"undefined":(0,g.default)(t)){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function L(e,t,r,n,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){T[e]=new L(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];T[t]=new L(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){T[e]=new L(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){T[e]=new L(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){T[e]=new L(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){T[e]=new L(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){T[e]=new L(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){T[e]=new L(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){T[e]=new L(e,5,!1,e.toLowerCase(),null,!1,!1)}));var A=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}function I(e,t,r,n){var a=T.hasOwnProperty(t)?T[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(S(t,r,a,n)&&(r=null),n||null===a?function(e){return!!P.call(N,e)||!P.call(C,e)&&(E.test(e)?N[e]=!0:(C[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(A,M);T[t]=new L(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(A,M);T[t]=new L(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(A,M);T[t]=new L(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){T[e]=new L(e,1,!1,e.toLowerCase(),null,!1,!1)})),T.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){T[e]=new L(e,1,!1,e.toLowerCase(),null,!0,!0)}));var R=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),j=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Y=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var X=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var $=Symbol.iterator;function Q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=$&&e[$]||e["@@iterator"])?e:null}var Z,K=Object.assign;function J(e){if(void 0===Z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Z=t&&t[1]||""}return"\n"+Z+e}var ee=!1;function te(e,t){if(!e||ee)return"";ee=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),i=n.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{ee=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?J(e):""}function re(e){switch(e.tag){case 5:return J(e.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1);case 11:return e=te(e.type.render,!1);case 1:return e=te(e.type,!0);default:return""}}function ne(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case z:return"Fragment";case j:return"Portal";case G:return"Profiler";case F:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case q:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case H:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case W:return null!==(t=e.displayName||null)?t:ne(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return ne(e(t))}catch(e){}}return null}function ae(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(t);case 8:return t===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function ie(e){switch(void 0===e?"undefined":(0,g.default)(e)){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function oe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function se(e){e._valueTracker||(e._valueTracker=function(e){var t=oe(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function le(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=oe(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function _e(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ue(e,t){var r=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ce(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=ie(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function fe(e,t){null!=(t=t.checked)&&I(e,"checked",t,!1)}function de(e,t){fe(e,t);var r=ie(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?pe(e,t.type,r):t.hasOwnProperty("defaultValue")&&pe(e,t.type,ie(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function he(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function pe(e,t,r){"number"===t&&_e(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ge=Array.isArray;function ve(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ie(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function me(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(y(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ye(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(y(92));if(ge(r)){if(1<r.length)throw Error(y(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:ie(r)}}function we(e,t){var r=ie(t.value),n=ie(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ke(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?be(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Oe,Pe,Ee=(Pe=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Oe=Oe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return Pe(e,t)}))}:Pe);function Ce(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var Ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];function Le(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||Ne.hasOwnProperty(e)&&Ne[e]?(""+t).trim():t+"px"}function Te(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=Le(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(Ne).forEach((function(e){Se.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ne[t]=Ne[e]}))}));var Ae=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(e,t){if(t){if(Ae[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(y(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(y(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(y(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(y(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Re=null;function De(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ze=null,Fe=null;function Ge(e){if(e=Ia(e)){if("function"!=typeof je)throw Error(y(280));var t=e.stateNode;t&&(t=Da(t),je(e.stateNode,e.type,t))}}function Ue(e){ze?Fe?Fe.push(e):Fe=[e]:ze=e}function qe(){if(ze){var e=ze,t=Fe;if(Fe=ze=null,Ge(e),t)for(e=0;e<t.length;e++)Ge(t[e])}}function He(e,t){return e(t)}function Ve(){}var Be=!1;function We(e,t,r){if(Be)return e(t,r);Be=!0;try{return He(e,t,r)}finally{Be=!1,(null!==ze||null!==Fe)&&(Ve(),qe())}}function Ye(e,t){var r=e.stateNode;if(null===r)return null;var n=Da(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(y(231,t,void 0===r?"undefined":(0,g.default)(r)));return r}var Xe=!1;if(O)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Xe=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch(Pe){Xe=!1}function Qe(e,t,r,n,a,i,o,s,l){var _=Array.prototype.slice.call(arguments,3);try{t.apply(r,_)}catch(e){this.onError(e)}}var Ze=!1,Ke=null,Je=!1,et=null,tt={onError:function(e){Ze=!0,Ke=e}};function rt(e,t,r,n,a,i,o,s,l){Ze=!1,Ke=null,Qe.apply(tt,arguments)}function nt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function at(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function it(e){if(nt(e)!==e)throw Error(y(188))}function ot(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=nt(e)))throw Error(y(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return it(a),e;if(i===n)return it(a),t;i=i.sibling}throw Error(y(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(y(189))}}if(r.alternate!==n)throw Error(y(190))}if(3!==r.tag)throw Error(y(188));return r.stateNode.current===r?e:t}(e))?st(e):null}function st(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=st(e);if(null!==t)return t;e=e.sibling}return null}var lt=m.unstable_scheduleCallback,_t=m.unstable_cancelCallback,ut=m.unstable_shouldYield,ct=m.unstable_requestPaint,ft=m.unstable_now,dt=m.unstable_getCurrentPriorityLevel,ht=m.unstable_ImmediatePriority,pt=m.unstable_UserBlockingPriority,gt=m.unstable_NormalPriority,vt=m.unstable_LowPriority,mt=m.unstable_IdlePriority,yt=null,wt=null;var kt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(bt(e)/xt|0)|0},bt=Math.log,xt=Math.LN2;var Ot=64,Pt=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ct(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~a;0!==s?n=Et(s):0!==(i&=o)&&(n=Et(i))}else 0!==(o=r&~a)?n=Et(o):0!==i&&(n=Et(i));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!=(4194240&i)))return t;if(0!=(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-kt(t)),n|=e[r],t&=~a;return n}function Nt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function St(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Lt(){var e=Ot;return 0==(4194240&(Ot<<=1))&&(Ot=64),e}function Tt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function At(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-kt(t)]=r}function Mt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-kt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var It=0;function Rt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Dt,jt,zt,Ft,Gt,Ut=!1,qt=[],Ht=null,Vt=null,Bt=null,Wt=new Map,Yt=new Map,Xt=[],$t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qt(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Wt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yt.delete(t.pointerId)}}function Zt(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Ia(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Kt(e){var t=Ma(e.target);if(null!==t){var r=nt(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=at(r)))return e.blockedOn=t,void Gt(e.priority,(function(){zt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=ur(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=Ia(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Re=n,r.target.dispatchEvent(n),Re=null,t.shift()}return!0}function er(e,t,r){Jt(e)&&r.delete(t)}function tr(){Ut=!1,null!==Ht&&Jt(Ht)&&(Ht=null),null!==Vt&&Jt(Vt)&&(Vt=null),null!==Bt&&Jt(Bt)&&(Bt=null),Wt.forEach(er),Yt.forEach(er)}function rr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ut||(Ut=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,tr)))}function nr(e){var t=function(t){return rr(t,e)};if(0<qt.length){rr(qt[0],e);for(var r=1;r<qt.length;r++){var n=qt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ht&&rr(Ht,e),null!==Vt&&rr(Vt,e),null!==Bt&&rr(Bt,e),Wt.forEach(t),Yt.forEach(t),r=0;r<Xt.length;r++)(n=Xt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Xt.length&&null===(r=Xt[0]).blockedOn;)Kt(r),null===r.blockedOn&&Xt.shift()}var ar=R.ReactCurrentBatchConfig,ir=!0;function or(e,t,r,n){var a=It,i=ar.transition;ar.transition=null;try{It=1,lr(e,t,r,n)}finally{It=a,ar.transition=i}}function sr(e,t,r,n){var a=It,i=ar.transition;ar.transition=null;try{It=4,lr(e,t,r,n)}finally{It=a,ar.transition=i}}function lr(e,t,r,n){if(ir){var a=ur(e,t,r,n);if(null===a)ia(e,t,n,_r,r),Qt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Ht=Zt(Ht,e,t,r,n,a),!0;case"dragenter":return Vt=Zt(Vt,e,t,r,n,a),!0;case"mouseover":return Bt=Zt(Bt,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Wt.set(i,Zt(Wt.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Yt.set(i,Zt(Yt.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Qt(e,n),4&t&&-1<$t.indexOf(e)){for(;null!==a;){var i=Ia(a);if(null!==i&&Dt(i),null===(i=ur(e,t,r,n))&&ia(e,t,n,_r,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else ia(e,t,n,null,r)}}var _r=null;function ur(e,t,r,n){if(_r=null,null!==(e=Ma(e=De(n))))if(null===(t=nt(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=at(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _r=e,null}function cr(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dt()){case ht:return 1;case pt:return 4;case gt:case vt:return 16;case mt:return 536870912;default:return 16}default:return 16}}var fr=null,dr=null,hr=null;function pr(){if(hr)return hr;var e,t,r=dr,n=r.length,a="value"in fr?fr.value:fr.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[i-t];t++);return hr=a.slice(e,1<t?1-t:void 0)}function gr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function vr(){return!0}function mr(){return!1}function yr(e){var t=function(t,r,n,a,i){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?vr:mr,this.isPropagationStopped=mr,this};return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==(0,g.default)(e.returnValue)&&(e.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==(0,g.default)(e.cancelBubble)&&(e.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),t}var wr,kr,br,xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Or=yr(xr),Pr=K({},xr,{view:0,detail:0}),Er=yr(Pr),Cr=K({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&"mousemove"===e.type?(wr=e.screenX-br.screenX,kr=e.screenY-br.screenY):kr=wr=0,br=e),wr)},movementY:function(e){return"movementY"in e?e.movementY:kr}}),Nr=yr(Cr),Sr=yr(K({},Cr,{dataTransfer:0})),Lr=yr(K({},Pr,{relatedTarget:0})),Tr=yr(K({},xr,{animationName:0,elapsedTime:0,pseudoElement:0})),Ar=K({},xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mr=yr(Ar),Ir=yr(K({},xr,{data:0})),Rr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function Fr(){return zr}var Gr=K({},Pr,{key:function(e){if(e.key){var t=Rr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=gr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Dr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(e){return"keypress"===e.type?gr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?gr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ur=yr(Gr),qr=yr(K({},Cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Hr=yr(K({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr})),Vr=yr(K({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Br=K({},Cr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wr=yr(Br),Yr=[9,13,27,32],Xr=O&&"CompositionEvent"in window,$r=null;O&&"documentMode"in document&&($r=document.documentMode);var Qr=O&&"TextEvent"in window&&!$r,Zr=O&&(!Xr||$r&&8<$r&&11>=$r),Kr=String.fromCharCode(32),Jr=!1;function en(e,t){switch(e){case"keyup":return-1!==Yr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var rn=!1;var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nn[e.type]:"textarea"===t}function on(e,t,r,n){Ue(n),0<(t=sa(t,"onChange")).length&&(r=new Or("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var sn=null,ln=null;function _n(e){Jn(e,0)}function un(e){if(le(Ra(e)))return e}function cn(e,t){if("change"===e)return t}var fn=!1;if(O){var dn;if(O){var hn="oninput"in document;if(!hn){var pn=document.createElement("div");pn.setAttribute("oninput","return;"),hn="function"==typeof pn.oninput}dn=hn}else dn=!1;fn=dn&&(!document.documentMode||9<document.documentMode)}function gn(){sn&&(sn.detachEvent("onpropertychange",vn),ln=sn=null)}function vn(e){if("value"===e.propertyName&&un(ln)){var t=[];on(t,ln,e,De(e)),We(_n,t)}}function mn(e,t,r){"focusin"===e?(gn(),ln=r,(sn=t).attachEvent("onpropertychange",vn)):"focusout"===e&&gn()}function yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return un(ln)}function wn(e,t){if("click"===e)return un(t)}function kn(e,t){if("input"===e||"change"===e)return un(t)}var bn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function xn(e,t){if(bn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!P.call(t,a)||!bn(e[a],t[a]))return!1}return!0}function On(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pn(e,t){var r,n=On(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=On(n)}}function En(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?En(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Cn(){for(var e=window,t=_e();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=_e((e=t.contentWindow).document)}return t}function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Sn(e){var t=Cn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&En(r.ownerDocument.documentElement,r)){if(null!==n&&Nn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Pn(r,i);var o=Pn(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ln=O&&"documentMode"in document&&11>=document.documentMode,Tn=null,An=null,Mn=null,In=!1;function Rn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;In||null==Tn||Tn!==_e(n)||("selectionStart"in(n=Tn)&&Nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Mn&&xn(Mn,n)||(Mn=n,0<(n=sa(An,"onSelect")).length&&(t=new Or("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Tn)))}function Dn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionend:Dn("Transition","TransitionEnd")},zn={},Fn={};function Gn(e){if(zn[e])return zn[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Fn)return zn[e]=r[t];return e}O&&(Fn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var Un=Gn("animationend"),qn=Gn("animationiteration"),Hn=Gn("animationstart"),Vn=Gn("transitionend"),Bn=new Map,Wn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){Bn.set(e,t),b(t,[e])}for(var Xn=0;Xn<Wn.length;Xn++){var $n=Wn[Xn];Yn($n.toLowerCase(),"on"+($n[0].toUpperCase()+$n.slice(1)))}Yn(Un,"onAnimationEnd"),Yn(qn,"onAnimationIteration"),Yn(Hn,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Vn,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),b("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),b("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),b("onBeforeInput",["compositionend","keypress","textInput","paste"]),b("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qn));function Kn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,i,o,s,l){if(rt.apply(this,arguments),Ze){if(!Ze)throw Error(y(198));var _=Ke;Ze=!1,Ke=null,Je||(Je=!0,et=_)}}(n,t,void 0,e),e.currentTarget=null}function Jn(e,t){t=0!=(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,_=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Kn(a,s,_),i=l}else for(o=0;o<n.length;o++){if(l=(s=n[o]).instance,_=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Kn(a,s,_),i=l}}}if(Je)throw e=et,Je=!1,et=null,e}function ea(e,t){var r=t[La];void 0===r&&(r=t[La]=new Set);var n=e+"__bubble";r.has(n)||(aa(t,e,2,!1),r.add(n))}function ta(e,t,r){var n=0;t&&(n|=4),aa(r,e,n,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function na(e){if(!e[ra]){e[ra]=!0,w.forEach((function(t){"selectionchange"!==t&&(Zn.has(t)||ta(t,!1,e),ta(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ra]||(t[ra]=!0,ta("selectionchange",!1,t))}}function aa(e,t,r,n){switch(cr(t)){case 1:var a=or;break;case 4:a=sr;break;default:a=lr}r=a.bind(null,t,r,e),a=void 0,!Xe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ia(e,t,r,n,a){var i=n;if(0==(1&t)&&0==(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=Ma(s)))return;if(5===(l=o.tag)||6===l){n=i=o;continue e}s=s.parentNode}}n=n.return}We((function(){var n=i,a=De(r),o=[];e:{var s=Bn.get(e);if(void 0!==s){var l=Or,_=e;switch(e){case"keypress":if(0===gr(r))break e;case"keydown":case"keyup":l=Ur;break;case"focusin":_="focus",l=Lr;break;case"focusout":_="blur",l=Lr;break;case"beforeblur":case"afterblur":l=Lr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Hr;break;case Un:case qn:case Hn:l=Tr;break;case Vn:l=Vr;break;case"scroll":l=Er;break;case"wheel":l=Wr;break;case"copy":case"cut":case"paste":l=Mr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=qr}var u=0!=(4&t),c=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var d,h=n;null!==h;){var p=(d=h).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==f&&(null!=(p=Ye(h,f))&&u.push(oa(h,p,d)))),c)break;h=h.return}0<u.length&&(s=new l(s,_,null,r,a),o.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===Re||!(_=r.relatedTarget||r.fromElement)||!Ma(_)&&!_[Sa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(_=(_=r.relatedTarget||r.toElement)?Ma(_):null)&&(_!==(c=nt(_))||5!==_.tag&&6!==_.tag)&&(_=null)):(l=null,_=n),l!==_)){if(u=Nr,p="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=qr,p="onPointerLeave",f="onPointerEnter",h="pointer"),c=null==l?s:Ra(l),d=null==_?s:Ra(_),(s=new u(p,h+"leave",l,r,a)).target=c,s.relatedTarget=d,p=null,Ma(a)===n&&((u=new u(f,h+"enter",_,r,a)).target=d,u.relatedTarget=c,p=u),c=p,l&&_)e:{for(f=_,h=0,d=u=l;d;d=la(d))h++;for(d=0,p=f;p;p=la(p))d++;for(;0<h-d;)u=la(u),h--;for(;0<d-h;)f=la(f),d--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=la(u),f=la(f)}u=null}else u=null;null!==l&&_a(o,s,l,u,!1),null!==_&&null!==c&&_a(o,c,_,u,!0)}if("select"===(l=(s=n?Ra(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=cn;else if(an(s))if(fn)g=kn;else{g=yn;var v=mn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=wn);switch(g&&(g=g(e,n))?on(o,g,r,a):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&pe(s,"number",s.value)),v=n?Ra(n):window,e){case"focusin":(an(v)||"true"===v.contentEditable)&&(Tn=v,An=n,Mn=null);break;case"focusout":Mn=An=Tn=null;break;case"mousedown":In=!0;break;case"contextmenu":case"mouseup":case"dragend":In=!1,Rn(o,r,a);break;case"selectionchange":if(Ln)break;case"keydown":case"keyup":Rn(o,r,a)}var m;if(Xr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else rn?en(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Zr&&"ko"!==r.locale&&(rn||"onCompositionStart"!==y?"onCompositionEnd"===y&&rn&&(m=pr()):(dr="value"in(fr=a)?fr.value:fr.textContent,rn=!0)),0<(v=sa(n,y)).length&&(y=new Ir(y,e,null,r,a),o.push({event:y,listeners:v}),m?y.data=m:null!==(m=tn(r))&&(y.data=m))),(m=Qr?function(e,t){switch(e){case"compositionend":return tn(t);case"keypress":return 32!==t.which?null:(Jr=!0,Kr);case"textInput":return(e=t.data)===Kr&&Jr?null:e;default:return null}}(e,r):function(e,t){if(rn)return"compositionend"===e||!Xr&&en(e,t)?(e=pr(),hr=dr=fr=null,rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=sa(n,"onBeforeInput")).length&&(a=new Ir("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=m))}Jn(o,t)}))}function oa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sa(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ye(e,r))&&n.unshift(oa(e,i,a)),null!=(i=Ye(e,t))&&n.push(oa(e,i,a))),e=e.return}return n}function la(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function _a(e,t,r,n,a){for(var i=t._reactName,o=[];null!==r&&r!==n;){var s=r,l=s.alternate,_=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==_&&(s=_,a?null!=(l=Ye(r,i))&&o.unshift(oa(r,l,s)):a||null!=(l=Ye(r,i))&&o.push(oa(r,l,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var ua=/\r\n?/g,ca=/\u0000|\uFFFD/g;function fa(e){return("string"==typeof e?e:""+e).replace(ua,"\n").replace(ca,"")}function da(e,t,r){if(t=fa(t),fa(e)!==t&&r)throw Error(y(425))}function ha(){}var pa=null,ga=null;function va(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ma="function"==typeof setTimeout?setTimeout:void 0,ya="function"==typeof clearTimeout?clearTimeout:void 0,wa="function"==typeof Promise?Promise:void 0,ka="function"==typeof queueMicrotask?queueMicrotask:void 0!==wa?function(e){return wa.resolve(null).then(e).catch(ba)}:ma;function ba(e){setTimeout((function(){throw e}))}function xa(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void nr(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);nr(t)}function Oa(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Pa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),Ca="__reactFiber$"+Ea,Na="__reactProps$"+Ea,Sa="__reactContainer$"+Ea,La="__reactEvents$"+Ea,Ta="__reactListeners$"+Ea,Aa="__reactHandles$"+Ea;function Ma(e){var t=e[Ca];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sa]||r[Ca]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Pa(e);null!==e;){if(r=e[Ca])return r;e=Pa(e)}return t}r=(e=r).parentNode}return null}function Ia(e){return!(e=e[Ca]||e[Sa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ra(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(y(33))}function Da(e){return e[Na]||null}var ja=[],za=-1;function Fa(e){return{current:e}}function Ga(e){0>za||(e.current=ja[za],ja[za]=null,za--)}function Ua(e,t){za++,ja[za]=e.current,e.current=t}var qa={},Ha=Fa(qa),Va=Fa(!1),Ba=qa;function Wa(e,t){var r=e.type.contextTypes;if(!r)return qa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ya(e){return null!=(e=e.childContextTypes)}function Xa(){Ga(Va),Ga(Ha)}function $a(e,t,r){if(Ha.current!==qa)throw Error(y(168));Ua(Ha,t),Ua(Va,r)}function Qa(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(y(108,ae(e)||"Unknown",a));return K({},r,n)}function Za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qa,Ba=Ha.current,Ua(Ha,e),Ua(Va,Va.current),!0}function Ka(e,t,r){var n=e.stateNode;if(!n)throw Error(y(169));r?(e=Qa(e,t,Ba),n.__reactInternalMemoizedMergedChildContext=e,Ga(Va),Ga(Ha),Ua(Ha,e)):Ga(Va),Ua(Va,r)}var Ja=null,ei=!1,ti=!1;function ri(e){null===Ja?Ja=[e]:Ja.push(e)}function ni(){if(!ti&&null!==Ja){ti=!0;var e=0,t=It;try{var r=Ja;for(It=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ja=null,ei=!1}catch(t){throw null!==Ja&&(Ja=Ja.slice(e+1)),lt(ht,ni),t}finally{It=t,ti=!1}}return null}var ai=[],ii=0,oi=null,si=0,li=[],_i=0,ui=null,ci=1,fi="";function di(e,t){ai[ii++]=si,ai[ii++]=oi,oi=e,si=t}function hi(e,t,r){li[_i++]=ci,li[_i++]=fi,li[_i++]=ui,ui=e;var n=ci;e=fi;var a=32-kt(n)-1;n&=~(1<<a),r+=1;var i=32-kt(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,ci=1<<32-kt(t)+a|r<<a|n,fi=i+e}else ci=1<<i|r<<a|n,fi=e}function pi(e){null!==e.return&&(di(e,1),hi(e,1,0))}function gi(e){for(;e===oi;)oi=ai[--ii],ai[ii]=null,si=ai[--ii],ai[ii]=null;for(;e===ui;)ui=li[--_i],li[_i]=null,fi=li[--_i],li[_i]=null,ci=li[--_i],li[_i]=null}var vi=null,mi=null,yi=!1,wi=null;function ki(e,t){var r=W_(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function bi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,vi=e,mi=Oa(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,vi=e,mi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==ui?{id:ci,overflow:fi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=W_(18,null,null,0)).stateNode=t,r.return=e,e.child=r,vi=e,mi=null,!0);default:return!1}}function xi(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Oi(e){if(yi){var t=mi;if(t){var r=t;if(!bi(e,t)){if(xi(e))throw Error(y(418));t=Oa(r.nextSibling);var n=vi;t&&bi(e,t)?ki(n,r):(e.flags=-4097&e.flags|2,yi=!1,vi=e)}}else{if(xi(e))throw Error(y(418));e.flags=-4097&e.flags|2,yi=!1,vi=e}}}function Pi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;vi=e}function Ei(e){if(e!==vi)return!1;if(!yi)return Pi(e),yi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!va(e.type,e.memoizedProps)),t&&(t=mi)){if(xi(e))throw Ci(),Error(y(418));for(;t;)ki(e,t),t=Oa(t.nextSibling)}if(Pi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(y(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){mi=Oa(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}mi=null}}else mi=vi?Oa(e.stateNode.nextSibling):null;return!0}function Ci(){for(var e=mi;e;)e=Oa(e.nextSibling)}function Ni(){mi=vi=null,yi=!1}function Si(e){null===wi?wi=[e]:wi.push(e)}var Li=R.ReactCurrentBatchConfig;function Ti(e,t){if(e&&e.defaultProps){for(var r in t=K({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Ai=Fa(null),Mi=null,Ii=null,Ri=null;function Di(){Ri=Ii=Mi=null}function ji(e){var t=Ai.current;Ga(Ai),e._currentValue=t}function zi(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fi(e,t){Mi=e,Ri=Ii=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Rs=!0),e.firstContext=null)}function Gi(e){var t=e._currentValue;if(Ri!==e)if(e={context:e,memoizedValue:t,next:null},null===Ii){if(null===Mi)throw Error(y(308));Ii=e,Mi.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return t}var Ui=null;function qi(e){null===Ui?Ui=[e]:Ui.push(e)}function Hi(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,qi(t)):(r.next=a.next,a.next=r),t.interleaved=r,Vi(e,n)}function Vi(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Bi=!1;function Wi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!=(2&Hl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Vi(e,r)}return null===(a=n.interleaved)?(t.next=t,qi(n)):(t.next=a.next,a.next=t),n.interleaved=t,Vi(e,r)}function Qi(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Mt(e,r)}}function Zi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ki(e,t,r,n){var a=e.updateQueue;Bi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,_=l.next;l.next=null,null===o?i=_:o.next=_,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=_:s.next=_,u.lastBaseUpdate=l))}if(null!==i){var c=a.baseState;for(o=0,u=_=l=null,s=i;;){var f=s.lane,d=s.eventTime;if((n&f)===f){null!==u&&(u=u.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,p=s;switch(f=t,d=r,p.tag){case 1:if("function"==typeof(h=p.payload)){c=h.call(d,c,f);break e}c=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=p.payload)?h.call(d,c,f):h))break e;c=K({},c,f);break e;case 2:Bi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(_=u=d,l=c):u=u.next=d,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=c),a.baseState=l,a.firstBaseUpdate=_,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Zl|=o,e.lanes=o,e.memoizedState=c}}function Ji(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!=typeof a)throw Error(y(191,a));a.call(n)}}}var eo=(new v.Component).refs;function to(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:K({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&nt(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=p_(),a=g_(e),i=Xi(n,a);i.payload=t,null!=r&&(i.callback=r),null!==(t=$i(e,i,a))&&(v_(t,e,a,n),Qi(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=p_(),a=g_(e),i=Xi(n,a);i.tag=1,i.payload=t,null!=r&&(i.callback=r),null!==(t=$i(e,i,a))&&(v_(t,e,a,n),Qi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=p_(),n=g_(e),a=Xi(r,n);a.tag=2,null!=t&&(a.callback=t),null!==(t=$i(e,a,n))&&(v_(t,e,n,r),Qi(t,e,n))}};function no(e,t,r,n,a,i,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!xn(r,n)||!xn(a,i))}function ao(e,t,r){var n=!1,a=qa,i=t.contextType;return"object"==typeof i&&null!==i?i=Gi(i):(a=Ya(t)?Ba:Ha.current,i=(n=null!=(n=t.contextTypes))?Wa(e,a):qa),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function io(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=eo,Wi(e);var i=t.contextType;"object"==typeof i&&null!==i?a.context=Gi(i):(i=Ya(t)?Ba:Ha.current,a.context=Wa(e,i)),a.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(to(e,t,i,r),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Ki(e,r,a,n),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function so(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(y(309));var n=r.stateNode}if(!n)throw Error(y(147,e));var a=n,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===eo&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(y(284));if(!r._owner)throw Error(y(290,e))}return e}function lo(e,t){throw e=Object.prototype.toString.call(t),Error(y(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function uo(e){var t=function(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}},r=function(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null},n=function(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e},a=function(e,t){return(e=X_(e,t)).index=0,e.sibling=null,e},i=function(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)},o=function(t){return e&&null===t.alternate&&(t.flags|=2),t},s=function(e,t,r,n){return null===t||6!==t.tag?((t=K_(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)},l=function(e,t,r,n){var i=r.type;return i===z?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===Y&&_o(i)===t.type)?((n=a(t,r.props)).ref=so(e,t,r),n.return=e,n):((n=$_(r.type,r.key,r.props,null,e.mode,n)).ref=so(e,t,r),n.return=e,n)},_=function(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=J_(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)},u=function(e,t,r,n,i){return null===t||7!==t.tag?((t=Q_(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)},c=function(a,o,s,l){for(var _=null,u=null,c=o,f=o=0,g=null;null!==c&&f<s.length;f++){c.index>f?(g=c,c=null):g=c.sibling;var v=h(a,c,s[f],l);if(null===v){null===c&&(c=g);break}e&&c&&null===v.alternate&&t(a,c),o=i(v,o,f),null===u?_=v:u.sibling=v,u=v,c=g}if(f===s.length)return r(a,c),yi&&di(a,f),_;if(null===c){for(;f<s.length;f++)null!==(c=d(a,s[f],l))&&(o=i(c,o,f),null===u?_=c:u.sibling=c,u=c);return yi&&di(a,f),_}for(c=n(a,c);f<s.length;f++)null!==(g=p(c,a,f,s[f],l))&&(e&&null!==g.alternate&&c.delete(null===g.key?f:g.key),o=i(g,o,f),null===u?_=g:u.sibling=g,u=g);return e&&c.forEach((function(e){return t(a,e)})),yi&&di(a,f),_},f=function(a,o,s,l){var _=Q(s);if("function"!=typeof _)throw Error(y(150));if(null==(s=_.call(s)))throw Error(y(151));for(var u=_=null,c=o,f=o=0,g=null,v=s.next();null!==c&&!v.done;f++,v=s.next()){c.index>f?(g=c,c=null):g=c.sibling;var m=h(a,c,v.value,l);if(null===m){null===c&&(c=g);break}e&&c&&null===m.alternate&&t(a,c),o=i(m,o,f),null===u?_=m:u.sibling=m,u=m,c=g}if(v.done)return r(a,c),yi&&di(a,f),_;if(null===c){for(;!v.done;f++,v=s.next())null!==(v=d(a,v.value,l))&&(o=i(v,o,f),null===u?_=v:u.sibling=v,u=v);return yi&&di(a,f),_}for(c=n(a,c);!v.done;f++,v=s.next())null!==(v=p(c,a,f,v.value,l))&&(e&&null!==v.alternate&&c.delete(null===v.key?f:v.key),o=i(v,o,f),null===u?_=v:u.sibling=v,u=v);return e&&c.forEach((function(e){return t(a,e)})),yi&&di(a,f),_};function d(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=K_(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case D:return(r=$_(t.type,t.key,t.props,null,e.mode,r)).ref=so(e,null,t),r.return=e,r;case j:return(t=J_(t,e.mode,r)).return=e,t;case Y:return d(e,(0,t._init)(t._payload),r)}if(ge(t)||Q(t))return(t=Q_(t,e.mode,r,null)).return=e,t;lo(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==a?null:s(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case D:return r.key===a?l(e,t,r,n):null;case j:return r.key===a?_(e,t,r,n):null;case Y:return h(e,t,(a=r._init)(r._payload),n)}if(ge(r)||Q(r))return null!==a?null:u(e,t,r,n,null);lo(e,r)}return null}function p(e,t,r,n,a){if("string"==typeof n&&""!==n||"number"==typeof n)return e=e.get(r)||null,s(t,e,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case D:return e=e.get(null===n.key?r:n.key)||null,l(t,e,n,a);case j:return e=e.get(null===n.key?r:n.key)||null,_(t,e,n,a);case Y:return p(e,t,r,(0,n._init)(n._payload),a)}if(ge(n)||Q(n))return e=e.get(r)||null,u(t,e,n,a,null);lo(t,n)}return null}return function e(n,i,s,l){if("object"==typeof s&&null!==s&&s.type===z&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case D:e:{for(var _=s.key,u=i;null!==u;){if(u.key===_){if((_=s.type)===z){if(7===u.tag){r(n,u.sibling),(i=a(u,s.props.children)).return=n,n=i;break e}}else if(u.elementType===_||"object"==typeof _&&null!==_&&_.$$typeof===Y&&_o(_)===u.type){r(n,u.sibling),(i=a(u,s.props)).ref=so(n,u,s),i.return=n,n=i;break e}r(n,u);break}t(n,u),u=u.sibling}s.type===z?((i=Q_(s.props.children,n.mode,l,s.key)).return=n,n=i):((l=$_(s.type,s.key,s.props,null,n.mode,l)).ref=so(n,i,s),l.return=n,n=l)}return o(n);case j:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){r(n,i.sibling),(i=a(i,s.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=J_(s,n.mode,l)).return=n,n=i}return o(n);case Y:return e(n,i,(u=s._init)(s._payload),l)}if(ge(s))return c(n,i,s,l);if(Q(s))return f(n,i,s,l);lo(n,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,s)).return=n,n=i):(r(n,i),(i=K_(s,n.mode,l)).return=n,n=i),o(n)):r(n,i)}}var co=uo(!0),fo=uo(!1),ho={},po=Fa(ho),go=Fa(ho),vo=Fa(ho);function mo(e){if(e===ho)throw Error(y(174));return e}function yo(e,t){switch(Ua(vo,t),Ua(go,e),Ua(po,ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xe(null,"");break;default:t=xe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ga(po),Ua(po,t)}function wo(){Ga(po),Ga(go),Ga(vo)}function ko(e){mo(vo.current);var t=mo(po.current),r=xe(t,e.type);t!==r&&(Ua(go,e),Ua(po,r))}function bo(e){go.current===e&&(Ga(po),Ga(go))}var xo=Fa(0);function Oo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Po=[];function Eo(){for(var e=0;e<Po.length;e++)Po[e]._workInProgressVersionPrimary=null;Po.length=0}var Co=R.ReactCurrentDispatcher,No=R.ReactCurrentBatchConfig,So=0,Lo=null,To=null,Ao=null,Mo=!1,Io=!1,Ro=0,Do=0;function jo(){throw Error(y(321))}function zo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bn(e[r],t[r]))return!1;return!0}function Fo(e,t,r,n,a,i){if(So=i,Lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Co.current=null===e||null===e.memoizedState?bs:xs,e=r(n,a),Io){i=0;do{if(Io=!1,Ro=0,25<=i)throw Error(y(301));i+=1,Ao=To=null,t.updateQueue=null,Co.current=Os,e=r(n,a)}while(Io)}if(Co.current=ks,t=null!==To&&null!==To.next,So=0,Ao=To=Lo=null,Mo=!1,t)throw Error(y(300));return e}function Go(){var e=0!==Ro;return Ro=0,e}function Uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ao?Lo.memoizedState=Ao=e:Ao=Ao.next=e,Ao}function qo(){if(null===To){var e=Lo.alternate;e=null!==e?e.memoizedState:null}else e=To.next;var t=null===Ao?Lo.memoizedState:Ao.next;if(null!==t)Ao=t,To=e;else{if(null===e)throw Error(y(310));e={memoizedState:(To=e).memoizedState,baseState:To.baseState,baseQueue:To.baseQueue,queue:To.queue,next:null},null===Ao?Lo.memoizedState=Ao=e:Ao=Ao.next=e}return Ao}function Ho(e,t){return"function"==typeof t?t(e):t}function Vo(e){var t=qo(),r=t.queue;if(null===r)throw Error(y(311));r.lastRenderedReducer=e;var n=To,a=n.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(null!==a){i=a.next,n=n.baseState;var s=o=null,l=null,_=i;do{var u=_.lane;if((So&u)===u)null!==l&&(l=l.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),n=_.hasEagerState?_.eagerState:e(n,_.action);else{var c={lane:u,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};null===l?(s=l=c,o=n):l=l.next=c,Lo.lanes|=u,Zl|=u}_=_.next}while(null!==_&&_!==i);null===l?o=n:l.next=s,bn(n,t.memoizedState)||(Rs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{i=a.lane,Lo.lanes|=i,Zl|=i,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bo(e){var t=qo(),r=t.queue;if(null===r)throw Error(y(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);bn(i,t.memoizedState)||(Rs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Wo(){}function Yo(e,t){var r=Lo,n=qo(),a=t(),i=!bn(n.memoizedState,a);if(i&&(n.memoizedState=a,Rs=!0),n=n.queue,is(Qo.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==Ao&&1&Ao.memoizedState.tag){if(r.flags|=2048,es(9,$o.bind(null,r,n,a,t),void 0,null),null===Vl)throw Error(y(349));0!=(30&So)||Xo(r,t,a)}return a}function Xo(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Lo.updateQueue)?(t={lastEffect:null,stores:null},Lo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function $o(e,t,r,n){t.value=r,t.getSnapshot=n,Zo(t)&&Ko(e)}function Qo(e,t,r){return r((function(){Zo(t)&&Ko(e)}))}function Zo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bn(e,r)}catch(e){return!0}}function Ko(e){var t=Vi(e,1);null!==t&&v_(t,e,1,-1)}function Jo(e){var t=Uo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t.queue=e,e=e.dispatch=vs.bind(null,Lo,e),[t.memoizedState,e]}function es(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Lo.updateQueue)?(t={lastEffect:null,stores:null},Lo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ts(){return qo().memoizedState}function rs(e,t,r,n){var a=Uo();Lo.flags|=e,a.memoizedState=es(1|t,r,void 0,void 0===n?null:n)}function ns(e,t,r,n){var a=qo();n=void 0===n?null:n;var i=void 0;if(null!==To){var o=To.memoizedState;if(i=o.destroy,null!==n&&zo(n,o.deps))return void(a.memoizedState=es(t,r,i,n))}Lo.flags|=e,a.memoizedState=es(1|t,r,i,n)}function as(e,t){return rs(8390656,8,e,t)}function is(e,t){return ns(2048,8,e,t)}function os(e,t){return ns(4,2,e,t)}function ss(e,t){return ns(4,4,e,t)}function ls(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _s(e,t,r){return r=null!=r?r.concat([e]):null,ns(4,4,ls.bind(null,t,e),r)}function us(){}function cs(e,t){var r=qo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&zo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fs(e,t){var r=qo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&zo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ds(e,t,r){return 0==(21&So)?(e.baseState&&(e.baseState=!1,Rs=!0),e.memoizedState=r):(bn(r,t)||(r=Lt(),Lo.lanes|=r,Zl|=r,e.baseState=!0),t)}function hs(e,t){var r=It;It=0!==r&&4>r?r:4,e(!0);var n=No.transition;No.transition={};try{e(!1),t()}finally{It=r,No.transition=n}}function ps(){return qo().memoizedState}function gs(e,t,r){var n=g_(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ms(e))ys(t,r);else if(null!==(r=Hi(e,t,r,n))){v_(r,e,n,p_()),ws(r,t,n)}}function vs(e,t,r){var n=g_(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ms(e))ys(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,bn(s,o)){var l=t.interleaved;return null===l?(a.next=a,qi(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(e){}null!==(r=Hi(e,t,a,n))&&(v_(r,e,n,a=p_()),ws(r,t,n))}}function ms(e){var t=e.alternate;return e===Lo||null!==t&&t===Lo}function ys(e,t){Io=Mo=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ws(e,t,r){if(0!=(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Mt(e,r)}}var ks={readContext:Gi,useCallback:jo,useContext:jo,useEffect:jo,useImperativeHandle:jo,useInsertionEffect:jo,useLayoutEffect:jo,useMemo:jo,useReducer:jo,useRef:jo,useState:jo,useDebugValue:jo,useDeferredValue:jo,useTransition:jo,useMutableSource:jo,useSyncExternalStore:jo,useId:jo,unstable_isNewReconciler:!1},bs={readContext:Gi,useCallback:function(e,t){return Uo().memoizedState=[e,void 0===t?null:t],e},useContext:Gi,useEffect:as,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,rs(4194308,4,ls.bind(null,t,e),r)},useLayoutEffect:function(e,t){return rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return rs(4,2,e,t)},useMemo:function(e,t){var r=Uo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Uo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=gs.bind(null,Lo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Uo().memoizedState=e},useState:Jo,useDebugValue:us,useDeferredValue:function(e){return Uo().memoizedState=e},useTransition:function(){var e=Jo(!1),t=e[0];return e=hs.bind(null,e[1]),Uo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Lo,a=Uo();if(yi){if(void 0===r)throw Error(y(407));r=r()}else{if(r=t(),null===Vl)throw Error(y(349));0!=(30&So)||Xo(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,as(Qo.bind(null,n,i,e),[e]),n.flags|=2048,es(9,$o.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Uo(),t=Vl.identifierPrefix;if(yi){var r=fi;t=":"+t+"R"+(r=(ci&~(1<<32-kt(ci)-1)).toString(32)+r),0<(r=Ro++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=Do++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xs={readContext:Gi,useCallback:cs,useContext:Gi,useEffect:is,useImperativeHandle:_s,useInsertionEffect:os,useLayoutEffect:ss,useMemo:fs,useReducer:Vo,useRef:ts,useState:function(){return Vo(Ho)},useDebugValue:us,useDeferredValue:function(e){return ds(qo(),To.memoizedState,e)},useTransition:function(){return[Vo(Ho)[0],qo().memoizedState]},useMutableSource:Wo,useSyncExternalStore:Yo,useId:ps,unstable_isNewReconciler:!1},Os={readContext:Gi,useCallback:cs,useContext:Gi,useEffect:is,useImperativeHandle:_s,useInsertionEffect:os,useLayoutEffect:ss,useMemo:fs,useReducer:Bo,useRef:ts,useState:function(){return Bo(Ho)},useDebugValue:us,useDeferredValue:function(e){var t=qo();return null===To?t.memoizedState=e:ds(t,To.memoizedState,e)},useTransition:function(){return[Bo(Ho)[0],qo().memoizedState]},useMutableSource:Wo,useSyncExternalStore:Yo,useId:ps,unstable_isNewReconciler:!1};function Ps(e,t){try{var r="",n=t;do{r+=re(n),n=n.return}while(n);var a=r}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a,digest:null}}function Es(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function Cs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var Ns="function"==typeof WeakMap?WeakMap:Map;function Ss(e,t,r){(r=Xi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){i_||(i_=!0,o_=n),Cs(0,t)},r}function Ls(e,t,r){(r=Xi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Cs(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(r.callback=function(){Cs(0,t),"function"!=typeof n&&(null===s_?s_=new Set([this]):s_.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function Ts(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new Ns;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=G_.bind(null,e,t,r),t.then(e,e))}function As(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ms(e,t,r,n,a){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Xi(-1,1)).tag=2,$i(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Is=R.ReactCurrentOwner,Rs=!1;function Ds(e,t,r,n){t.child=null===e?fo(t,null,r,n):co(t,e.child,r,n)}function js(e,t,r,n,a){r=r.render;var i=t.ref;return Fi(t,a),n=Fo(e,t,r,n,i,a),r=Go(),null===e||Rs?(yi&&r&&pi(t),t.flags|=1,Ds(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,il(e,t,a))}function zs(e,t,r,n,a){if(null===e){var i=r.type;return"function"!=typeof i||Y_(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=$_(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Fs(e,t,i,n,a))}if(i=e.child,0==(e.lanes&a)){var o=i.memoizedProps;if((r=null!==(r=r.compare)?r:xn)(o,n)&&e.ref===t.ref)return il(e,t,a)}return t.flags|=1,(e=X_(i,n)).ref=t.ref,e.return=t,t.child=e}function Fs(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(xn(i,n)&&e.ref===t.ref){if(Rs=!1,t.pendingProps=n=i,0==(e.lanes&a))return t.lanes=e.lanes,il(e,t,a);0!=(131072&e.flags)&&(Rs=!0)}}return qs(e,t,r,n,a)}function Gs(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ua(Xl,Yl),Yl|=r;else{if(0==(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ua(Xl,Yl),Yl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Ua(Xl,Yl),Yl|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ua(Xl,Yl),Yl|=n;return Ds(e,t,a,r),t.child}function Us(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qs(e,t,r,n,a){var i=Ya(r)?Ba:Ha.current;return i=Wa(t,i),Fi(t,a),r=Fo(e,t,r,n,i,a),n=Go(),null===e||Rs?(yi&&n&&pi(t),t.flags|=1,Ds(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,il(e,t,a))}function Hs(e,t,r,n,a){if(Ya(r)){var i=!0;Za(t)}else i=!1;if(Fi(t,a),null===t.stateNode)al(e,t),ao(t,r,n),oo(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,_=r.contextType;"object"==typeof _&&null!==_?_=Gi(_):_=Wa(t,_=Ya(r)?Ba:Ha.current);var u=r.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==n||l!==_)&&io(t,o,n,_),Bi=!1;var f=t.memoizedState;o.state=f,Ki(t,n,o,a),l=t.memoizedState,s!==n||f!==l||Va.current||Bi?("function"==typeof u&&(to(t,r,u,n),l=t.memoizedState),(s=Bi||no(t,r,s,n,f,l,_))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=_,n=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Yi(e,t),s=t.memoizedProps,_=t.type===t.elementType?s:Ti(t.type,s),o.props=_,c=t.pendingProps,f=o.context,"object"==typeof(l=r.contextType)&&null!==l?l=Gi(l):l=Wa(t,l=Ya(r)?Ba:Ha.current);var d=r.getDerivedStateFromProps;(u="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==c||f!==l)&&io(t,o,n,l),Bi=!1,f=t.memoizedState,o.state=f,Ki(t,n,o,a);var h=t.memoizedState;s!==c||f!==h||Va.current||Bi?("function"==typeof d&&(to(t,r,d,n),h=t.memoizedState),(_=Bi||no(t,r,_,n,f,h,l)||!1)?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,h,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,h,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=l,n=_):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Vs(e,t,r,n,i,a)}function Vs(e,t,r,n,a,i){Us(e,t);var o=0!=(128&t.flags);if(!n&&!o)return a&&Ka(t,r,!1),il(e,t,i);n=t.stateNode,Is.current=t;var s=o&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=co(t,e.child,null,i),t.child=co(t,null,s,i)):Ds(e,t,s,i),t.memoizedState=n.state,a&&Ka(t,r,!0),t.child}function Bs(e){var t=e.stateNode;t.pendingContext?$a(0,t.pendingContext,t.pendingContext!==t.context):t.context&&$a(0,t.context,!1),yo(e,t.containerInfo)}function Ws(e,t,r,n,a){return Ni(),Si(a),t.flags|=256,Ds(e,t,r,n),t.child}var Ys,Xs,$s,Qs={dehydrated:null,treeContext:null,retryLane:0};function Zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ks(e,t,r){var n,a=t.pendingProps,i=xo.current,o=!1,s=0!=(128&t.flags);if((n=s)||(n=(null===e||null!==e.memoizedState)&&0!=(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ua(xo,1&i),null===e)return Oi(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=a.children,e=a.fallback,o?(a=t.mode,o=t.child,s={mode:"hidden",children:s},0==(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=Z_(s,a,0,null),e=Q_(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Zs(r),t.memoizedState=Qs,e):Js(t,s));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,a,i,o){if(r)return 256&t.flags?(t.flags&=-257,el(e,t,o,n=Es(Error(y(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Z_({mode:"visible",children:n.children},a,0,null),(i=Q_(i,a,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!=(1&t.mode)&&co(t,e.child,null,o),t.child.memoizedState=Zs(o),t.memoizedState=Qs,i);if(0==(1&t.mode))return el(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var s=n.dgst;return n=s,el(e,t,o,n=Es(i=Error(y(419)),n,void 0))}if(s=0!=(o&e.childLanes),Rs||s){if(null!==(n=Vl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!=(a&(n.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Vi(e,a),v_(n,e,a,-1))}return L_(),el(e,t,o,n=Es(Error(y(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=q_.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,mi=Oa(a.nextSibling),vi=t,yi=!0,wi=null,null!==e&&(li[_i++]=ci,li[_i++]=fi,li[_i++]=ui,ci=e.id,fi=e.overflow,ui=t),t=Js(t,n.children),t.flags|=4096,t)}(e,t,s,a,n,i,r);if(o){o=a.fallback,s=t.mode,n=(i=e.child).sibling;var l={mode:"hidden",children:a.children};return 0==(1&s)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null):(a=X_(i,l)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=X_(n,o):(o=Q_(o,s,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,s=null===(s=e.child.memoizedState)?Zs(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=Qs,a}return e=(o=e.child).sibling,a=X_(o,{mode:"visible",children:a.children}),0==(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Js(e,t){return(t=Z_({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function el(e,t,r,n){return null!==n&&Si(n),co(t,e.child,null,r),(e=Js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),zi(e.return,t,r)}function rl(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function nl(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Ds(e,t,n.children,r),0!=(2&(n=xo.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,r,t);else if(19===e.tag)tl(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ua(xo,n),0==(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Oo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rl(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Oo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rl(t,!0,r,null,i);break;case"together":rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function al(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function il(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Zl|=t.lanes,0==(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(y(153));if(null!==t.child){for(r=X_(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=X_(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function ol(e,t){if(!yi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ll(e,t,r){var n=t.pendingProps;switch(gi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sl(t),null;case 1:case 17:return Ya(t.type)&&Xa(),sl(t),null;case 3:return n=t.stateNode,wo(),Ga(Va),Ga(Ha),Eo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Ei(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==wi&&(k_(wi),wi=null))),sl(t),null;case 5:bo(t);var a=mo(vo.current);if(r=t.type,null!==e&&null!=t.stateNode)Xs(e,t,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(y(166));return sl(t),null}if(e=mo(po.current),Ei(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ca]=t,n[Na]=i,e=0!=(1&t.mode),r){case"dialog":ea("cancel",n),ea("close",n);break;case"iframe":case"object":case"embed":ea("load",n);break;case"video":case"audio":for(a=0;a<Qn.length;a++)ea(Qn[a],n);break;case"source":ea("error",n);break;case"img":case"image":case"link":ea("error",n),ea("load",n);break;case"details":ea("toggle",n);break;case"input":ce(n,i),ea("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ea("invalid",n);break;case"textarea":ye(n,i),ea("invalid",n)}for(var o in Me(r,i),a=null,i)if(i.hasOwnProperty(o)){var s=i[o];"children"===o?"string"==typeof s?n.textContent!==s&&(!0!==i.suppressHydrationWarning&&da(n.textContent,s,e),a=["children",s]):"number"==typeof s&&n.textContent!==""+s&&(!0!==i.suppressHydrationWarning&&da(n.textContent,s,e),a=["children",""+s]):k.hasOwnProperty(o)&&null!=s&&"onScroll"===o&&ea("scroll",n)}switch(r){case"input":se(n),he(n,i,!0);break;case"textarea":se(n),ke(n);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(n.onclick=ha)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=be(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),"select"===r&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ca]=t,e[Na]=n,Ys(e,t),t.stateNode=e;e:{switch(o=Ie(r,n),r){case"dialog":ea("cancel",e),ea("close",e),a=n;break;case"iframe":case"object":case"embed":ea("load",e),a=n;break;case"video":case"audio":for(a=0;a<Qn.length;a++)ea(Qn[a],e);a=n;break;case"source":ea("error",e),a=n;break;case"img":case"image":case"link":ea("error",e),ea("load",e),a=n;break;case"details":ea("toggle",e),a=n;break;case"input":ce(e,n),a=ue(e,n),ea("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=K({},n,{value:void 0}),ea("invalid",e);break;case"textarea":ye(e,n),a=me(e,n),ea("invalid",e)}for(i in Me(r,a),s=a)if(s.hasOwnProperty(i)){var l=s[i];"style"===i?Te(e,l):"dangerouslySetInnerHTML"===i?null!=(l=l?l.__html:void 0)&&Ee(e,l):"children"===i?"string"==typeof l?("textarea"!==r||""!==l)&&Ce(e,l):"number"==typeof l&&Ce(e,""+l):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(k.hasOwnProperty(i)?null!=l&&"onScroll"===i&&ea("scroll",e):null!=l&&I(e,i,l,o))}switch(r){case"input":se(e),he(e,n,!1);break;case"textarea":se(e),ke(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ie(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?ve(e,!!n.multiple,i,!1):null!=n.defaultValue&&ve(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=ha)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return sl(t),null;case 6:if(e&&null!=t.stateNode)$s(0,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(y(166));if(r=mo(vo.current),mo(po.current),Ei(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ca]=t,(i=n.nodeValue!==r)&&null!==(e=vi))switch(e.tag){case 3:da(n.nodeValue,r,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&da(n.nodeValue,r,0!=(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Ca]=t,t.stateNode=n}return sl(t),null;case 13:if(Ga(xo),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(yi&&null!==mi&&0!=(1&t.mode)&&0==(128&t.flags))Ci(),Ni(),t.flags|=98560,i=!1;else if(i=Ei(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(y(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(y(317));i[Ca]=t}else Ni(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sl(t),i=!1}else null!==wi&&(k_(wi),wi=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&xo.current)?0===$l&&($l=3):L_())),null!==t.updateQueue&&(t.flags|=4),sl(t),null);case 4:return wo(),null===e&&na(t.stateNode.containerInfo),sl(t),null;case 10:return ji(t.type._context),sl(t),null;case 19:if(Ga(xo),null===(i=t.memoizedState))return sl(t),null;if(n=0!=(128&t.flags),null===(o=i.rendering))if(n)ol(i,!1);else{if(0!==$l||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Oo(e))){for(t.flags|=128,ol(i,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ua(xo,1&xo.current|2),t.child}e=e.sibling}null!==i.tail&&ft()>n_&&(t.flags|=128,n=!0,ol(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=Oo(o))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),ol(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!yi)return sl(t),null}else 2*ft()-i.renderingStartTime>n_&&1073741824!==r&&(t.flags|=128,n=!0,ol(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=i.last)?r.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ft(),t.sibling=null,r=xo.current,Ua(xo,n?1&r|2:1&r),t):(sl(t),null);case 22:case 23:return E_(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!=(1&t.mode)?0!=(1073741824&Yl)&&(sl(t),6&t.subtreeFlags&&(t.flags|=8192)):sl(t),null;case 24:case 25:return null}throw Error(y(156,t.tag))}function _l(e,t){switch(gi(t),t.tag){case 1:return Ya(t.type)&&Xa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wo(),Ga(Va),Ga(Ha),Eo(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return bo(t),null;case 13:if(Ga(xo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(y(340));Ni()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ga(xo),null;case 4:return wo(),null;case 10:return ji(t.type._context),null;case 22:case 23:return E_(),null;default:return null}}Ys=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Xs=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,mo(po.current);var i,o=null;switch(r){case"input":a=ue(e,a),n=ue(e,n),o=[];break;case"select":a=K({},a,{value:void 0}),n=K({},n,{value:void 0}),o=[];break;case"textarea":a=me(e,a),n=me(e,n),o=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(e.onclick=ha)}for(_ in Me(r,n),r=null,a)if(!n.hasOwnProperty(_)&&a.hasOwnProperty(_)&&null!=a[_])if("style"===_){var s=a[_];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==_&&"children"!==_&&"suppressContentEditableWarning"!==_&&"suppressHydrationWarning"!==_&&"autoFocus"!==_&&(k.hasOwnProperty(_)?o||(o=[]):(o=o||[]).push(_,null));for(_ in n){var l=n[_];if(s=null!=a?a[_]:void 0,n.hasOwnProperty(_)&&l!==s&&(null!=l||null!=s))if("style"===_)if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(_,r)),r=l;else"dangerouslySetInnerHTML"===_?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(_,l)):"children"===_?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(_,""+l):"suppressContentEditableWarning"!==_&&"suppressHydrationWarning"!==_&&(k.hasOwnProperty(_)?(null!=l&&"onScroll"===_&&ea("scroll",e),o||s===l||(o=[])):(o=o||[]).push(_,l))}r&&(o=o||[]).push("style",r);var _=o;(t.updateQueue=_)&&(t.flags|=4)}},$s=function(e,t,r,n){r!==n&&(t.flags|=4)};var ul=!1,cl=!1,fl="function"==typeof WeakSet?WeakSet:Set,dl=null;function hl(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(r){F_(e,t,r)}else r.current=null}function pl(e,t,r){try{r()}catch(r){F_(e,t,r)}}var gl=!1;function vl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&pl(t,r,i)}a=a.next}while(a!==n)}}function ml(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function wl(e){var t=e.alternate;null!==t&&(e.alternate=null,wl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Ca],delete t[Na],delete t[La],delete t[Ta],delete t[Aa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kl(e){return 5===e.tag||3===e.tag||4===e.tag}function bl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||kl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=ha));else if(4!==n&&null!==(e=e.child))for(xl(e,t,r),e=e.sibling;null!==e;)xl(e,t,r),e=e.sibling}function Ol(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(Ol(e,t,r),e=e.sibling;null!==e;)Ol(e,t,r),e=e.sibling}var Pl=null,El=!1;function Cl(e,t,r){for(r=r.child;null!==r;)Nl(e,t,r),r=r.sibling}function Nl(e,t,r){if(wt&&"function"==typeof wt.onCommitFiberUnmount)try{wt.onCommitFiberUnmount(yt,r)}catch(e){}switch(r.tag){case 5:cl||hl(r,t);case 6:var n=Pl,a=El;Pl=null,Cl(e,t,r),El=a,null!==(Pl=n)&&(El?(e=Pl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):Pl.removeChild(r.stateNode));break;case 18:null!==Pl&&(El?(e=Pl,r=r.stateNode,8===e.nodeType?xa(e.parentNode,r):1===e.nodeType&&xa(e,r),nr(e)):xa(Pl,r.stateNode));break;case 4:n=Pl,a=El,Pl=r.stateNode.containerInfo,El=!0,Cl(e,t,r),Pl=n,El=a;break;case 0:case 11:case 14:case 15:if(!cl&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!=(2&i)||0!=(4&i))&&pl(r,t,o),a=a.next}while(a!==n)}Cl(e,t,r);break;case 1:if(!cl&&(hl(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(e){F_(r,t,e)}Cl(e,t,r);break;case 21:Cl(e,t,r);break;case 22:1&r.mode?(cl=(n=cl)||null!==r.memoizedState,Cl(e,t,r),cl=n):Cl(e,t,r);break;default:Cl(e,t,r)}}function Sl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new fl),t.forEach((function(t){var n=H_.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Ll(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 5:Pl=s.stateNode,El=!1;break e;case 3:case 4:Pl=s.stateNode.containerInfo,El=!0;break e}s=s.return}if(null===Pl)throw Error(y(160));Nl(i,o,a),Pl=null,El=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(e){F_(a,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Tl(t,e),t=t.sibling}function Tl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ll(t,e),Al(e),4&n){try{vl(3,e,e.return),ml(3,e)}catch(t){F_(e,e.return,t)}try{vl(5,e,e.return)}catch(t){F_(e,e.return,t)}}break;case 1:Ll(t,e),Al(e),512&n&&null!==r&&hl(r,r.return);break;case 5:if(Ll(t,e),Al(e),512&n&&null!==r&&hl(r,r.return),32&e.flags){var a=e.stateNode;try{Ce(a,"")}catch(t){F_(e,e.return,t)}}if(4&n&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===i.type&&null!=i.name&&fe(a,i),Ie(s,o);var _=Ie(s,i);for(o=0;o<l.length;o+=2){var u=l[o],c=l[o+1];"style"===u?Te(a,c):"dangerouslySetInnerHTML"===u?Ee(a,c):"children"===u?Ce(a,c):I(a,u,c,_)}switch(s){case"input":de(a,i);break;case"textarea":we(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;null!=d?ve(a,!!i.multiple,d,!1):f!==!!i.multiple&&(null!=i.defaultValue?ve(a,!!i.multiple,i.defaultValue,!0):ve(a,!!i.multiple,i.multiple?[]:"",!1))}a[Na]=i}catch(t){F_(e,e.return,t)}}break;case 6:if(Ll(t,e),Al(e),4&n){if(null===e.stateNode)throw Error(y(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(t){F_(e,e.return,t)}}break;case 3:if(Ll(t,e),Al(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{nr(t.containerInfo)}catch(t){F_(e,e.return,t)}break;case 4:default:Ll(t,e),Al(e);break;case 13:Ll(t,e),Al(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(r_=ft())),4&n&&Sl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(cl=(_=cl)||u,Ll(t,e),cl=_):Ll(t,e),Al(e),8192&n){if(_=null!==e.memoizedState,(e.stateNode.isHidden=_)&&!u&&0!=(1&e.mode))for(dl=e,u=e.child;null!==u;){for(c=dl=u;null!==dl;){switch(d=(f=dl).child,f.tag){case 0:case 11:case 14:case 15:vl(4,f,f.return);break;case 1:hl(f,f.return);var h=f.stateNode;if("function"==typeof h.componentWillUnmount){n=f,r=f.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(e){F_(n,r,e)}}break;case 5:hl(f,f.return);break;case 22:if(null!==f.memoizedState){Dl(c);continue}}null!==d?(d.return=f,dl=d):Dl(c)}u=u.sibling}e:for(u=null,c=e;;){if(5===c.tag){if(null===u){u=c;try{a=c.stateNode,_?"function"==typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=c.stateNode,o=null!=(l=c.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=Le("display",o))}catch(t){F_(e,e.return,t)}}}else if(6===c.tag){if(null===u)try{c.stateNode.nodeValue=_?"":c.memoizedProps}catch(t){F_(e,e.return,t)}}else if((22!==c.tag&&23!==c.tag||null===c.memoizedState||c===e)&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;null===c.sibling;){if(null===c.return||c.return===e)break e;u===c&&(u=null),c=c.return}u===c&&(u=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ll(t,e),Al(e),4&n&&Sl(e);case 21:}}function Al(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(kl(r)){var n=r;break e}r=r.return}throw Error(y(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(Ce(a,""),n.flags&=-33),Ol(e,bl(e),a);break;case 3:case 4:var i=n.stateNode.containerInfo;xl(e,bl(e),i);break;default:throw Error(y(161))}}catch(t){F_(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e,t,r){dl=e,Il(e,t,r)}function Il(e,t,r){for(var n=0!=(1&e.mode);null!==dl;){var a=dl,i=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||ul;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||cl;s=ul;var _=cl;if(ul=o,(cl=l)&&!_)for(dl=a;null!==dl;)l=(o=dl).child,22===o.tag&&null!==o.memoizedState?jl(a):null!==l?(l.return=o,dl=l):jl(a);for(;null!==i;)dl=i,Il(i,t,r),i=i.sibling;dl=a,ul=s,cl=_}Rl(e)}else 0!=(8772&a.subtreeFlags)&&null!==i?(i.return=a,dl=i):Rl(e)}}function Rl(e){for(;null!==dl;){var t=dl;if(0!=(8772&t.flags)){var r=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:cl||ml(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!cl)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ti(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ji(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ji(t,o,r)}break;case 5:var s=t.stateNode;if(null===r&&4&t.flags){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var _=t.alternate;if(null!==_){var u=_.memoizedState;if(null!==u){var c=u.dehydrated;null!==c&&nr(c)}}}break;default:throw Error(y(163))}cl||512&t.flags&&yl(t)}catch(e){F_(t,t.return,e)}}if(t===e){dl=null;break}if(null!==(r=t.sibling)){r.return=t.return,dl=r;break}dl=t.return}}function Dl(e){for(;null!==dl;){var t=dl;if(t===e){dl=null;break}var r=t.sibling;if(null!==r){r.return=t.return,dl=r;break}dl=t.return}}function jl(e){for(;null!==dl;){var t=dl;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ml(4,t)}catch(e){F_(t,r,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(e){F_(t,a,e)}}var i=t.return;try{yl(t)}catch(e){F_(t,i,e)}break;case 5:var o=t.return;try{yl(t)}catch(e){F_(t,o,e)}}}catch(e){F_(t,t.return,e)}if(t===e){dl=null;break}var s=t.sibling;if(null!==s){s.return=t.return,dl=s;break}dl=t.return}}var zl,Fl=Math.ceil,Gl=R.ReactCurrentDispatcher,Ul=R.ReactCurrentOwner,ql=R.ReactCurrentBatchConfig,Hl=0,Vl=null,Bl=null,Wl=0,Yl=0,Xl=Fa(0),$l=0,Ql=null,Zl=0,Kl=0,Jl=0,e_=null,t_=null,r_=0,n_=1/0,a_=null,i_=!1,o_=null,s_=null,l_=!1,__=null,u_=0,c_=0,f_=null,d_=-1,h_=0;function p_(){return 0!=(6&Hl)?ft():-1!==d_?d_:d_=ft()}function g_(e){return 0==(1&e.mode)?1:0!=(2&Hl)&&0!==Wl?Wl&-Wl:null!==Li.transition?(0===h_&&(h_=Lt()),h_):0!==(e=It)?e:e=void 0===(e=window.event)?16:cr(e.type)}function v_(e,t,r,n){if(50<c_)throw c_=0,f_=null,Error(y(185));At(e,r,n),0!=(2&Hl)&&e===Vl||(e===Vl&&(0==(2&Hl)&&(Kl|=r),4===$l&&b_(e,Wl)),m_(e,n),1===r&&0===Hl&&0==(1&t.mode)&&(n_=ft()+500,ei&&ni()))}function m_(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-kt(i),s=1<<o,l=a[o];-1===l?0!=(s&r)&&0==(s&n)||(a[o]=Nt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var n=Ct(e,e===Vl?Wl:0);if(0===n)null!==r&&_t(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&_t(r),1===t)0===e.tag?function(e){ei=!0,ri(e)}(x_.bind(null,e)):ri(x_.bind(null,e)),ka((function(){0==(6&Hl)&&ni()})),r=null;else{switch(Rt(n)){case 1:r=ht;break;case 4:r=pt;break;case 16:default:r=gt;break;case 536870912:r=mt}r=V_(r,y_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function y_(e,t){if(d_=-1,h_=0,0!=(6&Hl))throw Error(y(327));var r=e.callbackNode;if(j_()&&e.callbackNode!==r)return null;var n=Ct(e,e===Vl?Wl:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=T_(e,n);else{t=n;var a=Hl;Hl|=2;var i=S_();for(Vl===e&&Wl===t||(a_=null,n_=ft()+500,C_(e,t));;)try{M_();break}catch(t){N_(e,t)}Di(),Gl.current=i,Hl=a,null!==Bl?t=0:(Vl=null,Wl=0,t=$l)}if(0!==t){if(2===t&&(0!==(a=St(e))&&(n=a,t=w_(e,a))),1===t)throw r=Ql,C_(e,0),b_(e,n),m_(e,ft()),r;if(6===t)b_(e,n);else{if(a=e.current.alternate,0==(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!bn(i(),a))return!1}catch(e){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=T_(e,n))&&(0!==(i=St(e))&&(n=i,t=w_(e,i))),1===t))throw r=Ql,C_(e,0),b_(e,n),m_(e,ft()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(y(345));case 2:case 5:D_(e,t_,a_);break;case 3:if(b_(e,n),(130023424&n)===n&&10<(t=r_+500-ft())){if(0!==Ct(e,0))break;if(((a=e.suspendedLanes)&n)!==n){p_(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ma(D_.bind(null,e,t_,a_),t);break}D_(e,t_,a_);break;case 4:if(b_(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-kt(n);i=1<<o,(o=t[o])>a&&(a=o),n&=~i}if(n=a,10<(n=(120>(n=ft()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fl(n/1960))-n)){e.timeoutHandle=ma(D_.bind(null,e,t_,a_),n);break}D_(e,t_,a_);break;default:throw Error(y(329))}}}return m_(e,ft()),e.callbackNode===r?y_.bind(null,e):null}function w_(e,t){var r=e_;return e.current.memoizedState.isDehydrated&&(C_(e,t).flags|=256),2!==(e=T_(e,t))&&(t=t_,t_=r,null!==t&&k_(t)),e}function k_(e){null===t_?t_=e:t_.push.apply(t_,e)}function b_(e,t){for(t&=~Jl,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kt(t),n=1<<r;e[r]=-1,t&=~n}}function x_(e){if(0!=(6&Hl))throw Error(y(327));j_();var t=Ct(e,0);if(0==(1&t))return m_(e,ft()),null;var r=T_(e,t);if(0!==e.tag&&2===r){var n=St(e);0!==n&&(t=n,r=w_(e,n))}if(1===r)throw r=Ql,C_(e,0),b_(e,t),m_(e,ft()),r;if(6===r)throw Error(y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,D_(e,t_,a_),m_(e,ft()),null}function O_(e,t){var r=Hl;Hl|=1;try{return e(t)}finally{0===(Hl=r)&&(n_=ft()+500,ei&&ni())}}function P_(e){null!==__&&0===__.tag&&0==(6&Hl)&&j_();var t=Hl;Hl|=1;var r=ql.transition,n=It;try{if(ql.transition=null,It=1,e)return e()}finally{It=n,ql.transition=r,0==(6&(Hl=t))&&ni()}}function E_(){Yl=Xl.current,Ga(Xl)}function C_(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ya(r)),null!==Bl)for(r=Bl.return;null!==r;){var n=r;switch(gi(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Xa();break;case 3:wo(),Ga(Va),Ga(Ha),Eo();break;case 5:bo(n);break;case 4:wo();break;case 13:case 19:Ga(xo);break;case 10:ji(n.type._context);break;case 22:case 23:E_()}r=r.return}if(Vl=e,Bl=e=X_(e.current,null),Wl=Yl=t,$l=0,Ql=null,Jl=Kl=Zl=0,t_=e_=null,null!==Ui){for(t=0;t<Ui.length;t++)if(null!==(n=(r=Ui[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var o=i.next;i.next=a,n.next=o}r.pending=n}Ui=null}return e}function N_(e,t){for(;;){var r=Bl;try{if(Di(),Co.current=ks,Mo){for(var n=Lo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}Mo=!1}if(So=0,Ao=To=Lo=null,Io=!1,Ro=0,Ul.current=null,null===r||null===r.return){$l=1,Ql=t,Bl=null;break}e:{var i=e,o=r.return,s=r,l=t;if(t=Wl,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var _=l,u=s,c=u.tag;if(0==(1&u.mode)&&(0===c||11===c||15===c)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=As(o);if(null!==d){d.flags&=-257,Ms(d,o,s,0,t),1&d.mode&&Ts(i,_,t),l=_;var h=(t=d).updateQueue;if(null===h){var p=new Set;p.add(l),t.updateQueue=p}else h.add(l);break e}if(0==(1&t)){Ts(i,_,t),L_();break e}l=Error(y(426))}else if(yi&&1&s.mode){var g=As(o);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),Ms(g,o,s,0,t),Si(Ps(l,s));break e}}i=l=Ps(l,s),4!==$l&&($l=2),null===e_?e_=[i]:e_.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Zi(i,Ss(0,l,t));break e;case 1:s=l;var v=i.type,m=i.stateNode;if(0==(128&i.flags)&&("function"==typeof v.getDerivedStateFromError||null!==m&&"function"==typeof m.componentDidCatch&&(null===s_||!s_.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t,Zi(i,Ls(i,s,t));break e}}i=i.return}while(null!==i)}R_(r)}catch(e){t=e,Bl===r&&null!==r&&(Bl=r=r.return);continue}break}}function S_(){var e=Gl.current;return Gl.current=ks,null===e?ks:e}function L_(){0!==$l&&3!==$l&&2!==$l||($l=4),null===Vl||0==(268435455&Zl)&&0==(268435455&Kl)||b_(Vl,Wl)}function T_(e,t){var r=Hl;Hl|=2;var n=S_();for(Vl===e&&Wl===t||(a_=null,C_(e,t));;)try{A_();break}catch(t){N_(e,t)}if(Di(),Hl=r,Gl.current=n,null!==Bl)throw Error(y(261));return Vl=null,Wl=0,$l}function A_(){for(;null!==Bl;)I_(Bl)}function M_(){for(;null!==Bl&&!ut();)I_(Bl)}function I_(e){var t=zl(e.alternate,e,Yl);e.memoizedProps=e.pendingProps,null===t?R_(e):Bl=t,Ul.current=null}function R_(e){var t=e;do{var r=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(r=ll(r,t,Yl)))return void(Bl=r)}else{if(null!==(r=_l(r,t)))return r.flags&=32767,void(Bl=r);if(null===e)return $l=6,void(Bl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Bl=t);Bl=t=e}while(null!==t);0===$l&&($l=5)}function D_(e,t,r){var n=It,a=ql.transition;try{ql.transition=null,It=1,function(e,t,r,n){do{j_()}while(null!==__);if(0!=(6&Hl))throw Error(y(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(y(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-kt(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,i),e===Vl&&(Bl=Vl=null,Wl=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||l_||(l_=!0,V_(gt,(function(){return j_(),null}))),i=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||i){i=ql.transition,ql.transition=null;var o=It;It=1;var s=Hl;Hl|=4,Ul.current=null,function(e,t){if(pa=ir,Nn(e=Cn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(e){r=null;break e}var o=0,s=-1,l=-1,_=0,u=0,c=e,f=null;t:for(;;){for(var d;c!==r||0!==a&&3!==c.nodeType||(s=o+a),c!==i||0!==n&&3!==c.nodeType||(l=o+n),3===c.nodeType&&(o+=c.nodeValue.length),null!==(d=c.firstChild);)f=c,c=d;for(;;){if(c===e)break t;if(f===r&&++_===a&&(s=o),f===i&&++u===n&&(l=o),null!==(d=c.nextSibling))break;f=(c=f).parentNode}c=d}r=-1===s||-1===l?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ga={focusedElem:e,selectionRange:r},ir=!1,dl=t;null!==dl;)if(e=(t=dl).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,dl=e;else for(;null!==dl;){t=dl;try{var h=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var p=h.memoizedProps,g=h.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ti(t.type,p),g);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(y(163))}}catch(e){F_(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,dl=e;break}dl=t.return}h=gl,gl=!1}(e,r),Tl(r,e),Sn(ga),ir=!!pa,ga=pa=null,e.current=r,Ml(r,e,a),ct(),Hl=s,It=o,ql.transition=i}else e.current=r;if(l_&&(l_=!1,__=e,u_=a),i=e.pendingLanes,0===i&&(s_=null),function(e){if(wt&&"function"==typeof wt.onCommitFiberRoot)try{wt.onCommitFiberRoot(yt,e,void 0,128==(128&e.current.flags))}catch(e){}}(r.stateNode),m_(e,ft()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(i_)throw i_=!1,e=o_,o_=null,e;0!=(1&u_)&&0!==e.tag&&j_(),i=e.pendingLanes,0!=(1&i)?e===f_?c_++:(c_=0,f_=e):c_=0,ni()}(e,t,r,n)}finally{ql.transition=a,It=n}return null}function j_(){if(null!==__){var e=Rt(u_),t=ql.transition,r=It;try{if(ql.transition=null,It=16>e?16:e,null===__)var n=!1;else{if(e=__,__=null,u_=0,0!=(6&Hl))throw Error(y(331));var a=Hl;for(Hl|=4,dl=e.current;null!==dl;){var i=dl,o=i.child;if(0!=(16&dl.flags)){var s=i.deletions;if(null!==s){for(var l=0;l<s.length;l++){var _=s[l];for(dl=_;null!==dl;){var u=dl;switch(u.tag){case 0:case 11:case 15:vl(8,u,i)}var c=u.child;if(null!==c)c.return=u,dl=c;else for(;null!==dl;){var f=(u=dl).sibling,d=u.return;if(wl(u),u===_){dl=null;break}if(null!==f){f.return=d,dl=f;break}dl=d}}}var h=i.alternate;if(null!==h){var p=h.child;if(null!==p){h.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(null!==p)}}dl=i}}if(0!=(2064&i.subtreeFlags)&&null!==o)o.return=i,dl=o;else e:for(;null!==dl;){if(0!=(2048&(i=dl).flags))switch(i.tag){case 0:case 11:case 15:vl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,dl=v;break e}dl=i.return}}var m=e.current;for(dl=m;null!==dl;){var w=(o=dl).child;if(0!=(2064&o.subtreeFlags)&&null!==w)w.return=o,dl=w;else e:for(o=m;null!==dl;){if(0!=(2048&(s=dl).flags))try{switch(s.tag){case 0:case 11:case 15:ml(9,s)}}catch(e){F_(s,s.return,e)}if(s===o){dl=null;break e}var k=s.sibling;if(null!==k){k.return=s.return,dl=k;break e}dl=s.return}}if(Hl=a,ni(),wt&&"function"==typeof wt.onPostCommitFiberRoot)try{wt.onPostCommitFiberRoot(yt,e)}catch(e){}n=!0}return n}finally{It=r,ql.transition=t}}return!1}function z_(e,t,r){e=$i(e,t=Ss(0,t=Ps(r,t),1),1),t=p_(),null!==e&&(At(e,1,t),m_(e,t))}function F_(e,t,r){if(3===e.tag)z_(e,e,r);else for(;null!==t;){if(3===t.tag){z_(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===s_||!s_.has(n))){t=$i(t,e=Ls(t,e=Ps(r,e),1),1),e=p_(),null!==t&&(At(t,1,e),m_(t,e));break}}t=t.return}}function G_(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=p_(),e.pingedLanes|=e.suspendedLanes&r,Vl===e&&(Wl&r)===r&&(4===$l||3===$l&&(130023424&Wl)===Wl&&500>ft()-r_?C_(e,0):Jl|=r),m_(e,t)}function U_(e,t){0===t&&(0==(1&e.mode)?t=1:(t=Pt,0==(130023424&(Pt<<=1))&&(Pt=4194304)));var r=p_();null!==(e=Vi(e,t))&&(At(e,t,r),m_(e,r))}function q_(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),U_(e,r)}function H_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(y(314))}null!==n&&n.delete(t),U_(e,r)}function V_(e,t){return lt(e,t)}function B_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function W_(e,t,r,n){return new B_(e,t,r,n)}function Y_(e){return!(!(e=e.prototype)||!e.isReactComponent)}function X_(e,t){var r=e.alternate;return null===r?((r=W_(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $_(e,t,r,n,a,i){var o=2;if(n=e,"function"==typeof e)Y_(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case z:return Q_(r.children,a,i,t);case F:o=8,a|=8;break;case G:return(e=W_(12,r,t,2|a)).elementType=G,e.lanes=i,e;case V:return(e=W_(13,r,t,a)).elementType=V,e.lanes=i,e;case B:return(e=W_(19,r,t,a)).elementType=B,e.lanes=i,e;case X:return Z_(r,a,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case U:o=10;break e;case q:o=9;break e;case H:o=11;break e;case W:o=14;break e;case Y:o=16,n=null;break e}throw Error(y(130,null==e?e:void 0===e?"undefined":(0,g.default)(e),""))}return(t=W_(o,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Q_(e,t,r,n){return(e=W_(7,e,n,t)).lanes=r,e}function Z_(e,t,r,n){return(e=W_(22,e,n,t)).elementType=X,e.lanes=r,e.stateNode={isHidden:!1},e}function K_(e,t,r){return(e=W_(6,e,null,t)).lanes=r,e}function J_(e,t,r){return(t=W_(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eu(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tt(0),this.expirationTimes=Tt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function tu(e,t,r,n,a,i,o,s,l){return e=new eu(e,t,r,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=W_(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wi(i),e}function ru(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function nu(e){if(!e)return qa;e:{if(nt(e=e._reactInternals)!==e||1!==e.tag)throw Error(y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ya(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(y(171))}if(1===e.tag){var r=e.type;if(Ya(r))return Qa(e,r,t)}return t}function au(e,t,r,n,a,i,o,s,l){return(e=tu(r,n,!0,e,0,i,0,s,l)).context=nu(null),r=e.current,(i=Xi(n=p_(),a=g_(r))).callback=null!=t?t:null,$i(r,i,a),e.current.lanes=a,At(e,a,n),m_(e,n),e}function iu(e,t,r,n){var a=t.current,i=p_(),o=g_(a);return r=nu(r),null===t.context?t.context=r:t.pendingContext=r,(t=Xi(i,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=$i(a,t,o))&&(v_(e,a,o,i),Qi(e,a,o)),o}function ou(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function su(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function lu(e,t){su(e,t),(e=e.alternate)&&su(e,t)}zl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Va.current)Rs=!0;else{if(0==(e.lanes&r)&&0==(128&t.flags))return Rs=!1,function(e,t,r){switch(t.tag){case 3:Bs(t),Ni();break;case 5:ko(t);break;case 1:Ya(t.type)&&Za(t);break;case 4:yo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ua(Ai,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ua(xo,1&xo.current),t.flags|=128,null):0!=(r&t.child.childLanes)?Ks(e,t,r):(Ua(xo,1&xo.current),null!==(e=il(e,t,r))?e.sibling:null);Ua(xo,1&xo.current);break;case 19:if(n=0!=(r&t.childLanes),0!=(128&e.flags)){if(n)return nl(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ua(xo,xo.current),n)break;return null;case 22:case 23:return t.lanes=0,Gs(e,t,r)}return il(e,t,r)}(e,t,r);Rs=0!=(131072&e.flags)}else Rs=!1,yi&&0!=(1048576&t.flags)&&hi(t,si,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;al(e,t),e=t.pendingProps;var a=Wa(t,Ha.current);Fi(t,r),a=Fo(null,t,n,e,a,r);var i=Go();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ya(n)?(i=!0,Za(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Wi(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,n,e,r),t=Vs(null,t,n,!0,i,r)):(t.tag=0,yi&&i&&pi(t),Ds(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(al(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"==typeof e)return Y_(e)?1:0;if(null!=e){if((e=e.$$typeof)===H)return 11;if(e===W)return 14}return 2}(n),e=Ti(n,e),a){case 0:t=qs(null,t,n,e,r);break e;case 1:t=Hs(null,t,n,e,r);break e;case 11:t=js(null,t,n,e,r);break e;case 14:t=zs(null,t,n,Ti(n.type,e),r);break e}throw Error(y(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,qs(e,t,n,a=t.elementType===n?a:Ti(n,a),r);case 1:return n=t.type,a=t.pendingProps,Hs(e,t,n,a=t.elementType===n?a:Ti(n,a),r);case 3:e:{if(Bs(t),null===e)throw Error(y(387));n=t.pendingProps,a=(i=t.memoizedState).element,Yi(e,t),Ki(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ws(e,t,n,r,a=Ps(Error(y(423)),t));break e}if(n!==a){t=Ws(e,t,n,r,a=Ps(Error(y(424)),t));break e}for(mi=Oa(t.stateNode.containerInfo.firstChild),vi=t,yi=!0,wi=null,r=fo(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(Ni(),n===a){t=il(e,t,r);break e}Ds(e,t,n,r)}t=t.child}return t;case 5:return ko(t),null===e&&Oi(t),n=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,va(n,a)?o=null:null!==i&&va(n,i)&&(t.flags|=32),Us(e,t),Ds(e,t,o,r),t.child;case 6:return null===e&&Oi(t),null;case 13:return Ks(e,t,r);case 4:return yo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=co(t,null,n,r):Ds(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,js(e,t,n,a=t.elementType===n?a:Ti(n,a),r);case 7:return Ds(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ds(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ua(Ai,n._currentValue),n._currentValue=o,null!==i)if(bn(i.value,o)){if(i.children===a.children&&!Va.current){t=il(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){o=i.child;for(var l=s.firstContext;null!==l;){if(l.context===n){if(1===i.tag){(l=Xi(-1,r&-r)).tag=2;var _=i.updateQueue;if(null!==_){var u=(_=_.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),_.pending=l}}i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),zi(i.return,r,t),s.lanes|=r;break}l=l.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(y(341));o.lanes|=r,null!==(s=o.alternate)&&(s.lanes|=r),zi(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}Ds(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Fi(t,r),n=n(a=Gi(a)),t.flags|=1,Ds(e,t,n,r),t.child;case 14:return a=Ti(n=t.type,t.pendingProps),zs(e,t,n,a=Ti(n.type,a),r);case 15:return Fs(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ti(n,a),al(e,t),t.tag=1,Ya(n)?(e=!0,Za(t)):e=!1,Fi(t,r),ao(t,n,a),oo(t,n,a,r),Vs(null,t,n,!0,e,r);case 19:return nl(e,t,r);case 22:return Gs(e,t,r)}throw Error(y(156,t.tag))};var _u="function"==typeof reportError?reportError:function(e){console.error(e)};function uu(e){this._internalRoot=e}function cu(e){this._internalRoot=e}function fu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function du(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function hu(){}function pu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if("function"==typeof a){var s=a;a=function(){var e=ou(o);s.call(e)}}iu(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"==typeof n){var i=n;n=function(){var e=ou(o);i.call(e)}}var o=au(t,n,e,0,null,!1,0,"",hu);return e._reactRootContainer=o,e[Sa]=o.current,na(8===e.nodeType?e.parentNode:e),P_(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof n){var s=n;n=function(){var e=ou(l);s.call(e)}}var l=tu(e,0,!1,null,0,!1,0,"",hu);return e._reactRootContainer=l,e[Sa]=l.current,na(8===e.nodeType?e.parentNode:e),P_((function(){iu(t,l,r,n)})),l}(r,t,e,a,n);return ou(o)}cu.prototype.render=uu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(y(409));iu(e,t,null,null)},cu.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;P_((function(){iu(null,e,null,null)})),t[Sa]=null}},cu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ft();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xt.length&&0!==t&&t<Xt[r].priority;r++);Xt.splice(r,0,e),0===r&&Kt(e)}},Dt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Et(t.pendingLanes);0!==r&&(Mt(t,1|r),m_(t,ft()),0==(6&Hl)&&(n_=ft()+500,ni()))}break;case 13:P_((function(){var t=Vi(e,1);if(null!==t){var r=p_();v_(t,e,1,r)}})),lu(e,1)}},jt=function(e){if(13===e.tag){var t=Vi(e,134217728);if(null!==t)v_(t,e,134217728,p_());lu(e,134217728)}},zt=function(e){if(13===e.tag){var t=g_(e),r=Vi(e,t);if(null!==r)v_(r,e,t,p_());lu(e,t)}},Ft=function(){return It},Gt=function(e,t){var r=It;try{return It=e,t()}finally{It=r}},je=function(e,t,r){switch(t){case"input":if(de(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Da(n);if(!a)throw Error(y(90));le(n),de(n,a)}}}break;case"textarea":we(e,r);break;case"select":null!=(t=r.value)&&ve(e,!!r.multiple,t,!1)}},He=O_,Ve=P_;var gu={usingClientEntryPoint:!1,Events:[Ia,Ra,Da,Ue,qe,O_]},vu={findFiberByHostInstance:Ma,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mu={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ot(e))?null:e.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{yt=yu.inject(mu),wt=yu}catch(e){}}n=gu,a=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!fu(t))throw Error(y(200));return ru(e,t,null,r)},o=function(e,t){if(!fu(e))throw Error(y(299));var r=!1,n="",a=_u;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=tu(e,1,!1,null,0,r,0,n,a),e[Sa]=t.current,na(8===e.nodeType?e.parentNode:e),new uu(t)},s=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(y(188));throw e=Object.keys(e).join(","),Error(y(268,e))}return e=null===(e=ot(t))?null:e.stateNode},l=function(e){return P_(e)},_=function(e,t,r){if(!du(t))throw Error(y(200));return pu(null,e,t,!0,r)},u=function(e,t,r){if(!fu(e))throw Error(y(405));var n=null!=r&&r.hydratedSources||null,a=!1,i="",o=_u;if(null!=r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=au(t,null,e,1,null!=r?r:null,a,0,i,o),e[Sa]=t.current,na(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new cu(t)},c=function(e,t,r){if(!du(t))throw Error(y(200));return pu(null,e,t,!1,r)},f=function(e){if(!du(e))throw Error(y(40));return!!e._reactRootContainer&&(P_((function(){pu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sa]=null}))})),!0)},d=O_,h=function(e,t,r,n){if(!du(r))throw Error(y(200));if(null==e||void 0===e._reactInternals)throw Error(y(38));return pu(e,t,r,!1,n)},p="18.2.0-next-9e3b772b8-20220608"})),i.register("1qQH9",(function(e,t){"use strict";e.exports=i("7UZIw")})),i.register("7UZIw",(function(t,r){
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n,a,i,o,s,l,_,u,c,f,d,h,p,g,v,m,y,w,k;function b(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<P(a,t)))break e;e[n]=t,e[r]=a,r=n}}function x(e){return 0===e.length?null:e[0]}function O(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,s=e[o],l=o+1,_=e[l];if(0>P(s,r))l<a&&0>P(_,s)?(e[n]=_,e[l]=r,n=l):(e[n]=s,e[o]=r,n=o);else{if(!(l<a&&0>P(_,r)))break e;e[n]=_,e[l]=r,n=l}}}return t}function P(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(e(t.exports,"unstable_now",(function(){return n}),(function(e){return n=e})),e(t.exports,"unstable_IdlePriority",(function(){return a}),(function(e){return a=e})),e(t.exports,"unstable_ImmediatePriority",(function(){return i}),(function(e){return i=e})),e(t.exports,"unstable_LowPriority",(function(){return o}),(function(e){return o=e})),e(t.exports,"unstable_NormalPriority",(function(){return s}),(function(e){return s=e})),e(t.exports,"unstable_Profiling",(function(){return l}),(function(e){return l=e})),e(t.exports,"unstable_UserBlockingPriority",(function(){return _}),(function(e){return _=e})),e(t.exports,"unstable_cancelCallback",(function(){return u}),(function(e){return u=e})),e(t.exports,"unstable_continueExecution",(function(){return c}),(function(e){return c=e})),e(t.exports,"unstable_forceFrameRate",(function(){return f}),(function(e){return f=e})),e(t.exports,"unstable_getCurrentPriorityLevel",(function(){return d}),(function(e){return d=e})),e(t.exports,"unstable_getFirstCallbackNode",(function(){return h}),(function(e){return h=e})),e(t.exports,"unstable_next",(function(){return p}),(function(e){return p=e})),e(t.exports,"unstable_pauseExecution",(function(){return g}),(function(e){return g=e})),e(t.exports,"unstable_requestPaint",(function(){return v}),(function(e){return v=e})),e(t.exports,"unstable_runWithPriority",(function(){return m}),(function(e){return m=e})),e(t.exports,"unstable_scheduleCallback",(function(){return y}),(function(e){return y=e})),e(t.exports,"unstable_shouldYield",(function(){return w}),(function(e){return w=e})),e(t.exports,"unstable_wrapCallback",(function(){return k}),(function(e){return k=e})),"object"==typeof performance&&"function"==typeof performance.now){var E=performance;n=function(){return E.now()}}else{var C=Date,N=C.now();n=function(){return C.now()-N}}var S=[],L=[],T=1,A=null,M=3,I=!1,R=!1,D=!1,j="function"==typeof setTimeout?setTimeout:null,z="function"==typeof clearTimeout?clearTimeout:null,F="undefined"!=typeof setImmediate?setImmediate:null;function G(e){for(var t=x(L);null!==t;){if(null===t.callback)O(L);else{if(!(t.startTime<=e))break;O(L),t.sortIndex=t.expirationTime,b(S,t)}t=x(L)}}function U(e){if(D=!1,G(e),!R)if(null!==x(S))R=!0,J(q);else{var t=x(L);null!==t&&ee(U,t.startTime-e)}}function q(e,t){R=!1,D&&(D=!1,z(W),W=-1),I=!0;var r=M;try{for(G(t),A=x(S);null!==A&&(!(A.expirationTime>t)||e&&!$());){var a=A.callback;if("function"==typeof a){A.callback=null,M=A.priorityLevel;var i=a(A.expirationTime<=t);t=n(),"function"==typeof i?A.callback=i:A===x(S)&&O(S),G(t)}else O(S);A=x(S)}if(null!==A)var o=!0;else{var s=x(L);null!==s&&ee(U,s.startTime-t),o=!1}return o}finally{A=null,M=r,I=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var H,V=!1,B=null,W=-1,Y=5,X=-1;function $(){return!(n()-X<Y)}function Q(){if(null!==B){var e=n();X=e;var t=!0;try{t=B(!0,e)}finally{t?H():(V=!1,B=null)}}else V=!1}if("function"==typeof F)H=function(){F(Q)};else if("undefined"!=typeof MessageChannel){var Z=new MessageChannel,K=Z.port2;Z.port1.onmessage=Q,H=function(){K.postMessage(null)}}else H=function(){j(Q,0)};function J(e){B=e,V||(V=!0,H())}function ee(e,t){W=j((function(){e(n())}),t)}a=5,i=1,o=4,s=3,l=null,_=2,u=function(e){e.callback=null},c=function(){R||I||(R=!0,J(q))},f=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<e?Math.floor(1e3/e):5},d=function(){return M},h=function(){return x(S)},p=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var r=M;M=t;try{return e()}finally{M=r}},g=function(){},v=function(){},m=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=M;M=e;try{return t()}finally{M=r}},y=function(e,t,r){var a=n();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:T++,callback:t,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>a?(e.sortIndex=r,b(L,e),null===x(S)&&e===x(L)&&(D?(z(W),W=-1):D=!0,ee(U,r-a))):(e.sortIndex=i,b(S,e),R||I||(R=!0,J(q))),e},w=$,k=function(e){var t=M;return function(){var r=M;M=t;try{return e.apply(this,arguments)}finally{M=r}}}}));var u=i("8TZNp");function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f=i("8X9XF");function d(e,t){return l(e)||(0,u.default)(e,t)||(0,f.default)(e,t)||c()}function h(e,t){var r,n,a,i,o=function(e){return function(t){return s([e,t])}},s=function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(l=0)),l;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=l.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}},l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i}Object.create;function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var g,v,m={},y={},w=y={};function k(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function x(e){if(g===setTimeout)return setTimeout(e,0);if((g===k||!g)&&setTimeout)return g=setTimeout,setTimeout(e,0);try{return g(e,0)}catch(t){try{return g.call(null,e,0)}catch(t){return g.call(this,e,0)}}}!function(){try{g="function"==typeof setTimeout?setTimeout:k}catch(e){g=k}try{v="function"==typeof clearTimeout?clearTimeout:b}catch(e){v=b}}();var O,P,E=[],C=!1,N=-1;function S(){C&&O&&(C=!1,O.length?E=O.concat(E):N=-1,E.length&&L())}function L(){if(!C){var e=x(S);C=!0;for(var t=E.length;t;){for(O=E,E=[];++N<t;)O&&O[N].run();N=-1,t=E.length}O=null,C=!1,function(e){if(v===clearTimeout)return clearTimeout(e);if((v===b||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(e);try{v(e)}catch(t){try{return v.call(null,e)}catch(t){return v.call(this,e)}}}(e)}}function T(e,t){this.fun=e,this.array=t}function A(){}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t,r){return t&&I(e.prototype,t),r&&I(e,r),e}w.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];E.push(new T(e,t)),1!==E.length||C||x(L)},T.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=A,w.addListener=A,w.once=A,w.off=A,w.removeListener=A,w.removeAllListeners=A,w.emit=A,w.prependListener=A,w.prependOnceListener=A,w.listeners=function(e){return[]},w.binding=function(e){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(e){throw new Error("process.chdir is not supported")},w.umask=function(){return 0},m.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+m.humanize(this.diff),!this.useColors)return;var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(n=r))})),e.splice(n,0,t)},m.save=function(e){try{e?m.storage.setItem("debug",e):m.storage.removeItem("debug")}catch(e){}},m.load=function(){var e;try{e=m.storage.getItem("debug")}catch(e){}!e&&void 0!==y&&"env"in y&&(e=void 0);return e},m.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},m.storage=function(){try{return localStorage}catch(e){}}(),m.destroy=(P=!1,function(){P||(P=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],m.log=console.debug||console.log||function(){},(m=i("cizm5")(m)).formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};var D,j=i("fOdIC");D=_;var z;z=cytoscape;var F,G={};function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function B(e){return V(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}F=function(e){return function(){"use strict";var t={658:function(e){e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.forEach((function(t){Object.keys(t).forEach((function(r){return e[r]=t[r]}))})),e}},548:function(e,t,r){var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=r(140).layoutBase.LinkedList,i={getTopMostNodes:function(e){for(var t={},r=0;r<e.length;r++)t[e[r].id()]=!0;var n=e.filter((function(e,r){"number"==typeof e&&(e=r);for(var n=e.parent()[0];null!=n;){if(t[n.id()])return!1;n=n.parent()[0]}return!0}));return n},connectComponents:function(e,t,r,n){var i=new a,o=new Set,s=[],l=void 0,_=void 0,u=void 0,c=!1,f=1,d=[],h=[],p=function(){var n=e.collection();h.push(n);var a=r[0],p=e.collection();p.merge(a).merge(a.descendants().intersection(t)),s.push(a),p.forEach((function(e){i.push(e),o.add(e),n.merge(e)}));for(var g=function(){a=i.shift();var _=e.collection();a.neighborhood().nodes().forEach((function(e){t.intersection(a.edgesWith(e)).length>0&&_.merge(e)}));for(var u=0;u<_.length;u++){var c=_[u];null==(l=r.intersection(c.union(c.ancestors())))||o.has(l[0])||l.union(l.descendants()).forEach((function(e){i.push(e),o.add(e),n.merge(e),r.has(e)&&s.push(e)}))}};0!=i.length;)g();if(n.forEach((function(e){t.intersection(e.connectedEdges()).forEach((function(e){n.has(e.source())&&n.has(e.target())&&n.merge(e)}))})),s.length==r.length&&(c=!0),!c||c&&f>1){_=s[0],u=_.connectedEdges().length,s.forEach((function(e){e.connectedEdges().length<u&&(u=e.connectedEdges().length,_=e)})),d.push(_.id());var v=e.collection();v.merge(s[0]),s.forEach((function(e){v.merge(e)})),s=[],r=r.difference(v),f++}};do{p()}while(!c);return n&&d.length>0&&n.set("dummy"+(n.size+1),d),h},relocateComponent:function(e,t,r){if(!r.fixedNodeConstraint){var a=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;if("draft"==r.quality){var l=!0,_=!1,u=void 0;try{for(var c,f=t.nodeIndexes[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var d=c.value,h=n(d,2),p=h[0],g=h[1],v=r.cy.getElementById(p);if(v){var m=v.boundingBox(),y=t.xCoords[g]-m.w/2,w=t.xCoords[g]+m.w/2,k=t.yCoords[g]-m.h/2,b=t.yCoords[g]+m.h/2;y<a&&(a=y),w>i&&(i=w),k<o&&(o=k),b>s&&(s=b)}}}catch(e){_=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(_)throw u}}var x=e.x-(i+a)/2,O=e.y-(s+o)/2;t.xCoords=t.xCoords.map((function(e){return e+x})),t.yCoords=t.yCoords.map((function(e){return e+O}))}else{Object.keys(t).forEach((function(e){var r=t[e],n=r.getRect().x,l=r.getRect().x+r.getRect().width,_=r.getRect().y,u=r.getRect().y+r.getRect().height;n<a&&(a=n),l>i&&(i=l),_<o&&(o=_),u>s&&(s=u)}));var P=e.x-(i+a)/2,E=e.y-(s+o)/2;Object.keys(t).forEach((function(e){var r=t[e];r.setCenter(r.getCenterX()+P,r.getCenterY()+E)}))}}},calcBoundingBox:function(e,t,r,n){for(var a=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=void 0,_=void 0,u=void 0,c=void 0,f=e.descendants().not(":parent"),d=f.length,h=0;h<d;h++){var p=f[h];a>(l=t[n.get(p.id())]-p.width()/2)&&(a=l),i<(_=t[n.get(p.id())]+p.width()/2)&&(i=_),o>(u=r[n.get(p.id())]-p.height()/2)&&(o=u),s<(c=r[n.get(p.id())]+p.height()/2)&&(s=c)}var g={};return g.topLeftX=a,g.topLeftY=o,g.width=i-a,g.height=s-o,g}};e.exports=i},816:function(e,t,r){var n=r(548),a=r(140).CoSELayout,i=r(140).CoSENode,o=r(140).layoutBase.PointD,s=r(140).layoutBase.DimensionD,l=r(140).layoutBase.LayoutConstants,_=r(140).layoutBase.FDLayoutConstants,u=r(140).CoSEConstants;e.exports={coseLayout:function(e,t){var r=e.eles,c=r.nodes(),f=r.edges(),d=void 0,h=void 0,p=void 0,g={};e.randomize&&(d=t.nodeIndexes,h=t.xCoords,p=t.yCoords);var v=function(e){return"function"==typeof e},m=function(e,t){return v(e)?e(t):e};null!=e.nestingFactor&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=_.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(u.DEFAULT_GRAVITY_STRENGTH=_.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(u.MAX_ITERATIONS=_.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=_.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=_.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=_.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=_.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),null!=e.tilingCompareBy&&(u.TILING_COMPARE_BY=e.tilingCompareBy),"proof"==e.quality?l.QUALITY=2:l.QUALITY=0,u.NODE_DIMENSIONS_INCLUDE_LABELS=_.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=_.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!e.randomize,u.ANIMATE=_.ANIMATE=l.ANIMATE=e.animate,u.TILE=e.tile,u.TILING_PADDING_VERTICAL="function"==typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL="function"==typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal,u.DEFAULT_INCREMENTAL=_.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!0,u.PURE_INCREMENTAL=!e.randomize,l.DEFAULT_UNIFORM_LEAF_NODE_SIZES=e.uniformNodeDimensions,"transformed"==e.step&&(u.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,u.ENFORCE_CONSTRAINTS=!1,u.APPLY_LAYOUT=!1),"enforced"==e.step&&(u.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,u.ENFORCE_CONSTRAINTS=!0,u.APPLY_LAYOUT=!1),"cose"==e.step&&(u.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,u.ENFORCE_CONSTRAINTS=!1,u.APPLY_LAYOUT=!0),"all"==e.step&&(e.randomize?u.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:u.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,u.ENFORCE_CONSTRAINTS=!0,u.APPLY_LAYOUT=!0),e.fixedNodeConstraint||e.alignmentConstraint||e.relativePlacementConstraint?u.TREE_REDUCTION_ON_INCREMENTAL=!1:u.TREE_REDUCTION_ON_INCREMENTAL=!0;var y=new a,w=y.newGraphManager();return function e(t,r,a,l){for(var _=r.length,u=0;u<_;u++){var c=r[u],f=c.children(),v=void 0,y=c.layoutDimensions({nodeDimensionsIncludeLabels:l.nodeDimensionsIncludeLabels});if(null!=c.outerWidth()&&null!=c.outerHeight())if(l.randomize)if(c.isParent()){var w=n.calcBoundingBox(c,h,p,d);v=t.add(new i(a.graphManager,new o(w.topLeftX,w.topLeftY),new s(w.width,w.height)))}else v=t.add(new i(a.graphManager,new o(h[d.get(c.id())]-y.w/2,p[d.get(c.id())]-y.h/2),new s(parseFloat(y.w),parseFloat(y.h))));else v=t.add(new i(a.graphManager,new o(c.position("x")-y.w/2,c.position("y")-y.h/2),new s(parseFloat(y.w),parseFloat(y.h))));else v=t.add(new i(this.graphManager));v.id=c.data("id"),v.nodeRepulsion=m(l.nodeRepulsion,c),v.paddingLeft=parseInt(c.css("padding")),v.paddingTop=parseInt(c.css("padding")),v.paddingRight=parseInt(c.css("padding")),v.paddingBottom=parseInt(c.css("padding")),l.nodeDimensionsIncludeLabels&&(v.labelWidth=c.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,v.labelHeight=c.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,v.labelPosVertical=c.css("text-valign"),v.labelPosHorizontal=c.css("text-halign")),g[c.data("id")]=v,isNaN(v.rect.x)&&(v.rect.x=0),isNaN(v.rect.y)&&(v.rect.y=0),null!=f&&f.length>0&&e(a.getGraphManager().add(a.newGraph(),v),f,a,l)}}(w.addRoot(),n.getTopMostNodes(c),y,e),function(t,r,n){for(var a=0,i=0,o=0;o<n.length;o++){var s=n[o],l=g[s.data("source")],c=g[s.data("target")];if(l!==c&&0==l.getEdgesBetween(c).length){var f=r.add(t.newEdge(),l,c);f.id=s.id(),f.idealLength=m(e.idealEdgeLength,s),f.edgeElasticity=m(e.edgeElasticity,s),a+=f.idealLength,i++}}null!=e.idealEdgeLength&&(i>0?u.DEFAULT_EDGE_LENGTH=_.DEFAULT_EDGE_LENGTH=a/i:v(e.idealEdgeLength)?u.DEFAULT_EDGE_LENGTH=_.DEFAULT_EDGE_LENGTH=50:u.DEFAULT_EDGE_LENGTH=_.DEFAULT_EDGE_LENGTH=e.idealEdgeLength,u.MIN_REPULSION_DIST=_.MIN_REPULSION_DIST=_.DEFAULT_EDGE_LENGTH/10,u.DEFAULT_RADIAL_SEPARATION=_.DEFAULT_EDGE_LENGTH)}(y,w,f),function(e,t){t.fixedNodeConstraint&&(e.constraints.fixedNodeConstraint=t.fixedNodeConstraint),t.alignmentConstraint&&(e.constraints.alignmentConstraint=t.alignmentConstraint),t.relativePlacementConstraint&&(e.constraints.relativePlacementConstraint=t.relativePlacementConstraint)}(y,e),y.runLayout(),g}}},212:function(e,t,r){var n,a=(n=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}},function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}),i=r(658),o=r(548),s=r(657).spectralLayout,l=r(816).coseLayout,_=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(e){return 4500},idealEdgeLength:function(e){return 50},edgeElasticity:function(e){return.45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i({},_,t)}return a(e,[{key:"run",value:function(){var e=this.options,t=e.cy,r=e.eles,n=[],a=[],i=void 0,_=[];!e.fixedNodeConstraint||Array.isArray(e.fixedNodeConstraint)&&0!=e.fixedNodeConstraint.length||(e.fixedNodeConstraint=void 0),e.alignmentConstraint&&(!e.alignmentConstraint.vertical||Array.isArray(e.alignmentConstraint.vertical)&&0!=e.alignmentConstraint.vertical.length||(e.alignmentConstraint.vertical=void 0),!e.alignmentConstraint.horizontal||Array.isArray(e.alignmentConstraint.horizontal)&&0!=e.alignmentConstraint.horizontal.length||(e.alignmentConstraint.horizontal=void 0)),!e.relativePlacementConstraint||Array.isArray(e.relativePlacementConstraint)&&0!=e.relativePlacementConstraint.length||(e.relativePlacementConstraint=void 0),(e.fixedNodeConstraint||e.alignmentConstraint||e.relativePlacementConstraint)&&(e.tile=!1,e.packComponents=!1);var u=void 0,c=!1;if(t.layoutUtilities&&e.packComponents&&((u=t.layoutUtilities("get"))||(u=t.layoutUtilities()),c=!0),r.nodes().length>0)if(c){var f=o.getTopMostNodes(e.eles.nodes());if((i=o.connectComponents(t,e.eles,f)).forEach((function(e){var t=e.boundingBox();_.push({x:t.x1+t.w/2,y:t.y1+t.h/2})})),e.randomize&&i.forEach((function(t){e.eles=t,n.push(s(e))})),"default"==e.quality||"proof"==e.quality){var d=t.collection();if(e.tile){var h=new Map,p=0,g={nodeIndexes:h,xCoords:[],yCoords:[]},v=[];if(i.forEach((function(e,t){0==e.edges().length&&(e.nodes().forEach((function(t,r){d.merge(e.nodes()[r]),t.isParent()||(g.nodeIndexes.set(e.nodes()[r].id(),p++),g.xCoords.push(e.nodes()[0].position().x),g.yCoords.push(e.nodes()[0].position().y))})),v.push(t))})),d.length>1){var m=d.boundingBox();_.push({x:m.x1+m.w/2,y:m.y1+m.h/2}),i.push(d),n.push(g);for(var y=v.length-1;y>=0;y--)i.splice(v[y],1),n.splice(v[y],1),_.splice(v[y],1)}}i.forEach((function(t,r){e.eles=t,a.push(l(e,n[r])),o.relocateComponent(_[r],a[r],e)}))}else i.forEach((function(t,r){o.relocateComponent(_[r],n[r],e)}));if(i.length>1){var w=[];i.forEach((function(t,r){var i=void 0;"draft"==e.quality&&(i=n[r].nodeIndexes);var s={nodes:[],edges:[]},l=void 0;t.nodes().forEach((function(t){if("draft"==e.quality)if(t.isParent()){var _=o.calcBoundingBox(t,n[r].xCoords,n[r].yCoords,i);s.nodes.push({x:_.topLeftX,y:_.topLeftY,width:_.width,height:_.height})}else l=i.get(t.id()),s.nodes.push({x:n[r].xCoords[l]-t.boundingbox().w/2,y:n[r].yCoords[l]-t.boundingbox().h/2,width:t.boundingbox().w,height:t.boundingbox().h});else s.nodes.push({x:a[r][t.id()].getLeft(),y:a[r][t.id()].getTop(),width:a[r][t.id()].getWidth(),height:a[r][t.id()].getHeight()})})),t.edges().forEach((function(t){var l=t.source(),_=t.target();if("draft"==e.quality){var u=i.get(l.id()),c=i.get(_.id()),f=[],d=[];if(l.isParent()){var h=o.calcBoundingBox(l,n[r].xCoords,n[r].yCoords,i);f.push(h.topLeftX+h.width/2),f.push(h.topLeftY+h.height/2)}else f.push(n[r].xCoords[u]),f.push(n[r].yCoords[u]);if(_.isParent()){var p=o.calcBoundingBox(_,n[r].xCoords,n[r].yCoords,i);d.push(p.topLeftX+p.width/2),d.push(p.topLeftY+p.height/2)}else d.push(n[r].xCoords[c]),d.push(n[r].yCoords[c]);s.edges.push({startX:f[0],startY:f[1],endX:d[0],endY:d[1]})}else s.edges.push({startX:a[r][l.id()].getCenterX(),startY:a[r][l.id()].getCenterY(),endX:a[r][_.id()].getCenterX(),endY:a[r][_.id()].getCenterY()})})),w.push(s)}));var k=u.packComponents(w,e.randomize).shifts;"draft"==e.quality?n.forEach((function(e,t){var r=e.xCoords.map((function(e){return e+k[t].dx})),n=e.yCoords.map((function(e){return e+k[t].dy}));e.xCoords=r,e.yCoords=n})):a.forEach((function(e,t){Object.keys(e).forEach((function(r){var n=e[r];n.setCenter(n.getCenterX()+k[t].dx,n.getCenterY()+k[t].dy)}))}))}}else{var b=e.eles.boundingBox();if(_.push({x:b.x1+b.w/2,y:b.y1+b.h/2}),e.randomize){var x=s(e);n.push(x)}"default"==e.quality||"proof"==e.quality?(a.push(l(e,n[0])),o.relocateComponent(_[0],a[0],e)):o.relocateComponent(_[0],n[0],e)}"default"==e.quality||"proof"==e.quality||e.randomize?(e.eles=r,r.nodes().not(":parent").layoutPositions(this,e,(function(t,r){if("default"==e.quality||"proof"==e.quality){"number"==typeof t&&(t=r);var i=void 0,o=void 0,s=t.data("id");return a.forEach((function(e){s in e&&(i={x:e[s].getRect().getCenterX(),y:e[s].getRect().getCenterY()},o=e[s])})),e.nodeDimensionsIncludeLabels&&(o.labelWidth&&("left"==o.labelPosHorizontal?i.x+=o.labelWidth/2:"right"==o.labelPosHorizontal&&(i.x-=o.labelWidth/2)),o.labelHeight&&("top"==o.labelPosVertical?i.y+=o.labelHeight/2:"bottom"==o.labelPosVertical&&(i.y-=o.labelHeight/2))),{x:i.x,y:i.y}}var l=void 0;return n.forEach((function(e){var r=e.nodeIndexes.get(t.id());null!=r&&(l={x:e.xCoords[r],y:e.yCoords[r]})})),null==l&&(l={x:t.position("x"),y:t.position("y")}),{x:l.x,y:l.y}}))):console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),e}();e.exports=u},657:function(e,t,r){var n=r(548),a=r(140).layoutBase.Matrix,i=r(140).layoutBase.SVD;e.exports={spectralLayout:function(e){var t=e.cy,r=e.eles,o=r.nodes(),s=r.nodes(":parent"),l=new Map,_=new Map,u=new Map,c=[],f=[],d=[],h=[],p=[],g=[],v=[],m=[],y=void 0,w=1e8,k=1e-9,b=e.piTol,x=e.samplingType,O=e.nodeSeparation,P=void 0,E=function(e,t,r){for(var n=[],a=0,i=0,o=0,s=void 0,l=[],u=0,f=1,d=0;d<y;d++)l[d]=w;for(n[i]=e,l[e]=0;i>=a;){o=n[a++];for(var h=c[o],v=0;v<h.length;v++)l[s=_.get(h[v])]==w&&(l[s]=l[o]+1,n[++i]=s);g[o][t]=l[o]*O}if(r){for(var m=0;m<y;m++)g[m][t]<p[m]&&(p[m]=g[m][t]);for(var k=0;k<y;k++)p[k]>u&&(u=p[k],f=k)}return f};n.connectComponents(t,r,n.getTopMostNodes(o),l),s.forEach((function(e){n.connectComponents(t,r,n.getTopMostNodes(e.descendants().intersection(r)),l)}));for(var C=0,N=0;N<o.length;N++)o[N].isParent()||_.set(o[N].id(),C++);var S=!0,L=!1,T=void 0;try{for(var A,M=l.keys()[Symbol.iterator]();!(S=(A=M.next()).done);S=!0){var I=A.value;_.set(I,C++)}}catch(e){L=!0,T=e}finally{try{!S&&M.return&&M.return()}finally{if(L)throw T}}for(var R=0;R<_.size;R++)c[R]=[];s.forEach((function(e){for(var t=e.children().intersection(r);0==t.nodes(":childless").length;)t=t.nodes()[0].children().intersection(r);var n=0,a=t.nodes(":childless")[0].connectedEdges().length;t.nodes(":childless").forEach((function(e,t){e.connectedEdges().length<a&&(a=e.connectedEdges().length,n=t)})),u.set(e.id(),t.nodes(":childless")[n].id())})),o.forEach((function(e){var t=void 0;t=e.isParent()?_.get(u.get(e.id())):_.get(e.id()),e.neighborhood().nodes().forEach((function(n){r.intersection(e.edgesWith(n)).length>0&&(n.isParent()?c[t].push(u.get(n.id())):c[t].push(n.id()))}))}));var D=function(e){var r=_.get(e),n=void 0;l.get(e).forEach((function(a){n=t.getElementById(a).isParent()?u.get(a):a,c[r].push(n),c[_.get(n)].push(e)}))},j=!0,z=!1,F=void 0;try{for(var G,U=l.keys()[Symbol.iterator]();!(j=(G=U.next()).done);j=!0)D(G.value)}catch(e){z=!0,F=e}finally{try{!j&&U.return&&U.return()}finally{if(z)throw F}}var q=void 0;if((y=_.size)>2){P=y<e.sampleSize?y:e.sampleSize;for(var H=0;H<y;H++)g[H]=[];for(var V=0;V<P;V++)m[V]=[];return"draft"==e.quality||"all"==e.step?(function(e){var t=void 0;if(e){t=Math.floor(Math.random()*y);for(var r=0;r<y;r++)p[r]=w;for(var n=0;n<P;n++)h[n]=t,t=E(t,n,e)}else{!function(){for(var e=0,t=0,r=!1;t<P;){e=Math.floor(Math.random()*y),r=!1;for(var n=0;n<t;n++)if(h[n]==e){r=!0;break}r||(h[t]=e,t++)}}();for(var a=0;a<P;a++)E(h[a],a,e)}for(var i=0;i<y;i++)for(var o=0;o<P;o++)g[i][o]*=g[i][o];for(var s=0;s<P;s++)v[s]=[];for(var l=0;l<P;l++)for(var _=0;_<P;_++)v[l][_]=g[h[_]][l]}(x),function(){for(var e=i.svd(v),t=e.S,r=e.U,n=e.V,o=t[0]*t[0]*t[0],s=[],l=0;l<P;l++){s[l]=[];for(var _=0;_<P;_++)s[l][_]=0,l==_&&(s[l][_]=t[l]/(t[l]*t[l]+o/(t[l]*t[l])))}m=a.multMat(a.multMat(n,s),a.transpose(r))}(),function(){for(var e=void 0,t=void 0,r=[],n=[],i=[],o=[],s=0;s<y;s++)r[s]=Math.random(),n[s]=Math.random();r=a.normalize(r),n=a.normalize(n);for(var l=k,_=k,u=void 0;;){for(var c=0;c<y;c++)i[c]=r[c];if(r=a.multGamma(a.multL(a.multGamma(i),g,m)),e=a.dotProduct(i,r),r=a.normalize(r),l=a.dotProduct(i,r),(u=Math.abs(l/_))<=1+b&&u>=1)break;_=l}for(var h=0;h<y;h++)i[h]=r[h];for(_=k;;){for(var p=0;p<y;p++)o[p]=n[p];if(o=a.minusOp(o,a.multCons(i,a.dotProduct(i,o))),n=a.multGamma(a.multL(a.multGamma(o),g,m)),t=a.dotProduct(o,n),n=a.normalize(n),l=a.dotProduct(o,n),(u=Math.abs(l/_))<=1+b&&u>=1)break;_=l}for(var v=0;v<y;v++)o[v]=n[v];f=a.multCons(i,Math.sqrt(Math.abs(e))),d=a.multCons(o,Math.sqrt(Math.abs(t)))}(),q={nodeIndexes:_,xCoords:f,yCoords:d}):(_.forEach((function(e,r){f.push(t.getElementById(r).position("x")),d.push(t.getElementById(r).position("y"))})),q={nodeIndexes:_,xCoords:f,yCoords:d}),q}var B=_.keys(),W=t.getElementById(B.next().value),Y=W.position(),X=W.outerWidth();if(f.push(Y.x),d.push(Y.y),2==y){var $=t.getElementById(B.next().value).outerWidth();f.push(Y.x+X/2+$/2+e.idealEdgeLength),d.push(Y.y)}return q={nodeIndexes:_,xCoords:f,yCoords:d}}}},579:function(e,t,r){var n=r(212),a=function(e){e&&e("layout","fcose",n)};"undefined"!=typeof cytoscape&&a(cytoscape),e.exports=a},140:function(t){t.exports=e}},r={},n=function e(n){var a=r[n];if(void 0!==a)return a.exports;var i=r[n]={exports:{}};return t[n](i,i.exports,e),i.exports}(579);return n}()},G=F(i("5tGeu"));var Y=i("3Ie7j");function X(e,t){return!t||"object"!==(0,Y.default)(t)&&"function"!=typeof t?W(e):t}function $(e){var t=H();return function(){var r,n=B(e);if(t){var a=B(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return X(this,r)}}function Q(e,t){if(void 0===e)throw new Error("get_field_schema(): schema is undefined!");var r=t.split("."),n=r.pop(),a=!0,i=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var _=s.value;if("[]"==_&&"array"==e.type&&(e=e.items||{}),"object"!=e.type)throw new Error("get_field_schema(): cannot access ‘".concat(_,"’ of non-object ")+"type ‘".concat(e,"’"));e=(e.properties||{})[_]||{}}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return(e.properties||{})[n]}function Z(e,t){var r,n,a,i,o,s,l,_,u,c,f;return h(this,(function(d){switch(d.label){case 0:if(void 0===e)throw new Error("iterfield(): obj is undefined!");r=t.split("."),n=0,d.label=1;case 1:if(!(n<r.length))return[3,14];if("[]"!=(a=r[n]))return[3,12];i=!0,o=!1,s=void 0,d.label=2;case 2:d.trys.push([2,9,10,11]),l=(e||[])[Symbol.iterator](),d.label=3;case 3:return(i=(_=l.next()).done)?[3,8]:(u=_.value,(c=r.slice(n+1).join("."))?[5,p(Z(u,c))]:[3,5]);case 4:return d.sent(),[3,7];case 5:return[4,u];case 6:d.sent(),d.label=7;case 7:return i=!0,[3,3];case 8:return[3,11];case 9:return f=d.sent(),o=!0,s=f,[3,11];case 10:try{i||null==l.return||l.return()}finally{if(o)throw s}return[7];case 11:return[2];case 12:e=(e||{})[a],d.label=13;case 13:return++n,[3,1];case 14:return[4,e];case 15:return d.sent(),[2]}}))}function K(e,t){if(void 0===e)throw new Error("getfield(): obj is undefined!");var r=t.split("."),n=r.pop(),a=!0,i=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){e=e[s.value]||{}}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return e[n]}function J(e,t,r){if(void 0===e)throw new Error("setfield(): obj is undefined!");var n=t.split("."),a=n.pop(),i=!0,o=!1,s=void 0;try{for(var l,_=n[Symbol.iterator]();!(i=(l=_.next()).done);i=!0){var u=l.value;e.hasOwnProperty(u)||(e[u]={}),e=e[u]}}catch(e){o=!0,s=e}finally{try{i||null==_.return||_.return()}finally{if(o)throw s}}e.hasOwnProperty(a)?e[a]=r(e[a]):e[a]=r()}function ee(e,t,r){J(e,t,(function(e){return(e||[]).concat(r)}))}var te,re=function(){"use strict";function e(){M(this,e),this.zoodb=null}return R(e,[{key:"install_zoo",value:function(e){this.zoodb=e}},{key:"initialize_zoo",value:function(){}},{key:"process_zoo",value:function(){throw new Error("Please reimplement me")}},{key:"prepare_zoo_update_objects",value:function(e){}},{key:"process_zoo_update_objects",value:function(e){this.process_zoo()}},{key:"process_data_dump",value:function(e,t){return e}}]),e}(),ne=t(m)("zoodb.dbprocessor.relations"),ae=function(){"use strict";function e(t,r,n){M(this,e),this.object_type=t,this.relation_spec=r,this.object_field=r.object_field,this.to_object_type=r.to_object_type,this.relation_add_object_field=r.relation_add_object_field,this.relation_primary_key_field=r.relation_primary_key_field;var a=this.relation_spec.backreference;if(a?(this.use_backreference=!0,this.backref_relation_primary_key_field=a.relation_primary_key_field||this.object_type+"_id",this.backref_relation_object_field=a.relation_object_field||this.object_type,this.backref_field=a.field):this.use_backreference=!1,this.zoodb=n,!this.zoodb.objects.hasOwnProperty(this.to_object_type))throw new Error("Invalid _zoo_relation definition in ‘".concat(this.object_type,"’: ")+"There is no such object type ‘".concat(this.to_object_type,"’"));"array"==Q(this.zoodb.schema(this.object_type),this.object_field).type?(this.source_has_multiple_relations=!0,this.fully_specified_relation_add_object_field=this.object_field+".[]."+this.relation_add_object_field):(this.source_has_multiple_relations=!1,this.fully_specified_relation_add_object_field=this.object_field+"."+this.relation_add_object_field)}return R(e,[{key:"get_computed_fields",value:function(){var e={};return e[this.object_type]=[{fieldname:this.fully_specified_relation_add_object_field,msg:"You are only expected to set ‘".concat(this.relation_primary_key_field,"’.")}],this.use_backreference&&(e[this.to_object_type]=(e[this.to_object_type]||[]).concat([{fieldname:this.backref_field,msg:"This field will be determined automatically."}])),e}},{key:"get_object_relation_objects",value:function(e){return this.source_has_multiple_relations?K(e,this.object_field)||[]:[K(e,this.object_field)]}},{key:"process_object_relation",value:function(e,t){var r=this;this.get_object_relation_objects(e).forEach((function(n){r._process_single_relation(e,n,t)}))}},{key:"_process_single_relation",value:function(e,t,r){var n=this,a=this.zoodb,i=r.process_object_types,o=t[this.relation_primary_key_field];if(!a.objects[this.to_object_type].hasOwnProperty(o))throw new Error("In ".concat(this.object_type," object ‘").concat(e._zoodb.id,"’ ")+"(‘".concat(e._zoodb.source_file_path,"’): Invalid reference in ")+" ‘".concat(this.object_field,"’ ")+"to ".concat(this.to_object_type," object with nonexistent ID ‘").concat(o,"’"));var s=a.objects[this.to_object_type][o],l=Object.fromEntries(Object.entries(t).filter((function(e){var t=d(e,2),r=t[0];t[1];return r!=n.relation_primary_key_field})));if(this.relation_add_object_field&&(t[this.relation_add_object_field]=s),this.use_backreference&&(void 0===i||i.includes(this.to_object_type))){var _=Object.assign({},l);if(_[this.backref_relation_primary_key_field]=e._zoodb.id,_[this.backref_relation_object_field]=e,!this.backref_field)throw new Error("Invalid field: in backreference: in relation object "+"in ".concat(this.object_type));ee(s,this.backref_field,[_])}}}]),e}(),ie=function(e){"use strict";q(r,e);var t=$(r);function r(e){var n;return M(this,r),(n=t.call(this)).config=null!=e?e:{},n.relations=null,n}return R(r,[{key:"initialize_zoo",value:function(){var e,t=this;null!==(e=(te=this.config).object_types)&&void 0!==e||(te.object_types=this.zoodb.object_types),this.relations=Object.fromEntries(this.config.object_types.map((function(e){var r=(t.zoodb.schema(e)._zoo_relations||[]).map((function(r){return new ae(e,r,t.zoodb)}));return[e,r]}))),this.check_all_clean_fields()}},{key:"process_zoo",value:function(){var e=this.zoodb;this.clear_all_relation_fields();var t=this.config.object_types;if(this.relations){var r={process_object_types:this.config.object_types},n=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(ne("Processing relations for ".concat(l," object relations")),!this.relations[l])return;var _=e.objects[l],u=!0,c=!1,f=void 0,d=!0,h=!1,p=void 0;try{for(var g,v=Object.values(_)[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var m=g.value;try{for(var y,w=this.relations[l][Symbol.iterator]();!(u=(y=w.next()).done);u=!0){y.value.process_object_relation(m,r)}}catch(e){c=!0,f=e}finally{try{u||null==w.return||w.return()}finally{if(c)throw f}}}}catch(e){h=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(h)throw p}}}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}}},{key:"prepare_zoo_update_objects",value:function(e){this.clear_all_relation_fields()}},{key:"clear_all_relation_fields",value:function(){this.check_all_clean_fields({action:function(e){e.object_type;var t=e.object,r=e.computed_relation_fieldinfo;e.value;J(t,r.fieldname,(function(){}))}})}},{key:"check_all_clean_fields",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).action;null==e&&(e=function(e){var t=e.object_type,r=(e.object,e.computed_relation_fieldinfo),n=e.value;throw new Error("".concat(t," object's ‘").concat(r.fieldname,"’ ")+"field should not be specified manually (got ".concat(JSON.stringify(n),"). ")+r.msg)});var t={},r=!0,n=!1,a=void 0,i=!0,o=!1,s=void 0;try{for(var l,_=Object.entries(this.relations)[Symbol.iterator]();!(i=(l=_.next()).done);i=!0){var u=d(l.value,2),c=(u[0],u[1]);try{for(var f,h=c[Symbol.iterator]();!(r=(f=h.next()).done);r=!0){var p=f.value,g=p.get_computed_fields(),v=!0,m=!1,y=void 0;try{for(var w,k=Object.entries(g)[Symbol.iterator]();!(v=(w=k.next()).done);v=!0){var b=d(w.value,2),x=b[0],O=b[1];t[x]=(t[x]||[]).concat(O)}}catch(e){m=!0,y=e}finally{try{v||null==k.return||k.return()}finally{if(m)throw y}}}}catch(e){n=!0,a=e}finally{try{r||null==h.return||h.return()}finally{if(n)throw a}}}}catch(e){o=!0,s=e}finally{try{i||null==_.return||_.return()}finally{if(o)throw s}}var P=!0,E=!1,C=void 0;try{for(var N,S=Object.entries(t)[Symbol.iterator]();!(P=(N=S.next()).done);P=!0){var L=d(N.value,2),T=L[0],A=L[1],M=!0,I=!1,R=void 0,D=!0,j=!1,z=void 0;try{for(var F,G=Object.values(this.zoodb.objects[T])[Symbol.iterator]();!(D=(F=G.next()).done);D=!0){var U=F.value;try{for(var q,H=A[Symbol.iterator]();!(M=(q=H.next()).done);M=!0){var V=q.value,B=V.fieldname,W=!0,Y=!1,X=void 0;try{for(var $,Q=Z(U,B)[Symbol.iterator]();!(W=($=Q.next()).done);W=!0){var K=$.value;void 0!==K&&e({object_type:T,object:U,computed_relation_fieldinfo:V,value:K})}}catch(e){Y=!0,X=e}finally{try{W||null==Q.return||Q.return()}finally{if(Y)throw X}}}}catch(e){I=!0,R=e}finally{try{M||null==H.return||H.return()}finally{if(I)throw R}}}}catch(e){j=!0,z=e}finally{try{D||null==G.return||G.return()}finally{if(j)throw z}}}}catch(e){E=!0,C=e}finally{try{P||null==S.return||S.return()}finally{if(E)throw C}}}},{key:"prepare_data_dump",value:function(e,t){if(t.relations_keep_object_property_pointers)return e;throw new Error("Operation not supported!")}}]),r}(re);function oe(e,t){return e?e+"."+t:t}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[]";return e?e+"."+t:t}function le(e,t,r,n){var a,i,o,s,l,_,u,c,f,d,g,v,m,y,w,k,b,x,O,P,E,C,N,S,L,T,A,M,I,R,D,j,z,F,G,U;return h(this,(function(h){switch(h.label){case 0:if(null!=r||(r={}),i=null!==(a=r.propfieldname)&&void 0!==a?a:oe,s=null!==(o=r.arrayitemfieldname)&&void 0!==o?o:se,_=null===(l=r.only_schema_properties)||void 0===l||l,void 0===e)return[2];if(!1===t)throw new Error("Invalid object ‘".concat(null!=e?e:"").concat(n?"."+n:"","’ with ")+"schema ‘false’");if("object"!=typeof t)throw new Error("Expected schema of object type, got ‘".concat(JSON.stringify(t),"’"));if(void 0!==n&&null!=r.visit_predicate&&!r.visit_predicate({fieldname:n,fieldschema:t,fieldvalue:e}))return[2];if("object"!=t.type)return[3,18];c=null!==(u=t.properties)&&void 0!==u?u:{},f=_?Object.keys(c):Object.keys(e),d=!0,g=!1,v=void 0,h.label=1;case 1:h.trys.push([1,15,16,17]),m=f[Symbol.iterator](),h.label=2;case 2:if(d=(y=m.next()).done)return[3,14];if(w=y.value,x=null!==(b=null!==(k=(null!=c?c:{})[w])&&void 0!==k?k:t.additionalProperties)&&void 0!==b?b:{},O=e[w],P=le(O,x,r,i(n,w)),E=!0,C=!1,N=void 0,!r.provide_parent)return[3,11];h.label=3;case 3:h.trys.push([3,8,9,10]),S=P[Symbol.iterator](),h.label=4;case 4:return(E=(L=S.next()).done)?[3,7]:(T=L.value,[4,Object.assign({parent:e,parent_index:w},T)]);case 5:h.sent(),h.label=6;case 6:return E=!0,[3,4];case 7:return[3,10];case 8:return U=h.sent(),C=!0,N=U,[3,10];case 9:try{E||null==S.return||S.return()}finally{if(C)throw N}return[7];case 10:return[3,13];case 11:return[5,p(P)];case 12:h.sent(),h.label=13;case 13:return d=!0,[3,2];case 14:return[3,17];case 15:return U=h.sent(),g=!0,v=U,[3,17];case 16:try{d||null==m.return||m.return()}finally{if(g)throw v}return[7];case 17:return[3,34];case 18:if("array"!=t.type)return[3,32];A=0,h.label=19;case 19:if(!(A<e.length))return[3,31];if(I=le(e[A],null!==(M=t.items)&&void 0!==M?M:{},r,s(n,A)),R=!0,D=!1,j=void 0,!r.provide_parent)return[3,28];h.label=20;case 20:h.trys.push([20,25,26,27]),z=I[Symbol.iterator](),h.label=21;case 21:return(R=(F=z.next()).done)?[3,24]:(G=F.value,[4,Object.assign({parent:e,parent_index:A},G)]);case 22:h.sent(),h.label=23;case 23:return R=!0,[3,21];case 24:return[3,27];case 25:return U=h.sent(),D=!0,j=U,[3,27];case 26:try{R||null==z.return||z.return()}finally{if(D)throw j}return[7];case 27:return[3,30];case 28:return[5,p(I)];case 29:h.sent(),h.label=30;case 30:return++A,[3,19];case 31:return[3,34];case 32:return[4,{fieldname:n,fieldvalue:e,fieldschema:t}];case 33:h.sent(),h.label=34;case 34:return[2]}}))}function _e(e,t,r){var n,a,i,o,s,l,_,u,c,f,g,v,m;return h(this,(function(h){switch(h.label){case 0:if(null!=t||(t={}),a=null!==(n=t.propfieldname)&&void 0!==n?n:oe,o=null!==(i=t.arrayitemfieldname)&&void 0!==i?i:se,"object"!=typeof e)throw new Error("Expected schema of object type, got ‘".concat(JSON.stringify(e),"’"));if(void 0!==r&&null!=t.visit_predicate&&!t.visit_predicate({fieldname:r,fieldschema:e}))return[2];if(l=!0,_=!1,u=void 0,"object"!=e.type)return[3,9];h.label=1;case 1:h.trys.push([1,6,7,8]),c=Object.entries(e.properties)[Symbol.iterator](),h.label=2;case 2:return(l=(f=c.next()).done)?[3,5]:(g=d(f.value,2),v=g[0],[5,p(_e(g[1],t,a(r,v)))]);case 3:h.sent(),h.label=4;case 4:return l=!0,[3,2];case 5:return[3,8];case 6:return m=h.sent(),_=!0,u=m,[3,8];case 7:try{l||null==c.return||c.return()}finally{if(_)throw u}return[7];case 8:return[3,13];case 9:return"array"!=e.type?[3,11]:[5,p(_e(null!==(s=e.items)&&void 0!==s?s:{},t,o(r)))];case 10:return h.sent(),[3,13];case 11:return[4,{fieldname:r,fieldschema:e}];case 12:h.sent(),h.label=13;case 13:return[2]}}))}j=i("fOdIC"),Y=i("3Ie7j");var ue="org.transcrypt.__runtime__",ce={};function fe(e,t,r){var n=e;if(""!=t){for(var a=t.split("."),i=a.length,o=0;o<a.length;o++){if(!n.hasOwnProperty(a[o])){i=o;break}n=n[a[o]]}for(o=i;o<a.length;o++)n[a[o]]={},n=n[a[o]]}var s=!0,l=!1,_=void 0;try{for(var u,c=function(){var e=u.value;Object.defineProperty(n,e,{get:function(){return r[e]},enumerable:!0,configurable:!0})},f=Object.getOwnPropertyNames(r)[Symbol.iterator]();!(s=(u=f.next()).done);s=!0)c()}catch(e){l=!0,_=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw _}}}function de(e,t,r){return e&&(e.hasOwnProperty("__class__")||"string"==typeof e||e instanceof String)?(r&&Object.defineProperty(e,r,{value:function(){var r=[].slice.apply(arguments);return t.apply(null,[e].concat(r))},writable:!0,enumerable:!0,configurable:!0}),function(){var r=[].slice.apply(arguments);return t.apply(null,[e.__proxy__?e.__proxy__:e].concat(r))}):t}function he(e,t,r){return e.hasOwnProperty("__class__")?function(){var r=[].slice.apply(arguments);return t.apply(null,[e.__class__].concat(r))}:function(){var r=[].slice.apply(arguments);return t.apply(null,[e].concat(r))}}ce.interpreter_name="python",ce.transpiler_name="transcrypt",ce.executor_name=ce.transpiler_name,ce.transpiler_version="3.9.0";var pe={__name__:"type",__bases__:[],__new__:function(e,t,r,n){for(var a=function(){var e=[].slice.apply(arguments);return a.__new__(e)},i=r.length-1;i>=0;i--){var o=r[i];for(var s in o){null!=(p=Object.getOwnPropertyDescriptor(o,s))&&Object.defineProperty(a,s,p)}var l=!0,_=!1,u=void 0;try{for(var c,f=Object.getOwnPropertySymbols(o)[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var d=c.value,h=Object.getOwnPropertyDescriptor(o,d);Object.defineProperty(a,d,h)}}catch(e){_=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(_)throw u}}}for(var s in a.__metaclass__=e,a.__name__=t.startsWith("py_")?t.slice(3):t,a.__bases__=r,n){var p=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(a,s,p)}var g=!0,v=!1,m=void 0;try{for(var y,w=Object.getOwnPropertySymbols(n)[Symbol.iterator]();!(g=(y=w.next()).done);g=!0){var k=y.value,b=Object.getOwnPropertyDescriptor(n,k);Object.defineProperty(a,k,b)}}catch(e){v=!0,m=e}finally{try{g||null==w.return||w.return()}finally{if(v)throw m}}return a}};pe.__metaclass__=pe;var ge={__init__:function(e){},__metaclass__:pe,__name__:"object",__bases__:[],__new__:function(e){var t=Object.create(this,{__class__:{value:this,enumerable:!0}});return("__getattr__"in this||"__setattr__"in this)&&(t.__proxy__=new Proxy(t,{get:function(e,t){var r=e[t];return null==r?e.__getattr__(t):r},set:function(e,t,r){try{e.__setattr__(t,r)}catch(n){e[t]=r}return!0}}),t=t.__proxy__),this.__init__.apply(null,[t].concat(e)),t}};function ve(e,t,r,n){return void 0===n&&(n=t[0].__metaclass__),n.__new__(n,e,t,r)}function me(){var e=[].slice.apply(arguments);return"object"==typeof e[0]&&"__call__"in e[0]?e[0].__call__.apply(e[1],e.slice(2)):e[0].apply(e[1],e.slice(2))}ce.executor_name=ce.transpiler_name;function ye(e){return e.__kwargtrans__=null,e.constructor=Object,e}function we(e,t){var r=!0,n=!1,a=void 0;try{for(var i,o=e.__bases__[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;if(t in s)return s[t]}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}throw new Vt("Superclass method not found")}function ke(e,t){return t||(t=function(){}),{get:function(){return e(this)},set:function(e){t(this,e)},enumerable:!0}}function be(e,t,r){e.hasOwnProperty(t)||Object.defineProperty(e,t,r)}function xe(e,t){if(!e)throw $t(t,new Error)}function Oe(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r}function Pe(e){var t=[];for(var r in e)t.push(r.startsWith("py_")?r.slice(3):r);return t.sort(),t}function Ee(e,t,r){e[t]=r}function Ce(e,t){return t in e?e[t]:e["py_"+t]}function Ne(e,t){try{return t in e||"py_"+t in e}catch(e){return!1}}function Se(e,t){return null!=t&&(t.__contains__ instanceof Function?t.__contains__(e):t.indexOf?t.indexOf(e)>-1:t.hasOwnProperty(e))}function Le(e){return e.startswith("__")&&e.endswith("__")||"constructor"==e||e.startswith("py_")}function Te(e){if(null==e)return 0;if(e.__len__ instanceof Function)return e.__len__();if(void 0!==e.length)return e.length;var t=0;for(var r in e)Le(r)||t++;return t}function Ae(e){return null!=e&&(["boolean","number"].indexOf(void 0===e?"undefined":(0,Y.default)(e))>=0?e:e.__bool__ instanceof Function?!!e.__bool__()&&e:e.__len__ instanceof Function?0!==e.__len__()&&e:(e instanceof Function||0!==Te(e))&&e)}function Me(e){if("inf"==e)return 1/0;if("-inf"==e)return-1/0;if("nan"==e)return NaN;if(isNaN(parseFloat(e))){if(!1===e)return 0;if(!0===e)return 1;throw Yt("could not convert string to float: '"+ot(e)+"'",new Error)}return+e}function Ie(e){return 0|Me(e)}function Re(e){return!!Ae(e)}function De(e){var t=void 0===e?"undefined":(0,Y.default)(e);if("object"!=t)return"boolean"==t?Re:"string"==t?ot:"number"==t?e%1==0?Ie:Me:null;try{return"__class__"in e?e.__class__:ge}catch(e){return t}}function je(e,t){if(t instanceof Array){var r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){if(je(e,i.value))return!0}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return!1}try{var s=e;if(s==t)return!0;for(var l=[].slice.call(s.__bases__);l.length;){if((s=l.shift())==t)return!0;s.__bases__.length&&(l=[].slice.call(s.__bases__).concat(l))}return!1}catch(r){return e==t||t==ge}}function ze(e,t){try{return je("__class__"in e?e.__class__:De(e),t)}catch(r){return je(De(e),t)}}function Fe(e){return!(!e||"object"!=typeof e||!("__call__"in e))||"function"==typeof e}function Ge(e){try{return e.__repr__()}catch(i){try{return e.__str__()}catch(i){try{if(null==e)return"None";if(e.constructor==Object){var t="{",r=!1;for(var n in e)if(!Le(n)){if(n.isnumeric())var a=n;else a="'"+n+"'";r?t+=", ":r=!0,t+=a+": "+Ge(e[n])}return t+="}"}return"boolean"==typeof e?e.toString().capitalize():e.toString()}catch(t){return"<object of type: "+(void 0===e?"undefined":(0,Y.default)(e))+">"}}}}function Ue(e){return String.fromCharCode(e)}function qe(e){return e.charCodeAt(0)}function He(e){var t,r;return 1==arguments.length?(t=Math).max.apply(t,(0,j.default)(e)):(r=Math).max.apply(r,arguments)}Me.__name__="float",Me.__bases__=[ge],Ie.__name__="int",Ie.__bases__=[ge],Number.prototype.__format__=function(e){var t=function(e,t,r,n){null==r&&(r=" "),null==n&&(n=">");var a="",i="";e.startswith(["+","-"])&&(i=e[0],e=e.substr(1)),s&&e.startswith(["0b","0o","0x"])&&(a=e.slice(0,2),e=e.substr(2));var o=t-(e.length+i.length+a.length);switch(n){case"=":return i+a+xt(r,o)+e;case">":return xt(r,o)+i+a+e;case"<":return i+a+e+xt(r,o);case"^":var l=(o%2+2)%2;return xt(r,o=Math.floor(o/2))+i+a+e+xt(r,o+l);default:throw Yt("Invalid align type: '"+n+"'",new Error)}},r=function(e){if(-1==e.indexOf("e+")&&("g"==f||"G"==f)){for(var t=e.py_split("."),r=t[0],n=t[1];"0"==n[n.length-1];)n=n.slice(0,-1);e=""!=n?".".join([r,n]):r}return s&&-1==e.indexOf(".")&&(e+="."),e};if(null==e||0==e.strip().length)return this.toString();var n=!1,a=!1,i=0,o=!1,s=!1,l="-",_=">",u=" ",c=void 0,f=void 0,d=this.valueOf(),h=d<0;d=Math.abs(d),e.endswith(["b","c","d","e","E","f","F","g","G","n","o","x","X","%"])?(f=e[e.length-1],e=e.slice(0,-1),"n"==f&&(f=Number.isInteger(d)?"d":"f")):(f=Number.isInteger(d)?"d":"g",a=!0);var p=e.split(".");if(e=p[0],null!=(c=p[1])&&(c=parseInt(c)),e.length>0&&","==e[e.length-1]&&(n=!0,e=e.slice(0,-1)),e.length>0){for(var g="";e&&e[e.length-1].isnumeric();)g=e[e.length-1]+g,e=e.slice(0,-1);g.length>0&&("0"==g[0]?(i=parseInt(g.substr(1)),o=!0):i=parseInt(g)),e.length>0&&"#"==e[e.length-1]&&(s=!0,e=e.slice(0,-1)),e.length>0&&e.endswith(["+","-"," "])&&(l=e[e.length-1],e=e.slice(0,-1)),e.length>0&&e.endswith(["<",">","=","^"])&&(_=e[e.length-1],e=e.slice(0,-1)),e.length>0&&(u=e[0])}if(isNaN(d))d="nan";else if(d==1/0)d="inf";else switch(f){case"b":d=Math.floor(d).toString(2),s&&(d="0b"+d);break;case"c":d=String.fromCharCode(Math.floor(d));break;case"d":d=Math.floor(d).toString(),n&&(d=d.replace(/\B(?=(\d{3})+(?!\d))/g,","));break;case"o":d=Math.floor(d).toString(8),s&&(d="0o"+d);break;case"x":case"X":d=Math.floor(d).toString(16),s&&(d="0x"+d);break;case"e":case"E":null==c&&(c=6);var v=(w=d.toExponential(c).split("e+"))[0],m=w[1];d=r(d=v.toString()+"e+"+t(m.toString(),2,"0"));break;case"f":case"F":case"%":null==c&&(c=6),"%"==f&&(d*=100),d=r(d=d.toFixed(c)),"%"==f&&(d+="%");break;case"g":case"G":null==c&&(c=a?1:6),0==c&&(c=1);var y=!1;if(a)(p=d.toString().split("."))[0].length+p[1].length>=c&&(y=!0);var w;v=(w=d.toExponential(c-1).split("e+"))[0];d=r(d=(y|=!(-4<=(m=w[1])&&m<c))?v.toString()+"e+"+t(m.toString(),2,"0"):d.toFixed(c-1-m));break;default:throw Yt("Invalid format type: '"+f+"'",new Error)}return f===f.toUpperCase()&&(d=d.toUpperCase()),"c"!=f&&("-"==l?h&&(d="-"+d):d=h?"-"+d:l+d),o&&(u="0",_="="),i>0&&(d=t(d,i,u,_)),d},Re.__name__="bool",Re.__bases__=[Ie];Math.abs;function Ve(e,t){if(null==e)return"None";switch(t=t||"",void 0===e?"undefined":(0,Y.default)(e)){case"number":case"string":return e.__format__(t);case"boolean":return t?(e?1:0).__format__(t):ot(e);case"object":return"__format__"in e?e.__format__(t):ot(e).__format__(t);default:return ot(e).__format__(t)}}function Be(){try{return{value:this.__next__(),done:!1}}catch(e){return{value:void 0,done:!0}}}function We(){var e=this.next();if(e.done)throw Wt(new Error);return e.value}function Ye(e){if("string"==typeof e||"__iter__"in e)(t=e.__iter__()).next=Be;else if("selector"in e){(t=nt(e).__iter__()).next=Be}else if("next"in e){"__next__"in(t=e)||(t.__next__=We)}else{if(!(Symbol.iterator in e))throw Bt(new Error);var t;(t=e[Symbol.iterator]()).__next__=We}return t[Symbol.iterator]=function(){return t},t}function Xe(e){try{var t=e.__next__()}catch(r){if((t=e.next()).done)throw Wt(new Error);return t.value}if(null==t)throw Wt(new Error);return t}function $e(e){this.iterable=e,this.index=0}function Qe(e){this.iterable=e,this.index=0}function Ze(e){return(e=e.slice()).reverse(),e}function Ke(){for(var e=[].slice.call(arguments),t=0;t<e.length;t++)"string"==typeof e[t]?e[t]=e[t].split(""):Array.isArray(e[t])||(e[t]=Array.from(e[t]));var r=0==e.length?[]:e.reduce((function(e,t){return e.length<t.length?e:t}));return r.map((function(t,r){return e.map((function(e){return e[r]}))}))}function Je(e){var t=!0,r=!1,n=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){if(Re(a.value))return!0}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return!1}function et(e){var t=!0,r=!1,n=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){if(!Re(a.value))return!1}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return!0}function tt(e){return Ke(function(e,t,r){if(null==t&&(t=e,e=0),null==r&&(r=1),r>0&&e>=t||r<0&&e<=t)return[];for(var n=[],a=e;r>0?a<t:a>t;a+=r)n.push(a);return n}(Te(e)),e)}function rt(e){if(null==e||"object"==typeof e)return e;var t={};for(var r in obj)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function nt(e){return e?Array.from(e):[]}function at(e){var t=e?[].slice.apply(e):[];return t.__class__=at,t}function it(e){var t=[];if(e)for(var r=0;r<e.length;r++)t.add(e[r]);return t.__class__=it,t}$e.prototype.__next__=function(){if(this.index<this.iterable.length)return this.iterable[this.index++];throw Wt(new Error)},Qe.prototype.next=function(){return this.index<this.iterable.py_keys.length?{value:this.index++,done:!1}:{value:void 0,done:!0}},Array.prototype.__class__=nt,nt.__name__="list",nt.__bases__=[ge],Array.prototype.__iter__=function(){return new $e(this)},Array.prototype.__getslice__=function(e,t,r){if(e<0&&(e=this.length+e),null==t?t=this.length:t<0?t=this.length+t:t>this.length&&(t=this.length),1==r)return Array.prototype.slice.call(this,e,t);for(var n=nt([]),a=e;a<t;a+=r)n.push(this[a]);return n},Array.prototype.__setslice__=function(e,t,r,n){if(e<0&&(e=this.length+e),null==t?t=this.length:t<0&&(t=this.length+t),null==r)Array.prototype.splice.apply(this,[e,t-e].concat(n));else for(var a=0,i=e;i<t;i+=r)this[i]=n[a++]},Array.prototype.__repr__=function(){if(this.__class__==it&&!this.length)return"set()";for(var e=this.__class__&&this.__class__!=nt?this.__class__==at?"(":"{":"[",t=0;t<this.length;t++)t&&(e+=", "),e+=Ge(this[t]);return this.__class__==at&&1==this.length&&(e+=","),e+=this.__class__&&this.__class__!=nt?this.__class__==at?")":"}":"]"},Array.prototype.__str__=Array.prototype.__repr__,Array.prototype.append=function(e){this.push(e)},Array.prototype.py_clear=function(){this.length=0},Array.prototype.extend=function(e){this.push.apply(this,e)},Array.prototype.insert=function(e,t){this.splice(e,0,t)},Array.prototype.remove=function(e){var t=this.indexOf(e);if(-1==t)throw Yt("list.remove(x): x not in list",new Error);this.splice(t,1)},Array.prototype.index=function(e){return this.indexOf(e)},Array.prototype.py_pop=function(e){return null==e?this.pop():this.splice(e,1)[0]},Array.prototype.py_sort=function(){tr.apply(null,[this].concat([].slice.apply(arguments)))},Array.prototype.__add__=function(e){return nt(this.concat(e))},Array.prototype.__mul__=function(e){for(var t=this,r=1;r<e;r++)t=t.concat(this);return t},Array.prototype.__rmul__=Array.prototype.__mul__,at.__name__="tuple",at.__bases__=[ge],it.__name__="set",it.__bases__=[ge],Array.prototype.__bindexOf__=function(e){e+="";for(var t=0,r=this.length-1;t<=r;){var n=(t+r)/2|0,a=this[n]+"";if(a<e)t=n+1;else{if(!(a>e))return n;r=n-1}}return-1},Array.prototype.add=function(e){-1==this.indexOf(e)&&this.push(e)},Array.prototype.discard=function(e){var t=this.indexOf(e);-1!=t&&this.splice(t,1)},Array.prototype.isdisjoint=function(e){this.sort();for(var t=0;t<e.length;t++)if(-1!=this.__bindexOf__(e[t]))return!1;return!0},Array.prototype.issuperset=function(e){this.sort();for(var t=0;t<e.length;t++)if(-1==this.__bindexOf__(e[t]))return!1;return!0},Array.prototype.issubset=function(e){return it(e.slice()).issuperset(this)},Array.prototype.union=function(e){for(var t=it(this.slice().sort()),r=0;r<e.length;r++)-1==t.__bindexOf__(e[r])&&t.push(e[r]);return t},Array.prototype.intersection=function(e){this.sort();for(var t=it(),r=0;r<e.length;r++)-1!=this.__bindexOf__(e[r])&&t.push(e[r]);return t},Array.prototype.difference=function(e){for(var t=it(e.slice().sort()),r=it(),n=0;n<this.length;n++)-1==t.__bindexOf__(this[n])&&r.push(this[n]);return r},Array.prototype.symmetric_difference=function(e){return this.union(e).difference(this.intersection(e))},Array.prototype.py_update=function(){var e=[].concat.apply(this.slice(),arguments).sort();this.py_clear();for(var t=0;t<e.length;t++)e[t]!=e[t-1]&&this.push(e[t])},Array.prototype.__eq__=function(e){if(this.length!=e.length)return!1;this.__class__==it&&(this.sort(),e.sort());for(var t=0;t<this.length;t++)if(this[t]!=e[t])return!1;return!0},Array.prototype.__ne__=function(e){return!this.__eq__(e)},Array.prototype.__le__=function(e){if(this.__class__==it)return this.issubset(e);for(var t=0;t<this.length;t++){if(this[t]>e[t])return!1;if(this[t]<e[t])return!0}return!0},Array.prototype.__ge__=function(e){if(this.__class__==it)return this.issuperset(e);for(var t=0;t<this.length;t++){if(this[t]<e[t])return!1;if(this[t]>e[t])return!0}return!0},Array.prototype.__lt__=function(e){return this.__class__==it?this.issubset(e)&&!this.issuperset(e):!this.__ge__(e)},Array.prototype.__gt__=function(e){return this.__class__==it?this.issuperset(e)&&!this.issubset(e):!this.__le__(e)};function ot(e){if("number"==typeof e)return e.toString();try{return e.__str__()}catch(t){try{return Ge(e)}catch(t){return String(e)}}}function st(e){return this.hasOwnProperty(e)}function lt(){var e=[];for(var t in this)Le(t)||e.push(t);return e}function _t(){var e=[];for(var t in this)Le(t)||e.push([t,this[t]]);return e}function ut(e){delete this[e]}function ct(){for(var e in this)delete this[e]}function ft(e,t){var r=this[e];return null==r&&(r=this["py_"+e]),null==r?null==t?null:t:r}function dt(e,t){var r=this[e];if(null!=r)return r;var n=null==t?null:t;return this[e]=n,n}function ht(e,t){var r=this[e];if(null!=r)return delete this[e],r;if(void 0===t)throw Xt(e,new Error);return t}function pt(){var e=Object.keys(this)[0];if(null==e)throw Xt("popitem(): dictionary is empty",new Error);var t=at([e,this[e]]);return delete this[e],t}function gt(e){for(var t in e)this[t]=e[t]}function vt(){var e=[];for(var t in this)Le(t)||e.push(this[t]);return e}function mt(e){return this[e]}function yt(e,t){this[e]=t}function wt(e){var t={};if(!e||e instanceof Array){if(e)for(var r=0;r<e.length;r++){var n=e[r];if(!(n instanceof Array)||2!=n.length)throw Yt("dict update sequence element #"+r+" has length "+n.length+"; 2 is required",new Error);var a=n[0],i=n[1];!(e instanceof Array)&&e instanceof Object&&(ze(e,wt)||(i=wt(i))),t[a]=i}}else if(ze(e,wt)){var o=e.py_keys();for(r=0;r<o.length;r++){t[a=o[r]]=e[a]}}else{if(!(e instanceof Object))throw Yt("Invalid type of object for dict creation",new Error);t=e}return be(t,"__class__",{value:wt,enumerable:!1,writable:!0}),be(t,"__contains__",{value:st,enumerable:!1}),be(t,"py_keys",{value:lt,enumerable:!1}),be(t,"__iter__",{value:function(){new $e(this.py_keys())},enumerable:!1}),be(t,Symbol.iterator,{value:function(){new Qe(this.py_keys())},enumerable:!1}),be(t,"py_items",{value:_t,enumerable:!1}),be(t,"py_del",{value:ut,enumerable:!1}),be(t,"py_clear",{value:ct,enumerable:!1}),be(t,"py_get",{value:ft,enumerable:!1}),be(t,"py_setdefault",{value:dt,enumerable:!1}),be(t,"py_pop",{value:ht,enumerable:!1}),be(t,"py_popitem",{value:pt,enumerable:!1}),be(t,"py_update",{value:gt,enumerable:!1}),be(t,"py_values",{value:vt,enumerable:!1}),be(t,"__getitem__",{value:mt,enumerable:!1}),be(t,"__setitem__",{value:yt,enumerable:!1}),t}function kt(e,t){return"object"==typeof e&&"__mod__"in e?e.__mod__(t):"object"==typeof t&&"__rmod__"in t?t.__rmod__(e):(e%t+t)%t}Uint8Array.prototype.__add__=function(e){var t=new Uint8Array(this.length+e.length);return t.set(this),t.set(e,this.length),t},Uint8Array.prototype.__mul__=function(e){for(var t=new Uint8Array(e*this.length),r=0;r<e;r++)t.set(this,r*this.length);return t},Uint8Array.prototype.__rmul__=Uint8Array.prototype.__mul__,String.prototype.__class__=ot,ot.__name__="str",ot.__bases__=[ge],String.prototype.__iter__=function(){new $e(this)},String.prototype.__repr__=function(){return(-1==this.indexOf("'")?"'"+this+"'":'"'+this+'"').py_replace("\t","\\t").py_replace("\n","\\n")},String.prototype.__str__=function(){return this},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.endswith=function(e){if(!(e instanceof Array))return""==e||this.slice(-e.length)==e;for(var t=0;t<e.length;t++)if(this.slice(-e[t].length)==e[t])return!0;return!1},String.prototype.find=function(e,t){return this.indexOf(e,t)},String.prototype.__getslice__=function(e,t,r){e<0&&(e=this.length+e),null==t?t=this.length:t<0&&(t=this.length+t);var n="";if(1==r)n=this.substring(e,t);else for(var a=e;a<t;a+=r)n=n.concat(this.charAt(a));return n},String.prototype.__format__=function(e){if(null==e||0==e.strip().length)return this.valueOf();var t=0,r="<",n=" ",a=this.valueOf();if("s"==e[e.length-1]&&(e=e.slice(0,-1)),e.length>0){for(var i="";e&&e[e.length-1].isnumeric();)i=e[e.length-1]+i,e=e.slice(0,-1);i.length>0&&(t=parseInt(i)),e.length>0&&e.endswith(["<",">","^"])&&(r=e[e.length-1],e=e.slice(0,-1)),e.length>0&&(n=e[0])}return t>0&&(a=function(e,t,r,n){var a=t-e.length;switch(n){case">":return xt(r,a)+e;case"<":return e+xt(r,a);case"^":var i=(a%2+2)%2;return xt(r,a=Math.floor(a/2))+e+xt(r,a+i);default:return e}}(a,t,n,r)),a},be(String.prototype,"format",{get:function(){return de(this,(function(e){var t=at([].slice.apply(arguments).slice(1)),r=0;return e.replace(/\{([^\{]*)\}/g,(function(e,n){var a=n.split(":");n=a[0];var i=a[1];a=n.split("!"),n=a[0];var o=a[1],s=void 0;if(""==n&&(n=r++),n==+n&&void 0!==t[n])s=t[n];else{var l=void 0,_=(""+n).indexOf(".");if(-1!=_?(l=n.substring(_+1),n=n.substring(0,_)):-1!=(_=(""+n).indexOf("["))&&(l=n.substring(_+1).slice(0,-1),n=n.substring(0,_)),n==+n&&l&&void 0!==t[n])s=t[n][l];else for(var u=0;u<t.length;u++)if("object"==typeof t[u]&&null!=t[u]&&void 0!==t[u][n]){s=l?t[u][n][l]:t[u][n];break}}if(void 0===s)return e;if("r"==o)s=Ge(s);else if("s"==o)s=ot(s);else if("a"==o)throw Yt("Conversion to ascii not yet supported: '"+e+"'",new Error);return Ve(s,i)}))}))},enumerable:!0}),String.prototype.isalnum=function(){return/^[0-9a-zA-Z]{1,}$/.test(this)},String.prototype.isalpha=function(){return/^[a-zA-Z]{1,}$/.test(this)},String.prototype.isdecimal=function(){return/^[0-9]{1,}$/.test(this)},String.prototype.isdigit=function(){return this.isdecimal()},String.prototype.islower=function(){return/^[a-z]{1,}$/.test(this)},String.prototype.isupper=function(){return/^[A-Z]{1,}$/.test(this)},String.prototype.isspace=function(){return/^[\s]{1,}$/.test(this)},String.prototype.isnumeric=function(){return!isNaN(parseFloat(this))&&isFinite(this)},String.prototype.join=function(e){return(e=Array.from(e)).join(this)},String.prototype.lower=function(){return this.toLowerCase()},String.prototype.py_replace=function(e,t,r){return this.split(e,r).join(t)},String.prototype.lstrip=function(){return this.replace(/^\s*/g,"")},String.prototype.rfind=function(e,t){return this.lastIndexOf(e,t)},String.prototype.rsplit=function(e,t){if(null==e||null==e){e=/\s+/;var r=this.strip()}else r=this;if(null==t||-1==t)return r.split(e);var n=r.split(e);if(t<n.length){var a=n.length-t;return[n.slice(0,a).join(e)].concat(n.slice(a))}return n},String.prototype.rstrip=function(){return this.replace(/\s*$/g,"")},String.prototype.py_split=function(e,t){if(null==e||null==e){e=/\s+/;var r=this.strip()}else r=this;if(null==t||-1==t)return r.split(e);var n=r.split(e);return t<n.length?n.slice(0,t).concat([n.slice(t).join(e)]):n},String.prototype.startswith=function(e){if(!(e instanceof Array))return 0==this.indexOf(e);for(var t=0;t<e.length;t++)if(0==this.indexOf(e[t]))return!0;return!1},String.prototype.strip=function(){return this.trim()},String.prototype.upper=function(){return this.toUpperCase()},String.prototype.__mul__=function(e){for(var t="",r=0;r<e;r++)t+=this;return t},String.prototype.__rmul__=String.prototype.__mul__,wt.__name__="dict",wt.__bases__=[ge],be(Function.prototype,"__setdoc__",{value:function(e){return this.__doc__=e,this},enumerable:!1});function bt(e){return"object"==typeof e&&"__neg__"in e?e.__neg__():-e}function xt(e,t){return"object"==typeof e&&"__mul__"in e?e.__mul__(t):"object"==typeof t&&"__rmul__"in t?t.__rmul__(e):"string"==typeof e?e.__mul__(t):"string"==typeof t?t.__rmul__(e):e*t}function Ot(e,t){return"object"==typeof e&&"__floordiv__"in e?e.__floordiv__(t):"object"==typeof t&&"__rfloordiv__"in t?t.__rfloordiv__(e):"object"==typeof e&&"__div__"in e?e.__div__(t):"object"==typeof t&&"__rdiv__"in t?t.__rdiv__(e):Math.floor(e/t)}function Pt(e,t){return"object"==typeof e&&"__add__"in e?e.__add__(t):"object"==typeof t&&"__radd__"in t?t.__radd__(e):e+t}function Et(e,t){return"object"==typeof e&&"__sub__"in e?e.__sub__(t):"object"==typeof t&&"__rsub__"in t?t.__rsub__(e):e-t}function Ct(e,t){return"object"==typeof e&&"__lshift__"in e?e.__lshift__(t):"object"==typeof t&&"__rlshift__"in t?t.__rlshift__(e):e<<t}function Nt(e,t){return"object"==typeof e&&"__and__"in e?e.__and__(t):"object"==typeof t&&"__rand__"in t?t.__rand__(e):e&t}function St(e,t){return"object"==typeof e&&"__eq__"in e?e.__eq__(t):e==t}function Lt(e,t){return"object"==typeof e&&"__ne__"in e?e.__ne__(t):e!=t}function Tt(e,t){return"object"==typeof e&&"__lt__"in e?e.__lt__(t):e<t}function At(e,t){return"object"==typeof e&&"__le__"in e?e.__le__(t):e<=t}function Mt(e,t){return"object"==typeof e&&"__gt__"in e?e.__gt__(t):e>t}function It(e,t){return"object"==typeof e&&"__ge__"in e?e.__ge__(t):e>=t}function Rt(e,t){return"object"==typeof e&&"__imul__"in e?e.__imul__(t):"object"==typeof e&&"__mul__"in e?e.__mul__(t):"object"==typeof t&&"__rmul__"in t?t.__rmul__(e):"string"==typeof e?e.__mul__(t):"string"==typeof t?t.__rmul__(e):e*t}function Dt(e,t){return"object"==typeof e&&"__iadd__"in e?e.__iadd__(t):"object"==typeof e&&"__add__"in e?e.__add__(t):"object"==typeof t&&"__radd__"in t?t.__radd__(e):e+t}function jt(e,t){return"object"==typeof e&&"__isub__"in e?e.__isub__(t):"object"==typeof e&&"__sub__"in e?e.__sub__(t):"object"==typeof t&&"__rsub__"in t?t.__rsub__(e):e-t}function zt(e,t){return"object"==typeof e&&"__ior__"in e?e.__ior__(t):"object"==typeof e&&"__or__"in e?e.__or__(t):"object"==typeof t&&"__ror__"in t?t.__ror__(e):e|t}function Ft(e,t){return"object"==typeof e&&"__getitem__"in e?e.__getitem__(t):("string"==typeof e||e instanceof Array)&&t<0?e[e.length+t]:e[t]}function Gt(e,t,r){"object"==typeof e&&"__setitem__"in e?e.__setitem__(t,r):("string"==typeof e||e instanceof Array)&&t<0?e[e.length+t]=r:e[t]=r}function Ut(e,t,r,n){return"object"==typeof e&&"__getitem__"in e?e.__getitem__([t,r,n]):e.__getslice__(t,r,n)}function qt(e,t,r,n,a){"object"==typeof e&&"__setitem__"in e?e.__setitem__([t,r,n],a):e.__setslice__(t,r,n,a)}var Ht=ve("BaseException",[ge],{__module__:ue}),Vt=ve("Exception",[Ht],{__module__:ue,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();e.__args__=i,Lt(t.error,null)?e.stack=t.error.stack:Error?e.stack=new me(Error,null).stack:e.stack="No stack trace available"}))},get __repr__(){return de(this,(function(e){return Mt(me(Te,null,e.__args__),1)?me((t="{}{}").format,t,e.__class__.__name__,me(Ge,null,me(at,null,e.__args__))):me(Te,null,e.__args__)?function(){var t="{}({})";return me(t.format,t,e.__class__.__name__,me(Ge,null,Ft(e.__args__,0)))}():function(){var t="{}()";return me(t.format,t,e.__class__.__name__)}();var t}))},get __str__(){return de(this,(function(e){return Mt(me(Te,null,e.__args__),1)?me(ot,null,me(at,null,e.__args__)):me(Te,null,e.__args__)?me(ot,null,Ft(e.__args__,0)):""}))}}),Bt=ve("IterableError",[Vt],{__module__:ue,get __init__(){return de(this,(function(e,t){var r;me((r=Vt).__init__,r,e,"Can't iterate over non-iterable",ye({error:t}))}))}}),Wt=ve("StopIteration",[Vt],{__module__:ue,get __init__(){return de(this,(function(e,t){var r;me((r=Vt).__init__,r,e,"Iterator exhausted",ye({error:t}))}))}}),Yt=ve("ValueError",[Vt],{__module__:ue,get __init__(){return de(this,(function(e,t,r){var n;me((n=Vt).__init__,n,e,t,ye({error:r}))}))}}),Xt=ve("KeyError",[Vt],{__module__:ue,get __init__(){return de(this,(function(e,t,r){var n;me((n=Vt).__init__,n,e,t,ye({error:r}))}))}}),$t=ve("AssertionError",[Vt],{__module__:ue,get __init__(){return de(this,(function(e,t,r){var n;t?me((n=Vt).__init__,n,e,t,ye({error:r})):function(){var t=Vt;me(t.__init__,t,e,ye({error:r}))}()}))}}),Qt=ve("NotImplementedError",[Vt],{__module__:ue,get __init__(){return de(this,(function(e,t,r){var n;me((n=Vt).__init__,n,e,t,ye({error:r}))}))}}),Zt=ve("IndexError",[Vt],{__module__:ue,get __init__(){return de(this,(function(e,t,r){var n;me((n=Vt).__init__,n,e,t,ye({error:r}))}))}}),Kt=ve("AttributeError",[Vt],{__module__:ue,get __init__(){return de(this,(function(e,t,r){var n;me((n=Vt).__init__,n,e,t,ye({error:r}))}))}}),Jt=ve("py_TypeError",[Vt],{__module__:ue,get __init__(){return de(this,(function(e,t,r){var n;me((n=Vt).__init__,n,e,t,ye({error:r}))}))}}),er=ve("Warning",[Vt],{__module__:ue}),tr=(ve("UserWarning",[er],{__module__:ue}),ve("DeprecationWarning",[er],{__module__:ue}),ve("RuntimeWarning",[er],{__module__:ue}),function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"iterable":e=a[i];break;case"key":t=a[i];break;case"reverse":r=a[i]}}}var o;t?me((o=e).sort,o,(function(e,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"a":e=a[i];break;case"b":r=a[i]}}}return Mt(me(t,null,e),me(t,null,r))?1:bt(1)})):function(){var t=e;me(t.sort,t)}(),r&&function(){var t=e;me(t.reverse,t)}()}),rr=function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"iterable":e=a[i];break;case"key":t=a[i];break;case"reverse":r=a[i]}}}if(St(De(e),wt))var o=me(rt,null,me((s=e).py_keys,s));else o=me(rt,null,e);var s;return me(tr,null,o,t,r),o},nr=function(e,t){return function(){for(var r=[],n=t,a=0;a<Te(n);a++){var i=Ft(n,a);me(r.append,r,me(e,null,i))}return r}()},ar=ve("__Terminal__",[ge],{__module__:ue,get __init__(){return de(this,(function(e){e.buffer="";try{e.element=me((t=document).getElementById,t,"__terminal__")}catch(t){e.element=null}var t;e.element&&(e.element.style.overflowX="auto",e.element.style.boxSizing="border-box",e.element.style.padding="5px",e.element.innerHTML="_")}))},get print(){return de(this,(function(e){var t,r,n=" ",a="\n";if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"sep":n=o[s];break;case"end":a=o[s]}}var l=at([].slice.apply(arguments).slice(1,i+1))}else l=at();e.buffer=Ut(me((r="{}{}{}").format,r,e.buffer,me((t=n).join,t,function(){for(var e=[],t=l,r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,me(ot,null,n))}return e}()),a),bt(4096),null,1),e.element?(e.element.innerHTML=function(){var t=function(){var t=e.buffer;return me(t.py_replace,t,"\n","<br>")}();return me(t.py_replace,t," ","&nbsp")}(),e.element.scrollTop=e.element.scrollHeight):function(){var e=console;me(e.log,e,function(){var e=n;return me(e.join,e,function(){for(var e=[],t=l,r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,me(ot,null,n))}return e}())}())}()}))},get input(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"question":t=n[a]}}}var i;me((i=e).print,i,me("{}".format,"{}",t),ye({end:""}));var o=function(){var t,r=window;return me(r.prompt,r,me("\n".join,"\n",Ut(me((t=e.buffer).py_split,t,"\n"),bt(8),null,1)))}();return function(){var t=e;me(t.print,t,o)}(),o}))}}),ir=me(ar,null);ir.print,ir.input;String.prototype.startswith=function(e,t){var r=void 0===t?0:t;if(!(e instanceof Array))return this.substring(r,r+e.length)===e;for(var n=0;n<e.length;n++)if(this.substring(r,r+e[n].length)===e[n])return!0;return!1},String.prototype.count=function(e){for(var t=0,r=0;t<this.length;++t)e==this[t]&&++r;return r},String.prototype.rjust=function(e,t){return this.length>=e?this:t.repeat(e-this.length)+this},String.prototype.rstrip=function(e){if(void 0===e)return this.replace(/\s*$/g,"");for(var t=this;t.length&&-1!==e.indexOf(t.slice(-1));)t=t.slice(0,-1);return t},ht=function(e,t){var r=this[e];if(void 0!==r)return delete this[e],r;if(void 0===t)throw Xt(e,new Error);return t},St=function(e,t){return"object"==typeof e&&null!=e&&"__eq__"in e?e.__eq__(t):"object"==typeof t&&null!=t&&"__eq__"in t?t.__eq__(e):e==t};var or,sr=ye;Y=i("3Ie7j");function lr(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function _r(e,t){for(var r,n="",a=0,i=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(i===s-1||1===o);else if(i!==s-1&&2===o){if(n.length<2||2!==a||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",a=0):a=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),i=s,o=0;continue}}else if(2===n.length||1===n.length){n="",a=0,i=s,o=0;continue}t&&(n.length>0?n+="/..":n="..",a=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),a=s-i-1;i=s,o=0}else 46===r&&-1!==o?++o:o=-1}return n}var ur={resolve:function(){for(var e,t="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var a;n>=0?a=arguments[n]:(void 0===e&&(e=y.cwd()),a=e),lr(a),0!==a.length&&(t=a+"/"+t,r=47===a.charCodeAt(0))}return t=_r(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(lr(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=_r(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return lr(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];lr(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":ur.normalize(e)},relative:function(e,t){if(lr(e),lr(t),e===t)return"";if((e=ur.resolve(e))===(t=ur.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var n=e.length,a=n-r,i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length-i,s=a<o?a:o,l=-1,_=0;_<=s;++_){if(_===s){if(o>s){if(47===t.charCodeAt(i+_))return t.slice(i+_+1);if(0===_)return t.slice(i+_)}else a>s&&(47===e.charCodeAt(r+_)?l=_:0===_&&(l=0));break}var u=e.charCodeAt(r+_);if(u!==t.charCodeAt(i+_))break;47===u&&(l=_)}var c="";for(_=r+l+1;_<=n;++_)_!==n&&47!==e.charCodeAt(_)||(0===c.length?c+="..":c+="/..");return c.length>0?c+t.slice(i+l):(i+=l,47===t.charCodeAt(i)&&++i,t.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(lr(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,a=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!a){n=i;break}}else a=!1;return-1===n?r?"/":".":r&&1===n?"//":e.slice(0,n)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');lr(e);var r,n=0,a=-1,i=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,s=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!i){n=r+1;break}}else-1===s&&(i=!1,s=r+1),o>=0&&(l===t.charCodeAt(o)?-1==--o&&(a=r):(o=-1,a=s))}return n===a?a=s:-1===a&&(a=e.length),e.slice(n,a)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!i){n=r+1;break}}else-1===a&&(i=!1,a=r+1);return-1===a?"":e.slice(n,a)},extname:function(e){lr(e);for(var t=-1,r=0,n=-1,a=!0,i=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===n&&(a=!1,n=o+1),46===s?-1===t?t=o:1!==i&&(i=1):-1!==t&&(i=-1);else if(!a){r=o+1;break}}return-1===t||-1===n||0===i||1===i&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+(void 0===e?"undefined":(0,Y.default)(e)));return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){lr(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,n=e.charCodeAt(0),a=47===n;a?(t.root="/",r=1):r=0;for(var i=-1,o=0,s=-1,l=!0,_=e.length-1,u=0;_>=r;--_)if(47!==(n=e.charCodeAt(_)))-1===s&&(l=!1,s=_+1),46===n?-1===i?i=_:1!==u&&(u=1):-1!==i&&(u=-1);else if(!l){o=_+1;break}return-1===i||-1===s||0===u||1===u&&i===s-1&&i===o+1?-1!==s&&(t.base=t.name=0===o&&a?e.slice(1,s):e.slice(o,s)):(0===o&&a?(t.name=e.slice(1,i),t.base=e.slice(1,s)):(t.name=e.slice(o,i),t.base=e.slice(o,s)),t.ext=e.slice(i,s)),o>0?t.dir=e.slice(0,o-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};ur.posix=ur,or=ur;var cr=function(){"use strict";function e(t,r,n){M(this,e),this.object_type=t,this.object_id=r,this.source_path=n}return R(e,[{key:"get_source_directory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t(or).join(e,t(or).dirname(this.source_path))}},{key:"toString",value:function(){return"".concat(this.object_type," ‘").concat(this.object_id,"’ in ‘").concat(this.source_path,"’")}}]),e}(),fr={};e(fr,"LatexWalkerNodesParseError",(function(){return Lr})),e(fr,"LatexWalkerEndOfStream",(function(){return Tr})),e(fr,"ParsingState",(function(){return Ha})),e(fr,"LatexWalkerParsingStateEventHandler",(function(){return yn})),e(fr,"LatexNodesCollector",(function(){return Xa})),e(fr,"ParsingStateDeltaWalkerEvent",(function(){return hn})),e(fr,"ParsedArgumentsInfo",(function(){return ln})),e(fr,"LatexTokenListTokenReader",(function(){return Nn})),e(fr,"logger",(function(){return wr})),e(fr,"LatexContextDbBase",(function(){return _n})),e(fr,"_unicode_from_str",(function(){return br})),e(fr,"LatexWalkerParseErrorFormatter",(function(){return Cr})),e(fr,"to_str",(function(){return xr})),e(fr,"LatexTokenReader",(function(){return Aa})),e(fr,"SingleParsedArgumentInfo",(function(){return sn})),e(fr,"format_pos",(function(){return Nr})),e(fr,"LatexWalkerError",(function(){return Pr})),e(fr,"LatexToken",(function(){return On})),e(fr,"ParsedArguments",(function(){return jr})),e(fr,"ParsingStateDeltaReplaceParsingState",(function(){return dn})),e(fr,"get_updated_parsing_state_from_delta",(function(){return vn})),e(fr,"CallableSpecBase",(function(){return bn})),e(fr,"__all__",(function(){return Or})),e(fr,"LatexTokenReaderBase",(function(){return Cn})),e(fr,"_basestring",(function(){return kr})),e(fr,"LatexWalkerTokenParseError",(function(){return Sr})),e(fr,"LatexWalkerParseError",(function(){return Er})),e(fr,"ParsingStateDeltaLeaveMathMode",(function(){return gn})),e(fr,"LatexWalkerBase",(function(){return kn})),e(fr,"ParsingStateDeltaEnterMathMode",(function(){return pn})),e(fr,"LatexArgumentSpec",(function(){return Dr})),e(fr,"ParsingStateDelta",(function(){return fn}));var dr={};e(dr,"getLogger",(function(){return gr})),e(dr,"basicConfig",(function(){return vr}));j=i("fOdIC");t(m).formatters.r=function(e){return Ge(e)};var hr=function(){"use strict";function e(r){var n=this;M(this,e),this.scope=r,this._debug_fn=t(m)(this.scope),this._debug_fn_star=t(m)(this.scope+"*"),this.error=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var i=r[r.length-1];i&&null===i.__kwargtrans__&&n._process_kwargs(i),n._debug_fn_star.apply(n,["[[logging.ERROR]] !! "+e].concat((0,j.default)(r)))},this.critical=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var i=r[r.length-1];i&&null===i.__kwargtrans__&&n._process_kwargs(i),n._debug_fn_star.apply(n,["[[logging.CRITICAL]] !! "+e].concat((0,j.default)(r)))},this.warning=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var i=r[r.length-1];i&&null===i.__kwargtrans__&&n._process_kwargs(i),n._debug_fn_star.apply(n,["[[logging.WARNING]] !! "+e].concat((0,j.default)(r)))},this.info=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var i=r[r.length-1];i&&null===i.__kwargtrans__&&n._process_kwargs(i),n._debug_fn_star.apply(n,[e].concat((0,j.default)(r)))},this.debug=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var i=r[r.length-1];i&&null===i.__kwargtrans__&&n._process_kwargs(i),n._debug_fn.apply(n,["logging.debug ~~ "+e].concat((0,j.default)(r)))}}return R(e,[{key:"_process_kwargs",value:function(e){e.exc_info&&console.trace()}}]),e}();var pr={};function gr(e){var t=pr[e];return null==t&&(t=new hr(e),pr[e]=t),t}function vr(){}var mr={};fe(mr,"",dr);var yr="pylatexenc.latexnodes._exctypes",wr=me(mr.getLogger,mr,yr),kr=ot,br=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("x"===n)e=r[n]}}return e},xr=ot,Or=["LatexWalkerError","LatexWalkerParseError","LatexWalkerParseErrorFormatter","LatexWalkerNodesParseError","LatexWalkerTokenParseError","LatexWalkerEndOfStream"],Pr=ve("LatexWalkerError",[Vt],{__module__:yr}),Er=ve("LatexWalkerParseError",[Pr],{__module__:yr,get __init__(){return de(this,(function(e,t,r,n,a,i,o){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;var s,l=wt();if(arguments.length){var _=arguments.length-1;if(arguments[_]&&arguments[_].hasOwnProperty("__kwargtrans__")){var u=arguments[_--];for(var c in u)switch(c){case"self":e=u[c];break;case"msg":t=u[c];break;case"s":r=u[c];break;case"pos":n=u[c];break;case"lineno":a=u[c];break;case"colno":i=u[c];break;case"error_type_info":o=u[c];break;default:l[c]=u[c]}delete l.__kwargtrans__}}if(e.input_source=me((s=l).py_pop,s,"input_source",null),e.msg=t,e.s=r,e.pos=n,e.lineno=a,e.colno=i,e.error_type_info=o,e.open_contexts=function(){var e=l;return me(e.py_pop,e,"open_contexts",[])}(),Ae(l)){var f=me(Yt,null,Pt("Unexpected keyword argument(s) to LatexWalkerParseError(): ",me(Ge,null,l)));throw f.__cause__=null,f}me(me(we,null,Er,"__init__"),null,e,function(){var t=me(Cr,null,e);return me(t.to_display_string,t)}())}))},get __str__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return a=me(Cr,null,e),me(a.to_display_string,a);var a}))}}),Cr=ve("LatexWalkerParseErrorFormatter",[ge],{__module__:yr,get __init__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"exc":t=n[a]}}}me(me(we,null,Cr,"__init__"),null,e),e.exc=t}))},get format_open_blocks(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a=e.exc;if(Ae(!Ae(a.open_contexts)))return null;for(var i,o="",s=me(Ze,null,a.open_contexts),l=0;l<Te(s);l++){var _=Ft(s,l),u=_,c=u[0],f=u[1],d=u[2],h=u[3];o=me(Dt,null,o,(i=void 0,me((i="{empty:4}{loc:<18}  {what}\n").format,i,ye({empty:"",loc:me(Nr,null,f,d,h),what:c}))))}return o}))},get format_pos(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(Nr,null,e.exc.pos,e.exc.lineno,e.exc.colno)}))},get format_full_traceback(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=e.exc,o="";if(Ae(i.input_source))o=me(Dt,null,o,me((a="  in {}").format,a,i.input_source));var s;o=me(Dt,null,o,me(" {}".format," {}",me((s=e).format_pos,s)));if(Ae(i.open_contexts))o=me(Dt,null,o,"\nOpen LaTeX blocks:\n"),o=me(Dt,null,o,function(){var t=e;return me(t.format_open_blocks,t)}());return o}))},get to_display_string(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=e.exc,o=me(xr,null,i.msg);return o=me(Dt,null,o,me((a=e).format_full_traceback,a))}))}}),Nr=function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"pos":e=a[i];break;case"lineno":t=a[i];break;case"colno":r=a[i]}}}return Ae(null!==t)?Ae(null!==r)?me((o="@ (line {}, col {})").format,o,t,r):function(){var e="@ line {}";return me(e.format,e,t)}():Ae(null!==e)?function(){var t="@ char pos {}";return me(t.format,t,e)}():"@ <unknown>";var o},Sr=ve("LatexWalkerTokenParseError",[Er],{__module__:yr,get __init__(){return de(this,(function(e,t,r){var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"recovery_token_placeholder":t=i[o];break;case"recovery_token_at_pos":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,Sr,"__init__"),null,e,ye(n)),e.recovery_token_placeholder=t,e.recovery_token_at_pos=r}))}}),Lr=ve("LatexWalkerNodesParseError",[Er],{__module__:yr,get __init__(){return de(this,(function(e,t,r,n,a){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;var i=wt();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"recovery_nodes":t=s[l];break;case"recovery_parsing_state_delta":r=s[l];break;case"recovery_at_token":n=s[l];break;case"recovery_past_token":a=s[l];break;default:i[l]=s[l]}delete i.__kwargtrans__}}me(me(we,null,Lr,"__init__"),null,e,ye(i)),e.recovery_nodes=t,e.recovery_parsing_state_delta=r,e.recovery_at_token=n,e.recovery_past_token=a}))}}),Tr=ve("LatexWalkerEndOfStream",[Pr],{__module__:yr,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="";if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"final_space":t=n[a]}}}me(me(we,null,Tr,"__init__"),null,e),e.final_space=t}))}}),Ar={};function Mr(e,t){for(var r in t){(i=t[r]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r,i)}if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),a=0;a<n.length;a++){var i,o=n[a];(i=t[o]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o,i)}return e}function Ir(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e(Ar,"_unicode_from_str",(function(){return Fr})),e(Ar,"LatexNode",(function(){return Gr})),e(Ar,"LatexCharsNode",(function(){return Ur})),e(Ar,"LatexGroupNode",(function(){return qr})),e(Ar,"LatexCommentNode",(function(){return Hr})),e(Ar,"LatexMacroNode",(function(){return Vr})),e(Ar,"LatexEnvironmentNode",(function(){return Br})),e(Ar,"LatexSpecialsNode",(function(){return Yr})),e(Ar,"LatexMathNode",(function(){return Xr})),e(Ar,"LatexNodeList",(function(){return Qr})),e(Ar,"_update_posposend_from_nodelist",(function(){return Kr})),e(Ar,"_get_content_as_chars",(function(){return Zr})),e(Ar,"LatexNodesVisitor",(function(){return Jr})),e(Ar,"latex_node_types",(function(){return en})),e(Ar,"__all__",(function(){return tn})),e(Ar,"LatexWalkerParseError",(function(){return Er})),e(Ar,"ParsedArguments",(function(){return jr}));var Rr="pylatexenc.latexnodes._parsedargs",Dr=ve("LatexArgumentSpec",[ge],{__module__:Rr,get __init__(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"parser":t=i[o];break;case"argname":r=i[o];break;case"parsing_state_delta":n=i[o]}}}e.parser=t,e.argname=r,e.parsing_state_delta=n}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="{cls}(argname={argname!r}, parser={parser!r}, parsing_state_delta={parsing_state_delta!r})").format,a,ye({cls:e.__class__.__name__,argname:e.argname,parser:e.parser,parsing_state_delta:e.parsing_state_delta}));var a}))},get to_json_object(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a=me(wt,null,ye({parser:e.parser,argname:e.argname,parsing_state_delta:e.parsing_state_delta}));return a}))},get __eq__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}return Ae(St(e.parser,t.parser))&&Ae(St(e.argname,t.argname))&&St(e.parsing_state_delta,t.parsing_state_delta)}))}}),jr=ve("ParsedArguments",[ge],{__module__:Rr,get __init__(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"argnlist":t=i[o];break;case"arguments_spec_list":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}var s,l=me((s=n).py_pop,s,"argspec",null);if(me(me(we,null,jr,"__init__"),null,e,ye(n)),Ae(Ae(null===r)&&null!==l))r=l;e.argnlist=Ae(t)?t:[],e.arguments_spec_list=Ae(r)?r:[]}))},_fields:at(["arguments_spec_list","argnlist"]),get accept_node_visitor(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"visitor":t=n[a]}}}if(Ae(null!==e.argnlist))for(var i=e.argnlist,o=0;o<Te(i);o++){var s=Ft(i,o);Ae(null!==s)&&(l=void 0,me((l=s).accept_node_visitor,l,t))}var l;!function(){var r=t;me(r.visit_parsed_arguments,r,e)}()}))},get __eq__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}return Ae(St(e.arguments_spec_list,t.arguments_spec_list))&&St(e.argnlist,t.argnlist)}))},get to_json_object(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(wt,null,ye({arguments_spec_list:e.arguments_spec_list,argnlist:e.argnlist}))}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="{}(arguments_spec_list={!r}, argnlist={!r})").format,a,e.__class__.__name__,e.arguments_spec_list,e.argnlist);var a}))}}),zr="pylatexenc.latexnodes.nodes",Fr=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("x"===n)e=r[n]}}return e},Gr=ve("LatexNode",[ge],{__module__:zr,get __init__(){return de(this,(function(e,t,r,n,a,i,o){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;var s=wt();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var _=arguments[l--];for(var u in _)switch(u){case"self":e=_[u];break;case"_fields":t=_[u];break;case"_redundant_fields":r=_[u];break;case"parsing_state":n=_[u];break;case"pos":a=_[u];break;case"pos_end":i=_[u];break;case"latex_walker":o=_[u];break;default:s[u]=_[u]}delete s.__kwargtrans__}}var c,f=me((c=s).py_pop,c,"len",null);me(me(we,null,Gr,"__init__"),null,e,ye(s)),e.parsing_state=n,e.latex_walker=o,e.pos=a,e.pos_end=i,Ae(Ae(null===i)&&null!==f)&&(e.pos_end=Pt(e.pos,f)),e._fields=me(at,null,Pt(["pos","pos_end","parsing_state","latex_walker"],me(nt,null,t))),Ae(null!==r)?e._redundant_fields=me(at,null,Pt(Pt(me(nt,null,e._fields),["len"]),me(nt,null,r))):e._redundant_fields=me(at,null,Pt(me(nt,null,e._fields),["len"]))}))},get nodeType(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Gr}))},get isNodeType(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"t":t=n[a]}}}return me(ze,null,e,t)}))},get _get_len(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(Ae(null===e.pos)||null===e.pos_end)?null:Et(e.pos_end,e.pos)}))},get latex_verbatim(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}if(Ae(null===e.latex_walker)){var a=me(Jt,null,"Can't use latex_verbatim() on node because we don't have any latex_walker set");throw a.__cause__=null,a}return Ut(e.latex_walker.s,e.pos,e.pos_end,1)}))},get __eq__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}return Ae(null!==t)&&Ae(me((i=e).nodeType,i)===function(){var e=t;return me(e.nodeType,e)}())&&Ae(t.parsing_state===e.parsing_state)&&Ae(t.latex_walker===e.latex_walker)&&Ae(Ae(Ae(null===t.pos)&&null===e.pos)||St(t.pos,e.pos))&&Ae(Ae(Ae(null===t.pos_end)&&null===e.pos_end)||St(t.pos_end,e.pos_end))&&me(et,null,function(){for(var r=[],n=e._fields,a=0;a<Te(n);a++){var i=Ft(n,a);me(r.append,r,Ae(Ae(null===me(Ce,null,e,i))&&null===me(Ce,null,t,i))||St(me(Ce,null,e,i),me(Ce,null,t,i)))}return Ye(r)}());var i}))},get __ne__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}return NotImplemented}))},__hash__:null,get __unicode__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(Fr,null,me((a=e).__str__,a));var a}))},get __str__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a=e).__repr__,a);var a}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Pt(Pt(Pt((a=e,me(a.nodeType,a)).__name__,"("),me(", ".join,", ",function(){for(var t,r=[],n=e._fields,a=0;a<Te(n);a++){var i=Ft(n,a);t=void 0,me(r.append,r,me((t="{}={!r}").format,t,i,me(Ce,null,e,i)))}return r}())),")");var a}))},get accept_node_visitor(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"visitor":t=n[a]}}}var i;me((i=t).visit_unknown_node,i,e)}))},get to_json_object_with_latexwalker(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"latexwalker":t=n[a]}}}for(var i,o,s=wt({nodetype:e.__class__.__name__}),l=e._fields,_=0;_<Te(l);_++){var u=Ft(l,_);Ae(St(u,"spec"))?Gt(s,u,me(Ge,null,e.spec)):Ae(St(u,"latex_walker"))||Gt(s,u,me(Ce,null,e,u))}return me((o=s).py_update,o,me((i=t).pos_to_lineno_colno,i,e.pos,ye({as_dict:!0}))),s}))},get format_pos(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(null!==e.latex_walker)?me((a=e.latex_walker).format_pos,a,e.pos):function(){var t="[@ pos {}]";return me(t.format,t,me(Ge,null,e.pos))}();var a}))}});Object.defineProperty(Gr,"len",ke.call(Gr,Gr._get_len));var Ur=ve("LatexCharsNode",[Gr],{__module__:zr,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"chars":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}me(me(we,null,Ur,"__init__"),null,e,ye(Oe({_fields:at(["chars"])},r))),e.chars=t}))},get nodeType(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ur}))},get accept_node_visitor(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"visitor":t=n[a]}}}var i;me((i=t).visit_chars_node,i,e)}))}}),qr=ve("LatexGroupNode",[Gr],{__module__:zr,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}var o,s=me((o=r).py_pop,o,"delimiters",at(["{","}"]));me(me(we,null,qr,"__init__"),null,e,ye(Oe({_fields:at(["nodelist","delimiters"])},r))),e.nodelist=t,e.delimiters=s}))},get nodeType(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return qr}))},get accept_node_visitor(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"visitor":t=n[a]}}}if(Ae(null!==e.nodelist))for(var i=e.nodelist,o=0;o<Te(i);o++){var s=Ft(i,o);Ae(null!==s)&&(l=void 0,me((l=s).accept_node_visitor,l,t))}var l;!function(){var r=t;me(r.visit_group_node,r,e)}()}))}}),Hr=ve("LatexCommentNode",[Gr],{__module__:zr,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"comment":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}var o,s=me((o=r).py_pop,o,"comment_post_space","");me(me(we,null,Hr,"__init__"),null,e,ye(Oe({_fields:at(["comment","comment_post_space"])},r))),e.comment=t,e.comment_post_space=s}))},get nodeType(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Hr}))},get accept_node_visitor(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"visitor":t=n[a]}}}var i;me((i=t).visit_comment_node,i,e)}))}}),Vr=ve("LatexMacroNode",[Gr],{__module__:zr,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"macroname":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}var o,s=me((o=r).py_pop,o,"nodeargd",me(jr,null)),l=function(){var e=r;return me(e.py_pop,e,"macro_post_space","")}(),_=function(){var e=r;return me(e.py_pop,e,"spec",null)}();me(me(we,null,Vr,"__init__"),null,e,ye(Oe({_fields:at(["macroname","spec","nodeargd","macro_post_space"]),_redundant_fields:at(["nodeoptarg","nodeargs"])},r))),e.macroname=t,e.spec=_,e.nodeargd=s,e.macro_post_space=l}))},get nodeType(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Vr}))},get accept_node_visitor(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"visitor":t=n[a]}}}var i;Ae(null!==e.nodeargd)&&me((i=e.nodeargd).accept_node_visitor,i,t),function(){var r=t;me(r.visit_macro_node,r,e)}()}))}}),Br=ve("LatexEnvironmentNode",[Gr],{__module__:zr,get __init__(){return de(this,(function(e,t,r){var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"environmentname":t=i[o];break;case"nodelist":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}var s,l=me((s=n).py_pop,s,"nodeargd",me(jr,null)),_=function(){var e=n;return me(e.py_pop,e,"spec",null)}();me(me(we,null,Br,"__init__"),null,e,ye(Oe({_fields:at(["environmentname","spec","nodelist","nodeargd"]),_redundant_fields:at(["envname","optargs","args"])},n))),e.environmentname=t,e.spec=_,e.nodelist=r,e.nodeargd=l}))},get _get_envname(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e.environmentname}))},get nodeType(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Br}))},get accept_node_visitor(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"visitor":t=n[a]}}}var i;if(Ae(null!==e.nodeargd)&&me((i=e.nodeargd).accept_node_visitor,i,t),Ae(null!==e.nodelist))for(var o=e.nodelist,s=0;s<Te(o);s++){var l=Ft(o,s);Ae(null!==l)&&function(){var e=l;me(e.accept_node_visitor,e,t)}()}!function(){var r=t;me(r.visit_environment_node,r,e)}()}))}});Object.defineProperty(Br,"envname",ke.call(Br,Br._get_envname));var Wr,Yr=ve("LatexSpecialsNode",[Gr],{__module__:zr,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"specials_chars":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}var o,s=me((o=r).py_pop,o,"spec",null),l=function(){var e=r;return me(e.py_pop,e,"nodeargd",null)}();me(me(we,null,Yr,"__init__"),null,e,ye(Oe({_fields:at(["specials_chars","spec","nodeargd"])},r))),e.specials_chars=t,e.spec=s,e.nodeargd=l}))},get nodeType(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Yr}))},get accept_node_visitor(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"visitor":t=n[a]}}}var i;Ae(null!==e.nodeargd)&&me((i=e.nodeargd).accept_node_visitor,i,t),function(){var r=t;me(r.visit_specials_node,r,e)}()}))}}),Xr=ve("LatexMathNode",[Gr],{__module__:zr,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=[];var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"displaytype":t=i[o];break;case"nodelist":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}var s,l=me((s=n).py_pop,s,"delimiters",at([null,null]));me(me(we,null,Xr,"__init__"),null,e,ye(Oe({_fields:at(["displaytype","nodelist","delimiters"])},n))),e.displaytype=t,e.nodelist=r,e.delimiters=l}))},get nodeType(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Xr}))},get accept_node_visitor(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"visitor":t=n[a]}}}if(Ae(null!==e.nodelist))for(var i=e.nodelist,o=0;o<Te(i);o++){var s=Ft(i,o);Ae(null!==s)&&(l=void 0,me((l=s).accept_node_visitor,l,t))}var l;!function(){var r=t;me(r.visit_math_node,r,e)}()}))}}),$r={},Qr=ve("LatexNodeList",[ge],(Wr={__module__:zr,get __init__(){return de(this,(function(e,t){var r,n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"nodelist":t=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}if(Ae(me(ze,null,t,Qr))){var s=t;return e.nodelist=s.nodelist,e.parsing_state=s.parsing_state,e.latex_walker=s.latex_walker,e.pos=s.pos,void(e.pos_end=s.pos_end)}if(e.nodelist=t,Ae(null===e.nodelist)&&me((r=logger).warning,r,"You're creating a LatexNodeList with nodelist=None. That's likely to cause crashes!"),e.parsing_state=function(){var e=n;return me(e.py_pop,e,"parsing_state",null)}(),e.latex_walker=function(){var e=n;return me(e.py_pop,e,"latex_walker",null)}(),e.pos=function(){var e=n;return me(e.py_pop,e,"pos",null)}(),e.pos_end=function(){var e=n;return me(e.py_pop,e,"pos_end",null)}(),Ae(me(Te,null,n))){var l=me(Yt,null,Pt("Unexpected keyword arguments to LatexNodeList: ",me(Ge,null,n)));throw l.__cause__=null,l}var _=me(Kr,null,e.pos,e.pos_end,e.nodelist);e.pos=_[0],e.pos_end=_[1]}))},_fields:at(["nodelist","parsing_state","latex_walker","pos","pos_end"]),get _get_len(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(Ae(null===e.pos)||null===e.pos_end)?null:Et(e.pos_end,e.pos)}))},get __iter__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(null===e.nodelist)?me(Ye,null,[]):me(Ye,null,e.nodelist)}))}},Ir(Wr,Symbol.iterator,(function(){return this.__iter__()})),$r.__getitem__=$r.__getitem__||{},$r.__getitem__.get=function(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"index":t=n[a]}}}try{if(Ae(St(me(Te,null,t),3))){var i=t,o=i[0],s=i[1],l=i[2];return Ut(e.nodelist,o,s,l)}}catch(e){}if(Ae(Ae(me(ze,null,t,Ie))&&Tt(t,0)))t=Pt(me(Te,null,e.nodelist),t);return Ft(e.nodelist,t)}))},$r.__len__=$r.__len__||{},$r.__len__.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(Te,null,e.nodelist)}))},$r.latex_verbatim=$r.latex_verbatim||{},$r.latex_verbatim.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me("".join,"",function(){for(var t,r=[],n=e.nodelist,a=0;a<Te(n);a++){var i=Ft(n,a);Ae(null!==i)&&(t=void 0,me(r.append,r,me((t=i).latex_verbatim,t)))}return r}())}))},$r.accept_node_visitor=$r.accept_node_visitor||{},$r.accept_node_visitor.get=function(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"visitor":t=n[a]}}}if(Ae(null!==e.nodelist))for(var i=e.nodelist,o=0;o<Te(i);o++){var s=Ft(i,o);Ae(null!==s)&&(l=void 0,me((l=s).accept_node_visitor,l,t))}var l;!function(){var r=t;me(r.visit_node_list,r,e)}()}))},$r.filter=$r.filter||{},$r.filter.get=function(){return de(this,(function(e,t,r,n,a){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!1;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"node_predicate_fn":t=o[s];break;case"skip_none":r=o[s];break;case"skip_comments":n=o[s];break;case"skip_whitespace_char_nodes":a=o[s]}}}if(Ae(null!==e.latex_walker))var l=e.latex_walker.make_nodelist;else l=function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("nl"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}return me(Qr,null,e,ye(t))};var _=function(e){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)if("n"===s)e=o[s]}}return!Ae(Ae(r)&&null===e)&&(!Ae(Ae(n)&&(l=e,me(l.isNodeType,l,Hr)))&&(!Ae(Ae(a)&&Ae(function(){var t=e;return me(t.isNodeType,t,Ur)}())&&St(me(Te,null,function(){var t=e.chars;return me(t.strip,t)}()),0))&&(!Ae(null!==t)||me(t,null,e))));var l},u=function(){for(var t=[],r=e.nodelist,n=0;n<Te(r);n++){var a=Ft(r,n);Ae(me(_,null,a))&&me(t.append,t,a)}return t}();return me(l,null,u,ye({parsing_state:e.parsing_state,pos:Ae(me(Te,null,u))?null:e.pos_end,pos_end:Ae(me(Te,null,u))?null:e.pos_end}))}))},$r.split_at_node=$r.split_at_node||{},$r.split_at_node.get=function(){return de(this,(function(e,t,r,n,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"node_predicate_fn":t=o[s];break;case"skip_none":r=o[s];break;case"keep_separators":n=o[s];break;case"max_split":a=o[s]}}}var l=[[]];if(Ae(Ae(null!==a)&&St(a,0)))var _=!0;else _=!1;for(var u,c=e.nodelist,f=0;f<Te(c);f++){var d=Ft(c,f);if(!Ae(Ae(r)&&null===d))if(Ae(Ae(!Ae(_))&&me(t,null,d))){if(Ae(n)?(u=void 0,me((u=l).append,u,[d])):function(){var e=l;me(e.append,e,[])}(),Ae(Ae(null!==a)&&It(me(Te,null,l),a)))_=!0}else!function(){var e=Ft(l,Et(me(Te,null,l),1));me(e.append,e,d)}()}if(Ae(null!==e.latex_walker))var h=e.latex_walker.make_nodelist;else h=function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("nl"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}return me(Qr,null,e,ye(t))};return function(){for(var t=[],r=l,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,me(h,null,a,ye({parsing_state:e.parsing_state})))}return t}()}))},$r.split_at_chars=$r.split_at_chars||{},$r.split_at_chars.get=function(){return de(this,(function(e,t,r,n,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"sep_chars":t=o[s];break;case"max_split":r=o[s];break;case"keep_empty":n=o[s];break;case"skip_none":a=o[s]}}}var l=[],_=function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"m":e=n[a];break;case"offset":t=n[a]}}}if(Ae(null===e))return at([bt(1),null]);if(Ae(Ae(me(Ne,null,e,"start"))&&me(Ne,null,e,"end")))return at([Pt(t,(i=e,me(i.start,i))),Pt(t,function(){var t=e;return me(t.end,t)}())]);var i;if(Ae(Ae(!Ae(e))||!Ae(me(Te,null,e))))return at([bt(1),null]);var o=e,s=o[0],l=o[1];if(Ae(null===s))s=bt(1);else s=Pt(t,s);return at([s,l=Pt(t,l)])},u=function(e,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"chars":e=i[o];break;case"pos":n=i[o]}}}if(Ae(Ae(null!==r)&&It(me(Te,null,l),r)))return at([bt(1),me(Te,null,e)]);if(Ae(me(Ne,null,t,"search"))){var s=me((u=t).search,u,Ut(e,n,null,1));return me(_,null,s,n)}var u;if(Ae(me(Fe,null,t))){s=me(t,null,e,n);return me(_,null,s)}var c=function(){var r=e;return me(r.find,r,t,n)}();return Ae(Ae(null===c)||St(c,bt(1)))?at([bt(1),null]):at([c,Pt(c,me(Te,null,t))])},c=e.latex_walker;if(Ae(null!==c))var f=c.make_node,d=c.make_nodelist;else f=function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("cls"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}return me(e,null,ye(t))},d=function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("nl"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}return me(Qr,null,e,ye(t))};for(var h,p=function(t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"chars":t=o[s];break;case"n":r=o[s];break;case"rel_pos":n=o[s];break;case"rel_pos_end":a=o[s]}}}return me(f,null,Ur,ye({parsing_state:e.parsing_state,pos:Pt(r.pos,n),pos_end:Pt(r.pos,a),chars:t}))},g=function(t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"nodes":t=a[i];break;case"pos_end":r=a[i]}}}var o,s=me(d,null,t,ye({parsing_state:e.parsing_state,pos:Ae(me(Te,null,t))?null:r,pos_end:r}));me((o=l).append,o,s)},v=[],m=e.nodelist,y=0;y<Te(m);y++){var w=Ft(m,y);if(Ae(null===w))Ae(!Ae(a))&&(h=void 0,me((h=v).append,h,w));else if(Ae(function(){var e=w;return me(e.isNodeType,e,Ur)}()))for(var k=0;Ae(!0);){var b=k,x=me(u,null,w.chars,b),O=x[0];k=x[1];if(!Ae(Lt(O,bt(1)))){if(Ae(St(b,0))){!function(){var e=v;me(e.append,e,w)}();break}Ae(me(Te,null,P=Ut(w.chars,b,null,1)))&&function(){var e=v;me(e.append,e,me(p,null,P,w,b,me(Te,null,w.chars)))}();break}var P=Ut(w.chars,b,O,1);if(Ae(St(b,0))){Ae(me(Te,null,P))&&function(){var e=v;me(e.append,e,me(p,null,P,w,b,O))}(),Ae(Ae(me(Te,null,v))||n)&&me(g,null,v,ye({pos_end:Pt(w.pos,O)}));v=[]}else{var E=[];if(Ae(me(Te,null,P)))E=[me(p,null,P,w,b,O)];Ae(Ae(me(Te,null,E))||n)&&me(g,null,E,ye({pos_end:Pt(w.pos,O)}))}}else!function(){var e=v;me(e.append,e,w)}()}return Ae(Ae(v)||n)&&me(g,null,v,ye({pos_end:e.pos_end})),l}))},$r.get_content_as_chars=$r.get_content_as_chars||{},$r.get_content_as_chars.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(Zr,null,e.nodelist)}))},$r.__eq__=$r.__eq__||{},$r.__eq__.get=function(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}return Ae(me(ze,null,t,nt))?St(e.nodelist,t):Ae(St(e.nodelist,t.nodelist))&&Ae(Ae(Ae(null===e.pos)&&null===t.pos)||St(e.pos,t.pos))&&(Ae(Ae(null===e.pos_end)&&null===t.pos_end)||St(e.pos_end,t.pos_end))}))},$r.to_json_object=$r.to_json_object||{},$r.to_json_object.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e.nodelist}))},$r.__repr__=$r.__repr__||{},$r.__repr__.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="LatexNodeList({nodelist!r}, pos={pos!r}, pos_end={pos_end!r})").format,a,ye({nodelist:e.nodelist,pos:e.pos,pos_end:e.pos_end}));var a}))},Mr(Wr,$r),Wr));Object.defineProperty(Qr,"len",ke.call(Qr,Qr._get_len));var Zr=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("nodelist"===n)e=r[n]}}if(Ae(null===e))return"";for(var a,i=[],o=e,s=0;s<Te(o);s++){var l=Ft(o,s);if(!Ae(null===l)&&!Ae((a=void 0,a=l,me(a.isNodeType,a,Hr))))if(Ae(function(){var e=l;return me(e.isNodeType,e,qr)}()))!function(){var e=i;me(e.append,e,me(Zr,null,l.nodelist))}();else{if(!Ae(function(){var e=l;return me(e.isNodeType,e,Ur)}())){var _=me(Er,null,function(){var e="Expected simple characters only, got ‘{}’";return me(e.format,e,l.__class__.__name__)}(),ye({pos:l.pos}));throw _.__cause__=null,_}!function(){var e=i;me(e.append,e,l.chars)}()}}return me("".join,"",i)},Kr=function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"pos":e=a[i];break;case"pos_end":t=a[i];break;case"nodelist":r=a[i]}}}if(Ae(null===e)){for(var o=!1,s=r,l=0;l<Te(s);l++){if(Ae(null!==(_=Ft(s,l)))){e=_.pos;o=!0;break}}if(!o)e=null}if(Ae(null===t)){for(o=!1,s=me(Ze,null,r),l=0;l<Te(s);l++){var _;if(Ae(null!==(_=Ft(s,l)))){t=_.pos_end;o=!0;break}}if(!o)t=null}return at([e,t])},Jr=ve("LatexNodesVisitor",[ge],{__module__:zr,get visit(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}}))},get visit_chars_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i;me((i=e).visit,i,t)}))},get visit_group_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i;me((i=e).visit,i,t)}))},get visit_comment_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i;me((i=e).visit,i,t)}))},get visit_macro_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i;me((i=e).visit,i,t)}))},get visit_environment_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i;me((i=e).visit,i,t)}))},get visit_specials_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i;me((i=e).visit,i,t)}))},get visit_math_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i;me((i=e).visit,i,t)}))},get visit_node_list(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"nodes":t=n[a]}}}var i;me((i=e).visit,i,t)}))},get visit_parsed_arguments(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsed_args":t=n[a]}}}var i;me((i=e).visit,i,t)}))},get visit_unknown_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i;me((i=e).visit,i,t)}))},get start(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i;me((i=t).accept_node_visitor,i,e)}))}}),en=[Gr,Ur,qr,Hr,Vr,Br,Yr,Xr],tn=Pt(function(){for(var e=[],t=en,r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,n.__name__)}return e}(),["LatexNodeList","LatexNodesVisitor"]),rn={};fe(rn,"",dr);var nn="pylatexenc.latexnodes._parsedargsinfo",an=ot,on=me(rn.getLogger,rn,nn),sn=ve("SingleParsedArgumentInfo",[ge],{__module__:nn,get __init__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"argument_node_object":t=n[a]}}}me(me(we,null,sn,"__init__"),null,e),e.argument_node_object=t}))},get was_provided(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return null!==e.argument_node_object}))},get get_content_nodelist(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=e.argument_node_object;if(Ae(null===i))e.nodelist=me(Qr,null,[null]);else{if(Ae(me(ze,null,i,Qr)))return i;if(Ae(me((a=i).isNodeType,a,qr)))return i.nodelist}return me(Qr,null,[i])}))},get get_content_as_chars(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=me((a=e).get_content_nodelist,a);return function(){var e=i;return me(e.get_content_as_chars,e)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="{}(argument_node_object={!r})").format,a,e.__class__.__name__,e.argument_node_object);var a}))},get __eq__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}return Ae(Ae(null===e.argument_node_object)&&null===t.argument_node_object)||St(e.argument_node_object,t.argument_node_object)}))}}),ln=ve("ParsedArgumentsInfo",[ge],{__module__:nn,get __init__(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsed_arguments":t=a[i];break;case"node":r=a[i]}}}var o;me(me(we,null,ln,"__init__"),null,e),e.parsed_arguments=t,e.node=r,Ae(null!==e.node)?(e.node_pos=e.node.pos,Ae(Ae(null===e.parsed_arguments)&&me(Ne,null,e.node,"nodeargd"))?e.parsed_arguments=e.node.nodeargd:e.parsed_arguments=null):e.node_pos=null,Ae(Ae(null===e.parsed_arguments)&&null===e.node)&&me((o=on).warning,o,"You created ParsedArgumentsInfo with both node=None and parsed_arguments=None, might be a bug in your code?")}))},get get_argument_info(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"arg":t=n[a]}}}var i;if(Ae(null===e.parsed_arguments))throw(o=me(Er,null,"Cannot get argument information, there were no arguments specified",ye({pos:e.node_pos}))).__cause__=null,o;if(Ae(me(ze,null,h=t,an))){for(var o,s=h,l=!1,_=me(tt,null,e.parsed_arguments.arguments_spec_list),u=0;u<Te(_);u++){var c=Ft(_,u),f=c[0],d=c[1];if(Ae(St(d.argname,s))){var h=f;l=!0;break}}if(!l)throw(o=me(Er,null,me((i="Cannot find argument named ‘{}’").format,i,s),ye({pos:e.node_pos}))).__cause__=null,o}return me(sn,null,Ft(e.parsed_arguments.argnlist,h))}))},get get_all_arguments_info(){return de(this,(function(e,t,r,n,a){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"args":t=o[s];break;case"allow_additional_arguments":r=o[s];break;case"skip_nonexistent_arguments":n=o[s];break;case"return_argnames_only":a=o[s]}}}if(Ae(null===e.parsed_arguments)){if(Ae(n))return wt({});var l="Missing arguments";if(Ae(null!==e.node))l=me((_="Missing arguments to {!r}").format,_,e.node);throw(k=me(Er,null,l,e.node_pos)).__cause__=null,k}for(var _,u=wt({}),c=me(it,null),f=me(it,null),d=me(tt,null,e.parsed_arguments.arguments_spec_list),h=0;h<Te(d);h++){var p=Ft(d,h),g=p[0],v=p[1],m=Ft(e.parsed_arguments.argnlist,g),y=!1,w=null;if(Ae(null!==t)){if(Ae(Se(v.argname,t))){y=!0,w=v.argname;!function(){var e=c;me(e.add,e,v.argname)}()}else if(Ae(Se(g,t))){y=!0,w=g;!function(){var e=f;me(e.add,e,g)}()}}else y=!0;if(Ae(!Ae(y))){if(Ae(!Ae(r))){var k=me(Er,null,function(){var e="Got unexpected argument ‘{}’";return me(e.format,e,v.argname)}(),ye({pos:Ae(null!==m)?m.pos:null}));throw k.__cause__=null,k}}else{var b=me(sn,null,m);Ae(Ae(!Ae(a))&&null!==w)?Gt(u,w,b):Ae(v.argname)?Gt(u,v.argname,b):Gt(u,g,b)}}if(Ae(Ae(!Ae(n))&&null!==t))for(d=t,h=0;h<Te(d);h++){var x=Ft(d,h);if(Ae(Ae(!Se(x,c))&&!Se(x,f))){k=me(Yt,null,function(){var e="Missing argument {}";return me(e.format,e,Ae(me(ze,null,x,an))?Pt(Pt("‘",x),"’"):me(ot,null,x))}());throw k.__cause__=null,k}}return u}))}}),_n=ve("LatexContextDbBase",[ge],{__module__:"pylatexenc.latexnodes._latexcontextdbbase",get get_macro_spec(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"macroname":t=n[a]}}}return null}))},get get_environment_spec(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"environmentname":t=n[a]}}}return null}))},get get_specials_spec(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"specials_chars":t=n[a]}}}return null}))},get test_for_specials(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"s":t=i[o];break;case"pos":r=i[o];break;case"parsing_state":n=i[o]}}}return null}))}}),un={};fe(un,"",dr);var cn="pylatexenc.latexnodes._parsingstatedelta",fn=(me(un.getLogger,un,cn),ve("ParsingStateDelta",[ge],{__module__:cn,get __init__(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"set_attributes":t=i[o];break;case"_fields":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,fn,"__init__"),null,e,ye(n)),e.set_attributes=Ae(t)?me(wt,null,t):null,e._fields=Ae(null!==r)?r:at(["set_attributes"])}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Pt(Pt(Pt(e.__class__.__name__,"("),me(", ".join,", ",function(){for(var t,r=[],n=e._fields,a=0;a<Te(n);a++){var i=Ft(n,a);t=void 0,me(r.append,r,me((t="{}={!r}").format,t,i,me(Ce,null,e,i,"<??>")))}return r}())),")")}))},get get_updated_parsing_state(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":t=a[i];break;case"latex_walker":r=a[i]}}}return Ae(e.set_attributes)?me((o=t).sub_context,o,ye(e.set_attributes)):t;var o}))}})),dn=ve("ParsingStateDeltaReplaceParsingState",[fn],{__module__:cn,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"set_parsing_state":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}me(me(we,null,dn,"__init__"),null,e,ye(Oe({_fields:at(["set_parsing_state"])},r))),e.set_parsing_state=t}))},get get_updated_parsing_state(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":t=a[i];break;case"latex_walker":r=a[i]}}}return Ae(null!==e.set_parsing_state)?e.set_parsing_state:t}))}}),hn=ve("ParsingStateDeltaWalkerEvent",[fn],{__module__:cn,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"walker_event_name":t=a[i];break;case"walker_event_kwargs":r=a[i]}}}me(me(we,null,hn,"__init__"),null,e,ye({_fields:at(["walker_event_name","walker_event_kwargs"])})),e.walker_event_name=t,e.walker_event_kwargs=r}))},get get_updated_parsing_state(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":t=a[i];break;case"latex_walker":r=a[i]}}}var o,s=me((o=r).parsing_state_event_handler,o),l=me(Ce,null,s,e.walker_event_name),_=me(l,null,ye(e.walker_event_kwargs));return me(vn,null,t,_,r)}))}}),pn=ve("ParsingStateDeltaEnterMathMode",[hn],{__module__:cn,get __init__(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"math_mode_delimiter":t=a[i];break;case"trigger_token":r=a[i]}}}me(me(we,null,pn,"__init__"),null,e,ye({walker_event_name:"enter_math_mode",walker_event_kwargs:me(wt,null,ye({math_mode_delimiter:t,trigger_token:r}))}))}))}}),gn=ve("ParsingStateDeltaLeaveMathMode",[hn],{__module__:cn,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"trigger_token":t=n[a]}}}me(me(we,null,gn,"__init__"),null,e,ye({walker_event_name:"leave_math_mode",walker_event_kwargs:me(wt,null,ye({trigger_token:t}))}))}))}}),vn=function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"parsing_state":e=a[i];break;case"parsing_state_delta":t=a[i];break;case"latex_walker":r=a[i]}}}return Ae(null===t)?e:me((o=t).get_updated_parsing_state,o,e,r);var o},mn="pylatexenc.latexnodes._walkerbase",yn=ve("LatexWalkerParsingStateEventHandler",[ge],{__module__:mn,get enter_math_mode(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"math_mode_delimiter":t=a[i];break;case"trigger_token":r=a[i]}}}return me(fn,null,ye({set_attributes:me(wt,null,ye({in_math_mode:!0,math_mode_delimiter:t}))}))}))},get leave_math_mode(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"trigger_token":t=n[a]}}}return me(fn,null,ye({set_attributes:me(wt,null,ye({in_math_mode:!1,math_mode_delimiter:null}))}))}))}}),wn=me(yn,null),kn=ve("LatexWalkerBase",[ge],{__module__:mn,get parsing_state_event_handler(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return wn}))},get parse_content(){return de(this,(function(e,t,r,n,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;var i=wt();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"parser":t=s[l];break;case"token_reader":r=s[l];break;case"parsing_state":n=s[l];break;case"open_context":a=s[l];break;default:i[l]=s[l]}delete i.__kwargtrans__}}var _=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement parse_content()");throw _.__cause__=null,_}))},get make_node(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node_class":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}var o=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement make_node()");throw o.__cause__=null,o}))},get make_nodelist(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}var o=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement make_nodelist()");throw o.__cause__=null,o}))},get make_nodes_collector(){return de(this,(function(e,t,r){var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token_reader":t=i[o];break;case"parsing_state":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}var s=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement make_nodes_collector()");throw s.__cause__=null,s}))},get make_latex_group_parser(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"delimiters":t=n[a]}}}var i=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement make_latex_group_parser()");throw i.__cause__=null,i}))},get make_latex_math_parser(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"math_mode_delimiters":t=n[a]}}}var i=me(RuntimeError,null,"LatexWalkerBase subclasses must reimplement make_latex_math_parser()");throw i.__cause__=null,i}))},get check_tolerant_parsing_ignore_error(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"exc":t=n[a]}}}return t}))},get format_node_pos(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}return Pt("character position ",me(Ge,null,t.pos))}))}}),bn=ve("CallableSpecBase",[ge],{__module__:"pylatexenc.latexnodes._callablespecbase",get get_node_parser(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token":t=n[a]}}}var i=me(RuntimeError,null,"Subclasses must reimplement get_node_parser()");throw i.__cause__=null,i}))}}),xn=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("x"===n)e=r[n]}}return e},On=ve("LatexToken",[ge],{__module__:"pylatexenc.latexnodes._token",get __init__(){return de(this,(function(e,t,r,n,a,i,o){if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i="";if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o="";var s=wt();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var _=arguments[l--];for(var u in _)switch(u){case"self":e=_[u];break;case"tok":t=_[u];break;case"arg":r=_[u];break;case"pos":n=_[u];break;case"pos_end":a=_[u];break;case"pre_space":i=_[u];break;case"post_space":o=_[u];break;default:s[u]=_[u]}delete s.__kwargtrans__}}var c,f=me((c=s).py_pop,c,"len",null);if(e.tok=t,e.arg=r,e.pos=n,e.pos_end=a,e.pre_space=i,e.post_space=o,Ae(Ae(null===a)&&Ae(null!==f)&&null!==n)&&(e.pos_end=Pt(n,f)),Ae(s)){var d=me(Yt,null,Pt("Unexpected arguments to LatexToken(): ",me(Ge,null,s)));throw d.__cause__=null,d}e._fields=["tok","arg","pos","pos_end","pre_space"],Ae(Se(e.tok,at(["macro","comment"])))&&function(){var t=e._fields;me(t.append,t,"post_space")}(),me(me(we,null,On,"__init__"),null,e)}))},get _get_len(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(Ae(null===e.pos)||null===e.pos_end)?null:Et(e.pos_end,e.pos)}))},get __unicode__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(xn,null,me((a=e).__str__,a));var a}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Pt(Pt("LatexToken(",me(", ".join,", ",function(){for(var t,r=[],n=e._fields,a=0;a<Te(n);a++){var i=Ft(n,a);t=void 0,me(r.append,r,me((t="{}={!r}").format,t,i,me(Ce,null,e,i)))}return r}())),")")}))},get __str__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a=e).__repr__,a);var a}))},get __eq__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}return me(et,null,function(){for(var r=[],n=e._fields,a=0;a<Te(n);a++){var i=Ft(n,a);me(r.append,r,Ae(Ae(null===me(Ce,null,e,i))&&null===me(Ce,null,t,i))||St(me(Ce,null,e,i),me(Ce,null,t,i)))}return Ye(r)}())}))},__hash__:null});Object.defineProperty(On,"len",ke.call(On,On._get_len));var Pn={};fe(Pn,"",dr);var En="pylatexenc.latexnodes._tokenreaderbase",Cn=(me(Pn.getLogger,Pn,En),ve("LatexTokenReaderBase",[ge],{__module__:En,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}me(me(we,null,Cn,"__init__"),null,e,ye(t))}))},get make_token(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}return me(On,null,ye(t))}))},get move_to_token(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":t=a[i];break;case"rewind_pre_space":r=a[i]}}}var o=me(RuntimeError,null,"LatexTokenReaderBase subclasses must reimplement rewind_to_token()");throw o.__cause__=null,o}))},get move_past_token(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":t=a[i];break;case"fastforward_post_space":r=a[i]}}}var o=me(RuntimeError,null,"LatexTokenReaderBase subclasses must reimplement move_past_token()");throw o.__cause__=null,o}))},get peek_token(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}var i=me(RuntimeError,null,"LatexTokenReaderBase subclasses must reimplement peek_token()");throw i.__cause__=null,i}))},get peek_token_or_none(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}try{return me((i=e).peek_token,i,ye({parsing_state:t}))}catch(e){if(ze(e,Tr))return null;throw e}var i}))},get next_token(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}var i,o=me((i=e).peek_token,i,ye({parsing_state:t}));return function(){var t=e;me(t.move_past_token,t,o)}(),o}))},get cur_pos(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a=me(RuntimeError,null,"LatexTokenReaderBase subclasses must reimplement cur_pos()");throw a.__cause__=null,a}))},get peek_space_chars(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}var i=me(RuntimeError,null,"This token reader does not support character-level access");throw i.__cause__=null,i}))},get skip_space_chars(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}var i=me(RuntimeError,null,"This token reader does not support character-level access");throw i.__cause__=null,i}))},get peek_chars(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"num_chars":t=a[i];break;case"parsing_state":r=a[i]}}}var o=me(RuntimeError,null,"This token reader does not support character-level access");throw o.__cause__=null,o}))},get next_chars(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"num_chars":t=a[i];break;case"parsing_state":r=a[i]}}}var o=me(RuntimeError,null,"This token reader does not support character-level access");throw o.__cause__=null,o}))},get move_to_pos_chars(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"pos":t=n[a]}}}var i=me(RuntimeError,null,"This token reader does not support character-level access");throw i.__cause__=null,i}))}})),Nn=ve("LatexTokenListTokenReader",[Cn],{__module__:En,get __init__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token_list":t=n[a]}}}me(me(we,null,Nn,"__init__"),null,e),e.token_list=t,e._idx=0}))},get peek_token(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}if(Ae(It(e._idx,me(Te,null,e.token_list)))){var i=me(Tr,null);throw i.__cause__=null,i}return Ft(e.token_list,e._idx)}))},get next_token(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}var i,o=me((i=e).peek_token,i,t);return e._idx=me(Dt,null,e._idx,1),o}))},get _find_tok_idx(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":t=a[i];break;case"methname":r=a[i]}}}try{var o=me(Xe,null,function(){for(var r=[],n=me(tt,null,e.token_list),a=0;a<Te(n);a++){var i=Ft(n,a),o=i[0];Ae(i[1]===t)&&me(r.append,r,o)}return Ye(r)}())}catch(e){if(ze(e,Wt)){var s=me(Zt,null,me((l="{}({!r}): no such token in list").format,l,r,t));throw s.__cause__=null,s}throw e}var l;return o}))},get move_to_token(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":t=a[i];break;case"rewind_pre_space":r=a[i]}}}var o;e._idx=me((o=e)._find_tok_idx,o,t,"move_to_token")}))},get move_past_token(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":t=a[i];break;case"fastforward_post_space":r=a[i]}}}var o;e._idx=Pt(me((o=e)._find_tok_idx,o,t,"move_past_token"),1)}))},get cur_pos(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return(a=e,me(a.peek_token,a,null)).pos;var a}))},get final_pos(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ft(e.token_list,Et(me(Te,null,e.token_list),1)).pos_end}))}}),Sn={};e(Sn,"T",(function(){return Hn})),e(Sn,"TEMPLATE",(function(){return Vn})),e(Sn,"I",(function(){return Bn})),e(Sn,"IGNORECASE",(function(){return Wn})),e(Sn,"L",(function(){return Yn})),e(Sn,"LOCALE",(function(){return Xn})),e(Sn,"M",(function(){return $n})),e(Sn,"MULTILINE",(function(){return Qn})),e(Sn,"S",(function(){return Zn})),e(Sn,"DOTALL",(function(){return Kn})),e(Sn,"U",(function(){return Jn})),e(Sn,"UNICODE",(function(){return ea})),e(Sn,"X",(function(){return ta})),e(Sn,"VERBOSE",(function(){return ra})),e(Sn,"DEBUG",(function(){return na})),e(Sn,"A",(function(){return aa})),e(Sn,"ASCII",(function(){return ia})),e(Sn,"Y",(function(){return oa})),e(Sn,"STICKY",(function(){return sa})),e(Sn,"G",(function(){return la})),e(Sn,"GLOBAL",(function(){return _a})),e(Sn,"J",(function(){return ua})),e(Sn,"JSSTRICT",(function(){return ca})),e(Sn,"error",(function(){return fa})),e(Sn,"ReIndexError",(function(){return da})),e(Sn,"Match",(function(){return ha})),e(Sn,"compile",(function(){return va})),e(Sn,"escape",(function(){return Ea})),e(Sn,"Regex",(function(){return pa})),e(Sn,"PyRegExp",(function(){return ga})),e(Sn,"search",(function(){return ma})),e(Sn,"match",(function(){return ya})),e(Sn,"fullmatch",(function(){return wa})),e(Sn,"py_split",(function(){return ka})),e(Sn,"findall",(function(){return ba})),e(Sn,"finditer",(function(){return xa})),e(Sn,"sub",(function(){return Oa})),e(Sn,"subn",(function(){return Pa})),e(Sn,"purge",(function(){return Ca})),e(Sn,"translate",(function(){return Un}));var Ln={};fe(Ln,"",Sn);var Tn="re.translate",An="aiLmsux",Mn=ve("Group",[ge],{__module__:Tn,get __init__(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"start":t=i[o];break;case"end":r=i[o];break;case"klass":n=i[o]}}}e.start=t,e.end=r,e.klass=n}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(ot,null,at([e.start,e.end,e.klass]))}))}}),In=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("tokens"===n)e=r[n]}}for(var a,i=[],o=0,s=e,l=0;l<Te(s);l++){var _=Ft(s,l);if(Ae((a=void 0,me((a=_.py_name).startswith,a,"("))))!function(){var e=i;me(e.append,e,me(Mn,null,o,null,_.py_name))}();else if(Ae(St(_.py_name,")")))for(var u=me(Ze,null,i),c=0;c<Te(u);c++){var f=Ft(u,c);Ae(null===f.end)&&(f.end=o)}o=me(Dt,null,o,1)}return i},Rn=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("tokens"===n)e=r[n]}}me(In,null,e);for(var a=0,i=e,o=0;o<Te(i);o++){var s=Ft(i,o);if(Ae(St(s.py_name,"(")))a=me(Dt,null,a,1)}return a},Dn=function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"groupInfo":e=a[i];break;case"namedGroups":t=a[i];break;case"groupRef":r=a[i]}}}try{var o=me(Ie,null,r)}catch(e){o=Ft(t,r)}for(var s=0,l=e,_=0;_<Te(l);_++){var u=Ft(l,_);if(Ae(St(u.klass,"(")))if(Ae(St(s=me(Dt,null,s,1),o)))return u}},jn=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"tokens":e=n[a];break;case"namedGroups":t=n[a]}}}for(var i,o=[],s=me(In,null,e),l=s,_=0;_<Te(l);_++){var u=Ft(l,_);if(Ae(St(u.klass,"(?<"))){var c=Ut(e,0,null,1),f=Ut(e,0,null,1),d=u.start,h=u.end,p=Ft(e,Pt(d,1)).py_name,g=me(Dn,null,s,t,p),v=Ft(e,Pt(g.end,1));if(Ae(Ae(Se(v.py_name,["?","*"]))||(i=void 0,me((i=v.py_name).startswith,i,"{0,")))){Ae(St(v.py_name,"?"))?Gt(c,Pt(g.end,1),null):Ae(St(v.py_name,"*"))?Gt(c,Pt(g.end,1),me(zn,null,"+")):Ae(function(){var e=v.py_name;return me(e.startswith,e,"{0,")}())&&qt(Ft(c,Pt(g.end,1)).py_name,0,3,null,"{1,"),Gt(f,Pt(g.end,1),null);for(var m=!1,y=d;y<h;y++)if(Ae(St(Ft(e,y).py_name,"|"))){m=!0;!function(){var e=f;me(e.py_pop,e,h)}(),qt(c,y,Pt(h,1),null,[]),qt(f,d,Pt(y,1),null,[]);break}Ae(!Ae(m))&&(qt(f,d,Pt(h,1),null,[]),function(){var e=c;me(e.py_pop,e,h)}()),qt(c,d,Pt(d,3),null,[]),qt(f,g.start,Pt(g.end,1),null,[me(zn,null,"("),me(zn,null,")")]),function(){var e=c;me(e.remove,e,null)}(),function(){var e=f;me(e.remove,e,null)}(),function(){var e=o;me(e.append,e,c)}(),function(){var e=o;me(e.append,e,f)}()}else{for(y=d;y<h;y++)if(Ae(St(Ft(c,y).py_name,"|"))){c=Ut(e,0,y,1);!function(){var t=c;me(t.extend,t,Ut(e,Pt(h,1),null,1))}();break}qt(c,d,Pt(d,3),null,[]),function(){var e=o;me(e.append,e,c)}()}break}}if(Ae(!Ae(o)))return[e];var w=[];for(l=o,_=0;_<Te(l);_++){var k=Ft(l,_);!function(){var e=w;me(e.extend,e,me(jn,null,k,t))}()}return w},zn=ve("Token",[ge],{__module__:Tn,get __init__(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"py_name":t=i[o];break;case"paras":r=i[o];break;case"pure":n=i[o]}}}if(Ae(null===r))r=[];e.py_name=t,e.paras=r,e.pure=n,e.isModeGroup=!1}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e.py_name}))},get resolve(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}for(var a="",i=e.paras,o=0;o<Te(i);o++){var s=Ft(i,o);a=me(Dt,null,a,me(ot,null,s))}return Pt(e.py_name,a)}))}}),Fn=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"stack":e=n[a];break;case"queue":t=n[a]}}}var i,o=!Ae(me(Re,null,t));if(Ae(!Ae(o))){me((i=e).append,i,me(zn,null,Ft(t,0),[],!0));t=Ut(t,1,null,1)}return at([e,t,o])},Gn=function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"stack":e=i[o];break;case"queue":t=i[o];break;case"namedGroups":r=i[o];break;case"flags":n=i[o]}}}var s=!1,l=Et(me(Te,null,e),1);if(Ae(Tt(me(Te,null,e),2))){e=(v=me(Fn,null,e,t))[0],t=v[1],s=v[2];return at([e,t,n,s])}var _,u,c=Ae(Mt(me(Te,null,e),0))?Ft(e,l):me(zn,null,""),f=Ae(Mt(me(Te,null,e),1))?Ft(e,Et(l,1)):me(zn,null,"");if(Ae(false)){for(var d=e,h=0;h<Te(d);h++){var p=Ft(d,h);_=void 0,u=void 0,me((u=console).log,u,me((_=p).resolve,_),"\t",ye({end:""}))}!function(){var e=console;me(e.log,e,"")}()}if(Ae(St(f.py_name,"\\")))Ae(St(c.py_name,"A"))?qt(e,bt(2),null,null,[me(zn,null,"^")]):Ae(St(c.py_name,"a"))?qt(e,bt(2),null,null,[me(zn,null,"\\07")]):Ae(St(c.py_name,"Z"))?qt(e,bt(2),null,null,[me(zn,null,"$")]):qt(e,bt(2),null,null,[me(zn,null,Pt("\\",c.py_name))]);else if(Ae(Ae(St(c.py_name,"$"))&&c.pure))!function(){var t=e;me(t.py_pop,t)}(),function(){var t=e;me(t.extend,t,[me(zn,null,"(?="),me(zn,null,"\\n"),me(zn,null,"?"),me(zn,null,"$"),me(zn,null,")")])}();else if(Ae(St(f.py_name,"{"))){Ae(Ae(St(c.py_name,","))&&St(me(Te,null,f.paras),0))?(function(){var e=f.paras;me(e.append,e,"0")}(),function(){var e=f.paras;me(e.append,e,",")}()):Ae(St(c.py_name,"}"))?(!function(){var e=f.paras;me(e.append,e,"}")}(),f.py_name=function(){var e=f;return me(e.resolve,e)}(),f.paras=[]):function(){var e=f.paras;me(e.append,e,c.py_name)}();e=Ut(e,0,bt(1),1)}else if(Ae(Ae(St(f.py_name,"["))&&St(c.py_name,"^")))qt(e,bt(2),null,null,[me(zn,null,"[^")]);else if(Ae(Ae(St(f.py_name,"("))&&St(c.py_name,"?")))qt(e,bt(2),null,null,[me(zn,null,"(?")]);else if(Ae(Ae(Se(f.py_name,["*","+","?"]))&&St(c.py_name,"?")))qt(e,bt(2),null,null,[me(zn,null,Pt(f.py_name,"?"))]);else if(Ae(Ae(f.isModeGroup)&&St(c.py_name,")")))e=Ut(e,0,bt(2),1);else if(Ae(St(f.py_name,"(?")))if(Ae(Se(c.py_name,An))){if(Ae(St(c.py_name,"i")))n=me(zt,null,n,Ln.IGNORECASE);else if(Ae(St(c.py_name,"L")))n=me(zt,null,n,Ln.LOCALE);else if(Ae(St(c.py_name,"m")))n=me(zt,null,n,Ln.MULTILINE);else if(Ae(St(c.py_name,"s")))n=me(zt,null,n,Ln.DOTALL);else if(Ae(St(c.py_name,"u")))n=me(zt,null,n,Ln.UNICODE);else if(Ae(St(c.py_name,"x")))n=me(zt,null,n,Ln.VERBOSE);else if(Ae(St(c.py_name,"a")))n=me(zt,null,n,Ln.ASCII);!function(){var t=e;me(t.py_pop,t)}(),f.isModeGroup=!0}else{Ae(St(c.py_name,"("))&&(c.py_name="<");var g=me(zn,null,Pt("(?",c.py_name));qt(e,bt(2),null,null,[g])}else if(Ae(St(f.py_name,"(?<")))Ae(St(c.py_name,")"))?(qt(e,bt(1),null,null,[me(zn,null,me("".join,"",f.paras)),me(zn,null,">")]),f.paras=[]):(function(){var e=f.paras;me(e.append,e,c.py_name)}(),function(){var t=e;me(t.py_pop,t)}());else if(Ae(St(f.py_name,"(?P")))qt(e,bt(2),null,null,[me(zn,null,Pt("(?P",c.py_name))]);else if(Ae(St(f.py_name,"(?P<")))Ae(St(c.py_name,">"))?(Gt(r,me("".join,"",f.paras),Pt(me(Rn,null,e),1)),qt(e,bt(2),null,null,[me(zn,null,"(")])):(function(){var e=f.paras;me(e.append,e,c.py_name)}(),function(){var t=e;me(t.py_pop,t)}());else if(Ae(St(f.py_name,"(?P=")))Ae(St(c.py_name,")"))?qt(e,bt(2),null,null,[me(zn,null,Pt("\\",me(ot,null,Ft(r,Ft(f.paras,0)))))]):Ae(!Ae(f.paras))?(function(){var e=f.paras;me(e.append,e,c.py_name)}(),function(){var t=e;me(t.py_pop,t)}()):(Gt(f.paras,0,me(Dt,null,Ft(f.paras,0),c.py_name)),function(){var t=e;me(t.py_pop,t)}());else if(Ae(St(f.py_name,"(?#")))if(Ae(St(c.py_name,")")))e=Ut(e,0,bt(2),1);else e=Ut(e,0,bt(1),1);else{var v;e=(v=me(Fn,null,e,t))[0],t=v[1],s=v[2]}return at([e,t,n,s])},Un=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("rgx"===n)e=r[n]}}for(var a=[],i=me(nt,null,e),o=0,s=me(wt,null),l=0;Ae(!0);){if(Ae(Mt(l=me(Dt,null,l,1),1e3))){var _=me(Vt,null,"Too many iterations in converting regex from Python to JavaScript");throw _.__cause__=null,_}var u=me(Gn,null,a,i,s,o),c=(a=u[0],i=u[1],o=u[2],u[3]);if(Ae(c))break}for(var f,d=me(jn,null,a,s),h=me(Te,null,d),p=[],g=0;g<me(Te,null,d);g++)f=void 0,me((f=p).extend,f,Ft(d,g)),Ae(Tt(g,Et(me(Te,null,d),1)))&&function(){var e=p;me(e.append,e,me(zn,null,"|"))}();me(In,null,a=p);for(var v=[],m=a,y=0;y<Te(m);y++){var w=Ft(m,y),k=function(){var e=w;return me(e.resolve,e)}();if(Ae(Ae(Nt(o,Ln.DOTALL))&&St(k,".")))k="[\\s\\S]";!function(){var e=v;me(e.append,e,k)}()}return at([v,o,s,me(Rn,null,a),h])},qn="re",Hn=Ct(1,0),Vn=Hn,Bn=Ct(1,1),Wn=Bn,Yn=Ct(1,2),Xn=Yn,$n=Ct(1,3),Qn=$n,Zn=Ct(1,4),Kn=Zn,Jn=Ct(1,5),ea=Jn,ta=Ct(1,6),ra=ta,na=Ct(1,7),aa=Ct(1,8),ia=aa,oa=Ct(1,16),sa=oa,la=Ct(1,17),_a=la,ua=Ct(1,19),ca=ua,fa=ve("error",[Vt],{__module__:qn,get __init__(){return de(this,(function(e,t,r,n,a,i){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=0;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"msg":t=s[l];break;case"error":r=s[l];break;case"pattern":n=s[l];break;case"flags":a=s[l];break;case"pos":i=s[l]}}}var _;me((_=Vt).__init__,_,e,t,ye({error:r})),e.pattern=n,e.flags=a,e.pos=i}))}}),da=ve("ReIndexError",[Zt],{__module__:qn,get __init__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a;me((a=Zt).__init__,a,e,"no such group")}))}}),ha=ve("Match",[ge],{__module__:qn,get __init__(){return de(this,(function(e,t,r,n,a,i,o){if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"mObj":t=l[_];break;case"string":r=l[_];break;case"pos":n=l[_];break;case"endpos":a=l[_];break;case"rObj":i=l[_];break;case"namedGroups":o=l[_]}}}for(var u,c=me(tt,null,t),f=0;f<Te(c);f++){var d=Ft(c,f),h=d[0];d[1];Gt(t,h,Ae(St(Ft(t,h),void 0))?null:Ft(t,h))}e._obj=t,e._pos=n,e._endpos=a,e._re=i,e._string=r,e._namedGroups=o,e._lastindex=me((u=e)._lastMatchGroup,u),Ae(null!==e._namedGroups)?e._lastgroup=Ft(e._namedGroups,e._lastindex):e._lastgroup=null}))},get _getPos(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._pos}))},get _setPos(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"val":t=n[a]}}}var i=me(Kt,null,"readonly attribute");throw i.__cause__=null,i}))},get _getEndPos(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._endpos}))},get _setEndPos(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"val":t=n[a]}}}var i=me(Kt,null,"readonly attribute");throw i.__cause__=null,i}))},get _getRe(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._re}))},get _setRe(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"val":t=n[a]}}}var i=me(Kt,null,"readonly attribute");throw i.__cause__=null,i}))},get _getString(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._string}))},get _setString(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"val":t=n[a]}}}var i=me(Kt,null,"readonly attribute");throw i.__cause__=null,i}))},get _getLastGroup(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._lastgroup}))},get _setLastGroup(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"val":t=n[a]}}}var i=me(Kt,null,"readonly attribute");throw i.__cause__=null,i}))},get _getLastIndex(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._lastindex}))},get _setLastIndex(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"val":t=n[a]}}}var i=me(Kt,null,"readonly attribute");throw i.__cause__=null,i}))},get _lastMatchGroup(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}if(Ae(Mt(me(Te,null,e._obj),1))){for(var a=Et(me(Te,null,e._obj),1);a>0;a--)if(Ae(null!==Ft(e._obj,a)))return a;return null}return null}))},get expand(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"template":t=n[a]}}}var i=me(Qt,null);throw i.__cause__=null,i}))},get group(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}var a=at([].slice.apply(arguments).slice(1,t+1))}else a=at();var i,o=[];if(Ae(Mt(me(Te,null,a),0)))for(var s=a,l=0;l<Te(s);l++){var _=Ft(s,l);if(Ae(De(_)===ot)){if(!Ae(null!==e._namedGroups))throw(u=me(Qt,null,"No NamedGroups Available")).__cause__=null,u;if(Ae(!Se(_,(i=void 0,i=e._namedGroups,me(i.py_keys,i)))))throw(u=me(da,null)).__cause__=null,u;!function(){var t=o;me(t.append,t,Ft(e._obj,Ft(e._namedGroups,_)))}()}else{var u;if(Ae(It(_,me(Te,null,e._obj))))throw(u=me(da,null)).__cause__=null,u;!function(){var t=o;me(t.append,t,Ft(e._obj,_))}()}}else!function(){var t=o;me(t.append,t,Ft(e._obj,0))}();return Ae(St(me(Te,null,o),1))?Ft(o,0):me(at,null,o)}))},get groups(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"py_default":t=n[a]}}}if(Ae(Mt(me(Te,null,e._obj),1))){var i=Ut(e._obj,1,null,1);return me(at,null,function(){for(var e=[],r=i,n=0;n<Te(r);n++){var a=Ft(r,n);me(e.append,e,Ae(null!==a)?a:t)}return e}())}return me(at,null)}))},get groupdict(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"py_default":t=n[a]}}}if(Ae(null!==e._namedGroups)){for(var i=wt({}),o=me((f=e._namedGroups).py_items,f),s=0;s<Te(o);s++){var l=Ft(o,s),_=l[0],u=l[1],c=Ft(e._obj,u);Gt(i,_,Ae(null!==c)?c:t)}return i}var f,d=me(Qt,null,"No NamedGroups Available");throw d.__cause__=null,d}))},get start(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"group":t=n[a]}}}var i,o=0;if(Ae(De(t)===ot)){if(!Ae(null!==e._namedGroups))throw(s=me(Qt,null,"No NamedGroups Available")).__cause__=null,s;if(Ae(!Se(t,(i=e._namedGroups,me(i.py_keys,i)))))throw(s=me(da,null)).__cause__=null,s;o=Ft(e._namedGroups,t)}else o=t;if(Ae(It(o,me(Te,null,e._obj))))throw(s=me(da,null)).__cause__=null,s;if(Ae(St(o,0)))return e._obj.index;if(Ae(null!==Ft(e._obj,o))){var s,l=me(va,null,me(Ea,null,Ft(e._obj,o)),e._re.flags),_=function(){var t=l;return me(t.search,t,Ft(e._obj,0))}();if(Ae(_))return Pt(e._obj.index,function(){var e=_;return me(e.start,e)}());throw(s=me(Vt,null,"Failed to find capture group")).__cause__=null,s}return bt(1)}))},get end(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"group":t=n[a]}}}var i,o=0;if(Ae(De(t)===ot)){if(!Ae(null!==e._namedGroups))throw(s=me(Qt,null,"No NamedGroups Available")).__cause__=null,s;if(Ae(!Se(t,(i=e._namedGroups,me(i.py_keys,i)))))throw(s=me(da,null)).__cause__=null,s;o=Ft(e._namedGroups,t)}else o=t;if(Ae(It(o,me(Te,null,e._obj))))throw(s=me(da,null)).__cause__=null,s;if(Ae(St(o,0)))return Pt(e._obj.index,me(Te,null,Ft(e._obj,0)));if(Ae(null!==Ft(e._obj,o))){var s,l=me(va,null,me(Ea,null,Ft(e._obj,o)),e._re.flags),_=function(){var t=l;return me(t.search,t,Ft(e._obj,0))}();if(Ae(_))return Pt(e._obj.index,function(){var e=_;return me(e.end,e)}());throw(s=me(Vt,null,"Failed to find capture group")).__cause__=null,s}return bt(1)}))},get span(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"group":t=n[a]}}}return at([(i=e,me(i.start,i,t)),function(){var r=e;return me(r.end,r,t)}()]);var i}))}});Object.defineProperty(ha,"pos",ke.call(ha,ha._getPos,ha._setPos)),Object.defineProperty(ha,"endpos",ke.call(ha,ha._getEndPos,ha._setEndPos)),Object.defineProperty(ha,"re",ke.call(ha,ha._getRe,ha._setRe)),Object.defineProperty(ha,"string",ke.call(ha,ha._getString,ha._setString)),Object.defineProperty(ha,"lastgroup",ke.call(ha,ha._getLastGroup,ha._setLastGroup)),Object.defineProperty(ha,"lastindex",ke.call(ha,ha._getLastIndex,ha._setLastIndex));var pa=ve("Regex",[ge],{__module__:qn,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"pattern":t=a[i];break;case"flags":r=a[i]}}}if(Ae(!Ae(Mt(Nt(r,ia),0))))r=me(zt,null,r,ea);e._flags=r;var o,s=me((o=e)._compileWrapper,o,t,r);e._jsFlags=s[0],e._obj=s[1],e._jspattern=t,e._pypattern=t;s=function(){var n=e;return me(n._compileWrapper,n,Pt(t,"|"),r)}(),s[0];var l=s[1];e._groups=Et(function(){var e=l;return me(e.exec,e,"")}().length,1),e._groupindex=null}))},get _getPattern(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=me((a=e._pypattern).py_replace,a,"\\","\\\\");return i}))},get _setPattern(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"val":t=n[a]}}}var i=me(Kt,null,"readonly attribute");throw i.__cause__=null,i}))},get _getFlags(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._flags}))},get _setFlags(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"val":t=n[a]}}}var i=me(Kt,null,"readonly attribute");throw i.__cause__=null,i}))},get _getGroups(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._groups}))},get _setGroups(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"val":t=n[a]}}}var i=me(Kt,null,"readonly attribute");throw i.__cause__=null,i}))},get _getGroupIndex(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(null===e._groupindex)?wt({}):e._groupindex}))},get _setGroupIndex(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"val":t=n[a]}}}var i=me(Kt,null,"readonly attribute");throw i.__cause__=null,i}))},get _compileWrapper(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"pattern":t=a[i];break;case"flags":r=a[i]}}}var o,s=me((o=e)._convertFlags,o,r),l=null,_=null;try{l=new RegExp(t,s)}catch(e){_=e}if(Ae(null!==_)){var u=me(fa,null,_.message,_,t,r);throw u.__cause__=null,u}return at([s,l])}))},get _convertFlags(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"flags":t=n[a]}}}var i=[at([na,""]),at([Wn,"i"]),at([Qn,"m"]),at([sa,"y"]),at([_a,"g"]),at([ea,"u"])],o=me("".join,"",function(){for(var e=[],r=i,n=0;n<Te(r);n++){var a=Ft(r,n);Ae(Mt(Nt(Ft(a,0),t),0))&&me(e.append,e,Ft(a,1))}return e}());return o}))},get _getTargetStr(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":t=i[o];break;case"pos":r=i[o];break;case"endpos":n=i[o]}}}var s=me(Te,null,t);if(Ae(null!==n)&&Ae(Tt(n,s)))s=n;if(Ae(Tt(s,0)))s=0;var l=Ut(t,r,s,1);return l}))},get _patternHasCaptures(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Mt(e._groups,0)}))},get search(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":t=i[o];break;case"pos":r=i[o];break;case"endpos":n=i[o]}}}if(Ae(null===n))n=me(Te,null,t);var s,l=e._obj,_=me((s=l).exec,s,t);return Ae(_)?Ae(Ae(Tt(_.index,r))||Mt(_.index,n))?null:me(ha,null,_,t,r,n,e,e._groupindex):null}))},get match(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":t=i[o];break;case"pos":r=i[o];break;case"endpos":n=i[o]}}}var s=t;if(Ae(null!==n))s=Ut(s,0,n,1);else n=me(Te,null,t);var l,_=e._obj,u=me((l=_).exec,l,s);return Ae(u)&&Ae(St(u.index,r))?me(ha,null,u,t,r,n,e,e._groupindex):null}))},get fullmatch(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":t=i[o];break;case"pos":r=i[o];break;case"endpos":n=i[o]}}}var s=t,l=me(Te,null,t);if(Ae(null!==n))s=Ut(s,0,n,1),l=n;var _,u=e._obj,c=me((_=u).exec,_,s);if(Ae(c)){var f=Pt(c.index,me(Te,null,Ft(c,0)));return Ae(Ae(St(c.index,r))&&St(f,l))?me(ha,null,c,t,r,l,e,e._groupindex):null}return null}))},get py_split(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"string":t=a[i];break;case"maxsplit":r=a[i]}}}if(Ae(Tt(r,0)))return[t];var o,s=e._obj;if(Ae(St(r,0)))return me((o=t).py_split,o,s);for(var l=me(zt,null,l=e._flags,_a),_=function(){var t=e;return me(t._compileWrapper,t,e._jspattern,l)}(),u=(_[0],s=_[1],[]),c=null,f=0,d=0;d<r;d++){var h=function(){var e=s;return me(e.exec,e,t)}();if(!Ae(h))break;f=me(Dt,null,f,1);if(Ae(null!==c)){var p=Pt(c.index,me(Te,null,Ft(c,0))),g=Ut(t,p,h.index,1);!function(){var e=u;me(e.append,e,g)}(),Ae(Mt(me(Te,null,h),1))&&function(){var e=u;me(e.extend,e,Ut(h,1,null,1))}()}else{g=Ut(t,0,h.index,1);!function(){var e=u;me(e.append,e,g)}(),Ae(Mt(me(Te,null,h),1))&&function(){var e=u;me(e.extend,e,Ut(h,1,null,1))}()}c=h}if(Ae(null!==c)){var v=Pt(c.index,me(Te,null,Ft(c,0))),m=Ut(t,v,null,1);!function(){var e=u;me(e.append,e,m)}()}return u}))},get _findAllMatches(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":t=i[o];break;case"pos":r=i[o];break;case"endpos":n=i[o]}}}for(var s,l=me((s=e)._getTargetStr,s,t,r,n),_=me(zt,null,_=e._flags,_a),u=function(){var t=e;return me(t._compileWrapper,t,e._jspattern,_)}(),c=(u[0],u[1]),f=[];Ae(!0);){var d=function(){var e=c;return me(e.exec,e,l)}();if(!Ae(d))break;!function(){var e=f;me(e.append,e,d)}()}return f}))},get findall(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":t=i[o];break;case"pos":r=i[o];break;case"endpos":n=i[o]}}}var s,l=me((s=e)._findAllMatches,s,t,r,n),_=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("m"===n)e=r[n]}}return Ae(Mt(me(Te,null,e),2))?me(at,null,Ut(e,1,null,1)):Ae(St(me(Te,null,e),2))?Ft(e,1):Ft(e,0)},u=me(nr,null,_,l);return u}))},get finditer(){return de(this,(function(e,t,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"string":t=i[o];break;case"pos":r=i[o];break;case"endpos":n=i[o]}}}var s,l=me((s=e)._findAllMatches,s,t,r,n),_=me(nr,null,(function(r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)if("m"===i)r=a[i]}}return me(ha,null,r,t,0,me(Te,null,t),e,e._groupindex)}),l);return me(Ye,null,_)}))},get sub(){return de(this,(function(e,t,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"repl":t=i[o];break;case"string":r=i[o];break;case"count":n=i[o]}}}var s,l=me((s=e).subn,s,t,r,n),_=l[0];l[1];return _}))},get subn(){return de(this,(function(e,t,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"repl":t=i[o];break;case"string":r=i[o];break;case"count":n=i[o]}}}for(var s,l=me(zt,null,l=e._flags,_a),_=me((s=e)._compileWrapper,s,e._jspattern,l),u=(_[0],_[1]),c="",f=0,d=bt(1);Ae(!0);){if(Ae(Mt(n,0)))if(Ae(It(f,n)))return Ae(Tt(d,0))?at([c,f]):at([c=me(Dt,null,c,Ut(r,d,h.index,1)),f]);var h=function(){var e=u;return me(e.exec,e,r)}();if(!Ae(h))return Ae(Tt(d,0))?at([r,0]):at([c=me(Dt,null,c,Ut(r,d,null,1)),f]);if(Ae(Tt(d,0)))var c=me(Dt,null,c,Ut(r,0,h.index,1));else c=me(Dt,null,c,Ut(r,d,h.index,1));if(Ae(me(Fe,null,t))){var p=me(t,null,me(ha,null,h,r,0,me(Te,null,r),e,e._groupindex));c=me(Dt,null,c,p)}else c=me(Dt,null,c,t);f=me(Dt,null,f,1),d=Pt(h.index,me(Te,null,Ft(h,0)))}}))}});Object.defineProperty(pa,"pattern",ke.call(pa,pa._getPattern,pa._setPattern)),Object.defineProperty(pa,"flags",ke.call(pa,pa._getFlags,pa._setFlags)),Object.defineProperty(pa,"groups",ke.call(pa,pa._getGroups,pa._setGroups)),Object.defineProperty(pa,"groupindex",ke.call(pa,pa._getGroupIndex,pa._setGroupIndex));var ga=ve("PyRegExp",[pa],{__module__:qn,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"pyPattern":t=a[i];break;case"flags":r=a[i]}}}var o,s=me(Un,null,t),l=s[0],_=s[1],u=s[2],c=s[3],f=s[4],d=(r=me(zt,null,r,_),me("".join,"",l));me((o=pa).__init__,o,e,d,r),e._pypattern=t,e._nsplits=f,e._jsTokens=l,e._capgroups=c,e._groupindex=u}))}}),va=function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=0;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"pattern":e=n[a];break;case"flags":t=n[a]}}}if(Ae(Nt(t,ca)))var i=me(pa,null,e,t);else i=me(ga,null,e,t);return i},ma=function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"pattern":e=a[i];break;case"string":t=a[i];break;case"flags":r=a[i]}}}var o,s=me(va,null,e,r);return me((o=s).search,o,t)},ya=function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"pattern":e=a[i];break;case"string":t=a[i];break;case"flags":r=a[i]}}}var o,s=me(va,null,e,r);return me((o=s).match,o,t)},wa=function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"pattern":e=a[i];break;case"string":t=a[i];break;case"flags":r=a[i]}}}var o,s=me(va,null,e,r);return me((o=s).fullmatch,o,t)},ka=function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"pattern":e=i[o];break;case"string":t=i[o];break;case"maxsplit":r=i[o];break;case"flags":n=i[o]}}}var s,l=me(va,null,e,n);return me((s=l).py_split,s,t,r)},ba=function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"pattern":e=a[i];break;case"string":t=a[i];break;case"flags":r=a[i]}}}var o,s=me(va,null,e,r);return me((o=s).findall,o,t)},xa=function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"pattern":e=a[i];break;case"string":t=a[i];break;case"flags":r=a[i]}}}var o,s=me(va,null,e,r);return me((o=s).finditer,o,t)},Oa=function(e,t,r,n,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=0;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"pattern":e=o[s];break;case"repl":t=o[s];break;case"string":r=o[s];break;case"count":n=o[s];break;case"flags":a=o[s]}}}var l,_=me(va,null,e,a);return me((l=_).sub,l,t,r,n)},Pa=function(e,t,r,n,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=0;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"pattern":e=o[s];break;case"repl":t=o[s];break;case"string":r=o[s];break;case"count":n=o[s];break;case"flags":a=o[s]}}}var l,_=me(va,null,e,a);return me((l=_).subn,l,t,r,n)},Ea=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("string"===n)e=r[n]}}var a=null,i=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("m"===n)e=r[n]}}return Ae(St(Ft(e,0),"\\"))?"\\\\\\\\":Pt("\\\\",Ft(e,0))},o=/[^A-Za-z:;\d]/g;if(Ae(null!==(a=e.replace(o,i))))return a;var s=me(Vt,null,"Failed to escape the passed string");throw s.__cause__=null,s},Ca=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var t=arguments[e--];for(var r in t);}}},Na={},Sa={};fe(Na,"",dr),fe(Sa,"",Sn);var La="pylatexenc.latexnodes._tokenreader",Ta=me(Na.getLogger,Na,La),Aa=ve("LatexTokenReader",[Cn],{__module__:La,get __init__(){return de(this,(function(e,t){var r,n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"s":t=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}if(me(me(we,null,Aa,"__init__"),null,e),e.s=t,e.tolerant_parsing=me((r=n).py_pop,r,"tolerant_parsing",!1),Ae(n)){var s=me(Yt,null,function(){var e="Invalid argument(s) to LatexTokenReader: {!r}";return me(e.format,e,n)}());throw s.__cause__=null,s}e._pos=0}))},get move_to_token(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":t=a[i];break;case"rewind_pre_space":r=a[i]}}}if(Ae(r))var o=Et(t.pos,me(Te,null,t.pre_space));else o=t.pos;var s;me((s=e)._advance_to_pos,s,o)}))},get move_past_token(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"tok":t=a[i];break;case"fastforward_post_space":r=a[i]}}}var o,s=t.pos_end;if(Ae(!Ae(r))){var l=me(Ce,null,t,"post_space",null);if(Ae(l))s=me(jt,null,s,me(Te,null,l))}me((o=e)._advance_to_pos,o,s)}))},get peek_chars(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"num_chars":t=a[i];break;case"parsing_state":r=a[i]}}}if(Ae(It(e._pos,me(Te,null,e.s)))){var o=me(Tr,null);throw o.__cause__=null,o}return Ut(e.s,e._pos,Pt(e._pos,t),1)}))},get next_chars(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"num_chars":t=a[i];break;case"parsing_state":r=a[i]}}}var o,s=me((o=e).peek_chars,o,t,r);return e._pos=me(Dt,null,e._pos,t),Ae(Mt(e._pos,me(Te,null,e.s)))&&(e._pos=me(Te,null,e.s)),s}))},get cur_pos(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._pos}))},get move_to_pos_chars(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"pos":t=n[a]}}}var i;me((i=e)._advance_to_pos,i,t)}))},get _advance_to_pos(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"pos":t=n[a]}}}e._pos=t}))},get skip_space_chars(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}var i,o=me((i=e).impl_peek_space_chars,i,e.s,e._pos,t),s=o[0],l=o[1],_=o[2];return function(){var t=e;me(t._advance_to_pos,t,_)}(),at([s,l,_])}))},get peek_space_chars(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}return me((i=e).impl_peek_space_chars,i,e.s,e._pos,t);var i}))},get peek_token(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}try{return me((o=e).impl_peek_token,o,t)}catch(t){if(ze(t,Sr)){var i=t;if(Ae(e.tolerant_parsing))return function(){var t=e;me(t.move_to_pos_chars,t,i.recovery_token_at_pos)}(),i.recovery_token_placeholder;throw t.__cause__=null,t}throw t}var o}))},get impl_peek_token(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state":t=n[a]}}}var i;me((i=Ta).debug,i,"impl_peek_token(): parsing_state = %r, pos=%r",t,e._pos);var o=e.s,s=me(Te,null,o),l=e._pos,_=function(){var r=e;return me(r.impl_peek_space_chars,r,o,l,t)}(),u=_[0],c=_[1],f=_[2];if(Ae(Ae(t.enable_double_newline_paragraphs)&&It(function(){var e=u;return me(e.count,e,"\n")}(),2))){var d=function(){var e=u;return me(e.find,e,"\n")}(),h=Pt(function(){var e=u;return me(e.rfind,e,"\n")}(),1),p=(u=Ut(u,0,d,1),Pt(c,d)),g=Pt(c,h);if(Ae(null!==t.latex_context)){try{var v=function(){var e=t.latex_context;return me(e.get_specials_spec,e,ye({specials_chars:"\n\n"}))}()}catch(e){if(!ze(e,Xt))throw e;v=null}if(Ae(Ae(null!==v)&&St(v.specials_chars,"\n\n")))return function(){var t=e;return me(t.make_token,t,ye({tok:"specials",arg:v,pos:p,pos_end:g,pre_space:u}))}()}return function(){var t=e;return me(t.make_token,t,ye({tok:"char",arg:"\n\n",pos:p,pos_end:g,pre_space:u}))}()}if(Ae(It(l=f,s))){var m=me(Tr,null,ye({final_space:u}));throw m.__cause__=null,m}var y=Ft(o,l);if(function(){var e=Ta;me(e.debug,e,"Char at %d: %r",l,y)}(),Ae(Ae(Se(y,t._math_delims_info_startchars))&&t.enable_math)){var w=function(){var r=e;return me(r.impl_maybe_read_math_mode_delimiter,r,o,l,t,u)}();if(Ae(null!==w))return w}if(Ae(St(y,t.macro_escape_char))){if(Ae(t.enable_environments)){if(Ae(function(){var e=o;return me(e.startswith,e,"begin",Pt(l,1))}()))var k="begin";else if(Ae(function(){var e=o;return me(e.startswith,e,"end",Pt(l,1))}()))k="end";else k=null;if(function(){var e,t=Ta;me(t.debug,t,"beginend=%r; s.startswith('begin',pos+1)=%r; s[pos+1:pos+7]=%r",k,me((e=o).startswith,e,"begin",Pt(l,1)),Ut(o,Pt(l,1),Pt(l,7),1))}(),Ae(k)){var b=Pt(Pt(l,1),me(Te,null,k));if(Ae(Ae(It(b,me(Te,null,o)))||!Se(Ft(o,b),t.macro_alpha_chars)))return function(){var r=e;return me(r.impl_read_environment,r,ye({s:o,pos:l,parsing_state:t,beginend:k,pre_space:u}))}()}}if(Ae(t.enable_macros))return function(){var r=e;return me(r.impl_read_macro,r,ye({s:o,pos:l,parsing_state:t,pre_space:u}))}()}if(Ae(Ae(t.enable_comments)&&Ae(St(y,Ft(t.comment_start,0)))&&function(){var e=o;return me(e.startswith,e,t.comment_start,l)}()))return function(){var r=e;return me(r.impl_read_comment,r,ye({s:o,pos:l,parsing_state:t,pre_space:u}))}();if(Ae(t.enable_groups)){if(Ae(Se(y,t._latex_group_delimchars_by_open)))return function(){var t=e;return me(t.make_token,t,ye({tok:"brace_open",arg:y,pos:l,pos_end:Pt(l,1),pre_space:u}))}();if(Ae(Se(y,t._latex_group_delimchars_close)))return function(){var t=e;return me(t.make_token,t,ye({tok:"brace_close",arg:y,pos:l,pos_end:Pt(l,1),pre_space:u}))}()}if(Ae(Ae(null!==t.latex_context)&&t.enable_specials)){v=function(){var e=t.latex_context;return me(e.test_for_specials,e,o,l,ye({parsing_state:t}))}();if(function(){var e=Ta;me(e.debug,e,"tested for specials at ‘%s’ -> %r",Pt(Ut(o,l,Pt(l,3),1),"..."),v)}(),Ae(null!==v))return function(){var t=e;return me(t.make_token,t,ye({tok:"specials",arg:v,pos:l,pos_end:Pt(l,me(Te,null,v.specials_chars)),pre_space:u}))}()}return function(){var r=e;return me(r.impl_char_token,r,y,l,Pt(l,1),t,u)}()}))},get impl_peek_space_chars(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"s":t=i[o];break;case"pos":r=i[o];break;case"parsing_state":n=i[o]}}}for(var s,l=r,_="";Ae(!0)&&!Ae(It(l,me(Te,null,t)));){var u=Ft(t,l);if(Ae(!Ae((s=void 0,s=u,me(s.isspace,s)))))break;_=me(Dt,null,_,u),l=me(Dt,null,l,1)}return at([_,r,l])}))},get impl_char_token(){return de(this,(function(e,t,r,n,a,i){if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"c":t=s[l];break;case"pos":r=s[l];break;case"pos_end":n=s[l];break;case"parsing_state":a=s[l];break;case"pre_space":i=s[l]}}}if(Ae(Se(t,a.forbidden_characters))){var _=me(Sr,null,ye({s:e.s,pos:r,msg:(u="Character is forbidden here: ‘{}’ ({:#x})",me(u.format,u,t,me(qe,null,t))),error_type_info:wt({what:"token_forbidden_character",forbidden_character:t}),recovery_token_placeholder:function(){var a=e;return me(a.make_token,a,ye({tok:"char",arg:t,pos:r,pos_end:n,pre_space:i}))}(),recovery_token_at_pos:n}));throw _.__cause__=null,_}var u;return function(){var a=e;return me(a.make_token,a,ye({tok:"char",arg:t,pos:r,pos_end:n,pre_space:i}))}()}))},get impl_maybe_read_math_mode_delimiter(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"s":t=o[s];break;case"pos":r=o[s];break;case"parsing_state":n=o[s];break;case"pre_space":a=o[s]}}}if(Ae(n.in_math_mode)){var l=n._math_expecting_close_delim_info;if(Ae(null!==l)){var _=Ft(l,"close_delim"),u=Ft(l,"tok");if(me((c=Ta).debug,c,"expecting close math mode delimiter: delim %r, tok %r",_,u),Ae(function(){var e=t;return me(e.startswith,e,_,r)}()))return function(){var e=Ta;me(e.debug,e,"we did encounter that expected delim & tok at pos = %r;we have s[pos:pos+10]=%r",r,Ut(t,r,Pt(r,10),1))}(),function(){var t=e;return me(t.make_token,t,ye({tok:u,arg:_,pos:r,pos_end:Pt(r,me(Te,null,_)),pre_space:a}))}()}}for(var c,f=n._math_all_delims_by_len,d=0;d<Te(f);d++){var h=Ft(f,d),p=h[0],g=h[1];if(Ae(function(){var e=t;return me(e.startswith,e,p,r)}()))return function(){var e=Ta;me(e.debug,e,"Encountered opening math delim %r (tok %r) at pos = %r;we have s[pos:pos+10]=%r",p,g,r,Ut(t,r,Pt(r,10),1))}(),function(){var t=e;return me(t.make_token,t,ye({tok:g,arg:p,pos:r,pos_end:Pt(r,me(Te,null,p)),pre_space:a}))}()}return null}))},get impl_read_macro(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"s":t=o[s];break;case"pos":r=o[s];break;case"parsing_state":n=o[s];break;case"pre_space":a=o[s]}}}var l,_;if(Ae(Lt(Ft(t,r),n.macro_escape_char)))throw(l=me(Yt,null,"Internal error, expected '\\' in impl_read_macro()")).__cause__=null,l;if(Ae(It(Pt(r,1),me(Te,null,t))))throw(l=me(Sr,null,ye({s:t,pos:Pt(r,1),msg:(_="Expected macro name after ‘{}’ escape character",me(_.format,_,n.macro_escape_char)),error_type_info:wt({what:"token_end_of_stream_immediately_after_escape_character"}),recovery_token_placeholder:function(){var t=e;return me(t.make_token,t,ye({tok:"char",arg:"",pos:r,pos_end:r,pre_space:a}))}(),recovery_token_at_pos:me(Te,null,t)}))).__cause__=null,l;var u=Ft(t,Pt(r,1)),c=u,f=Se(u,n.macro_alpha_chars),d=Pt(r,2);if(Ae(f))for(;Ae(Ae(Tt(d,me(Te,null,t)))&&Se(Ft(t,d),n.macro_alpha_chars));)c=me(Dt,null,c,Ft(t,d)),d=me(Dt,null,d,1);var h="";if(Ae(f)){var p=function(){var r=e;return me(r.impl_peek_space_chars,r,t,d,n)}(),g=(h=p[0],p[1]),v=p[2];if(Ae(It(function(){var e=h;return me(e.count,e,"\n")}(),2))){var m=function(){var e=h;return me(e.find,e,"\n")}();v=Pt(g,m),h=Ut(h,0,m,1)}d=v}return function(){var t=e;return me(t.make_token,t,ye({tok:"macro",arg:c,pos:r,pos_end:d,pre_space:a,post_space:h}))}()}))},rx_environment_name:me(Sa.compile,Sa,"\\s*\\{(?P<environmentname>[A-Za-z0-9*._ :/!^()\\[\\]-]+)\\}"),get parse_latex_environment_name(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"pos":t=i[o];break;case"beginend":r=i[o];break;case"pos_envname":n=i[o]}}}var s,l=me((s=e.rx_environment_name).match,s,Ut(e.s,n,null,1));if(Ae(null===l))return at([null,null]);var _=Pt(n,function(){var e=l;return me(e.end,e)}());return at([function(){var e=l;return me(e.group,e,"environmentname")}(),_])}))},get impl_read_environment(){return de(this,(function(e,t,r,n,a,i){if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"s":t=s[l];break;case"pos":r=s[l];break;case"parsing_state":n=s[l];break;case"beginend":a=s[l];break;case"pre_space":i=s[l]}}}var _;if(Ae(Lt(Ut(t,r,Pt(Pt(r,1),me(Te,null,a)),1),Pt(n.macro_escape_char,a))))throw(p=me(Yt,null,me((_="Internal error, expected ‘{}{}’ in read_environment()").format,_,n.macro_escape_char,a))).__cause__=null,p;var u=Pt(Pt(r,1),me(Te,null,a)),c=function(){var t=e;return me(t.parse_latex_environment_name,t,r,a,u)}(),f=c[0],d=c[1];if(function(){var e=Ta;me(e.debug,e,"Getting environment name at %r -> %r, is {align}?=%r",Pt(Pt("...|",Ut(t,u,Pt(u,35),1)),"|..."),d,St(Ut(t,u,Pt(u,me(Te,null,"{align}")),1),"{align}"))}(),Ae(null===f)){var h=Pt(n.macro_escape_char,a),p=me(Sr,null,ye({s:t,msg:function(){var e="Bad ‘\\{}’ call: expected {{environmentname}}";return me(e.format,e,a)}(),pos:r,error_type_info:wt({what:"token_error_parse_beginend_environment_name",beginend:a,macro_beginend:h}),recovery_token_placeholder:me(On,null,ye({tok:"char",arg:h,pos:r,pos_end:Pt(r,me(Te,null,h)),pre_space:i})),recovery_token_at_pos:Pt(r,me(Te,null,h))}));throw p.__cause__=null,p}var g=function(){var t=e;return me(t.make_token,t,ye({tok:Pt(a,"_environment"),arg:f,pos:r,pos_end:d,pre_space:i}))}();return function(){var e=Ta;me(e.debug,e,"read environment token %r",g)}(),g}))},get impl_read_comment(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"s":t=o[s];break;case"pos":r=o[s];break;case"parsing_state":n=o[s];break;case"pre_space":a=o[s]}}}if(Ae(!Ae((_=t,me(_.startswith,_,n.comment_start,r))))){var l=me(Yt,null,function(){var e="Internal error, expected comment start ‘{}’ in read_comment()";return me(e.format,e,n.comment_start)}());throw l.__cause__=null,l}var _,u=Pt(r,me(Te,null,n.comment_start)),c=function(){var e=t;return me(e.find,e,"\n",u)}();if(Ae(St(c,bt(1))))var f=me(Te,null,t),d=me(Te,null,t),h="";else{var p=function(){var r=e;return me(r.impl_peek_space_chars,r,t,c,n)}(),g=(h=p[0],p[1]),v=p[2];if(Ae(It(function(){var e=h;return me(e.count,e,"\n")}(),2))){var m=function(){var e=h;return me(e.find,e,"\n")}();v=Pt(g,m),h=Ut(h,0,m,1)}f=c,d=v}return function(){var n=e;return me(n.make_token,n,ye({tok:"comment",arg:Ut(t,u,f,1),pos:r,pos_end:d,pre_space:a,post_space:h}))}()}))}}),Ma=(j=i("fOdIC"),{});e(Ma,"fn_unique_object_id",(function(){return Da}));var Ia,Ra,Da=(Ia=0,Ra=new WeakMap,function(e){return Ra.has(e)||Ra.set(e,++Ia),Ra.get(e)}),ja={},za={};fe(za,"",Ma),fe(ja,"",dr);var Fa="pylatexenc.latexnodes._parsingstate",Ga=me(ja.getLogger,ja,Fa),Ua=Pt(me("".join,"",function(){for(var e=[],t=0;t<26;t++)me(e.append,e,me(Ue,null,Pt(me(qe,null,"a"),t)));return e}()),me("".join,"",function(){for(var e=[],t=0;t<26;t++)me(e.append,e,me(Ue,null,Pt(me(qe,null,"A"),t)));return e}())),qa=za.fn_unique_object_id,Ha=ve("ParsingState",[ge],{__module__:Fa,_fields:at(["s","latex_context","in_math_mode","math_mode_delimiter","latex_group_delimiters","latex_inline_math_delimiters","latex_display_math_delimiters","enable_double_newline_paragraphs","enable_macros","enable_environments","enable_comments","enable_groups","enable_specials","enable_math","macro_alpha_chars","macro_escape_char","comment_start","forbidden_characters"]),get __init__(){return de(this,(function(e){var t,r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)if("self"===i)e=a[i];else r[i]=a[i];delete r.__kwargtrans__}}me(me(we,null,Ha,"__init__"),null,e),e._parent_parsing_state_info=me((t=r).py_pop,t,"_parent_parsing_state_info",at([null,wt({})])),function(){var t=e;me(t.set_fields,t,ye(r))}(),function(){var t=e;me(t.finalize_state,t)}()}))},get set_fields(){return de(this,(function(e,t,r,n,a,i,o,s,l,_,u,c,f,d,h,p,g,v,m){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(void 0===s||null!=s&&s.hasOwnProperty("__kwargtrans__"))s=null;if(void 0===l||null!=l&&l.hasOwnProperty("__kwargtrans__"))l=!0;if(void 0===_||null!=_&&_.hasOwnProperty("__kwargtrans__"))_=!0;if(void 0===u||null!=u&&u.hasOwnProperty("__kwargtrans__"))u=!0;if(void 0===c||null!=c&&c.hasOwnProperty("__kwargtrans__"))c=!0;if(void 0===f||null!=f&&f.hasOwnProperty("__kwargtrans__"))f=!0;if(void 0===d||null!=d&&d.hasOwnProperty("__kwargtrans__"))d=!0;if(void 0===h||null!=h&&h.hasOwnProperty("__kwargtrans__"))h=!0;if(void 0===p||null!=p&&p.hasOwnProperty("__kwargtrans__"))p=Ua;if(void 0===g||null!=g&&g.hasOwnProperty("__kwargtrans__"))g="\\";if(void 0===v||null!=v&&v.hasOwnProperty("__kwargtrans__"))v="%";if(void 0===m||null!=m&&m.hasOwnProperty("__kwargtrans__"))m="";if(arguments.length){var y=arguments.length-1;if(arguments[y]&&arguments[y].hasOwnProperty("__kwargtrans__")){var w=arguments[y--];for(var k in w)switch(k){case"self":e=w[k];break;case"s":t=w[k];break;case"latex_context":r=w[k];break;case"in_math_mode":n=w[k];break;case"math_mode_delimiter":a=w[k];break;case"latex_group_delimiters":i=w[k];break;case"latex_inline_math_delimiters":o=w[k];break;case"latex_display_math_delimiters":s=w[k];break;case"enable_double_newline_paragraphs":l=w[k];break;case"enable_macros":_=w[k];break;case"enable_environments":u=w[k];break;case"enable_comments":c=w[k];break;case"enable_groups":f=w[k];break;case"enable_specials":d=w[k];break;case"enable_math":h=w[k];break;case"macro_alpha_chars":p=w[k];break;case"macro_escape_char":g=w[k];break;case"comment_start":v=w[k];break;case"forbidden_characters":m=w[k]}}}var b;e.s=t,e.latex_context=r,e.in_math_mode=n,e.math_mode_delimiter=a,Ae(Ae(!Ae(e.in_math_mode))&&e.math_mode_delimiter)&&(me((b=Ga).warning,b,"ParsingState: You set math_mode_delimiter=%r but in_math_mode is False",e.math_mode_delimiter),e.math_mode_delimiter=null),e.latex_group_delimiters=Ae(null!==i)?i:[at(["{","}"])],e.latex_inline_math_delimiters=Ae(null!==o)?o:[at(["$","$"]),at(["\\(","\\)"])],e.latex_display_math_delimiters=Ae(null!==s)?s:[at(["$$","$$"]),at(["\\[","\\]"])],e.enable_double_newline_paragraphs=l,e.enable_macros=_,e.enable_environments=u,e.enable_comments=c,e.enable_groups=f,e.enable_specials=d,e.enable_math=h,e.macro_alpha_chars=p,e.macro_escape_char=g,e.comment_start=v,e.forbidden_characters=m}))},get _finalize_state_latex_group_delimiters_info(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parent":t=a[i];break;case"kwargs":r=a[i]}}}if(Ae(Ae(null!==t)&&!Se("latex_group_delimiters",r)))return e._latex_group_delimchars_by_open=t._latex_group_delimchars_by_open,void(e._latex_group_delimchars_close=t._latex_group_delimchars_close);var o=me.apply(void 0,[Ke,null].concat((0,j.default)(e.latex_group_delimiters))),s=(o[0],o[1]);e._latex_group_delimchars_by_open=me(wt,null,e.latex_group_delimiters),e._latex_group_delimchars_close=me(it,null,s)}))},get _finalize_state_latex_math_delim_info(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parent":t=a[i];break;case"kwargs":r=a[i]}}}if(Ae(Ae(null!==t)&&Ae(!Se("latex_inline_math_delimiters",r))&&!Se("latex_display_math_delimiters",r)))return e._math_delims_info_startchars=t._math_delims_info_startchars,e._math_all_delims_by_len=t._math_all_delims_by_len,e._math_delims_info_by_open=t._math_delims_info_by_open,void(e._math_delims_close=t._math_delims_close);e._math_delims_info_startchars=me("".join,"",function(){for(var t=[],r=Pt(e.latex_inline_math_delimiters,e.latex_display_math_delimiters),n=0;n<Te(r);n++)for(var a=Ft(r,n),i=0;i<Te(a);i++){var o=Ft(a,i);me(t.append,t,Ut(o,0,1,1))}return t}()),e._math_all_delims_by_len=me(rr,null,function(){for(var t=[],r=at([at([e.latex_inline_math_delimiters,"mathmode_inline"]),at([e.latex_display_math_delimiters,"mathmode_display"])]),n=0;n<Te(r);n++)for(var a=Ft(r,n),i=a[0],o=a[1],s=me(it,null,function(){for(var e=[],t=i,r=0;r<Te(t);r++)for(var n=Ft(t,r),a=0;a<Te(n);a++){var o=Ft(n,a);me(e.append,e,o)}return e}()),l=0;l<Te(s);l++){var _=Ft(s,l);me(t.append,t,at([_,o]))}return t}(),ye({key:function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("x"===n)e=r[n]}}return me(Te,null,Ft(e,0))},reverse:!0})),e._math_delims_info_by_open=me(wt,null,Pt(function(){for(var t=[],r=e.latex_inline_math_delimiters,n=0;n<Te(r);n++){var a=Ft(r,n),i=a[0],o=a[1];me(t.append,t,at([i,me(wt,null,ye({close_delim:o,tok:"mathmode_inline"}))]))}return t}(),function(){for(var t=[],r=e.latex_display_math_delimiters,n=0;n<Te(r);n++){var a=Ft(r,n),i=a[0],o=a[1];me(t.append,t,at([i,me(wt,null,ye({close_delim:o,tok:"mathmode_display"}))]))}return t}())),e._math_delims_close=me(it,null,function(){for(var t,r=[],n=me((t=e._math_delims_info_by_open).py_items,t),a=0;a<Te(n);a++){var i=Ft(n,a),o=(i[0],i[1]);me(r.append,r,Ft(o,"close_delim"))}return r}())}))},get _finalize_state_inmathmode_info(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parent":t=a[i];break;case"kwargs":r=a[i]}}}Ae(Ae(null!==t)&&Ae(!Se("in_math_mode",r))&&!Se("math_mode_delimiter",r))?e._math_expecting_close_delim_info=t._math_expecting_close_delim_info:Ae(!Ae(e.in_math_mode))?e._math_expecting_close_delim_info=null:Ae(Se(e.math_mode_delimiter,e._math_delims_info_by_open))?e._math_expecting_close_delim_info=Ft(e._math_delims_info_by_open,e.math_mode_delimiter):e._math_expecting_close_delim_info=null}))},get finalize_state(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=e._parent_parsing_state_info,o=i[0],s=i[1];me((a=e)._finalize_state_latex_group_delimiters_info,a,o,s),function(){var t=e;me(t._finalize_state_latex_math_delim_info,t,o,s)}(),function(){var t=e;me(t._finalize_state_inmathmode_info,t,o,s)}()}))},get sub_context(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}var i,o=me((i=e).get_fields,i),s=function(){for(var e,r=[],n=me((e=t).py_items,e),a=0;a<Te(n);a++){var i=Ft(n,a),s=i[0],l=i[1];Ae(!Ae(me(Va,null,l,Ft(o,s))))&&me(r.append,r,[s,l])}return wt(r)}();!function(){var e=o;me(e.py_update,e,s)}();var l=function(){var t=e;return me(t.__class__,t,ye(Oe({_parent_parsing_state_info:at([e,s])},o)))}();return function(){var r=Ga;me(r.debug,r,"%s.sub_context(%r): %r --\x3e %r",e.__class__.__name__,t,e,l)}(),l}))},get get_fields(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(wt,null,function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,at([a,me(Ce,null,e,a)]))}return t}())}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=e.__class__.__name__,o=me((a="{}<{:#x}>").format,a,i,me(qa,null,e)),s=e._parent_parsing_state_info,l=s[0],_=s[1];return Ae(!Ae(l))?o:Pt(Pt(Pt(o,function(){var e="(<{:#x}> {} ";return me(e.format,e,me(qa,null,l),"→")}()),me(", ".join,", ",function(){for(var e,t,r=[],n=me((e=_).py_items,e),a=0;a<Te(n);a++){var i=Ft(n,a),o=i[0],s=i[1];Ae(!Se(o,at(["s"])))&&(t=void 0,me(r.append,r,me((t="{}={!r}").format,t,o,s)))}return r}())),")")}))},get to_json_object(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return function(){for(var t,r,n=[],a=(r=me((t=e).get_fields,t),me(r.py_items,r)),i=0;i<Te(a);i++){var o=Ft(a,i),s=o[0],l=o[1];Ae(!Se(s,at(["latex_context","s"])))&&me(n.append,n,[s,l])}return wt(n)}()}))}}),Va=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"a":e=n[a];break;case"b":t=n[a]}}}return Ae(Ae(null===e)&&null===t)||St(e,t)},Ba={};fe(Ba,"",dr);var Wa="pylatexenc.latexnodes._nodescollector",Ya=me(Ba.getLogger,Ba,Wa),Xa=ve("LatexNodesCollector",[ge],{__module__:Wa,ReachedEndOfStream:ve("ReachedEndOfStream",[Vt],{__module__:Wa}),ReachedStoppingCondition:ve("ReachedStoppingCondition",[Vt],{__module__:Wa,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"stop_data":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}me(me(we,null,Xa.ReachedStoppingCondition,"__init__"),null,e,ye(r)),e.stop_data=t}))}}),get __init__(){return de(this,(function(e,t,r,n,a,i,o,s){if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(void 0===s||null!=s&&s.hasOwnProperty("__kwargtrans__"))s=!0;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var _=arguments[l--];for(var u in _)switch(u){case"self":e=_[u];break;case"latex_walker":t=_[u];break;case"token_reader":r=_[u];break;case"parsing_state":n=_[u];break;case"stop_token_condition":a=_[u];break;case"stop_nodelist_condition":i=_[u];break;case"make_child_parsing_state":o=_[u];break;case"include_stop_token_pre_space_chars":s=_[u]}}}me(me(we,null,Xa,"__init__"),null,e),e.latex_walker=t,e.token_reader=r,e.stop_token_condition=a,e.stop_nodelist_condition=i,e.include_stop_token_pre_space_chars=s,e._stop_token_condition_met=!1,e._stop_token_condition_met_token=null,e._stop_nodelist_condition_met=!1,e._stop_condition_stop_data=null,e._reached_end_of_stream=!1,e.parsing_state=n,e.start_parsing_state=n,e._nodelist=[],e._pending_chars_pos=null,e._pending_chars="",e._finalized=!1,e._make_child_parsing_state_fn=o}))},get get_final_nodelist(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}if(Ae(!Ae(e._finalized))){var a=me(RuntimeError,null,"Call to get_final_nodelist() before finalize()");throw a.__cause__=null,a}return me((i=e.latex_walker).make_nodelist,i,ye({nodelist:e._nodelist,parsing_state:e.start_parsing_state}));var i}))},get get_parser_parsing_state_delta(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}if(Ae(!Ae(e._finalized))){var a=me(RuntimeError,null,"Call to get_parser_parsing_state_delta() before finalize()");throw a.__cause__=null,a}return Ae(e.start_parsing_state===e.parsing_state)?null:me(dn,null,ye({set_parsing_state:e.parsing_state}))}))},get pos_start(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}try{var a=me(Xe,null,function(){for(var t=[],r=e._nodelist,n=0;n<Te(r);n++){var a=Ft(r,n);Ae(null!==a)&&me(t.append,t,a.pos)}return Ye(t)}())}catch(e){if(!ze(e,Wt))throw e;a=null}return Ae(null!==a)?a:e._pending_chars_pos}))},get pos_end(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}try{var a=me(Xe,null,function(){for(var t=[],r=me(Ze,null,e._nodelist),n=0;n<Te(r);n++){var a=Ft(r,n);Ae(null!==a)&&me(t.append,t,a)}return Ye(t)}())}catch(e){if(!ze(e,Wt))throw e;a=null}return Ae(null===a)?null:a.pos_end}))},get stop_token_condition_met(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._stop_token_condition_met}))},get stop_token_condition_met_token(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._stop_token_condition_met_token}))},get stop_nodelist_condition_met(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._stop_nodelist_condition_met}))},get stop_condition_stop_data(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._stop_condition_stop_data}))},get reached_end_of_stream(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._reached_end_of_stream}))},get is_finalized(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._finalized}))},get finalize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}if(!Ae(e._finalized)){var a,i=me((a=e).flush_pending_chars,a);if(e._finalized=!0,Ae(null!==i)){!function(){var e=Ya;me(e.debug,e,"finalize(): raising exc=%r",i)}();var o=i;throw o.__cause__=null,o}}}))},get push_pending_chars(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"chars":t=a[i];break;case"pos":r=a[i]}}}e._pending_chars=me(Dt,null,e._pending_chars,t),Ae(null===e._pending_chars_pos)&&(e._pending_chars_pos=r)}))},get flush_pending_chars(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}if(Ae(!Ae(e._pending_chars)))return null;var a=at([e._pending_chars_pos,e._pending_chars]),i=a[0],o=a[1];e._pending_chars="",e._pending_chars_pos=null;var s,l=me((s=e.latex_walker).make_node,s,Ur,ye({parsing_state:e.parsing_state,chars:o,pos:i,pos_end:Pt(i,me(Te,null,o))}));return function(){var t=e;return me(t.push_to_nodelist,t,l)}()}))},get push_to_nodelist(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}if(Ae(e._finalized)){var i=me(RuntimeError,null,"You already called finalize()");throw i.__cause__=null,i}var o;me((o=e._nodelist).append,o,t);var s=function(){var t=e;return me(t._check_nodelist_stop_condition,t)}();return Ae(null!==s)?s:null}))},get update_state_from_parsing_state_delta(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"parsing_state_delta":t=n[a]}}}if(Ae(null!==t)){var i=e.parsing_state;e.parsing_state=me((o=t).get_updated_parsing_state,o,e.parsing_state,e.latex_walker),function(){var r=Ya;me(r.debug,r,"Updated parsing state using parsing_state_delta %r: %r →→→ %r",t,i,e.parsing_state)}()}var o}))},get _check_nodelist_stop_condition(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=e.stop_nodelist_condition;if(Ae(null!==i)){var o=me(i,null,e._nodelist);if(Ae(o))return e._stop_nodelist_condition_met=!0,me((a=Ya).debug,a,"nodes collector reached nodelist stop condition; nodelist = %r",e._nodelist),function(){var e=Xa;return me(e.ReachedStoppingCondition,e,ye({stop_data:o}))}()}return null}))},get _check_token_stop_condition(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"tok":t=n[a]}}}var i,o=e.stop_token_condition;if(Ae(null!==o)){var s=me(o,null,t);if(Ae(s))return e._stop_token_condition_met=!0,e._stop_token_condition_met_token=t,me((i=Ya).debug,i,"nodes collector reached token stop condition; tok = %r, current node list = %r",t,e._nodelist),function(){var e=Xa;return me(e.ReachedStoppingCondition,e,ye({stop_data:s}))}()}return null}))},get process_tokens(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}try{for(;Ae(!0);)i=void 0,me((i=e).process_one_token,i)}catch(t){if(ze(t,Xa.ReachedStoppingCondition)){var a=t;return e._stop_condition_stop_data=a.stop_data,void function(){var e=Ya;me(e.debug,e,"nodes collector process_tokens() reached stop condition")}()}if(ze(t,Xa.ReachedEndOfStream)){a=t;return e._reached_end_of_stream=!0,void function(){var e=Ya;me(e.debug,e,"nodes collector process_tokens() reached end of stream")}()}if(ze(t,Pr)){a=t;throw function(){var e=Ya;me(e.debug,e,"process_tokens() - relaying error -- %r",a)}(),t.__cause__=null,t}throw t}finally{!function(){var t=e;me(t.finalize,t)}()}var i}))},get process_one_token(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}if(Ae(e._finalized)){var a=me(RuntimeError,null,"You already called finalize()");throw a.__cause__=null,a}var i,o=e.latex_walker,s=e.token_reader;try{var l=me((i=s).next_token,i,ye({parsing_state:e.parsing_state}));!function(){var e=Ya;me(e.debug,e,"nodes collector read token %r",l)}()}catch(e){if(!ze(e,Tr))throw e;var _=e,u=me(Ce,null,_,"final_space",null);if(!Ae(u)){var c=function(){var e=Xa;return me(e.ReachedEndOfStream,e)}();c.pos_end=function(){var e=s;return me(e.cur_pos,e)}(),function(){var e=Ya;me(e.debug,e,"process_one_token(): reached end of stream, exc=%r",c)}();var f=c;throw f.__cause__=null,f}var d=Pt(function(){var e=s;return me(e.cur_pos,e)}(),me(Te,null,u));l=function(){var e=s;return me(e.make_token,e,ye({tok:"char",arg:"",pre_space:u,pos:d,pos_end:d}))}();!function(){var e=s;me(e.move_past_token,e,l)}()}var h=function(){var t=e;return me(t._check_token_stop_condition,t,l)}();if(Ae(null!==h)){if(Ae(e.include_stop_token_pre_space_chars)){!function(){var t=e;me(t.push_pending_chars,t,ye({chars:l.pre_space,pos:Et(l.pos,me(Te,null,l.pre_space))}))}();var p=!1}else p=!0;!function(){var e=s;me(e.move_to_token,e,l,ye({rewind_pre_space:p}))}(),h.pos_end=l.pos_end,function(){var e=Ya;me(e.debug,e,"process_one_token(): stop token condition reached, exc=%r",h)}();var g=h;throw g.__cause__=null,g}if(Ae(St(l.tok,"char")))!function(){var t=e;me(t.push_pending_chars,t,ye({chars:Pt(l.pre_space,l.arg),pos:Et(l.pos,me(Te,null,l.pre_space))}))}();else{if(Ae(e._pending_chars)){e._pending_chars=me(Dt,null,e._pending_chars,l.pre_space),l.pre_space="";h=function(){var t=e;return me(t.flush_pending_chars,t)}();if(Ae(null!==h)){!function(){var e=s;me(e.move_to_token,e,l,ye({rewind_pre_space:!1}))}(),h.pos_end=l.pos,function(){var e=Ya;me(e.debug,e,"process_one_token(): stop condition reached (a), exc=%r",h)}();var v=h;throw v.__cause__=null,v}}else if(Ae(l.pre_space)){var m=function(){var t=o;return me(t.make_node,t,Ur,ye({parsing_state:e.parsing_state,chars:l.pre_space,pos:Et(l.pos,me(Te,null,l.pre_space)),pos_end:l.pos}))}();l.pre_space="";h=function(){var t=e;return me(t.push_to_nodelist,t,m)}();if(Ae(null!==h)){!function(){var e=s;me(e.move_to_token,e,l,ye({rewind_pre_space:!1}))}(),h.pos_end=l.pos,function(){var e=Ya;me(e.debug,e,"process_one_token(): stop condition reached (b), exc=%r",h)}();var y=h;throw y.__cause__=null,y}}if(Ae(St(l.tok,"brace_close"))){var w=me(Lr,null,ye({msg:function(){var e="Unexpected mismatching closing delimiter ‘{}’";return me(e.format,e,l.arg)}(),pos:l.pos,recovery_past_token:l,error_type_info:wt({what:"nodes_unexpected_closing_group_delimiter",delimiter:l.arg})}));throw w.__cause__=null,w}if(Ae(St(l.tok,"end_environment"))){var k=me(Lr,null,ye({msg:function(){var e="Unexpected closing environment: ‘{}’";return me(e.format,e,l.arg)}(),pos:l.pos,recovery_past_token:l,error_type_info:wt({what:"nodes_unexpected_end_environment",environmentname:l.arg})}));throw k.__cause__=null,k}if(Ae(Ae(Se(l.tok,at(["mathmode_inline","mathmode_display"])))&&!Se(l.arg,e.parsing_state._math_delims_info_by_open))){var b=me(Lr,null,ye({msg:function(){var e="Unexpected closing math mode token ‘{}’";return me(e.format,e,l.arg)}(),pos:l.pos,recovery_past_token:l,error_type_info:wt({what:"nodes_unexpected_closing_math_delimiter",mathmode_type:l.tok,delimiter:l.arg})}));throw b.__cause__=null,b}if(Ae(St(l.tok,"comment")))!function(){var t=e;me(t.parse_comment_node,t,l)}();else if(Ae(St(l.tok,"brace_open")))!function(){var t=e;me(t.parse_latex_group,t,l)}();else if(Ae(St(l.tok,"macro")))!function(){var t=e;me(t.parse_macro,t,l)}();else if(Ae(St(l.tok,"begin_environment")))!function(){var t=e;me(t.parse_environment,t,l)}();else if(Ae(St(l.tok,"specials")))!function(){var t=e;me(t.parse_specials,t,l)}();else{if(!Ae(Se(l.tok,at(["mathmode_inline","mathmode_display"])))){var x=me(Er,null,function(){var e="Unknown token type: {}";return me(e.format,e,l.tok)}(),ye({pos:l.pos}));throw x.__cause__=null,x}!function(){var t=e;me(t.parse_math,t,l)}()}}}))},get make_child_parsing_state(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":t=a[i];break;case"node_class":r=a[i]}}}return Ae(null!==e._make_child_parsing_state_fn)?me((o=e)._make_child_parsing_state_fn,o,ye({parsing_state:t,node_class:r})):e.parsing_state;var o}))},get parse_comment_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"tok":t=n[a]}}}var i,o=me((i=e.latex_walker).make_node,i,Hr,ye({parsing_state:e.parsing_state,comment:t.arg,comment_post_space:t.post_space,pos:t.pos,pos_end:t.pos_end})),s=function(){var t=e;return me(t.push_to_nodelist,t,o)}();if(Ae(null!==s)){s.pos_end=t.pos_end,function(){var e=Ya;me(e.debug,e,"parse_comment_node(): stop_exc=%r",s)}();var l=s;throw l.__cause__=null,l}}))},get parse_latex_group(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"tok":t=n[a]}}}var i;me((i=Ya).debug,i,"nodes collector is now parsing a latex group, %r",t),function(){var r=e.token_reader;me(r.move_to_token,r,t,ye({rewind_pre_space:!1}))}();var o=function(){var r=e.latex_walker;return me(r.make_latex_group_parser,r,ye({delimiters:t.arg}))}(),s=function(){var t,r=e.latex_walker;return me(r.parse_content,r,o,ye({token_reader:e.token_reader,parsing_state:(t=e,me(t.make_child_parsing_state,t,e.parsing_state,qr))}))}(),l=s[0],_=s[1];Ae(null!==_)&&function(){var e=Ya;me(e.warning,e,"parsing_state_delta is ignored after parsing a LaTeX group: %r",_)}();var u=function(){var t=e;return me(t.push_to_nodelist,t,l)}();if(Ae(null!==u)){u.pos_end=l.pos_end,function(){var e=Ya;me(e.debug,e,"parse_latex_group(): stop_exc=%r",u)}();var c=u;throw c.__cause__=null,c}!function(){var e=Ya;me(e.debug,e,"nodes collector finished parsing group → %r",l)}()}))},get parse_macro(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"tok":t=n[a]}}}var i,o=t.arg,s=null;if(Ae(null!==e.parsing_state.latex_context))s=me((i=e.parsing_state.latex_context).get_macro_spec,i,o);if(Ae(null===s)){var l=function(){var r,n=e.latex_walker;return me(n.check_tolerant_parsing_ignore_error,n,me(Er,null,ye({msg:(r="Encountered unknown macro ‘\\{}’",me(r.format,r,o)),pos:t.pos,error_type_info:wt({what:"nodes_unknown_macro_name",macroname:o})})))}();if(Ae(null!==l)){var _=l;throw _.__cause__=null,_}s=null}var u=Vr,c=function(){var e="macro ‘\\{}’";return me(e.format,e,o)}();return function(){var r=e;return me(r.parse_invocable_token_type,r,t,s,u,c)}()}))},get parse_environment(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"tok":t=n[a]}}}var i,o=e.latex_walker,s=t.arg;if(Ae(null===(u=me((i=e.parsing_state.latex_context).get_environment_spec,i,s)))){var l=function(){var e,r=o;return me(r.check_tolerant_parsing_ignore_error,r,me(Er,null,ye({msg:(e="Encountered unknown environment ‘{}{}{}’",me(e.format,e,"{",s,"}")),pos:t.pos,error_type_info:wt({what:"nodes_unknown_environment_name",environmentname:s})})))}();if(Ae(null!==l)){var _=l;throw _.__cause__=null,_}var u=null}var c=Br,f=function(){var e="environment ‘{}{}{}’";return me(e.format,e,"{",s,"}")}();return function(){var r=e;return me(r.parse_invocable_token_type,r,t,u,c,f)}()}))},get parse_specials(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"tok":t=n[a]}}}var i,o=t.arg,s=Yr,l=me((i="specials ‘{}’").format,i,me(Ce,null,o,"specials_chars","<unkonwn>"));return function(){var r=e;return me(r.parse_invocable_token_type,r,t,o,s,l)}()}))},get parse_invocable_token_type(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"tok":t=o[s];break;case"spec":r=o[s];break;case"node_class":n=o[s];break;case"what":a=o[s]}}}var l,_=e.latex_walker,u=e.token_reader;if(Ae(null!==r))var c=me((l=r).get_node_parser,l,t);else c=null;if(Ae(null===c)){var f=function(){var e,r=_;return me(r.check_tolerant_parsing_ignore_error,r,me(Er,null,ye({msg:(e="No parser found for callable token {!r}",me(e.format,e,t)),pos:t.pos})))}();if(Ae(null!==f))throw function(){var e=Ya;me(e.debug,e,"parse_invocable_token_type(): no-parser error, exc=%r",f)}(),(g=f).__cause__=null,g;var d=null,h=null}else{var p=function(){var r,i=_;return me(i.parse_content,i,c,u,me((r=e).make_child_parsing_state,r,e.parsing_state,n),ye({open_context:at([a,t])}))}();d=p[0],h=p[1]}if(function(){var t=e;me(t.update_state_from_parsing_state_delta,t,h)}(),Ae(null===d))!function(){var e=Ya;me(e.warning,e,"Parser %r produced no node (None) for token %r",c,t)}();else{var g;f=function(){var t=e;return me(t.push_to_nodelist,t,d)}();if(Ae(null!==f))throw f.pos_end=d.pos_end,function(){var e=Ya;me(e.debug,e,"parse_invocable_token_type(): exc=%r",f)}(),(g=f).__cause__=null,g}}))},get parse_math(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"tok":t=n[a]}}}var i;me((i=Ya).debug,i,"parse_math, tok=%r",t),function(){var r=e.token_reader;me(r.move_to_token,r,t,ye({rewind_pre_space:!1}))}();var o=function(){var t=e;return me(t.make_child_parsing_state,t,e.parsing_state,Xr)}();!function(){var e=Ya;me(e.debug,e,"child_math_parsing_state = %r",o)}();var s=function(){var r=e.latex_walker;return me(r.make_latex_math_parser,r,ye({math_mode_delimiters:t.arg}))}(),l=function(){var t=e.latex_walker;return me(t.parse_content,t,s,ye({token_reader:e.token_reader,parsing_state:o}))}(),_=l[0],u=l[1];if(function(){var t=e;me(t.update_state_from_parsing_state_delta,t,u)}(),Ae(null===_))!function(){var e=Ya;me(e.warning,e,"Math parser produced no node (None) for token %r",t)}();else{var c=function(){var t=e;return me(t.push_to_nodelist,t,_)}();if(Ae(null!==c)){c.pos_end=_.pos_end,function(){var e=Ya;me(e.debug,e,"parse_math_node(): stop_exc=%r",c)}();var f=c;throw f.__cause__=null,f}}}))}}),$a={};fe($a,"",dr);var Qa="llm.llmrendercontext",Za=(me($a.getLogger,$a,Qa),ve("LLMRenderContext",[ge],{__module__:Qa,is_standalone_mode:!1,is_first_pass:!0,get __init__(){return de(this,(function(e,t){var r=null,n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"fragment_renderer":t=i[o];break;case"doc":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,Za,"__init__"),null,e,ye(n)),e.doc=r,e.fragment_renderer=t,e.pass_name=null,e.is_first_pass=!0,e._logical_state=wt({}),e._nodes_determined_as_delayed=wt({})}))},get supports_feature(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"feature_name":t=n[a]}}}return!1}))},get feature_render_manager(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"feature_name":t=n[a]}}}return null}))},get register_delayed_render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"fragment_renderer":r=a[i]}}}var o=me(RuntimeError,null,"This render context does not support delayed rendering");throw o.__cause__=null,o}))},get get_delayed_render_content(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i=me(RuntimeError,null,"This render context does not support delayed rendering");throw i.__cause__=null,i}))},get get_is_delayed_render(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}if(Ae(Se(t.node_id,e._nodes_determined_as_delayed)))return Ft(e._nodes_determined_as_delayed,t.node_id);if(Ae(me(Fe,null,i=t.llm_specinfo.delayed_render)))var i=me(is_delayed_render,null,t,render_context);return Gt(e._nodes_determined_as_delayed,t.node_id,i),i}))},get set_render_pass(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"pass_name":t=n[a]}}}e.pass_name=t,Ae(null===t)?e.is_first_pass=!0:e.is_first_pass=!1}))},get get_logical_state(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"domainname":t=n[a]}}}return Ae(!Se(t,e._logical_state))&&Gt(e._logical_state,t,wt({})),Ft(e._logical_state,t)}))},get push_logical_state(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"domainname":t=i[o];break;case"propname":r=i[o];break;case"value":n=i[o]}}}return me(Ka,null,e,t,r,n)}))}})),Ka=ve("_RenderContextPushLogicalState",[ge],{__module__:Qa,get __init__(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"render_context":t=o[s];break;case"domainname":r=o[s];break;case"propname":n=o[s];break;case"value":a=o[s]}}}me(me(we,null,Ka,"__init__"),null,e),e.render_context=t,e.domainname=r,e.propname=n,e.value=a}))},get __enter__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=me((a=e.render_context).get_logical_state,a,e.domainname);Ae(Se(e.propname,i))?(e.old_value_exists=!0,e.old_value=Ft(i,e.propname)):(e.old_value_exists=!1,e.old_value=null),Gt(i,e.propname,e.value)}))},get __exit__(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"exc_type":t=i[o];break;case"exc_value":r=i[o];break;case"traceback":n=i[o]}}}var s,l=me((s=e.render_context).get_logical_state,s,e.domainname);Ae(!Ae(e.old_value_exists))?function(){var t=l;me(t.py_pop,t,e.propname)}():Gt(l,e.propname,e.old_value)}))}}),Ja=ve("LLMStandaloneModeRenderContext",[Za],{__module__:Qa,is_standalone_mode:!0,get __init__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"fragment_renderer":t=n[a]}}}me(me(we,null,Ja,"__init__"),null,e,ye({fragment_renderer:t}))}))},get supports_feature(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"feature_name":t=n[a]}}}return!1}))},get feature_render_manager(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"feature_name":t=n[a]}}}var i=me(Yt,null,"There are no document features when rendering LLM text in standalone mode (reqested ‘{}’)".format(t));throw i.__cause__=null,i}))},get register_delayed_render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"fragment_renderer":r=a[i]}}}var o=me(Yt,null,"Cannot render nodes with delayed content in standalone mode".format());throw o.__cause__=null,o}))},get get_delayed_render_content(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i=me(Yt,null,"There's no delayed render content in standalone mode".format());throw i.__cause__=null,i}))}}),ei={};e(ei,"LatexParserBase",(function(){return ti})),e(ei,"LatexOptionalCharsMarkerParser",(function(){return Ci})),e(ei,"LatexDelimitedExpressionParserOpeningDelimiterNotFound",(function(){return pi})),e(ei,"LatexVerbatimEnvironmentContentsParser",(function(){return ii})),e(ei,"LatexDelimitedGroupParserInfo",(function(){return mi})),e(ei,"LatexSingleNodeParser",(function(){return ui})),e(ei,"LatexDelimitedVerbatimParser",(function(){return ai})),e(ei,"LatexGeneralNodesParser",(function(){return _i})),e(ei,"LatexDelimitedExpressionParser",(function(){return vi})),e(ei,"LatexVerbatimBaseParser",(function(){return ni})),e(ei,"LatexCharsCommaSeparatedListParser",(function(){return Ri})),e(ei,"LatexCharsGroupParser",(function(){return Ii})),e(ei,"LatexExpressionParser",(function(){return Oi})),e(ei,"LatexDelimitedGroupParser",(function(){return yi})),e(ei,"get_standard_argument_parser",(function(){return Ai})),e(ei,"LatexOptionalSquareBracketsParser",(function(){return Ei})),e(ei,"LatexDelimitedExpressionParserInfo",(function(){return gi})),e(ei,"LatexStandardArgumentParser",(function(){return Mi})),e(ei,"LatexMathParser",(function(){return qi})),e(ei,"LatexTackOnInformationFieldMacrosParser",(function(){return ji}));var ti=ve("LatexParserBase",[ge],{__module__:"pylatexenc.latexnodes.parsers._base",get __init__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}me(me(we,null,ti,"__init__"),null,e)}))},get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}var l=me(RuntimeError,null,"LatexParserBase subclasses must reimplement parse()");throw l.__cause__=null,l}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return!0}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="<{}>").format,a,e.__class__.__name__);var a}))}}),ri="pylatexenc.latexnodes.parsers._verbatim",ni=ve("LatexVerbatimBaseParser",[ti],{__module__:ri,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}me(me(we,null,ni,"__init__"),null,e,ye(t))}))},VerbatimInfo:ve("VerbatimInfo",[ge],{__module__:ri,get __init__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}me(me(we,null,ni.VerbatimInfo,"__init__"),null,e),e.parsed_delimiters=at([null,null])}))}}),get new_char_check_stop_condition(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"char":t=o[s];break;case"verbatim_string":r=o[s];break;case"verbatim_info":n=o[s];break;case"parsing_state":a=o[s]}}}return!!Ae(r)}))},get error_end_of_stream(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"pos":t=o[s];break;case"recovery_nodes":r=o[s];break;case"latex_walker":n=o[s];break;case"verbatim_info":a=o[s]}}}var l=me(Lr,null,ye({msg:"End of stream reached while reading verbatim content",pos:t,recovery_nodes:r,error_type_info:wt({what:"verbatim_unexpected_end_of_stream",verbatim_delimiters:a.parsed_delimiters})}));throw l.__cause__=null,l}))},get finalize_verbatim_string(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"verbatim_string":t=a[i];break;case"verbatim_info":r=a[i]}}}return r.pos_start=r.content_pos_start,r.pos_end=Pt(r.content_pos_start,me(Te,null,t)),t}))},get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}var l,_=me((l=ni).VerbatimInfo,l);return _.original_pos=function(){var e=r;return me(e.cur_pos,e)}(),function(){var i=e;return me(i.read_verbatim_content,i,t,r,n,ye(Oe({verbatim_info:_},a)))}()}))},get read_verbatim_content(){return de(this,(function(e,t,r,n,a){var i=wt();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"latex_walker":t=s[l];break;case"token_reader":r=s[l];break;case"parsing_state":n=s[l];break;case"verbatim_info":a=s[l];break;default:i[l]=s[l]}delete i.__kwargtrans__}}var _,u="",c=!1,f=!1;for(a.content_pos_start=me((_=r).cur_pos,_);Ae(!Ae(c));){try{var d=function(){var e=r;return me(e.next_chars,e,1,ye({parsing_state:n}))}()}catch(e){if(!ze(e,Tr))throw e;d=null,f=!0}var h=function(){var t=e;return me(t.new_char_check_stop_condition,t,d,u,a,n)}();if(Ae(h)){c=!0;Ae(Ae(!0!==h)&&Ae(null!==d)&&Ft(h,"put_back_char"))&&function(){var e,t=r;me(t.move_to_pos_chars,t,Et(me((e=r).cur_pos,e),1))}()}else{if(Ae(null===d))break;u=me(Dt,null,u,d)}}u=function(){var t=e;return me(t.finalize_verbatim_string,t,u,a)}();var p=a.pos_start,g=a.pos_end,v=function(){var e=t;return me(e.make_node,e,Ur,ye({chars:u,pos:p,pos_end:g,parsing_state:n}))}();return Ae(Ae(!Ae(c))&&f)?function(){var r=e;return me(r.error_end_of_stream,r,ye({pos:g,recovery_nodes:v,latex_walker:t,verbatim_info:a}))}():at([v,null])}))}}),ai=ve("LatexDelimitedVerbatimParser",[ni],{__module__:ri,get __init__(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"delimiters":t=i[o];break;case"auto_delimiters":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,ai,"__init__"),null,e,ye(n)),e.delimiters=t,Ae(null!==r)?e.auto_delimiters=me(wt,null,r):e.auto_delimiters=wt({"{":"}","[":"]","<":">","(":")"}),e.depth_counter=1,e.parsed_delimiters=null}))},get new_char_check_stop_condition(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"char":t=o[s];break;case"verbatim_string":r=o[s];break;case"verbatim_info":n=o[s];break;case"parsing_state":a=o[s]}}}if(Ae(null===t))return!1;if(Ae(St(t,Ft(n.parsed_delimiters,1)))){if(e.depth_counter=me(jt,null,e.depth_counter,1),Ae(At(e.depth_counter,0)))return!0}else Ae(St(t,Ft(n.parsed_delimiters,0)))&&(e.depth_counter=me(Dt,null,e.depth_counter,1));return!1}))},get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}var l,_=me((l=ni).VerbatimInfo,l);if(function(){var e=r;me(e.skip_space_chars,e,n)}(),_.original_pos=function(){var e=r;return me(e.cur_pos,e)}(),Ae(null===e.delimiters)){var u=function(){var e=r;return me(e.next_chars,e,1,ye({parsing_state:n}))}(),c=function(){var t=e.auto_delimiters;return me(t.py_get,t,u,u)}();_.parsed_delimiters=at([u,c])}else{_.parsed_delimiters=e.delimiters;var f=function(){var e=r;return me(e.next_chars,e,1,ye({parsing_state:n}))}();if(Ae(Lt(f,Ft(_.parsed_delimiters,0)))){var d=me(Er,null,ye({msg:function(){var e="Expected opening delimiter ‘{}’ for verbatim content";return me(e.format,e,Ft(_.parsed_delimiters,0))}(),pos:pos,error_type_info:wt({what:"verbatim_expected_opening_delimiter_not_found",expected_delimiters:_.parsed_delimiters})}));throw d.__cause__=null,d}}var h=function(){var i=e;return me(i.read_verbatim_content,i,t,r,n,ye(Oe({verbatim_info:_},a)))}(),p=h[0],g=(h[1],function(){var e,r=t;return me(r.make_node,r,qr,ye({delimiters:_.parsed_delimiters,nodelist:(e=t,me(e.make_nodelist,e,[p],ye({parsing_state:n}))),pos:_.original_pos,pos_end:Pt(p.pos_end,me(Te,null,Ft(_.parsed_delimiters,1))),parsing_state:n}))}());return at([g,null])}))}}),ii=ve("LatexVerbatimEnvironmentContentsParser",[ni],{__module__:ri,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="verbatim";var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"environment_name":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}me(me(we,null,ii,"__init__"),null,e,ye(r)),e.environment_name=t}))},get new_char_check_stop_condition(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"char":t=o[s];break;case"verbatim_string":r=o[s];break;case"verbatim_info":n=o[s];break;case"parsing_state":a=o[s]}}}return!!Ae((l=r,me(l.endswith,l,n.end_environment_code)))&&wt({put_back_char:!0});var l}))},get finalize_verbatim_string(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"verbatim_string":t=a[i];break;case"verbatim_info":r=a[i]}}}var o,s=r.end_environment_code;xe(me((o=t).endswith,o,s));t=Ut(t,0,bt(me(Te,null,s)),1);var l=r.original_pos;if(Ae(function(){var e=t;return me(e.startswith,e,"\n")}()))t=Ut(t,1,null,1),l=me(Dt,null,l,1);return r.pos_start=l,r.pos_end=Pt(l,me(Te,null,t)),t}))},get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}var l,_=me((l=ni).VerbatimInfo,l);_.original_pos=function(){var e=r;return me(e.cur_pos,e)}(),_.end_environment_code=Pt(Pt(Pt(n.macro_escape_char,"end{"),e.environment_name),"}");var u=function(){var i=e;return me(i.read_verbatim_content,i,t,r,n,_,ye(a))}(),c=u[0],f=(u[1],function(){var e=t;return me(e.make_nodelist,e,[c],ye({parsing_state:n}))}());return at([f,null])}))}}),oi=(j=i("fOdIC"),{});fe(oi,"",dr);var si="pylatexenc.latexnodes.parsers._generalnodes",li=me(oi.getLogger,oi,si),_i=ve("LatexGeneralNodesParser",[ti],{__module__:si,get __init__(){return de(this,(function(e,t,r,n,a,i,o,s,l){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(void 0===s||null!=s&&s.hasOwnProperty("__kwargtrans__"))s=!0;if(void 0===l||null!=l&&l.hasOwnProperty("__kwargtrans__"))l=null;var _=wt();if(arguments.length){var u=arguments.length-1;if(arguments[u]&&arguments[u].hasOwnProperty("__kwargtrans__")){var c=arguments[u--];for(var f in c)switch(f){case"self":e=c[f];break;case"stop_token_condition":t=c[f];break;case"stop_nodelist_condition":r=c[f];break;case"require_stop_condition_met":n=c[f];break;case"stop_condition_message":a=c[f];break;case"make_child_parsing_state":i=c[f];break;case"handle_stop_condition_token":o=c[f];break;case"include_stop_token_pre_space_chars":s=c[f];break;case"handle_stop_data":l=c[f];break;default:_[f]=c[f]}delete _.__kwargtrans__}}me(me(we,null,_i,"__init__"),null,e,ye(_)),e.stop_token_condition=t,e.stop_nodelist_condition=r,e.require_stop_condition_met=n,e.stop_condition_message=a,e.make_child_parsing_state=i,e.handle_stop_condition_token=o,e.handle_stop_data=l,e.include_stop_token_pre_space_chars=s}))},get make_nodes_collector(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"latex_walker":t=i[o];break;case"token_reader":r=i[o];break;case"parsing_state":n=i[o]}}}return me((s=t).make_nodes_collector,s,ye({token_reader:r,parsing_state:n,stop_token_condition:e.stop_token_condition,stop_nodelist_condition:e.stop_nodelist_condition,make_child_parsing_state:e.make_child_parsing_state,include_stop_token_pre_space_chars:e.include_stop_token_pre_space_chars}));var s}))},get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}var l,_=me((l=r).cur_pos,l),u=function(){var a=e;return me(a.make_nodes_collector,a,t,r,n)}();try{!function(){var e=u;me(e.process_tokens,e)}()}catch(e){if(ze(e,Er)){var c=e;!function(){var e=li;me(e.debug,e,"Got parse error while reading general nodes: %r",c)}();var f=function(){var e=u;return me(e.get_final_nodelist,e)}();Ae(null===f.pos)&&(f.pos=_),Ae(null===f.pos_end)&&(f.pos_end=_);var d=me(Lr,null,ye({msg:c.msg,pos:c.pos,open_contexts:c.open_contexts,error_type_info:c.error_type_info,recovery_nodes:f,recovery_parsing_state_delta:function(){var e=u;return me(e.get_parser_parsing_state_delta,e)}()}));throw d.__cause__=null,d}throw e}var h=function(){var e=u;return me(e.get_final_nodelist,e)}();Ae(null===h.pos)&&(h.pos=_),Ae(null===h.pos_end)&&(h.pos_end=_);var p=function(){var e=u;return me(e.stop_token_condition_met,e)}(),g=function(){var e=u;return me(e.stop_nodelist_condition_met,e)}();if(Ae(!Ae(e.require_stop_condition_met)))var v=!0;else{v=!1;if(Ae(null!==e.stop_token_condition)){if(Ae(p))v=!0}else if(Ae(null!==e.stop_nodelist_condition)){if(Ae(g))v=!0}else v=!0}if(function(){var t=li;me(t.debug,t,"finished parsing general nodes; self.require_stop_condition_met=%r, stop_token_condition=%r, stop_token_condition_met=%r, stop_nodelist_condition=%r, stop_nodelist_condition_met=%r;met_a_required_stop_condition=%r",e.require_stop_condition_met,e.stop_token_condition,p,e.stop_nodelist_condition,g,v)}(),Ae(!Ae(v))){if(Ae(null===(m=e.stop_condition_message)))var m="End of stream encountered while parsing nodes without stop condition being met [reporting starting position]";var y=me(Lr,null,ye({msg:m,pos:function(){var e=u;return me(e.pos_start,e)}(),recovery_nodes:h,recovery_parsing_state_delta:function(){var e=u;return me(e.get_parser_parsing_state_delta,e)}(),error_type_info:wt({what:"nodes_generalnodes_required_stop_condition_not_met",stop_condition_message:e.stop_condition_message})})),w=y;throw w.__cause__=null,w}if(Ae(Ae(p)&&null!==e.handle_stop_condition_token)){var k=function(){var e=u;return me(e.stop_token_condition_met_token,e)}();Ae(null!==k)&&function(){var a=e;me(a.handle_stop_condition_token,a,k,ye({latex_walker:t,token_reader:r,parsing_state:n}))}()}var b=function(){var e=u;return me(e.stop_condition_stop_data,e)}();Ae(Ae(null!==b)&&null!==e.handle_stop_data)&&function(){var a=e;me(a.handle_stop_data,a,b,ye({latex_walker:t,token_reader:r,parsing_state:n}))}();var x=h,O=function(){var e=u;return me(e.get_parser_parsing_state_delta,e)}();return function(){var e=li;me(e.debug,e,"parser - we got final nodelist - %r",x)}(),at([x,O])}))}}),ui=ve("LatexSingleNodeParser",[_i],{__module__:si,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!0;var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"stop_on_comment":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}me(me(we,null,ui,"__init__"),null,e,ye(Oe({stop_nodelist_condition:e._stop_nodelist_condition,require_stop_condition_met:!1},r))),e.stop_on_comment=t}))},get _stop_nodelist_condition(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"nodelist":t=n[a]}}}var i=t;if(Ae(!Ae(e.stop_on_comment)))i=function(){for(var e,t=[],r=i,n=0;n<Te(r);n++){var a=Ft(r,n);Ae(!Ae((e=void 0,e=a,me(e.isNodeType,e,Hr))))&&me(t.append,t,a)}return t}();return!!Ae(It(me(Te,null,i),1))}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return!1}))}}),ci={};fe(ci,"",dr);var fi="pylatexenc.latexnodes.parsers._delimited",di=me(ci.getLogger,ci,fi),hi=ot,pi=ve("LatexDelimitedExpressionParserOpeningDelimiterNotFound",[Vt],{__module__:fi,get __init__(){return de(this,(function(e,t,r){var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"first_tokens":t=i[o];break;case"msg":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,pi,"__init__"),null,e,ye(n)),e.first_tokens=t,e.msg=r}))}}),gi=ve("LatexDelimitedExpressionParserInfo",[ge],{__module__:fi,get get_group_parsing_state(){return he(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"cls":e=o[s];break;case"parsing_state":t=o[s];break;case"delimiters":r=o[s];break;case"delimited_expression_parser":n=o[s];break;case"latex_walker":a=o[s]}}}return t}))},get get_acceptable_open_delimiter_list(){return he(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"cls":e=o[s];break;case"delimiters":t=o[s];break;case"group_parsing_state":r=o[s];break;case"delimited_expression_parser":n=o[s];break;case"latex_walker":a=o[s]}}}return[]}))},get parse_initial(){return he(this,(function(e,t,r,n,a,i,o){if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"cls":e=l[_];break;case"delimiters":t=l[_];break;case"allow_pre_space":r=l[_];break;case"latex_walker":n=l[_];break;case"token_reader":a=l[_];break;case"group_parsing_state":i=l[_];break;case"delimited_expression_parser":o=l[_]}}}var u,c=me((u=a).next_token,u,ye({parsing_state:i})),f=!0;if(Ae(Ae(!Ae(r))&&c.pre_space))f=!1;else if(Ae(!Ae(function(){var r=e;return me(r.is_opening_delimiter,r,ye({delimiters:t,first_token:c,group_parsing_state:i,delimited_expression_parser:o,latex_walker:n}))}())))f=!1;if(Ae(!Ae(f))){var d=function(){var r=e;return me(r.get_acceptable_open_delimiter_list,r,ye({delimiters:t,group_parsing_state:i,delimited_expression_parser:o,latex_walker:n}))}();if(Ae(!Ae(d)))var h="??";else h=me(", ".join,", ",function(){for(var e,t=[],r=d,n=0;n<Te(r);n++){var a=Ft(r,n);e=void 0,me(t.append,t,me((e="‘{}’").format,e,a))}return t}());var p=me(pi,null,ye({msg:function(){var e="Expected an opening LaTeX delimiter ({}), got {}/‘{}’{}";return me(e.format,e,h,c.tok,c.arg,Ae(c.pre_space)?" with leading whitespace":"")}(),first_tokens:[c]}));throw p.__cause__=null,p}return[c]}))},get is_opening_delimiter(){return he(this,(function(e,t,r,n,a,i){if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"cls":e=s[l];break;case"delimiters":t=s[l];break;case"first_token":r=s[l];break;case"group_parsing_state":n=s[l];break;case"delimited_expression_parser":a=s[l];break;case"latex_walker":i=s[l]}}}var _=me(RuntimeError,null,"Subclasses must reimplement is_opening_delimiter()");throw _.__cause__=null,_}))},get check_opening_delimiter(){return he(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"cls":e=i[o];break;case"delimiters":t=i[o];break;case"parsed_opening_delimiter":r=i[o];break;case"latex_walker":n=i[o]}}}if(Ae(null===t))return!0;if(Ae(me(ze,null,t,hi)))var s=t;else s=Ft(t,0);return!Ae(Lt(r,s))}))},get __init__(){return de(this,(function(e,t,r,n,a,i,o){if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"delimited_expression_parser":t=l[_];break;case"opening_delimiter_tokens":r=l[_];break;case"group_parsing_state":n=l[_];break;case"parsing_state":a=l[_];break;case"delimiters":i=l[_];break;case"latex_walker":o=l[_]}}}me(me(we,null,gi,"__init__"),null,e),e.delimited_expression_parser=t,e.opening_delimiter_tokens=r,Ae(r)?e.first_token=Ft(r,0):e.first_token=null,e.group_parsing_state=n,e.parsing_state=a,e.delimiters=i,e.latex_walker=o,e.contents_parsing_state=e.group_parsing_state,e.child_parsing_state_delta=null,e.parsed_delimiters=at([null,null])}))},get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a;e.contents_parsing_state=e.group_parsing_state,e.child_parsing_state_delta=null,e.parsed_delimiters=me((a=e).get_parsed_delimiters,a)}))},get stop_token_condition(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token":t=n[a]}}}var i=me(RuntimeError,null,"Subclasses must reimplement stop_token_condition()");throw i.__cause__=null,i}))},get handle_stop_condition_token(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"token":t=o[s];break;case"latex_walker":r=o[s];break;case"token_reader":n=o[s];break;case"parsing_state":a=o[s]}}}var l;me((l=n).move_past_token,l,t),function(){var e=di;me(e.debug,e,"LatexDelimitedExpressionParser moved token reader past token %r",t)}()}))},get make_child_parsing_state(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":t=a[i];break;case"node_class":r=a[i]}}}return Ae(null!==e.child_parsing_state_delta)?(me((o=di).debug,o,"Requested child parsing state, applying delta %r",e.child_parsing_state_delta),me(vn,null,e.group_parsing_state,e.child_parsing_state_delta,e.latex_walker)):(function(){var e=di;me(e.debug,e,"Requested child parsing state, keeping default %r",t)}(),t);var o}))},get get_matching_delimiter(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"opening_delimiter":t=n[a]}}}return t}))},get get_parsed_delimiters(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=e.first_token;if(Ae(null===(o=e.delimiters)))var o=i.arg;if(Ae(me(ze,null,o,hi))){var s=o,l=me((a=e).get_matching_delimiter,a,s);return at([s,l])}return o}))},get make_content_parser(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"latex_walker":t=a[i];break;case"token_reader":r=a[i]}}}if(Ae(Ft(e.parsed_delimiters,1)))var o=me((s="matching ‘{}’").format,s,Ft(e.parsed_delimiters,1));else o="matching closing delimiter";var s;return me(_i,null,ye({make_child_parsing_state:e.make_child_parsing_state,stop_token_condition:e.stop_token_condition,require_stop_condition_met:!0,handle_stop_condition_token:e.handle_stop_condition_token,stop_condition_message:function(){var t="Expected {} after ‘{}’";return me(t.format,t,o,Ft(e.parsed_delimiters,0))}()}))}))},get get_open_context_description(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return at([(a="Delimited expression ‘{}…{}’",me.apply(void 0,[a.format,a].concat((0,j.default)(e.parsed_delimiters)))),e.first_token]);var a}))},get make_group_node_and_parsing_state_delta(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"nodelist":n=o[s];break;case"parsing_state_delta":a=o[s]}}}var l,_=me((l=r).cur_pos,l),u=function(){var r=t;return me(r.make_node,r,qr,ye({nodelist:n,parsing_state:e.group_parsing_state,delimiters:e.parsed_delimiters,pos:e.first_token.pos,pos_end:_}))}();return at([u,a])}))}}),vi=ve("LatexDelimitedExpressionParser",[ti],{__module__:fi,get __init__(){return de(this,(function(e,t,r,n,a,i){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!1;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=!0;var o=wt();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"delimiters":t=l[_];break;case"delimited_expression_parser_info_class":r=l[_];break;case"optional":n=l[_];break;case"allow_pre_space":a=l[_];break;case"discard_parsing_state_delta":i=l[_];break;default:o[_]=l[_]}delete o.__kwargtrans__}}me(me(we,null,vi,"__init__"),null,e,ye(o)),e.delimiters=t,e.optional=n,e.allow_pre_space=a,e.discard_parsing_state_delta=i,e.delimited_expression_parser_info_class=r}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e.optional}))},get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}var l,_=me((l=e.delimited_expression_parser_info_class).get_group_parsing_state,l,ye({parsing_state:n,delimiters:e.delimiters,delimited_expression_parser:e,latex_walker:t})),u=null;try{u=function(){var n=e.delimited_expression_parser_info_class;return me(n.parse_initial,n,ye({delimiters:e.delimiters,allow_pre_space:e.allow_pre_space,latex_walker:t,token_reader:r,group_parsing_state:_,delimited_expression_parser:e}))}()}catch(n){if(ze(n,pi)){var c=n,f=null;if(Ae(Ae(null!==c.first_tokens)&&me(Te,null,c.first_tokens)))f=Ft(c.first_tokens,0);if(Ae(e.optional))return Ae(Ae(null!==c.first_tokens)&&me(Te,null,c.first_tokens))&&function(){var e=r;me(e.move_to_token,e,f)}(),at([null,null]);var d=null;if(Ae(null!==f))d=f;var h=me(Lr,null,ye({msg:c.msg,pos:d,recovery_nodes:function(){var e=t;return me(e.make_nodelist,e,[],ye({parsing_state:_,pos:f.pos,pos_end:f.pos}))}(),recovery_at_token:f,error_type_info:wt({what:"nodes_delimited_expected_opening_delimiter_not_found",first_tokens:c.first_tokens})}));throw h.__cause__=null,h}throw n}var p=function(){var r=e;return me(r.delimited_expression_parser_info_class,r,e,ye({opening_delimiter_tokens:u,group_parsing_state:_,parsing_state:n,delimiters:e.delimiters,latex_walker:t}))}();!function(){var e=p;me(e.initialize,e)}();var g=function(){var e=p;return me(e.make_content_parser,e,t,r)}(),v=function(){var e,n=t;return me(n.parse_content,n,g,ye({token_reader:r,parsing_state:p.contents_parsing_state,open_context:(e=p,me(e.get_open_context_description,e))}))}(),m=v[0],y=v[1];if(Ae(Ae(e.discard_parsing_state_delta)&&null!==y)){!function(){var e=di;me(e.debug,e,"Discarding parsing state changes after delimited expression: %r",y)}();y=null}v=function(){var e=p;return me(e.make_group_node_and_parsing_state_delta,e,ye({latex_walker:t,token_reader:r,nodelist:m,parsing_state_delta:y}))}();var w=v[0];return at([w,y=v[1]])}))}}),mi=ve("LatexDelimitedGroupParserInfo",[gi],{__module__:fi,get get_group_parsing_state(){return he(this,(function(e,t,r,n,a){var i,o=wt();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"cls":e=l[_];break;case"parsing_state":t=l[_];break;case"delimiters":r=l[_];break;case"delimited_expression_parser":n=l[_];break;case"latex_walker":a=l[_];break;default:o[_]=l[_]}delete o.__kwargtrans__}}if(Ae(null===r))return t;if(Ae(me(ze,null,r,hi))){if(Ae(!Se(r,t._latex_group_delimchars_by_open))){var u=me(Yt,null,me((i="Delimiter ‘{}’ not a valid latex group delimiter ({!r})").format,i,r,t.latex_group_delimiters));throw u.__cause__=null,u}return t}for(var c=me(at,null,r),f=t.latex_group_delimiters,d=0;d<Te(f);d++){var h=Ft(f,d);if(Ae(St(c,h)))return t}return function(){var e=t;return me(e.sub_context,e,ye({latex_group_delimiters:Pt(t.latex_group_delimiters,[c])}))}()}))},get get_acceptable_open_delimiter_list(){return he(this,(function(e,t,r,n,a){var i=wt();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"cls":e=s[l];break;case"delimiters":t=s[l];break;case"group_parsing_state":r=s[l];break;case"delimited_expression_parser":n=s[l];break;case"latex_walker":a=s[l];break;default:i[l]=s[l]}delete i.__kwargtrans__}}return Ae(null!==t)?Ae(me(ze,null,t,hi))?[t]:[Ft(t,0)]:function(){for(var e=[],t=r.latex_group_delimiters,n=0;n<Te(t);n++){var a=Ft(t,n),i=a[0];a[1];me(e.append,e,i)}return e}()}))},get is_opening_delimiter(){return he(this,(function(e,t,r,n,a,i){var o,s=wt();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var _=arguments[l--];for(var u in _)switch(u){case"cls":e=_[u];break;case"delimiters":t=_[u];break;case"first_token":r=_[u];break;case"group_parsing_state":n=_[u];break;case"delimited_expression_parser":a=_[u];break;case"latex_walker":i=_[u];break;default:s[u]=_[u]}delete s.__kwargtrans__}}return!Ae(Lt(r.tok,"brace_open"))&&!Ae(!Ae((o=e,me(o.check_opening_delimiter,o,ye({delimiters:t,parsed_opening_delimiter:r.arg,latex_walker:i})))))}))},get stop_token_condition(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token":t=n[a]}}}return!!Ae(Ae(St(t.tok,"brace_close"))&&St(t.arg,Ft(e.parsed_delimiters,1)))&&(me((i=di).debug,i,"LatexDelimitedGroupParser encountered the expected closing brace %r",t),!0);var i}))},get get_matching_delimiter(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"opening_delimiter":t=n[a]}}}return Ft(e.group_parsing_state._latex_group_delimchars_by_open,t)}))}}),yi=ve("LatexDelimitedGroupParser",[vi],{__module__:fi,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=mi;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"delimiters":t=i[o];break;case"delimited_expression_parser_info_class":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,yi,"__init__"),null,e,ye(Oe({delimiters:t,delimited_expression_parser_info_class:r},n)))}))}}),wi={};fe(wi,"",dr);var ki="pylatexenc.latexnodes.parsers._expression",bi=me(wi.getLogger,wi,ki),xi=ve("_TryAgainWithSkippedCommentNodes",[Vt],{__module__:ki,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"skipped_comment_nodes":t=a[i];break;case"pos":r=a[i]}}}me(me(we,null,xi,"__init__"),null,e,"<internal>"),e.skipped_comment_nodes=t,e.pos=r}))}}),Oi=ve("LatexExpressionParser",[ti],{__module__:ki,get __init__(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!0;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"include_skipped_comments":t=i[o];break;case"single_token_requiring_arg_is_error":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,Oi,"__init__"),null,e,ye(n)),e.include_skipped_comments=t,e.single_token_requiring_arg_is_error=r}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return!1}))},get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}for(var l,_=me((l=n).sub_context,l,ye({enable_environments:!1})),u=[];Ae(!0);){try{var c=function(){var i=e;return me(i._parse_single_token,i,t,r,_,ye(Oe({parsing_state:n},a)))}()}catch(e){if(ze(e,xi)){var f=e;u=me(Dt,null,u,f.skipped_comment_nodes);continue}throw e}if(Ae(!Ae(u=me(Dt,null,u,c))))var d=function(){var e,n=t;return me(n.make_nodelist,n,[],ye({pos:(e=r,me(e.cur_pos,e)),pos_end:function(){var e=r;return me(e.cur_pos,e)}()}))}();else if(Ae(St(me(Te,null,u),1)))d=Ft(u,0);else{var h=function(){var e=t;return me(e.make_nodelist,e,u)}();d=function(){var e=t;return me(e.make_node,e,qr,ye({parsing_state:n,nodelist:h,delimiters:at(["",""]),pos:h.pos,pos_end:h.pos_end}))}()}return function(){var e=bi;me(e.debug,e,"thenodelist = %r",d)}(),at([d,null])}}))},get _parse_single_token(){return de(this,(function(e,t,r,n,a){var i,o=wt();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"latex_walker":t=l[_];break;case"token_reader":r=l[_];break;case"expr_parsing_state":n=l[_];break;case"parsing_state":a=l[_];break;default:o[_]=l[_]}delete o.__kwargtrans__}}try{var u=me((i=r).next_token,i,ye({parsing_state:n}))}catch(e){if(!ze(e,Sr)){if(ze(e,Tr)){f=e,d=function(){var e,n=t;return me(n.check_tolerant_parsing_ignore_error,n,me(Er,null,"End of input encountered but we expected an expression",ye({pos:(e=r,me(e.cur_pos,e)),error_type_info:wt({what:"expression_required_got_unexpected",unexpected:"end_of_stream"})})))}();if(Ae(null!==d))throw(c=d).__cause__=null,c;return[]}throw e}var c,f=e,d=function(){var e=t;return me(e.check_tolerant_parsing_ignore_error,e,f)}();if(Ae(null!==d))throw(c=d).__cause__=null,c;u=d.recovery_token_placeholder;!function(){var e=r;me(e.move_to_pos_chars,e,d.recovery_token_at_pos)}()}if(Ae(St(u.tok,"macro"))){var h=u.arg;if(Ae(Ae(e.single_token_requiring_arg_is_error)&&Se(h,at(["begin","end"])))){d=function(){var e,r=t;return me(r.check_tolerant_parsing_ignore_error,r,me(Er,null,me((e="Expected expression, got \\{}").format,e,h),ye({pos:u.pos,error_type_info:wt({what:"expression_required_got_unexpected",unexpected:"beginend",beginend:h})})))}();if(Ae(null!==d)){var p=d;throw p.__cause__=null,p}return[function(){var e=t;return me(e.make_node,e,Vr,ye({parsing_state:a,macroname:h,spec:null,nodeargd:null,macro_post_space:u.post_space,pos:u.pos,pos_end:u.pos_end}))}()]}var g=function(){var e=a.latex_context;return me(e.get_macro_spec,e,h)}(),v=function(){var r,n=e;return me(n._check_if_requires_args,n,t,g,u,me((r="a single macro ‘\\{}’").format,r,h))}();return[function(){var e=t;return me(e.make_node,e,Vr,ye({parsing_state:a,macroname:u.arg,spec:g,nodeargd:v,macro_post_space:u.post_space,pos:u.pos,pos_end:u.pos_end}))}()]}if(Ae(St(u.tok,"specials"))){var m=u.arg;v=function(){var r,n=e;return me(n._check_if_requires_args,n,t,m,u,me((r="specials ‘{}’").format,r,m.specials_chars))}();return[function(){var e=t;return me(e.make_node,e,Yr,ye({parsing_state:a,specials_chars:m.specials_chars,spec:m,nodeargd:v,pos:u.pos,pos_end:u.pos_end}))}()]}if(Ae(St(u.tok,"comment"))){if(Ae(e.include_skipped_comments))var y=[function(){var e=t;return me(e.make_node,e,Hr,ye({parsing_state:a,comment:u.arg,comment_post_space:u.post_space,pos:u.pos,pos_end:u.pos_end}))}()];else y=[];var w=me(xi,null,y,u.pos);throw w.__cause__=null,w}if(Ae(St(u.tok,"brace_open"))){!function(){var e=r;me(e.move_to_token,e,u)}();var k=function(){var e=t;return me(e.parse_content,e,me(yi,null,ye({delimiters:u.arg})),ye({token_reader:r,parsing_state:a}))}(),b=k[0],x=k[1];return function(){var e=bi;me(e.debug,e,"Got groupnode = %r",b)}(),Ae(null!==x)&&function(){var e=bi;me(e.warning,e,"Ignoring parsing_state_delta after parsing an expression group!")}(),[b]}if(Ae(St(u.tok,"brace_close"))){!function(){var e=r;me(e.move_to_token,e,u)}();d=me(Lr,null,ye({msg:function(){var e="Expected LaTeX expression, got closing brace ‘{}’";return me(e.format,e,u.arg)}(),pos:u.pos,recovery_nodes:function(){var e=t;return me(e.make_node,e,Ur,ye({parsing_state:a,chars:"",pos:u.pos,pos_end:u.pos}))}(),recovery_at_token:u,error_type_info:wt({what:"expression_required_got_unexpected",unexpected:"closing_latex_group",delimiter:u.arg})}));d._error_was_unexpected_closing_brace_in_expression=!0;var O=d;throw O.__cause__=null,O}if(Ae(St(u.tok,"char")))return[function(){var e=t;return me(e.make_node,e,Ur,ye({parsing_state:a,chars:u.arg,pos:u.pos,pos_end:u.pos_end}))}()];if(Ae(Se(u.tok,at(["mathmode_inline","mathmode_display"])))){if(Ae(function(){var e=u.arg;return me(e.startswith,e,"\\")}()))var P=function(){var e=t;return me(e.make_node,e,Vr,ye({parsing_state:a,macroname:u.arg,macro_post_space:u.post_space,pos:u.pos,pos_end:u.pos_end}))}();else P=function(){var e=t;return me(e.make_node,e,Ur,ye({parsing_state:a,chars:u.arg,pos:u.pos,pos_end:u.pos_end}))}();var E=me(Lr,null,function(){var e="Unexpected math mode delimiter ‘{}’, was expecting a LaTeX expression";return me(e.format,e,u.arg)}(),ye({pos:u.pos,recovery_nodes:P,recovery_past_token:u,error_type_info:wt({what:"expression_required_got_unexpected",unexpected:"math_mode_delimiter",mathmode_type:u.tok,delimiter:u.arg})}));throw E.__cause__=null,E}var C=me(Er,null,function(){var e="Unknown token type: ‘{}’";return me(e.format,e,u.tok)}(),ye({pos:u.pos}));throw C.__cause__=null,C}))},get _check_if_requires_args(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"spec":r=o[s];break;case"got_token":n=o[s];break;case"what_we_got":a=o[s]}}}if(Ae(e.single_token_requiring_arg_is_error)){var l=(f=me((c=r).get_node_parser,c,n),me(f.contents_can_be_empty,f));if(function(){var e=bi;me(e.debug,e,"Checking if %s/‘%s’ requires an arg: %r",n.tok,n.arg,l)}(),Ae(!Ae(l))){var _=function(){var e=t;return me(e.check_tolerant_parsing_ignore_error,e,me(Er,null,function(){var e="Expected a LaTeX expression but got {} which expects arguments; did you mean to provide an expression in {{curly braces}} ?";return me(e.format,e,a)}(),ye({pos:n.pos,error_type_info:wt({what:"expression_required_got_unexpected",unexpected:"callable_with_mandatory_arguments",callable_token:n})})))}();if(Ae(null!==_)){var u=_;throw u.__cause__=null,u}return null}}var c,f;return me(jr,null)}))}}),Pi="pylatexenc.latexnodes.parsers._optionals",Ei=ve("LatexOptionalSquareBracketsParser",[yi],{__module__:Pi,get __init__(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=at(["[","]"]);if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"delimiters":t=i[o];break;case"optional":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,Ei,"__init__"),null,e,ye(Oe({delimiters:t,optional:r},n)))}))}}),Ci=ve("LatexOptionalCharsMarkerParser",[ti],{__module__:Pi,get __init__(){return de(this,(function(e,t,r,n,a,i){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=!0;var o,s,l,_=wt();if(arguments.length){var u=arguments.length-1;if(arguments[u]&&arguments[u].hasOwnProperty("__kwargtrans__")){var c=arguments[u--];for(var f in c)switch(f){case"self":e=c[f];break;case"chars":t=c[f];break;case"following_arg_parser":r=c[f];break;case"include_chars_node_before_following_arg":n=c[f];break;case"return_none_instead_of_empty":a=c[f];break;case"allow_pre_space":i=c[f];break;default:_[f]=c[f]}delete _.__kwargtrans__}}if(me(me(we,null,Ci,"__init__"),null,e,ye(_)),e.chars=me(" ".join," ",(s=me((o=t).strip,o),me(s.py_split,s))),e.following_arg_parser=r,e.include_chars_node_before_following_arg=n,e.return_none_instead_of_empty=a,e.allow_pre_space=i,Ae(!Ae(e.chars))){var d=me(Yt,null,me((l="Invalid chars={!r}, needs to be non-empty string (after stripping whitespce)").format,l,t));throw d.__cause__=null,d}}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return!0}))},get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}var l,_=me((l=r).peek_token,l,ye({parsing_state:n})),u=null,c="",f=!1,d=null;try{for(;Ae(!0);){var h=function(){var e=r;return me(e.next_token,e,ye({parsing_state:n}))}();if(Ae(null===d))if(Ae(Ae((d=h).pre_space)&&!Ae(e.allow_pre_space)))return at([null,null]);if(Ae(Lt(h.tok,"char")))break;if(Ae(Ae(c)&&h.pre_space))var c=me(Dt,null,c," ");if(Ae(St(c=me(Dt,null,c,h.arg),e.chars))){f=!0,u=h.pos_end;break}if(Ae(!Ae(function(){var t=e.chars;return me(t.startswith,t,c)}())))break}}finally{Ae(!Ae(f))&&function(){var e=r;me(e.move_to_token,e,_)}()}if(Ae(!Ae(f))){if(Ae(e.return_none_instead_of_empty))return at([null,null]);var p=function(){var e=t;return me(e.make_nodelist,e,[],ye({pos:orig_pos_token.pos,pos_end:orig_pos_token.pos,parsing_state:n}))}();return at([p,null])}var g=[];if(Ae(e.include_chars_node_before_following_arg))g=me(Dt,null,g,[function(){var r=t;return me(r.make_node,r,Ur,ye({parsing_state:n,chars:e.chars,pos:_.pos,pos_end:u}))}()]);var v=null;if(Ae(null!==e.following_arg_parser)){var m=function(){var a=t;return me(a.parse_content,a,e.following_arg_parser,ye({token_reader:r,parsing_state:n}))}(),y=m[0];v=m[1],g=me(Dt,null,g,y)}g=function(){var e=t;return me(e.make_nodelist,e,g,ye({parsing_state:n}))}();return at([g,v])}))}}),Ni={};fe(Ni,"",dr);var Si="pylatexenc.latexnodes.parsers._stdarg",Li=me(Ni.getLogger,Ni,Si),Ti=wt({}),Ai=function(e){var t,r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)if("arg_spec"===i)e=a[i];else r[i]=a[i];delete r.__kwargtrans__}}if(Ae(!Ae(r)))var o=e;else{var s=wt({arg_spec:e});me((t=s).py_update,t,r);o=me(at,null,me(nt,null,function(){var e=s;return me(e.py_items,e)}()))}if(Ae(!Se(o,Ti))){var l=me(Mi,null,e,ye(r));return Gt(Ti,o,l),l}return Ft(Ti,o)},Mi=ve("LatexStandardArgumentParser",[ti],{__module__:Si,get __init__(){return de(this,(function(e,t,r,n,a){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="{";if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;var i=wt();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"arg_spec":t=s[l];break;case"include_skipped_comments":r=s[l];break;case"expression_single_token_requiring_arg_is_error":n=s[l];break;case"allow_pre_space":a=s[l];break;default:i[l]=s[l]}delete i.__kwargtrans__}}me(me(we,null,Mi,"__init__"),null,e,ye(i)),e.arg_spec=t,e.include_skipped_comments=r,e.expression_single_token_requiring_arg_is_error=n,e.allow_pre_space=a,e._arg_parser=null}))},get get_arg_parser_instance(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"arg_spec":t=n[a]}}}if(Ae(Se(t,at(["m","{"]))))return me(Oi,null,ye({include_skipped_comments:e.include_skipped_comments,single_token_requiring_arg_is_error:e.expression_single_token_requiring_arg_is_error}));if(Ae(Se(t,at(["o","["]))))return me(yi,null,ye({delimiters:at(["[","]"]),optional:!0,allow_pre_space:e.allow_pre_space}));if(Ae(Se(t,at(["s","*"]))))return me(Ci,null,ye({chars:"*",allow_pre_space:e.allow_pre_space}));if(Ae(me((_=t).startswith,_,"t"))){if(Ae(Lt(me(Te,null,t),2)))throw(u=me(Yt,null,"arg_spec for an optional char argument should be of the form ‘t<char>’")).__cause__=null,u;var i=Ft(t,1);return me(Ci,null,ye({chars:i,allow_pre_space:e.allow_pre_space}))}if(Ae(function(){var e=t;return me(e.startswith,e,"r")}())){if(Ae(Lt(me(Te,null,t),3)))throw(u=me(Yt,null,"arg_spec for a required delimited argument should be of the form ‘r<char1><char2>’")).__cause__=null,u;var o=Ft(t,1),s=Ft(t,2);return me(yi,null,ye({delimiters:at([o,s]),optional:!1,allow_pre_space:e.allow_pre_space}))}if(Ae(function(){var e=t;return me(e.startswith,e,"d")}())){if(Ae(Lt(me(Te,null,t),3)))throw(u=me(Yt,null,"arg_spec for an optional delimited argument should be of the form ‘d<char1><char2>’")).__cause__=null,u;o=Ft(t,1),s=Ft(t,2);return me(yi,null,ye({delimiters:at([o,s]),optional:!0,allow_pre_space:e.allow_pre_space}))}if(Ae(function(){var e=t;return me(e.startswith,e,"v")}())){if(Ae(St(me(Te,null,t),1)))var l=null;else{if(!Ae(St(me(Te,null,t),3)))throw(u=me(Yt,null,"arg_spec for a verbatim argument should be either ‘v’ or ‘v<char1><char2>’")).__cause__=null,u;l=at([Ft(t,1),Ft(t,2)])}return me(ai,null,ye({delimiter_chars:l}))}var _,u=me(Yt,null,function(){var e="Unknown argument specification: {!r}";return me(e.format,e,t)}());throw u.__cause__=null,u}))},get parse(){return de(this,(function(e,t,r,n){var a,i=wt();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"latex_walker":t=s[l];break;case"token_reader":r=s[l];break;case"parsing_state":n=s[l];break;default:i[l]=s[l]}delete i.__kwargtrans__}}Ae(null===e._arg_parser)&&(e._arg_parser=me((a=e).get_arg_parser_instance,a,e.arg_spec));var _=e._arg_parser,u=function(){var e=t;return me(e.parse_content,e,_,ye(Oe({token_reader:r,parsing_state:n},i)))}(),c=u[0],f=u[1];return at([c,f])}))}}),Ii=ve("LatexCharsGroupParser",[yi],{__module__:Si,get __init__(){return de(this,(function(e,t,r,n){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=at(["{","}"]);if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"delimiters":t=o[s];break;case"enable_comments":r=o[s];break;case"enable_groups":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}me(me(we,null,Ii,"__init__"),null,e,ye(Oe({delimiters:t,delimited_expression_parser_info_class:Ii.CharsContentsParserInfo},a))),e.enable_comments=r,e.enable_groups=n}))},CharsContentsParserInfo:ve("CharsContentsParserInfo",[mi],{__module__:Si,get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a;e.contents_parsing_state=me((a=e.group_parsing_state).sub_context,a,ye({enable_macros:!1,enable_environments:!1,enable_comments:e.delimited_expression_parser.enable_comments,enable_groups:e.delimited_expression_parser.enable_groups,enable_specials:!1,enable_math:!1})),e.current_parsing_state=e.contents_parsing_state,e.parsed_delimiters=function(){var t=e;return me(t.get_parsed_delimiters,t)}(),function(){var t=Li;me(t.debug,t,"Initialized CharsContentsParserInfo; %r",e.__dict__)}()}))},get make_child_parsing_state(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":t=a[i];break;case"node_class":r=a[i]}}}return e.parsing_state}))},get stop_token_condition(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token":t=n[a]}}}var i;return me((i=Li).debug,i,"stop_token_condition: %r",t),!!Ae(Ae(St(t.tok,"brace_close"))&&St(t.arg,Ft(e.parsed_delimiters,1)))||(!!Ae(Ae(St(t.tok,"char"))&&St(t.arg,Ft(e.parsed_delimiters,1)))||null)}))}})}),Ri=ve("LatexCharsCommaSeparatedListParser",[yi],{__module__:Si,get __init__(){return de(this,(function(e,t,r,n,a,i){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=",";if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=at(["{","}"]);if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=!1;var o=wt();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"comma_char":t=l[_];break;case"delimiters":r=l[_];break;case"enable_comments":n=l[_];break;case"enable_groups":a=l[_];break;case"keep_empty_parts":i=l[_];break;default:o[_]=l[_]}delete o.__kwargtrans__}}me(me(we,null,Ri,"__init__"),null,e,ye(Oe({delimiters:r,delimited_expression_parser_info_class:Ri.CommaSepParserInfo},o))),e.comma_char=t,e.enable_comments=n,e.enable_groups=a,e.keep_empty_parts=i}))},CommaSepParserInfo:ve("CommaSepParserInfo",[mi],{__module__:Si,get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a;e.comma_char=e.delimited_expression_parser.comma_char,e.contents_parsing_state=me((a=e.group_parsing_state).sub_context,a,ye({enable_macros:!1,enable_environments:!1,enable_comments:e.delimited_expression_parser.enable_comments,enable_groups:e.delimited_expression_parser.enable_groups,enable_specials:!1,enable_math:!1})),e.parsed_delimiters=function(){var t=e;return me(t.get_parsed_delimiters,t)}(),function(){var t=Li;me(t.debug,t,"Initialized CommaSepContentsParserInfo; %r",e.__dict__)}()}))},get make_child_parsing_state(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":t=a[i];break;case"node_class":r=a[i]}}}return e.parsing_state}))},get make_content_parser(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"latex_walker":t=a[i];break;case"token_reader":r=a[i]}}}return me(Di,null,e)}))}})}),Di=ve("_CommaSepContentCustomParser",[ti],{__module__:Si,get __init__(){return de(this,(function(e,t){var r,n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"contents_parser_info":t=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,Di,"__init__"),null,e,ye(n)),e.contents_parser_info=t,e.main_content_parser=me(_i,null,ye({stop_token_condition:e.stop_token_condition,make_child_parsing_state:t.make_child_parsing_state,require_stop_condition_met:!0,handle_stop_condition_token:e.handle_stop_condition_token,stop_condition_message:(r="Expected matching ‘{}’ of ‘{}’-separated group initiated by ‘{}’",me(r.format,r,Ft(t.parsed_delimiters,1),e.contents_parser_info.comma_char,Ft(t.parsed_delimiters,0)))})),e.current_parsing_state=e.contents_parser_info.contents_parsing_state,e.comma_sep_arg_list=[],e.parsing_state_delta=null,e.parse_more=!0,e.pos_start=null,e.is_very_first_element=!0,e.last_element_pos_start=null,e.last_delimiter_token=null,e.last_element_pos_end=null}))},get stop_token_condition(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token":t=n[a]}}}var i;return me((i=Li).debug,i,"stop_token_condition: %r",t),!!Ae(Ae(St(t.tok,"brace_close"))&&St(t.arg,Ft(e.contents_parser_info.parsed_delimiters,1)))||!!Ae(St(t.tok,"char"))&&(!!Ae(St(t.arg,Ft(e.contents_parser_info.parsed_delimiters,1)))||!!Ae(St(t.arg,e.contents_parser_info.comma_char)))}))},get handle_stop_condition_token(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"token":t=o[s];break;case"latex_walker":r=o[s];break;case"token_reader":n=o[s];break;case"parsing_state":a=o[s]}}}var l;me((l=n).move_past_token,l,t),Ae(St(t.tok,"brace_close"))?(e.last_delimiter_token=null,e.last_element_pos_end=t.pos,e.parse_more=!1):(e.last_delimiter_token=t,e.last_element_pos_end=t.pos_end,e.parse_more=!0)}))},get parse(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"latex_walker":t=i[o];break;case"token_reader":r=i[o];break;case"parsing_state":n=i[o]}}}var s,l;for(me((l=Li).debug,l,"parse_content! token pos is %r",me((s=r).cur_pos,s)),e.pos_start=function(){var e=r;return me(e.cur_pos,e)}(),e.parse_more=!0;Ae(e.parse_more);)!function(){var n=e;me(n._parse_one_commasep_arg,n,t,r)}(),Ae(Ae(e.parse_more)&&null!==e.parsing_state_delta)&&(e.current_parsing_state=function(){var r=e.parsing_state_delta;return me(r.get_updated_parsing_state,r,e.current_parsing_state,t)}());var _=function(){var r=t;return me(r.make_nodelist,r,e.comma_sep_arg_list,ye({pos:e.pos_start,pos_end:e.last_element_pos_end,parsing_state:n}))}();return at([_,e.parsing_state_delta])}))},get _parse_one_commasep_arg(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"latex_walker":t=a[i];break;case"token_reader":r=a[i]}}}var o;me((o=Li).debug,o,"_parse_one_commasep_arg()"),e.last_element_pos_start=function(){var e=r;return me(e.cur_pos,e)}(),e.last_element_pos_end=null,e.last_delimiter_token=null;var s=function(){var n,a=t;return me(a.parse_content,a,e.main_content_parser,ye({token_reader:r,parsing_state:e.current_parsing_state,open_context:at([(n="Element {} of list separated by ‘{}’",me(n.format,n,me(Te,null,e.comma_sep_arg_list),e.contents_parser_info.comma_char)),e.contents_parser_info.first_token])}))}(),l=s[0],_=s[1];if(function(){var e=Li;me(e.debug,e,"_parse_one_commasep_arg(): nodelist = %r",l)}(),Ae(null===(u=e.last_element_pos_end))){!function(){var e=Li;me(e.debug,e,"_parse_one_commasep_arg(): STOP CONDITION DID NOT FIRE")}();var u=function(){var e=r;return me(e.final_pos,e)}();e.parse_more=!1}if(Ae(null===e.last_delimiter_token))var c="";else c=e.last_delimiter_token.arg;var f=function(){var r=t;return me(r.make_node,r,qr,ye({nodelist:l,parsing_state:e.current_parsing_state,delimiters:at(["",c]),pos:e.last_element_pos_start,pos_end:u}))}(),d=!0;if(Ae(!Ae(me(Te,null,l))))if(Ae(Ae(e.is_very_first_element)&&null===e.last_delimiter_token))d=!1;else if(Ae(e.keep_empty_parts))d=!0;else d=!1;Ae(d)&&function(){var t=e.comma_sep_arg_list;me(t.append,t,f)}(),e.parsing_state_delta=_,e.is_very_first_element=!1,function(){var t=Li;me(t.debug,t,"_parse_one_commasep_arg(), list is now %r",e.comma_sep_arg_list)}()}))}}),ji=ve("LatexTackOnInformationFieldMacrosParser",[ti],{__module__:Si,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macronames":t=i[o];break;case"allow_multiple":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,ji,"__init__"),null,e,ye(n)),e.macronames=me(it,null,t),Ae(!1===r)?e.allow_multiple=me(it,null):Ae(!0===r)?e.allow_multiple=e.macronames:e.allow_multiple=me(it,null,r),e.expression_parser=me(Oi,null)}))},get contents_can_be_empty(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return!0}))},get get_macro_arg_parser(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"macroname":t=n[a]}}}return e.expression_parser}))},get parse(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"latex_walker":t=i[o];break;case"token_reader":r=i[o];break;case"parsing_state":n=i[o]}}}for(var s,l=[],_=me(it,null);Ae(!0);){var u=(s=void 0,me((s=r).peek_token_or_none,s,n));if(Ae(Ae(null===u)||Ae(Lt(u.tok,"macro"))||!Se(u.arg,e.macronames))){!function(){var e=Li;me(e.debug,e,"Finished parsing tack-on macro arguments")}();break}var c=u.arg,f=!1;if(function(){var e=r;me(e.move_past_token,e,u)}(),Ae(Ae(Se(c,_))&&!Ae(Se(c,e.allow_multiple)))){var d=function(){var e="You cannot specify information field macro \\{} multiple times";return me(e.format,e,c)}(),h=me(Er,null,ye({msg:d,pos:u.pos,error_type_info:wt({what:"nodes_stdarg_illegal_multiple_information_field_macro",macroname:c})}));h=function(){var e=t;return me(e.check_tolerant_parsing_ignore_error,e,h)}();if(Ae(null!==h)){var p=h;throw p.__cause__=null,p}!function(){var e=Li;me(e.warning,e,"%s; ignoring the additional information field macros",d)}();f=!0}var g=function(){var t=e;return me(t.get_macro_arg_parser,t,c)}(),v=function(){var e,a=t;return me(a.parse_content,a,g,ye({token_reader:r,parsing_state:n,open_context:at([(e="Argument of information field macro \\{}",me(e.format,e,c)),u])}))}(),m=v[0],y=v[1];if(Ae(null!==y)&&function(){var e,t=Li;me(t.warning,t,me((e="Parsing state delta is ignored when parsing tack-on information field macro \\{}: {}").format,e,c,y))}(),!Ae(f)){var w=function(){var e,r=t;return me(r.make_node,r,qr,ye({parsing_state:n,delimiters:at([Pt("\\",c),""]),nodelist:(e=t,me(e.make_nodelist,e,[m],ye({parsing_state:n}))),pos:u.pos,pos_end:m.pos_end}))}();!function(){var e=l;me(e.append,e,w)}()}}var k=function(){var e=t;return me(e.make_nodelist,e,l,ye({parsing_state:n}))}();return at([k,null])}))}}),zi={};fe(zi,"",dr);var Fi="pylatexenc.latexnodes.parsers._math",Gi=(me(zi.getLogger,zi,Fi),ot),Ui=ve("LatexMathParserInfo",[gi],{__module__:Fi,get is_opening_delimiter(){return he(this,(function(e,t,r,n,a,i){var o,s=wt();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var _=arguments[l--];for(var u in _)switch(u){case"cls":e=_[u];break;case"delimiters":t=_[u];break;case"first_token":r=_[u];break;case"group_parsing_state":n=_[u];break;case"delimited_expression_parser":a=_[u];break;case"latex_walker":i=_[u];break;default:s[u]=_[u]}delete s.__kwargtrans__}}return!Ae(!Se(r.tok,at(["mathmode_inline","mathmode_display"])))&&!Ae(!Ae((o=e,me(o.check_opening_delimiter,o,ye({delimiters:t,parsed_opening_delimiter:r.arg,latex_walker:i})))))}))},get get_acceptable_open_delimiter_list(){return he(this,(function(e,t,r,n,a){var i=wt();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"cls":e=s[l];break;case"delimiters":t=s[l];break;case"group_parsing_state":r=s[l];break;case"delimited_expression_parser":n=s[l];break;case"latex_walker":a=s[l];break;default:i[l]=s[l]}delete i.__kwargtrans__}}return Ae(null!==t)?Ae(me(ze,null,t,Gi))?[t]:[Ft(t,0)]:function(){for(var e=[],t=Pt(r.latex_inline_math_delimiters,r.latex_display_math_delimiters),n=0;n<Te(t);n++){var a=Ft(t,n),i=a[0];a[1];me(e.append,e,i)}return e}()}))},get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a;e.math_mode_type=e.first_token.tok,e.math_mode_delimiter=e.first_token.arg,e.math_parsing_state=me(vn,null,e.parsing_state,me(pn,null,ye({math_mode_delimiter:e.math_mode_delimiter,trigger_token:e.first_token})),e.latex_walker),e.contents_parsing_state=e.math_parsing_state,e.parsed_delimiters=me((a=e).get_parsed_delimiters,a)}))},get stop_token_condition(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token":t=n[a]}}}return!!Ae(Ae(St(t.tok,e.math_mode_type))&&St(t.arg,Ft(e.parsed_delimiters,1)))}))},get get_matching_delimiter(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"opening_delimiter":t=n[a]}}}return Ft(e.math_parsing_state._math_expecting_close_delim_info,"close_delim")}))},get make_group_node_and_parsing_state_delta(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"nodelist":n=o[s];break;case"parsing_state_delta":a=o[s]}}}var l,_=me((l=r).cur_pos,l);if(Ae(St(e.math_mode_type,"mathmode_inline")))var u="inline";else if(Ae(St(e.math_mode_type,"mathmode_display")))u="display";else u="<unknown>";var c=function(){var r=t;return me(r.make_node,r,Xr,ye({displaytype:u,nodelist:n,parsing_state:e.parsing_state,delimiters:e.parsed_delimiters,pos:e.first_token.pos,pos_end:_}))}();return at([c,a])}))}}),qi=ve("LatexMathParser",[vi],{__module__:Fi,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"math_mode_delimiters":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}me(me(we,null,qi,"__init__"),null,e,ye(Oe({delimiters:t,discard_parsing_state_delta:!1,delimited_expression_parser_info_class:Ui},r)))}))}}),Hi={};fe(Hi,"",dr),fe({},"",Sn);var Vi="llm.llmfragment",Bi=me(Hi.getLogger,Hi,Vi),Wi=at(["is_block_level","resource_info","standalone_mode","silent","what","parsing_mode"]),Yi=ve("LLMFragment",[ge],{__module__:Vi,get __init__(){return de(this,(function(e,t,r){var n,a=null,i=null,o=!1,s=!1,l="(unknown)",_=!1,u=null,c=null,f=null;if(arguments.length){var d=arguments.length-1;if(arguments[d]&&arguments[d].hasOwnProperty("__kwargtrans__")){var h=arguments[d--];for(var p in h)switch(p){case"self":e=h[p];break;case"llm_text":t=h[p];break;case"environment":r=h[p];break;case"is_block_level":a=h[p];break;case"resource_info":i=h[p];break;case"standalone_mode":o=h[p];break;case"tolerant_parsing":s=h[p];break;case"what":l=h[p];break;case"silent":_=h[p];break;case"parsing_mode":u=h[p];break;case"input_lineno_colno_offsets":c=h[p];break;case"_llm_text_if_loading_nodes":f=h[p]}}}if(e.llm_text=t,e.environment=r,e.is_block_level=a,e.resource_info=i,e.standalone_mode=o,e.tolerant_parsing=s,e.what=l,e.silent=_,e.parsing_mode=u,Ae(me(ze,null,t,Qr)))return e.nodes=e.llm_text,e.latex_walker=e.nodes.latex_walker,void(Ae(f)?e.llm_text=f:e.llm_text=(n=e.nodes,me(n.latex_verbatim,n)));try{var g=function(){var t=Yi;return me(t.parse,t,e.llm_text,e.environment,ye({standalone_mode:e.standalone_mode,tolerant_parsing:e.tolerant_parsing,is_block_level:e.is_block_level,what:e.what,resource_info:e.resource_info,parsing_mode:e.parsing_mode,input_lineno_colno_offsets:c}))}();e.latex_walker=g[0],e.nodes=g[1]}catch(t){if(ze(t,fr.LatexWalkerParseError)){var v=t;if(Ae(!Ae(e.silent))){var m=function(){var t=e.environment;return me(t.get_parse_error_message,t,v)}();!function(){var t=Bi;me(t.error,t,"Parse error in latex-like markup ‘{}’: {}\nGiven text was:\n‘{}’\n\n".format(e.what,m,e.llm_text))}()}throw t.__cause__=null,t}if(ze(t,Vt)){v=t;throw Ae(!Ae(e.silent))&&function(){var t=Bi;me(t.error,t,"Error parsing latex-like markup ‘{}’: {}\nGiven text was:\n‘{}’\n\n".format(e.what,v,e.llm_text))}(),t.__cause__=null,t}throw t}}))},_attribute_fields:Wi,_fields:me(at,null,Pt(["nodes"],me(nt,null,Wi))),get _attributes(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}var i,o=function(){for(var t=[],r=e._attribute_fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a,me(Ce,null,e,a)])}return wt(t)}();return me((i=o).py_update,i,t),o}))},get render(){return de(this,(function(e,t){var r,n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"render_context":t=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}return me((r=t.fragment_renderer).render_fragment,r,e,t,ye(n))}))},get render_standalone(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"fragment_renderer":t=n[a]}}}if(Ae(!Ae(e.standalone_mode))){var i=me(Yt,null,"You can only use render_standalone() on a fragment that was parsed in standalone mode (use `standalone_mode=True` in the LLMFragment constructor)");throw i.__cause__=null,i}var o,s=me(Ja,null,ye({fragment_renderer:t}));return me((o=e).render,o,s)}))},get parse(){return he(this,(function(e,t,r){var n=!1,a=null,i=null,o=null,s=null,l=null,_=null;if(arguments.length){var u=arguments.length-1;if(arguments[u]&&arguments[u].hasOwnProperty("__kwargtrans__")){var c=arguments[u--];for(var f in c)switch(f){case"cls":e=c[f];break;case"llm_text":t=c[f];break;case"environment":r=c[f];break;case"standalone_mode":n=c[f];break;case"tolerant_parsing":a=c[f];break;case"is_block_level":i=c[f];break;case"parsing_mode":o=c[f];break;case"resource_info":s=c[f];break;case"what":l=c[f];break;case"input_lineno_colno_offsets":_=c[f]}}}var d,h=me((d=r).make_latex_walker,d,t,ye({is_block_level:i,parsing_mode:o,resource_info:s,standalone_mode:n,tolerant_parsing:a,what:l,input_lineno_colno_offsets:_})),p=function(){var e=h;return me(e.parse_content,e,me(ei.LatexGeneralNodesParser,ei))}(),g=p[0];p[1];return at([h,g])}))},get start_node_visitor(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node_visitor":t=n[a]}}}var i;me((i=t).start,i,e.nodes)}))},get is_empty(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return St(me(Te,null,me((a=e.llm_text).strip,a)),0);var a}))},get __bool__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return!Ae((a=e,me(a.is_empty,a)));var a}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}if(Ae(Mt(me(Te,null,a=e.llm_text),50)))var a=Pt(Ut(a,0,49,1),"…");return"<{} {}>".format(e.__class__.__name__,a)}))},get whitespace_stripped(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i,o=me((i=e.environment).make_fragment,i,me((a=e.llm_text).strip,a),ye(function(){var t=e;return me(t._attributes,t,ye({what:"{}:whitespace-stripped".format(e.what)}))}()));return o}))},get get_first_paragraph(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=me((a=e.nodes).split_at_node,a,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)"n"===n&&(e=r[n])}}return Ae(me((a=e).isNodeType,a,Yr))&&St(e.specials_chars,"\n\n");var a}),ye({max_split:1}));i=function(){for(var e=[],t=i,r=0;r<Te(t);r++){var n=Ft(t,r);Ae(Mt(me(Te,null,n),0))&&me(e.append,e,n)}return e}();if(Ae(!Ae(i)))return e;var o=Ft(i,0);return function(){var t,r=e.environment;return me(r.make_fragment,r,ye(Oe({llm_text:o},me((t=e)._attributes,t,ye({what:"{}:first-paragraph".format(e.what)})))))}()}))},get truncate_to(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=" …";if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"chars":t=i[o];break;case"min_chars":r=i[o];break;case"truncation_marker":n=i[o]}}}var s,l=me(Xi,null,ye({chars:t,min_chars:r,truncation_marker:n})),_=me((s=l).truncate_node_list,s,e.nodes);return function(){var r,n=e.environment;return me(n.make_fragment,n,ye(Oe({llm_text:_},me((r=e)._attributes,r,ye({what:"{}:tr-{}".format(e.what,t)})))))}()}))}}),Xi=ve("_NodeListTruncator",[ge],{__module__:Vi,get __init__(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"chars":t=i[o];break;case"min_chars":r=i[o];break;case"truncation_marker":n=i[o]}}}me(me(we,null,Xi,"__init__"),null,e),e.chars=t,e.min_chars=r,e.truncation_marker=n,e.count=0}))},get truncate_node_list(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"nodes":t=n[a]}}}e.count=0;var i,o=me((i=e).collect_nodes,i,t);return Ae(null===o)?t:o}))},get collect_nodes(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"nodes":t=n[a]}}}for(var i,o=me(tt,null,t),s=0;s<Te(o);s++){var l=Ft(o,s),_=l[0],u=l[1],c=(i=void 0,me((i=e).collect_node,i,u));if(Ae(null!==c)){var f=Ut(t,0,_,1);return Ae(!0!==c)&&function(){var e=f;me(e.extend,e,[c])}(),function(){var e=t.latex_walker;return me(e.make_nodelist,e,f,ye({parsing_state:t.parsing_state}))}()}}return null}))},get collect_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}return Ae(me((i=t).isNodeType,i,qr))?function(){var r=e;return me(r.collect_nodes_groupnode,r,t)}():Ae(function(){var e=t;return me(e.isNodeType,e,Vr)}())?function(){var r=e;return me(r.collect_nodes_macronode,r,t)}():Ae(function(){var e=t;return me(e.isNodeType,e,Br)}())?function(){var r=e;return me(r.collect_nodes_environmentnode,r,t)}():Ae(function(){var e=t;return me(e.isNodeType,e,Yr)}())?function(){var r=e;return me(r.collect_nodes_specialsnode,r,t)}():function(){var r=e;return me(r.collect_nodes_simplenode,r,t)}();var i}))},get collect_nodes_groupnode(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=me((i=e).collect_nodes,i,t.nodelist);if(Ae(null===o))return null;var s=function(){var e=t.latex_walker;return me(e.make_node,e,qr,ye({delimiters:t.delimiters,nodelist:o,parsing_state:t.parsing_state,pos:t.pos,pos_end:t.pos_end}))}();return s}))},get collect_node_argument(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}return Ae(me(ze,null,t,Qr))?me((i=e).collect_nodes,i,t):function(){var r=e;return me(r.collect_node,r,t)}();var i}))},get collect_nodes_macronode(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}if(Ae(me(Ne,null,t.spec,"_llm_main_text_argument"))){var i=t.spec._llm_main_text_argument,o=me(Xe,null,function(){for(var e=[],r=me(tt,null,t.spec.arguments_spec_list),n=0;n<Te(r);n++){var a=Ft(r,n),o=a[0];Ae(St(a[1].argname,i))&&me(e.append,e,o)}return Ye(e)}()),s=Ft(t.nodeargd.argnlist,o),l=me((c=e).collect_node_argument,c,s);if(Ae(l)){var _=Pt(Pt(Ut(t.nodeargd.argnlist,0,o,1),[l]),Ut(t.nodeargd.argnlist,Pt(o,1),null,1));if(Ae(null!==l)){var u=function(){var e=t.latex_walker;return me(e.make_node,e,Vr,ye({macroname:t.macroname,spec:t.spec,nodeargd:me(fr.ParsedArguments,fr,ye({arguments_spec_list:t.nodeargd.arguments_spec_list,argnlist:_})),macro_post_space:t.macro_post_space,parsing_state:t.parsing_state,pos:t.pos,pos_end:t.pos_end}))}();u=function(){var e=t.spec;return me(e.finalize_node,e,u)}();return u}}}var c;return null}))},get collect_nodes_environmentnode(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=me((i=e).collect_nodes,i,t.nodelist);if(Ae(null===o))return null;var s=function(){var e=t.latex_walker;return me(e.make_node,e,Br,ye({environmentname:t.environmentname,nodeargd:t.nodeargd,nodelist:o,parsing_state:t.parsing_state,pos:t.pos,pos_end:t.pos_end}))}();s=function(){var e=t.spec;return me(e.finalize_node,e,s)}();return s}))},get collect_nodes_specialsnode(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=me(Te,null,me((i=t).latex_verbatim,i));return!Ae(Tt(o,Et(e.chars,e.count)))||(e.count=me(Dt,null,e.count,o),null)}))},get collect_nodes_simplenode(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=me((i=e).estimate_simple_node_char_count,i,t);if(Ae(Tt(o,Et(e.chars,e.count))))return e.count=me(Dt,null,e.count,o),null;if(Ae(function(){var e=t;return me(e.isNodeType,e,Ur)}())){for(var s=t.chars,l=0,_=me(tt,null,s),u=0;u<Te(_);u++){var c=Ft(_,u),f=c[0],d=c[1];if(Ae(!Ae(function(){var e=d;return me(e.isalpha,e)}())))l=f;if(Ae(Mt(Pt(e.count,f),e.chars))&&Ae(Ae(null===e.min_chars)||It(Pt(e.count,l),e.min_chars)))break}var h=Pt(Ut(s,0,l,1),e.truncation_marker),p=function(){var e=t.latex_walker;return me(e.make_node,e,Ur,ye({chars:h,parsing_state:t.parsing_state,pos:t.pos,pos_end:t.pos_end}))}();return p}return!Ae(Tt(e.count,e.min_chars))||t}))},get estimate_simple_node_char_count(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}return Ae(me((i=t).isNodeType,i,Ur))?me(Te,null,t.chars):Ae(function(){var e=t;return me(e.isNodeType,e,Xr)}())?Ot(xt(me(Te,null,function(){var e=t;return me(e.latex_verbatim,e)}()),2),3):(Ae(function(){var e=t;return me(e.isNodeType,e,Hr)}()),0);var i}))}}),$i={};fe($i,"",dr);var Qi="llm.llmdocument",Zi=me($i.getLogger,$i,Qi),Ki=ve("LLMDocumentRenderContext",[Za],{__module__:Qi,get __init__(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"doc":t=o[s];break;case"fragment_renderer":r=o[s];break;case"feature_document_managers":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}me(me(we,null,Ki,"__init__"),null,e,ye(Oe({doc:t,fragment_renderer:r},a))),e.feature_document_managers=n,e.feature_render_managers=function(){for(var t,r=[],n=e.feature_document_managers,a=0;a<Te(n);a++){var i=Ft(n,a),o=i[0],s=i[1];t=void 0,me(r.append,r,Ae(Ae(null!==s)&&null!==s.RenderManager)?at([o,(t=s,me(t.RenderManager,t,s,e))]):at([o,null]))}return r}(),e.feature_render_managers_by_name=me(wt,null,e.feature_render_managers),e.is_first_pass=!0,e._delayed_render_nodes=wt({}),e._delayed_render_content=wt({})}))},get supports_feature(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"feature_name":t=n[a]}}}return Se(t,e.feature_render_managers_by_name)}))},get feature_render_manager(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"feature_name":t=n[a]}}}return Ft(e.feature_render_managers_by_name,t)}))},get register_delayed_render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"fragment_renderer":r=a[i]}}}var o=t.node_id;return Gt(e._delayed_render_nodes,o,t),o}))},get get_delayed_render_content(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i=t.node_id;return Ft(e._delayed_render_content,i)}))}}),Ji=ve("LLMDocument",[ge],{__module__:Qi,get __init__(){return de(this,(function(e,t,r,n,a,i){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"render_callback":t=s[l];break;case"environment":r=s[l];break;case"enable_features":n=s[l];break;case"feature_document_options":a=s[l];break;case"metadata":i=s[l]}}}if(me(me(we,null,Ji,"__init__"),null,e),e.environment=r,e.render_callback=t,e.metadata=i,Ae(null===n)?e.features=me(nt,null,r.features):e.features=function(){for(var e,t=[],a=n,i=0;i<Te(a);i++){var o=Ft(a,i);e=void 0,me(t.append,t,me((e=r).feature,e,o))}return t}(),Ae(null===a))a=wt({});e.feature_document_options=me(wt,null,a),e.feature_document_managers=function(){for(var t,r=[],n=e.features,a=0;a<Te(n);a++){var i=Ft(n,a);t=void 0,me(r.append,r,Ae(null!==i.DocumentManager)?at([i.feature_name,(t=i,me(t.DocumentManager,t,i,e))]):at([i.feature_name,null]))}return r}(),e.feature_document_managers_by_name=me(wt,null,e.feature_document_managers)}))},get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}for(var a,i=e.feature_document_managers,o=0;o<Te(i);o++){var s=Ft(i,o),l=s[0],_=s[1];if(Ae(null!==_)){var u=(a=void 0,me((a=e.feature_document_options).py_get,a,l,wt({})));!function(){var e=_;me(e.initialize,e,ye(u))}()}}}))},get supports_feature(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"feature_name":t=n[a]}}}return Se(t,e.feature_document_managers_by_name)}))},get feature_document_manager(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"feature_name":t=n[a]}}}return Ft(e.feature_document_managers_by_name,t)}))},get make_render_context(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"fragment_renderer":t=a[i];break;case"feature_render_options":r=a[i]}}}var o=me(Ki,null,e,t,e.feature_document_managers);if(Ae(null===r))r=wt({});r=me(wt,null,r);for(var s,l=o.feature_render_managers,_=0;_<Te(l);_++){var u=Ft(l,_),c=u[0],f=u[1];if(Ae(null!==f)){var d=(s=void 0,me((s=r).py_get,s,c,me(wt,null)));!function(){var e=f;me(e.initialize,e,ye(d))}()}}return o}))},get render(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"fragment_renderer":t=a[i];break;case"feature_render_options":r=a[i]}}}var o,s=me((o=e).make_render_context,o,t,ye({feature_render_options:r})),l=function(){var t=e;return me(t.render_callback,t,s)}();Ae(null===l)&&function(){var e=Zi;me(e.warning,e,"The LLM document render callback function returned `None`! Did you forget a ‘return ...’ instruction?")}();for(var _=s.feature_render_managers,u=0;u<Te(_);u++){(h=Ft(_,u))[0];Ae(null!==(p=h[1]))&&function(){var e=p;me(e.process,e,l)}()}for(_=function(){var e=s._delayed_render_nodes;return me(e.py_items,e)}(),u=0;u<Te(_);u++){var c=(h=Ft(_,u))[0],f=h[1];Gt(s._delayed_render_content,c,function(){var e=f.llm_specinfo;return me(e.render,e,f,s)}())}if(Ae(t.supports_delayed_render_markers)){var d=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("s"===a)e=n[a]}}return function(){var r=t;return me(r.replace_delayed_markers_with_final_values,r,e,s._delayed_render_content)}()};if(Ae(me(ze,null,l,wt)))l=function(){for(var e,t=[],r=me((e=l).py_items,e),n=0;n<Te(r);n++){var a=Ft(r,n),i=a[0],o=a[1];me(t.append,t,[i,me(d,null,o)])}return wt(t)}();else if(Ae(me(ze,null,l,nt)))l=function(){for(var e=[],t=l,r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,me(d,null,n))}return e}();else l=me(d,null,l)}else{!function(){var e=s;me(e.set_render_pass,e,"second-pass")}();l=function(){var t=e;return me(t.render_callback,t,s)}()}for(_=s.feature_render_managers,u=0;u<Te(_);u++){var h,p;(h=Ft(_,u))[0];Ae(null!==(p=h[1]))&&function(){var e=p;me(e.postprocess,e,l)}()}return at([l,s])}))}}),eo=(j=i("fOdIC"),{});e(eo,"EnvironmentSpec",(function(){return Qo})),e(eo,"LatexArgumentsParser",(function(){return yo})),e(eo,"SpecialsSpec",(function(){return Zo})),e(eo,"LatexSpecialsCallParser",(function(){return so})),e(eo,"MacroSpec",(function(){return $o})),e(eo,"LatexContextDb",(function(){return Ho})),e(eo,"ParsingStateDeltaExtendLatexContextDb",(function(){return Vo})),e(eo,"LatexEnvironmentCallParser",(function(){return oo})),e(eo,"LatexEnvironmentBodyContentsParser",(function(){return fo})),e(eo,"LatexMacroCallParser",(function(){return io}));var to={};fe(to,"",dr);var ro="pylatexenc.macrospec._macrocallparser",no=me(to.getLogger,to,ro),ao=ve("_LatexCallableParserBase",[ti],{__module__:ro,get __init__(){return de(this,(function(e,t,r,n,a,i,o){if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=!1;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"token_call":t=l[_];break;case"spec_object":r=l[_];break;case"what":n=l[_];break;case"node_class":a=l[_];break;case"node_extra_kwargs":i=l[_];break;case"parse_body":o=l[_]}}}var u;me(me(we,null,ao,"__init__"),null,e),me((u=no).debug,u,"_LatexCallableParserBase, token_call=%r, spec_object=%r (%s)",t,r,n),e.token_call=t,e.spec_object=r,e.what=n,e.node_class=a,e.node_extra_kwargs=i,e.arguments_parser=e.spec_object.arguments_parser,e.parse_body=o,e.make_arguments_parsing_state_delta=e.spec_object.make_arguments_parsing_state_delta,e.make_body_parsing_state_delta=e.spec_object.make_body_parsing_state_delta,e.make_after_parsing_state_delta=e.spec_object.make_after_parsing_state_delta}))},get parse_call_arguments(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}var l,_=me(vn,null,n,me((l=e).make_arguments_parsing_state_delta,l,ye({token:e.token_call,latex_walker:t})),t),u=function(){var n=t;return me(n.parse_content,n,e.arguments_parser,r,_,ye(a))}(),c=u[0],f=u[1];return at([c,f])}))},get make_body_parser_and_parsing_state(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"nodeargd":t=o[s];break;case"arg_parsing_state_delta":r=o[s];break;case"parsing_state":n=o[s];break;case"latex_walker":a=o[s]}}}var l=me(RuntimeError,null,"No default implementation of make_body_parser_and_parsing_state() in base class");throw l.__cause__=null,l}))},get parse_call_body(){return de(this,(function(e,t,r,n,a,i){var o=wt();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"nodeargd":t=l[_];break;case"arg_parsing_state_delta":r=l[_];break;case"latex_walker":n=l[_];break;case"token_reader":a=l[_];break;case"parsing_state":i=l[_];break;default:o[_]=l[_]}delete o.__kwargtrans__}}var u,c=(d=me((u=e).make_body_parser_and_parsing_state,u,t,r,i,n))[0],f=d[1],d=function(){var e=n;return me(e.parse_content,e,c,a,f,ye(o))}(),h=d[0],p=d[1];return at([h,p])}))},get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}var l,_=e.token_call.pos;if(Ae(null!==e.arguments_parser))var u=(f=me((l=e).parse_call_arguments,l,t,r,n,ye(a)))[0],c=f[1];else u=(f=at([null,null]))[0],c=f[1];if(function(){var e=no;me(e.debug,e,"Parsed macro/env/specials arguments; nodeargd=%r, arg_parsing_state_delta=%r",u,c)}(),Ae(e.parse_body))var f=function(){var i=e;return me(i.parse_call_body,i,u,c,t,r,n,ye(a))}(),d=f[0],h=f[1];else{Ae(null!==c)&&function(){var t=no;me(t.warning,t,"Parsing carry-over information (%r) ignored after arguments to %s!",c,e.what)}();d=null,h=null}Ae(null!==h)&&function(){var e=no;me(e.warning,e,"Parsing carry-over information (%r) ignored after body!",h)}();var p=function(){var e=r;return me(e.cur_pos,e)}(),g=me(wt,null,e.node_extra_kwargs);Ae(e.parse_body)&&Gt(g,"nodelist",d);var v=function(){var r=t;return me(r.make_node,r,e.node_class,ye(Oe({parsing_state:n,spec:e.spec_object,nodeargd:u,pos:_,pos_end:p},g)))}(),m=(v=function(){var t=e.spec_object;return me(t.finalize_node,t,v)}(),function(){var r=e;return me(r.make_after_parsing_state_delta,r,ye({parsed_node:v,latex_walker:t}))}());return function(){var e=no;me(e.debug,e,"Parsed macro/env/specials call - node %r - parsing_state_delta %r",v,m)}(),at([v,m])}))}}),io=ve("LatexMacroCallParser",[ao],{__module__:ro,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"token_call":t=a[i];break;case"macrospec":r=a[i]}}}var o,s=t.arg,l=t.post_space;me(me(we,null,io,"__init__"),null,e,ye({token_call:t,spec_object:r,what:(o="macro call (\\{})",me(o.format,o,s)),node_class:Vr,node_extra_kwargs:me(wt,null,ye({macroname:s,macro_post_space:l}))})),e.macroname=s,e.macro_post_space=l}))}}),oo=ve("LatexEnvironmentCallParser",[ao],{__module__:ro,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"token_call":t=a[i];break;case"environmentspec":r=a[i]}}}var o,s=t.arg;me(me(we,null,oo,"__init__"),null,e,ye({token_call:t,spec_object:r,what:(o="environment {}{}{}",me(o.format,o,"{",s,"}")),parse_body:!0,node_class:Br,node_extra_kwargs:me(wt,null,ye({environmentname:s}))})),e.environmentname=s}))},get make_body_parser_and_parsing_state(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"nodeargd":t=o[s];break;case"arg_parsing_state_delta":r=o[s];break;case"parsing_state":n=o[s];break;case"latex_walker":a=o[s]}}}var l;Ae(null!==r)&&me((l=no).warning,l,"Parsing carry-over information (%r) ignored after arguments to %s!",r,e.what);var _=function(){var n=e.spec_object;return me(n.make_body_parser,n,e.token_call,t,r)}(),u=me(vn,null,n,function(){var n=e;return me(n.make_body_parsing_state_delta,n,ye({token:e.token_call,nodeargd:t,arg_parsing_state_delta:r,latex_walker:a}))}(),a);return at([_,u])}))},get _handle_stop_condition_token(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"t":t=o[s];break;case"latex_walker":r=o[s];break;case"token_reader":n=o[s];break;case"parsing_state":a=o[s]}}}var l;me((l=n).move_past_token,l,t)}))},get _parse_body_token_stop_condition(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"t":t=n[a]}}}return!!Ae(Ae(St(t.tok,"end_environment"))&&St(t.arg,e.environmentname))}))}}),so=ve("LatexSpecialsCallParser",[ao],{__module__:ro,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"token_call":t=a[i];break;case"specialsspec":r=a[i]}}}var o,s=r.specials_chars;me(me(we,null,so,"__init__"),null,e,ye({token_call:t,spec_object:r,what:(o="specials ‘{}’",me(o.format,o,s)),node_class:Yr,node_extra_kwargs:me(wt,null,ye({specials_chars:s}))})),e.specials_chars=s}))}}),lo={};fe(lo,"",dr);var _o="pylatexenc.macrospec._environmentbodyparser",uo=me(lo.getLogger,lo,_o),co=ve("LatexEnvironmentBodyContentsParserInfo",[gi],{__module__:_o,get parse_initial(){return he(this,(function(e,t,r,n,a,i,o){if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"cls":e=l[_];break;case"delimiters":t=l[_];break;case"allow_pre_space":r=l[_];break;case"latex_walker":n=l[_];break;case"token_reader":a=l[_];break;case"group_parsing_state":i=l[_];break;case"delimited_expression_parser":o=l[_]}}}return[]}))},get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=me((a=e.delimited_expression_parser).get_contents_parsing_state_delta,a);e.contents_parsing_state=me(vn,null,e.group_parsing_state,i,e.latex_walker),e.child_parsing_state_delta=function(){var t=e.delimited_expression_parser;return me(t.get_child_parsing_state_delta,t)}(),e.parsed_delimiters=at([function(){var t="\\begin{}{}{}";return me(t.format,t,"{",e.delimited_expression_parser.environmentname,"}")}(),function(){var t="\\end{}{}{}";return me(t.format,t,"{",e.delimited_expression_parser.environmentname,"}")}()]),function(){var t=uo;me(t.debug,t,"initializing environment body contents delimited parser: environmentname=%r,parsing_state=%r, group_parsing_state=%r, contents_parsing_state=%r",e.delimited_expression_parser.environmentname,e.parsing_state,e.group_parsing_state,e.contents_parsing_state)}()}))},get get_open_context_description(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return null}))},get stop_token_condition(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token":t=n[a]}}}return!!Ae(Ae(St(t.tok,"end_environment"))&&St(t.arg,e.delimited_expression_parser.environmentname))}))},get make_group_node_and_parsing_state_delta(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"nodelist":n=o[s];break;case"parsing_state_delta":a=o[s]}}}if(Ae(null===n)){me((l=uo).warning,l,"environment body contents parser: parsed nodelist is None");n=function(){var r=t;return me(r.make_nodelist,r,ye({nodelist:[],parsing_state:e.contents_parsing_state}))}()}var l;return at([n,a])}))}}),fo=ve("LatexEnvironmentBodyContentsParser",[vi],{__module__:_o,get __init__(){return de(this,(function(e,t,r,n,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!0;var i=wt();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"environmentname":t=s[l];break;case"contents_parsing_state_delta":r=s[l];break;case"child_parsing_state_delta":n=s[l];break;case"discard_parsing_state_delta":a=s[l];break;default:i[l]=s[l]}delete i.__kwargtrans__}}me(me(we,null,fo,"__init__"),null,e,ye(Oe({delimiters:null,discard_parsing_state_delta:a,delimited_expression_parser_info_class:co},i))),e.environmentname=t,e.contents_parsing_state_delta=r,e.child_parsing_state_delta=n}))},get get_contents_parsing_state_delta(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e.contents_parsing_state_delta}))},get get_child_parsing_state_delta(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e.child_parsing_state_delta}))}}),ho={};fe(ho,"",dr);var po="pylatexenc.macrospec._argumentsparser",go=me(ho.getLogger,ho,po),vo=ot,mo=ve("LatexNoArgumentsParser",[ti],{__module__:po,get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}var l=me(jr,null,ye({arguments_spec_list:[],argnlist:[]}));return at([l,null])}))},get __eq__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}return e.__class__===t.__class__}))}}),yo=ve("LatexArgumentsParser",[ti],{__module__:po,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"arguments_spec_list":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}if(me(me(we,null,yo,"__init__"),null,e,ye(r)),Ae(null===t))t=[];e.arguments_spec_list=function(){for(var e=[],r=t,n=0;n<Te(r);n++){var a=Ft(r,n);me(e.append,e,Ae(!Ae(me(ze,null,a,Dr)))?me(Dr,null,a):a)}return e}()}))},get parse(){return de(this,(function(e,t,r,n){var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"latex_walker":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}for(var l,_=[],u=me(tt,null,e.arguments_spec_list),c=0;c<Te(u);c++){var f=(v=Ft(u,c))[0],d=v[1];l=void 0,me((l=go).debug,l,"Parsing argument %d / %s",f,d.parser);var h=function(){var e=r;return me(e.peek_token_or_none,e,ye({parsing_state:n}))}();if(Ae(me(ze,null,p=d.parser,vo)))var p=me(Ai,null,p);var g=me(vn,null,n,d.parsing_state_delta,t);!function(){var e=go;me(e.debug,e,"Argument %d will use parsing state = %r (delta was %r)",f,g,d.parsing_state_delta)}();var v=function(){var e,n=t;return me(n.parse_content,n,p,r,g,ye({open_context:at([(e="Argument {}",me(e.format,e,f)),h])}))}(),m=v[0],y=v[1];Ae(null!==y)&&function(){var e=go;me(e.warning,e,"Parsing state changes information (%r) ignored in arguments!",y)}(),function(){var e=_;me(e.append,e,m)}()}var w=me(jr,null,ye({arguments_spec_list:e.arguments_spec_list,argnlist:_}));return function(){var e=go;me(e.debug,e,"Parsed arguments = %r",w)}(),at([w,null])}))},get __eq__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}return Ae(e.__class__===t.__class__)&&St(e.arguments_spec_list,t.arguments_spec_list)}))}}),wo=(j=i("fOdIC"),{});e(wo,"bisect_right",(function(){return Lo})),e(wo,"LineNumbersCalculator",(function(){return To})),e(wo,"PushPropOverride",(function(){return Ao})),e(wo,"pylatexenc_deprecated_ver",(function(){return Mo})),e(wo,"pylatexenc_deprecated_2",(function(){return Io})),e(wo,"pylatexenc_deprecated_3",(function(){return Ro})),e(wo,"LazyDict",(function(){return Do})),e(wo,"ChainMap",(function(){return Po}));j=i("fOdIC");var ko={};fe(ko,"",dr);var bo,xo="collections",Oo=(me(ko.getLogger,ko,xo),{}),Po=ve("ChainMap",[ge],(bo={__module__:xo,get __init__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}var a=at([].slice.apply(arguments).slice(1,t+1))}else a=at();e.maps=Ae(me(nt,null,a))||[wt({})]}))},get __missing__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"key":t=n[a]}}}var i=me(Xt,null,t);throw i.__cause__=null,i}))},get __getitem__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"key":t=n[a]}}}for(var i,o=e.maps,s=0;s<Te(o);s++){var l=Ft(o,s);if(!Ae(!Se(t,l)))return Ft(l,t)}return me((i=e).__missing__,i,t)}))},get py_get(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"key":t=a[i];break;case"py_default":r=a[i]}}}return Ae(Se(t,e))?Ft(e,t):r}))},get __len__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(Te,null,(a=me(it,null),me.apply(void 0,[a.union,a].concat((0,j.default)(e.maps)))));var a}))},get __iter__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}for(var a,i,o=wt({}),s=me(Ze,null,e.maps),l=0;l<Te(s);l++){var _=Ft(s,l);a=void 0,i=void 0,me((i=o).py_update,i,me((a=wt).fromkeys,a,_))}return me(Ye,null,o)}))}},Ir(bo,Symbol.iterator,(function(){return this.__iter__()})),Oo.__contains__=Oo.__contains__||{},Oo.__contains__.get=function(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"key":t=n[a]}}}return me(Je,null,function(){for(var r=[],n=e.maps,a=0;a<Te(n);a++){var i=Ft(n,a);me(r.append,r,Se(t,i))}return Ye(r)}())}))},Oo.__bool__=Oo.__bool__||{},Oo.__bool__.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(Je,null,e.maps)}))},Oo.__repr__=Oo.__repr__||{},Oo.__repr__.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="{!r}({!r})").format,a,e.__class__.__name__,e.maps);var a}))},Oo.fromkeys=Oo.fromkeys||{},Oo.fromkeys.get=function(){return he(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"cls":e=n[a];break;case"iterable":t=n[a]}}var i=at([].slice.apply(arguments).slice(2,r+1))}else i=at();return me(e,null,(o=wt,me.apply(void 0,[o.fromkeys,o,t].concat((0,j.default)(i)))));var o}))},Oo.copy=Oo.copy||{},Oo.copy.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return i=e,me.apply(void 0,[i.__class__,i,(a=Ft(e.maps,0),me(a.copy,a))].concat((0,j.default)(Ut(e.maps,1,null,1))));var a,i}))},Ir(bo,"__copy__",rt),Oo.new_child=Oo.new_child||{},Oo.new_child.get=function(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"m":t=n[a]}}}if(Ae(null===t))t=wt({});return i=e,me.apply(void 0,[i.__class__,i,t].concat((0,j.default)(e.maps)));var i}))},Oo._get_parents=Oo._get_parents||{},Oo._get_parents.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return a=e,me.apply(void 0,[a.__class__,a].concat((0,j.default)(Ut(e.maps,1,null,1))));var a}))},Oo.__setitem__=Oo.__setitem__||{},Oo.__setitem__.get=function(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"key":t=a[i];break;case"value":r=a[i]}}}Gt(Ft(e.maps,0),t,r)}))},Oo.__delitem__=Oo.__delitem__||{},Oo.__delitem__.get=function(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"key":t=n[a]}}}try{Ft(Ft(e.maps,0),t)}catch(e){if(ze(e,Xt)){var i=me(Xt,null,"Key not found in the first mapping: {}".format(t));throw i.__cause__=null,i}throw e}}))},Oo.py_popitem=Oo.py_popitem||{},Oo.py_popitem.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}try{return me((i=Ft(e.maps,0)).py_popitem,i)}catch(e){if(ze(e,Xt)){var a=me(Xt,null,"No keys found in the first mapping.");throw a.__cause__=null,a}throw e}var i}))},Oo.py_pop=Oo.py_pop||{},Oo.py_pop.get=function(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"key":t=n[a]}}var i=at([].slice.apply(arguments).slice(2,r+1))}else i=at();try{return s=Ft(e.maps,0),me.apply(void 0,[s.py_pop,s,t].concat((0,j.default)(i)))}catch(e){if(ze(e,Xt)){var o=me(Xt,null,"Key not found in the first mapping: {}".format(t));throw o.__cause__=null,o}throw e}var s}))},Oo.py_clear=Oo.py_clear||{},Oo.py_clear.get=function(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a;me((a=Ft(e.maps,0)).py_clear,a)}))},Oo.__ior__=Oo.__ior__||{},Oo.__ior__.get=function(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}var i;return me((i=Ft(e.maps,0)).py_update,i,t),e}))},Oo.__or__=Oo.__or__||{},Oo.__or__.get=function(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}if(Ae(!Ae(me(ze,null,t,_collections_abc.Mapping))))return NotImplemented;var i,o=me((i=e).copy,i);return function(){var e=Ft(o.maps,0);me(e.py_update,e,t)}(),o}))},Oo.__ror__=Oo.__ror__||{},Oo.__ror__.get=function(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"other":t=n[a]}}}if(Ae(!Ae(me(ze,null,t,_collections_abc.Mapping))))return NotImplemented;for(var i,o=me(wt,null,t),s=me(Ze,null,e.maps),l=0;l<Te(s);l++){var _=Ft(s,l);i=void 0,me((i=o).py_update,i,_)}return function(){var t=e;return me(t.__class__,t,o)}()}))},Mr(bo,Oo),bo));Object.defineProperty(Po,"parents",ke.call(Po,Po._get_parents));var Eo={};e(Eo,"bisect_right",(function(){return Co}));var Co=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"a":e=n[a];break;case"x":t=n[a]}}}for(var i=0,o=me(Te,null,e),s=null;Ae(!0);){if(Ae(Mt(Ft(e,i),t)))return i;if(Ae(At(Ft(e,Et(o,1)),t)))return o;if(Ae(At(Et(o,i),2)))return Ae(Mt(Ft(e,Pt(i,1)),t))?Pt(i,1):Pt(i,2);if(Ae(Mt(Ft(e,s=Ot(Pt(o,i),2)),t)))o=Pt(s,1);else i=s}},No={};fe(No,"",Eo);var So="pylatexenc._util",Lo=No.bisect_right,To=ve("LineNumbersCalculator",[ge],{__module__:So,get __init__(){return de(this,(function(e,t,r,n,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=1;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=0;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=0;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"s":t=o[s];break;case"line_number_offset":r=o[s];break;case"first_line_column_offset":n=o[s];break;case"column_offset":a=o[s]}}}me(me(we,null,To,"__init__"),null,e),e.line_number_offset=r,e.first_line_column_offset=n,e.column_offset=a;var l=function(e){var t,r,n;return h(this,(function(a){switch(a.label){case 0:if(arguments.length&&arguments[t=arguments.length-1]&&arguments[t].hasOwnProperty("__kwargtrans__"))for(var i in r=arguments[t--])if("x"===i)e=r[i];return[4,0];case 1:a.sent(),n=0,a.label=2;case 2:return Ae(Tt(n,me(Te,null,e)))?Ae(St(n=me((o=e).find,o,"\n",n),bt(1)))?[2]:[4,n=me(Dt,null,n,1)]:[3,4];case 3:return a.sent(),[3,2];case 4:return[2]}var o}))};e._pos_new_lines=me(nt,null,me(l,null,t))}))},get pos_to_lineno_colno(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"pos":t=a[i];break;case"as_dict":r=a[i]}}}if(Ae(null===t))return Ae(r)?wt({lineno:null,colno:null}):at([null,null]);xe(Ae(It(s=Et(me(Lo,null,e._pos_new_lines,t),1),0))&&Tt(s,me(Te,null,e._pos_new_lines)));var o=Et(t,Ft(e._pos_new_lines,s));if(Ae(St(s,0)))o=me(Dt,null,o,e.first_line_column_offset);else o=me(Dt,null,o,e.column_offset);var s=me(Dt,null,s,e.line_number_offset);return Ae(r)?wt({lineno:s,colno:o}):at([s,o])}))}}),Ao=ve("PushPropOverride",[ge],{__module__:So,get __init__(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"obj":t=i[o];break;case"propname":r=i[o];break;case"new_value":n=i[o]}}}me(me(we,null,Ao,"__init__"),null,e),e.obj=t,e.propname=r,e.new_value=n}))},get __enter__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(null!==e.new_value)&&(e.initval=me(Ce,null,e.obj,e.propname),me(Ee,null,e.obj,e.propname,e.new_value)),e}))},get __exit__(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"py_metatype":t=i[o];break;case"value":r=i[o];break;case"traceback":n=i[o]}}}Ae(null!==e.new_value)&&me(Ee,null,e.obj,e.propname,e.initval)}))}}),Mo=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var t=arguments[e--];for(var r in t);}at([].slice.apply(arguments).slice(0,e+1))}else at();return null},Io=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var t=arguments[e--];for(var r in t);}at([].slice.apply(arguments).slice(0,e+1))}else at();return null},Ro=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var t=arguments[e--];for(var r in t);}at([].slice.apply(arguments).slice(0,e+1))}else at();return null},Do=null,jo={},zo={};fe(zo,"",Ma),fe(jo,"",dr);var Fo="pylatexenc.macrospec._latexcontextdb",Go=me(jo.getLogger,jo,Fo),Uo="__lctxdb_cat_",qo=zo.fn_unique_object_id,Ho=ve("LatexContextDb",[ge],{__module__:Fo,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}me(me(we,null,Ho,"__init__"),null,e,ye(t)),e.category_list=[],e.d=wt({}),e.frozen=!1,e.lookup_chain_maps=wt({macros:me(wo.ChainMap,wo,wt({})),environments:me(wo.ChainMap,wo,wt({})),specials:me(wo.ChainMap,wo,wt({}))}),e.unknown_macro_spec=null,e.unknown_environment_spec=null,e.unknown_specials_spec=null,e._autogen_category_counter=0}))},get freeze(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}e.frozen=!0}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="<LatexContextDb {:#x}{}>").format,a,me(qo,null,e),Ae(e.frozen)?"":" unfrozen");var a}))},get add_context_category(){return de(this,(function(e,t,r,n,a,i,o,s){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=[];if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=[];if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=[];if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=!1;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(void 0===s||null!=s&&s.hasOwnProperty("__kwargtrans__"))s=null;if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var _=arguments[l--];for(var u in _)switch(u){case"self":e=_[u];break;case"category":t=_[u];break;case"macros":r=_[u];break;case"environments":n=_[u];break;case"specials":a=_[u];break;case"prepend":i=_[u];break;case"insert_before":o=_[u];break;case"insert_after":s=_[u]}}}var c;if(Ae(e.frozen))throw(f=me(RuntimeError,null,"You attempted to modify a frozen LatexContextDb object.")).__cause__=null,f;if(Ae(Ae(null!==t)&&me((c=t).startswith,c,Uo))){var f=me(Yt,null,function(){var e="Category name {} is unfortunately reserved for internal use";return me(e.format,e,t)}());throw f.__cause__=null,f}if(Ae(null===t)){var d=function(){var t=e;return me(t._get_new_autogen_category,t)}(),h=d[0];t=d[1];e._autogen_category_counter=Pt(h,1)}if(Ae(Se(t,e.category_list))){var f=me(Yt,null,function(){var e="Category {} is already registered in the context database";return me(e.format,e,t)}());throw f.__cause__=null,f}if(Ae(Mt(me(Te,null,function(){for(var e=[],t=at([i,o,s]),r=0;r<Te(t);r++){var n=Ft(t,r);Ae(n)&&me(e.append,e,n)}return e}()),1)))throw(f=me(Jt,null,"add_context_category(): You may only specify one of prepend=True, insert_before=... or insert_after=...")).__cause__=null,f;var p=wt({macros:me(wt,null,function(){for(var e=[],t=r,n=0;n<Te(t);n++){var a=Ft(t,n);me(e.append,e,at([a.macroname,a]))}return e}()),environments:me(wt,null,function(){for(var e=[],t=n,r=0;r<Te(t);r++){var a=Ft(t,r);me(e.append,e,at([a.environmentname,a]))}return e}()),specials:me(wt,null,function(){for(var e=[],t=a,r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,at([n.specials_chars,n]))}return e}())});if(function(){var e=Go;me(e.debug,e,"Adding category context in db: %r",p)}(),Ae(i))var g=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"listobj":e=n[a];break;case"item":t=n[a]}}}return function(){var r=e;return me(r.insert,r,0,t)}()};else if(Ae(o)){if(Ae(Se(o,e.category_list)))var v=function(){var t=e.category_list;return me(t.index,t,o)}();else v=0;g=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"listobj":e=n[a];break;case"item":t=n[a]}}}return function(){var r=e;return me(r.insert,r,v,t)}()}}else if(Ae(s)){if(Ae(Se(s,e.category_list)))v=Pt(function(){var t=e.category_list;return me(t.index,t,s)}(),1);else v=me(Te,null,e.category_list);g=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"listobj":e=n[a];break;case"item":t=n[a]}}}return function(){var r=e;return me(r.insert,r,v,t)}()}}else g=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"listobj":e=n[a];break;case"item":t=n[a]}}}return function(){var r=e;return me(r.append,r,t)}()};me(g,null,e.category_list,t);for(var m=at(["macros","environments","specials"]),y=0;y<Te(m);y++){var w=Ft(m,y);me(g,null,Ft(e.lookup_chain_maps,w).maps,Ft(p,w))}Gt(e.d,t,p)}))},get set_unknown_macro_spec(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"macrospec":t=n[a]}}}if(Ae(e.frozen)){var i=me(RuntimeError,null,"You attempted to modify a frozen LatexContextDb object.");throw i.__cause__=null,i}e.unknown_macro_spec=t}))},get set_unknown_environment_spec(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"environmentspec":t=n[a]}}}if(Ae(e.frozen)){var i=me(RuntimeError,null,"You attempted to modify a frozen LatexContextDb object.");throw i.__cause__=null,i}e.unknown_environment_spec=t}))},get set_unknown_specials_spec(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"specialsspec":t=n[a]}}}if(Ae(e.frozen)){var i=me(RuntimeError,null,"You attempted to modify a frozen LatexContextDb object.");throw i.__cause__=null,i}e.unknown_specials_spec=t}))},get categories(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(nt,null,e.category_list)}))},get get_macro_spec(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"macroname":t=a[i];break;case"raise_if_not_found":r=a[i]}}}try{return Ft(Ft(e.lookup_chain_maps,"macros"),t)}catch(t){if(ze(t,Xt)){if(Ae(r))throw t.__cause__=null,t;return e.unknown_macro_spec}throw t}}))},get get_environment_spec(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"environmentname":t=a[i];break;case"raise_if_not_found":r=a[i]}}}try{return Ft(Ft(e.lookup_chain_maps,"environments"),t)}catch(t){if(ze(t,Xt)){if(Ae(r))throw t.__cause__=null,t;return e.unknown_environment_spec}throw t}}))},get get_specials_spec(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"specials_chars":t=a[i];break;case"raise_if_not_found":r=a[i]}}}try{return Ft(Ft(e.lookup_chain_maps,"specials"),t)}catch(t){if(ze(t,Xt)){if(Ae(r))throw t.__cause__=null,t;return e.unknown_specials_spec}throw t}}))},get test_for_specials(){return de(this,(function(e,t,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"s":t=i[o];break;case"pos":r=i[o];break;case"parsing_state":n=i[o]}}}var s,l=0,_=null;me((s=Go).debug,s,"test_for_specials() category_list=%r",e.category_list);for(var u=e.category_list,c=0;c<Te(u);c++)for(var f=Ft(u,c),d=function(){var t=Ft(Ft(e.d,f),"specials");return me(t.py_keys,t)}(),h=0;h<Te(d);h++){var p=Ft(d,h);if(function(){var e=Go;me(e.debug,e,"test_for_specials() ‘%s...’ testing %r",Ut(t,r,Pt(r,4),1),p)}(),Ae(Ae(Mt(me(Te,null,p),l))&&function(){var e=t;return me(e.startswith,e,p,r)}()))_=Ft(Ft(Ft(e.d,f),"specials"),p),l=me(Te,null,p)}return _}))},get iter_macro_specs(){return de(this,(function(e,t){var r,n,a,i,o,s,l,_;return h(this,(function(u){switch(u.label){case 0:if((void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))&&(t=null),arguments.length&&arguments[r=arguments.length-1]&&arguments[r].hasOwnProperty("__kwargtrans__"))for(var c in n=arguments[r--])switch(c){case"self":e=n[c];break;case"categories":t=n[c]}Ae(null===t)&&(t=e.category_list),a=t,i=0,u.label=1;case 1:if(!(i<Te(a)))return[3,6];if(Ae(!Se(o=Ft(a,i),e.category_list)))throw(s=me(Yt,null,me((f="Invalid latex macro spec db category: {!r} (Expected one of {!r})").format,f,o,e.category_list))).__cause__=null,s;l=function(){var t=Ft(Ft(e.d,o),"macros");return me(t.py_values,t)}(),_=0,u.label=2;case 2:return _<Te(l)?[4,Ft(l,_)]:[3,5];case 3:u.sent(),u.label=4;case 4:return _++,[3,2];case 5:return i++,[3,1];case 6:return[2]}var f}))}))},get iter_environment_specs(){return de(this,(function(e,t){var r,n,a,i,o,s,l,_;return h(this,(function(u){switch(u.label){case 0:if((void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))&&(t=null),arguments.length&&arguments[r=arguments.length-1]&&arguments[r].hasOwnProperty("__kwargtrans__"))for(var c in n=arguments[r--])switch(c){case"self":e=n[c];break;case"categories":t=n[c]}Ae(null===t)&&(t=e.category_list),a=t,i=0,u.label=1;case 1:if(!(i<Te(a)))return[3,6];if(Ae(!Se(o=Ft(a,i),e.category_list)))throw(s=me(Yt,null,me((f="Invalid latex environment spec db category: {!r} (Expected one of {!r})").format,f,o,e.category_list))).__cause__=null,s;l=function(){var t=Ft(Ft(e.d,o),"environments");return me(t.py_values,t)}(),_=0,u.label=2;case 2:return _<Te(l)?[4,Ft(l,_)]:[3,5];case 3:u.sent(),u.label=4;case 4:return _++,[3,2];case 5:return i++,[3,1];case 6:return[2]}var f}))}))},get iter_specials_specs(){return de(this,(function(e,t){var r,n,a,i,o,s,l,_;return h(this,(function(u){switch(u.label){case 0:if((void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))&&(t=null),arguments.length&&arguments[r=arguments.length-1]&&arguments[r].hasOwnProperty("__kwargtrans__"))for(var c in n=arguments[r--])switch(c){case"self":e=n[c];break;case"categories":t=n[c]}Ae(null===t)&&(t=e.category_list),a=t,i=0,u.label=1;case 1:if(!(i<Te(a)))return[3,6];if(Ae(!Se(o=Ft(a,i),e.category_list)))throw(s=me(Yt,null,me((f="Invalid latex environment spec db category: {!r} (Expected one of {!r})").format,f,o,e.category_list))).__cause__=null,s;l=function(){var t=Ft(Ft(e.d,o),"specials");return me(t.py_values,t)}(),_=0,u.label=2;case 2:return _<Te(l)?[4,Ft(l,_)]:[3,5];case 3:u.sent(),u.label=4;case 4:return _++,[3,2];case 5:return i++,[3,1];case 6:return[2]}var f}))}))},get filter_context(){return de(this,(function(e){var t,r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)if("self"===i)e=a[i];else r[i]=a[i];delete r.__kwargtrans__}var o=at([].slice.apply(arguments).slice(1,n+1))}else o=at();return me(wo.pylatexenc_deprecated_3,wo,"`LatexContextDb.filter_context()` was renamed to `filtered_context()`."),t=e,me.apply(void 0,[t.filtered_context,t].concat((0,j.default)(o),[ye(r)]))}))},get filtered_context(){return de(this,(function(e,t,r,n,a){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=[];if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=[];if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=[];if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"keep_categories":t=o[s];break;case"exclude_categories":r=o[s];break;case"keep_which":n=o[s];break;case"create_class":a=o[s]}}}if(Ae(null===a))a=e.__class__;var l=me(a,null);l.unknown_macro_spec=e.unknown_macro_spec,l.unknown_environment_spec=e.unknown_environment_spec,l.unknown_specials_spec=e.unknown_specials_spec;for(var _,u,c=Ae(!Ae(n))||Se("macros",n),f=Ae(!Ae(n))||Se("environments",n),d=Ae(!Ae(n))||Se("specials",n),h=e.category_list,p=0;p<Te(h);p++){var g=Ft(h,p);Ae(Ae(t)&&!Se(g,t))||(Ae(Ae(r)&&Se(g,r))||(_=void 0,u=void 0,me((u=l).add_context_category,u,g,ye({macros:Ae(c)?(_=Ft(Ft(e.d,g),"macros"),me(_.py_values,_)):[],environments:Ae(f)?function(){var t=Ft(Ft(e.d,g),"environments");return me(t.py_values,t)}():[],specials:Ae(d)?function(){var t=Ft(Ft(e.d,g),"specials");return me(t.py_values,t)}():[]}))))}return l}))},get _get_new_autogen_category(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}for(;Ae(!0);){var a=Pt(Uo,me(ot,null,e._autogen_category_counter));if(Ae(!Se(a,e.category_list)))break;e._autogen_category_counter=me(Dt,null,e._autogen_category_counter,1)}return at([e._autogen_category_counter,a])}))},get extended_with(){return de(this,(function(e,t,r,n,a,i){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;var o,s=wt();if(arguments.length){var l=arguments.length-1;if(arguments[l]&&arguments[l].hasOwnProperty("__kwargtrans__")){var _=arguments[l--];for(var u in _)switch(u){case"self":e=_[u];break;case"category":t=_[u];break;case"macros":r=_[u];break;case"environments":n=_[u];break;case"specials":a=_[u];break;case"create_class":i=_[u];break;default:s[u]=_[u]}delete s.__kwargtrans__}}if(Ae(Se(t,e.category_list)))throw(o=Yt).__cause__=null,o;if(Ae(!Ae(e.frozen)))throw(o=me(RuntimeError,null,"You can only call extended_with() on frozen objects, because extended objects keep references to the original objects' data")).__cause__=null,o;if(Ae(null===i))i=e.__class__;var c,f=me(i,null);if(f.unknown_macro_spec=me((c=s).py_pop,c,"unknown_macro_spec",e.unknown_macro_spec),f.unknown_environment_spec=function(){var t=s;return me(t.py_pop,t,"unknown_environment_spec",e.unknown_environment_spec)}(),f.unknown_specials_spec=function(){var t=s;return me(t.py_pop,t,"unknown_specials_spec",e.unknown_specials_spec)}(),Ae(null===r))r=[];if(Ae(null===n))n=[];if(Ae(null===a))a=[];var d=wt({macros:me(wt,null,function(){for(var e=[],t=r,n=0;n<Te(t);n++){var a=Ft(t,n);me(e.append,e,at([a.macroname,a]))}return e}()),environments:me(wt,null,function(){for(var e=[],t=n,r=0;r<Te(t);r++){var a=Ft(t,r);me(e.append,e,at([a.environmentname,a]))}return e}()),specials:me(wt,null,function(){for(var e=[],t=a,r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,at([n.specials_chars,n]))}return e}())});if(f.category_list=e.category_list,Ae(Ae(null===t)&&Ae(Mt(me(Te,null,e.category_list),0))&&function(){var t=Ft(e.category_list,0);return me(t.startswith,t,Uo)}())){var h,p=Ft(e.category_list,0),g=Ft(h=me(wt,null,e.d),p);g=me(wt,null,ye({macros:me(wt,null,Ft(g,"macros")),environments:me(wt,null,Ft(g,"environments")),specials:me(wt,null,Ft(g,"specials"))}));return function(){var e=Ft(g,"macros");me(e.py_update,e,Ft(d,"macros"))}(),function(){var e=Ft(g,"environments");me(e.py_update,e,Ft(d,"environments"))}(),function(){var e=Ft(g,"specials");me(e.py_update,e,Ft(d,"specials"))}(),Gt(h,p,g),f.d=h,f.lookup_chain_maps=wt({macros:function(){var t=wo;return me.apply(void 0,[t.ChainMap,t,Ft(g,"macros")].concat((0,j.default)(Ut(Ft(e.lookup_chain_maps,"macros").maps,1,null,1))))}(),environments:function(){var t=wo;return me.apply(void 0,[t.ChainMap,t,Ft(g,"environments")].concat((0,j.default)(Ut(Ft(e.lookup_chain_maps,"environments").maps,1,null,1))))}(),specials:function(){var t=wo;return me.apply(void 0,[t.ChainMap,t,Ft(g,"specials")].concat((0,j.default)(Ut(Ft(e.lookup_chain_maps,"specials").maps,1,null,1))))}()}),f._autogen_category_counter=e._autogen_category_counter,f.frozen=!0,function(){var t=Go;me(t.debug,t,"Latex Context DB %r ---\x3e extended with %r [extend auto-cat %s] ---\x3e %r",e,function(){for(var e,t,r=[],n=me((e=d).py_items,e),a=0;a<Te(n);a++){var i=Ft(n,a),o=i[0],s=i[1];t=void 0,me(r.append,r,[o,me(nt,null,(t=s,me(t.py_keys,t)))])}return wt(r)}(),p,f)}(),f}if(Ae(null===t)){var v=function(){var t=e;return me(t._get_new_autogen_category,t)}(),m=v[0];t=v[1];f._autogen_category_counter=Pt(m,1)}else f._autogen_category_counter=e._autogen_category_counter;return Gt(h=me(wt,null,e.d),t,d),f.category_list=Pt([t],e.category_list),f.d=h,f.lookup_chain_maps=wt({macros:function(){var t=Ft(e.lookup_chain_maps,"macros");return me(t.new_child,t,Ft(d,"macros"))}(),environments:function(){var t=Ft(e.lookup_chain_maps,"environments");return me(t.new_child,t,Ft(d,"environments"))}(),specials:function(){var t=Ft(e.lookup_chain_maps,"specials");return me(t.new_child,t,Ft(d,"specials"))}()}),f.frozen=!0,function(){var r=Go;me(r.debug,r,"Latex Context DB %r ---\x3e extended with %r [new cat %s] ---\x3e %r",e,function(){for(var e,t,r=[],n=me((e=d).py_items,e),a=0;a<Te(n);a++){var i=Ft(n,a),o=i[0],s=i[1];t=void 0,me(r.append,r,[o,me(nt,null,(t=s,me(t.py_keys,t)))])}return wt(r)}(),t,f)}(),f}))}}),Vo=ve("ParsingStateDeltaExtendLatexContextDb",[fn],{__module__:Fo,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"extend_latex_context":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}me(me(we,null,Vo,"__init__"),null,e,ye(Oe({_fields:at(["extend_latex_context","set_attributes"])},r))),e.extend_latex_context=t}))},get get_updated_parsing_state(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsing_state":t=a[i];break;case"latex_walker":r=a[i]}}}if(Ae(e.extend_latex_context)){if(Ae(e.set_attributes))var o=e.set_attributes;else o=wt({});var s=me((l=t.latex_context).extended_with,l,ye(Oe({category:null},e.extend_latex_context)));return function(){var e=t;return me(e.sub_context,e,ye(Oe({latex_context:s},o)))}()}return Ae(e.set_attributes)?function(){var r=t;return me(r.sub_context,r,ye(e.set_attributes))}():t;var l}))}}),Bo={};fe(Bo,"",dr);var Wo="pylatexenc.macrospec._specclasses",Yo=(me(Bo.getLogger,Bo,Wo),function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var t=arguments[e--];for(var r in t);}at([].slice.apply(arguments).slice(0,e+1))}else at();return null}),Xo=ve("_SpecBase",[bn],{__module__:Wo,get __init__(){return de(this,(function(e,t,r,n,a,i){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;var o=wt();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"arguments_spec_list":t=l[_];break;case"make_arguments_parsing_state_delta":r=l[_];break;case"make_body_parsing_state_delta":n=l[_];break;case"make_after_parsing_state_delta":a=l[_];break;case"finalize_node":i=l[_];break;default:o[_]=l[_]}delete o.__kwargtrans__}}e.arguments_spec_list=t,e._fn_make_arguments_parsing_state_delta=r,e._fn_make_body_parsing_state_delta=n,e._fn_make_after_parsing_state_delta=a,e._fn_finalize_node=i;var u=me(Yo,null,"SpecBase_init_from_args_parser",e,t,o);me(me(we,null,Xo,"__init__"),null,e,ye(o)),Ae(!Ae(u))&&(Ae(e.arguments_spec_list)?e.arguments_parser=me(yo,null,t):e.arguments_parser=me(mo,null))}))},get finalize_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}return Ae(null!==e._fn_finalize_node)?me((i=e)._fn_finalize_node,i,t):t;var i}))},get make_arguments_parsing_state_delta(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"token":t=a[i];break;case"latex_walker":r=a[i]}}}return Ae(null!==e._fn_make_arguments_parsing_state_delta)?me((o=e)._fn_make_arguments_parsing_state_delta,o,ye({token:t,latex_walker:r})):null;var o}))},get make_body_parsing_state_delta(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"token":t=o[s];break;case"nodeargd":r=o[s];break;case"arg_parsing_state_delta":n=o[s];break;case"latex_walker":a=o[s]}}}return Ae(null!==e._fn_make_body_parsing_state_delta)?me((l=e)._fn_make_body_parsing_state_delta,l,ye({token:t,nodeargd:r,arg_parsing_state_delta:n,latex_walker:a})):e.body_parsing_state_delta;var l}))},get make_after_parsing_state_delta(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"parsed_node":t=a[i];break;case"latex_walker":r=a[i]}}}return Ae(null!==e._fn_make_after_parsing_state_delta)?me((o=e)._fn_make_after_parsing_state_delta,o,ye({parsed_node:t,latex_walker:r})):null;var o}))},get needs_arguments(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}for(var a,i=e.arguments_spec_list,o=0;o<Te(i);o++){var s=Ft(i,o);if(Ae((a=void 0,me((a=s.spec).is_required,a))))return!0}return!1}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Pt(Pt(Pt(e.__class__.__name__,"("),me(", ".join,", ",function(){for(var t,r,n=[],a=me((t=e.__dict__).py_items,t),i=0;i<Te(a);i++){var o=Ft(a,i),s=o[0],l=o[1];Ae(!Ae(function(){var e=s;return me(e.startswith,e,"_")}()))&&(r=void 0,me(n.append,n,me((r="{}={!r}").format,r,s,l)))}return n}())),")")}))}}),$o=ve("MacroSpec",[Xo],{__module__:Wo,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macroname":t=i[o];break;case"arguments_spec_list":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,$o,"__init__"),null,e,ye(Oe({arguments_spec_list:r},n))),e.macroname=t}))},get get_node_parser(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token":t=n[a]}}}return me(io,null,t,e)}))}}),Qo=ve("EnvironmentSpec",[Xo],{__module__:Wo,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"environmentname":t=i[o];break;case"arguments_spec_list":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}var s,l=me((s=n).py_pop,s,"make_body_parser",null),_=function(){var e=n;return me(e.py_pop,e,"body_parsing_state_delta",null)}();me(me(we,null,Qo,"__init__"),null,e,ye(Oe({arguments_spec_list:r},n))),e.environmentname=t,e.body_parsing_state_delta=_,e._fn_make_body_parser=l}))},get get_node_parser(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token":t=n[a]}}}return me(oo,null,t,e)}))},get make_body_parser(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":t=i[o];break;case"nodeargd":r=i[o];break;case"arg_parsing_state_delta":n=i[o]}}}return Ae(null!==e._fn_make_body_parser)?me((s=e)._fn_make_body_parser,s,t,r,n):me(fo,null,ye({environmentname:t.arg}));var s}))}}),Zo=ve("SpecialsSpec",[Xo],{__module__:Wo,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"specials_chars":t=i[o];break;case"arguments_spec_list":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,Zo,"__init__"),null,e,ye(Oe({arguments_spec_list:r},n))),e.specials_chars=t}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="SpecialsSpec(specials_chars={!r}, arguments_spec_list={!r})").format,a,e.specials_chars,e.arguments_spec_list);var a}))},get get_node_parser(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token":t=n[a]}}}return me(so,null,t,e)}))}}),Ko={},Jo={};fe(Jo,"",Ma),fe(Ko,"",dr),fe({},"",Sn);var es="pylatexenc.latexwalker._walker",ts=Ho,rs=me(Ko.getLogger,Ko,es),ns=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var t=arguments[e--];for(var r in t);}var n=at([].slice.apply(arguments).slice(0,e+1))}else n=at();return me(at,null,n)},as=Jo.fn_unique_object_id,is=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var t=arguments[e--];for(var r in t);}at([].slice.apply(arguments).slice(0,e+1))}else at();return null},os=ve("LatexWalker",[fr.LatexWalkerBase],{__module__:es,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"s":t=i[o];break;case"latex_context":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}var s,l=me((s=n).py_pop,s,"default_parsing_state",null);if(e.s=t,e.line_number_offset=function(){var e=n;return me(e.py_pop,e,"line_number_offset",null)}(),e.first_line_column_offset=function(){var e=n;return me(e.py_pop,e,"first_line_column_offset",null)}(),e.column_offset=function(){var e=n;return me(e.py_pop,e,"column_offset",null)}(),Ae(null===e.line_number_offset)&&(e.line_number_offset=1),Ae(null===e.first_line_column_offset)&&(e.first_line_column_offset=0),Ae(null===e.column_offset)&&(e.column_offset=0),e._line_no_calc=null,e.debug_nodes=!1,Ae(null!==l)){if(e.default_parsing_state=l,Ae(null!==r))throw(_=me(Yt,null,"You cannot specify both the default_parsing_state= and the latex_context= arguments")).__cause__=null,_}else{if(Ae(null===r)){if(Ae(null===(r=me(is,null,"LatexWalker_init_from_macro_dict",e,n))))r=me(ts,null)}else if(Ae(Se("macro_dict",n))){var _;throw(_=me(Jt,null,"Cannot specify both `latex_context=` and `macro_dict=` arguments")).__cause__=null,_}Ae(null!==r)?(!function(){var e=r;me(e.freeze,e)}(),e.default_parsing_state=me(Ha,null,ye({s:e.s,latex_context:r}))):e.default_parsing_state=null}e.tolerant_parsing=function(){var e=n;return me(e.py_pop,e,"tolerant_parsing",!0)}(),e.strict_braces=function(){var e=n;return me(e.py_pop,e,"strict_braces",!1)}(),Ae(Se("keep_inline_math",n))&&(me(wo.pylatexenc_deprecated_2,wo,"The keep_inline_math=... option in LatexWalker() has no effect in pylatexenc 2.  Please consider using the more versatile option math_mode=... in LatexNodes2Text() instead."),Ft(n,"keep_inline_math")),Ae(n)&&function(){var e,t=rs;me(t.warning,t,"LatexWalker(): Unknown flag(s) encountered: %r",me((e=n).py_keys,e))}(),me(me(we,null,os,"__init__"),null,e)}))},make_latex_group_parser:yi,make_latex_math_parser:qi,get make_parsing_state(){return de(this,(function(e){var t,r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)if("self"===i)e=a[i];else r[i]=a[i];delete r.__kwargtrans__}}return me((t=e.default_parsing_state).sub_context,t,ye(r))}))},get parse_flags(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return wt({tolerant_parsing:e.tolerant_parsing,strict_braces:e.strict_braces,keep_inline_math:null})}))},get _report_ignore_parse_error(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"exc":t=n[a]}}}var i;me((i=rs).info,i,"Ignoring parse error (tolerant parsing mode): %s",t)}))},get check_tolerant_parsing_ignore_error(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"exc":t=n[a]}}}return Ae(Ae(!Ae(e.tolerant_parsing))||!Ae(me(ze,null,t,Pr)))?t:(me((i=e)._report_ignore_parse_error,i,t),null);var i}))},_ParsingContext:ve("_ParsingContext",[ge],{__module__:es,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"latex_walker":t=a[i];break;case"open_context":r=a[i]}}}me(me(we,null,os._ParsingContext,"__init__"),null,e),e.latex_walker=t,e.open_context=r,e.recovery_from_exception=null}))},get __enter__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e}))},get __exit__(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"exc_type":t=i[o];break;case"exc_value":r=i[o];break;case"exc_traceback":n=i[o]}}}if(Ae(Ae(null!==r)&&me(ze,null,r,Er))){var s=r;if(Ae(e.open_context)){var l=(c=e.open_context)[0],_=c[1];Ae(null!==l)&&(Ae(null!==_)?me((d=s.open_contexts).append,d,me.apply(void 0,[ns,null,l,_.pos].concat((0,j.default)(me((f=e.latex_walker).pos_to_lineno_colno,f,_.pos))))):function(){var e=s.open_contexts;me(e.append,e,me(ns,null,l,null,bt(1),bt(1)))}())}if(Ae(Ae(me(Ne,null,s,"pos"))&&Ae(null===s.lineno)&&null===s.colno)){var u=me(Ce,null,s,"pos",null),c=function(){var t=e.latex_walker;return me(t.pos_to_lineno_colno,t,u)}();s.lineno=c[0],s.colno=c[1]}s=function(){var t=e.latex_walker;return me(t.check_tolerant_parsing_ignore_error,t,s)}();return Ae(null===s)?(e.recovery_from_exception=s,!0):null}var f,d}))},get perform_recovery_nodes_and_parsing_state_delta(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"token_reader":t=n[a]}}}if(Ae(null===e.recovery_from_exception)){var i=me(RuntimeError,null,"No exception had happened to try to recover nodes from");throw i.__cause__=null,i}var o,s=null,l=null,_=null;if(Ae(me(Ne,null,e.recovery_from_exception,"recovery_nodes")))s=e.recovery_from_exception.recovery_nodes;if(Ae(me(Ne,null,e.recovery_from_exception,"recovery_parsing_state_delta")))l=e.recovery_from_exception.recovery_parsing_state_delta;if(Ae(me(Ne,null,e.recovery_from_exception,"recovery_at_token")))_=e.recovery_from_exception.recovery_at_token;if(Ae(null!==_))me((o=t).move_to_token,o,_);else{var u=null;if(Ae(me(Ne,null,e.recovery_from_exception,"recovery_past_token")))u=e.recovery_from_exception.recovery_past_token;Ae(null!==u)&&function(){var e=t;me(e.move_past_token,e,u)}()}return at([s,l])}))}}),get new_parsing_open_context(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"open_context_name":t=a[i];break;case"open_context_token":r=a[i]}}}return me((o=os)._ParsingContext,o,e,at([t,r]));var o}))},get make_token_reader(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"pos":t=n[a]}}}var i,o=me(fr.LatexTokenReader,fr,e.s,ye({tolerant_parsing:e.tolerant_parsing}));return Ae(null!==t)&&me((i=o).move_to_pos_chars,i,t),o}))},get parse_content(){return de(this,(function(e,t,r,n,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"parser":t=o[s];break;case"token_reader":r=o[s];break;case"parsing_state":n=o[s];break;case"open_context":a=o[s]}}}var l,_=null,u=null;if(Ae(null===r))_=me((l=e).make_token_reader,l);else _=r;if(Ae(null===n))u=function(){var t=e;return me(t.make_parsing_state,t)}();else u=n;var c=null,f=null,d=(v=at([null,null]))[0],h=v[1];if(Ae(a))d=(v=a)[0],h=v[1];var p=function(){var e=_;return me(e.cur_pos,e)}();!function(){var e=rs;me(e.debug,e,":: Parsing content (%s @ %r) - %r [%r]::",d,p,t,u)}();var g=function(){var t=e;return me(t.new_parsing_open_context,t,d,h)}();try{g.__enter__();try{var v=function(){var r=t;return me(r.parse,r,ye({latex_walker:e,token_reader:_,parsing_state:u}))}();c=v[0],f=v[1]}catch(e){if(!ze(e,Tr))throw e;!function(){var e=rs;me(e.warning,e,"End of stream encountered when parsing content with %s (%s)",t.__class__.__name__,d)}();c=(v=at([null,null]))[0],f=v[1]}g.__exit__()}catch(e){if(!g.__exit__(e.name,e,e.stack))throw e}if(Ae(null!==g.recovery_from_exception))v=function(){var e=g;return me(e.perform_recovery_nodes_info,e,_)}(),c=v[0],f=v[1];return function(){var e=rs;me(e.debug,e,":: PARSED content (%s @ %r) - %r - result %r %r DONE ::",d,p,t,c,f)}(),at([c,f])}))},get make_nodes_collector(){return de(this,(function(e,t,r){var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token_reader":t=i[o];break;case"parsing_state":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}return me(fr.LatexNodesCollector,fr,e,t,r,ye(n))}))},get make_node(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node_class":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}var o,s=at([(o=r,me(o.py_pop,o,"pos")),function(){var e=r;return me(e.py_pop,e,"pos_end",null)}(),function(){var e=r;return me(e.py_pop,e,"parsing_state")}()]),l=s[0],_=s[1],u=s[2];if(Ae(Ae(null===_)&&Ae(null!==l)&&Se("len",r))){me(wo.pylatexenc_deprecated_3,wo,"make_node(..., len=..., ...); use ‘pos_end=’ instead of ‘len=’");var c=Ft(r,"len");_=Pt(l,c)}var f=me(t,null,ye(Oe({pos:l,pos_end:_,parsing_state:u,latex_walker:e},r)));return Ae(e.debug_nodes)&&function(){var e=rs;me(e.debug,e,"New node: %r",f)}(),f}))},get make_nodelist(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}var o,s=me((o=r).py_pop,o,"parsing_state");return me(Qr,null,ye(Oe({nodelist:t,parsing_state:s,latex_walker:e},r)))}))},get format_pos(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"pos":t=n[a]}}}if(Ae(null===t))return"(location unknown)";var i,o=me((i=e).pos_to_lineno_colno,i,t),s=o[0],l=o[1];return me(Nr,null,t,s,l)}))},get pos_to_lineno_colno(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"pos":t=a[i];break;case"as_dict":r=a[i]}}}return Ae(null===e._line_no_calc)&&(e._line_no_calc=me(wo.LineNumbersCalculator,wo,e.s,ye({line_number_offset:e.line_number_offset,first_line_column_offset:e.first_line_column_offset,column_offset:e.column_offset}))),me((o=e._line_no_calc).pos_to_lineno_colno,o,t,ye({as_dict:r}));var o}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="<LatexWalker {}>").format,a,me(as,null,e));var a}))}}),ss={};fe(ss,"",dr);me(ss.getLogger,ss,"pylatexenc.latexwalker");var ls={},_s={},us={};fe(us,"",Ma),fe(ls,"",dr),fe(_s,"",Sn);var cs="llm.llmenvironment",fs=me(ls.getLogger,ls,cs),ds=us.fn_unique_object_id,hs=ve("LLMParsingState",[fr.ParsingState],{__module__:cs,_fields:me(at,null,Pt(me(nt,null,fr.ParsingState._fields),["is_block_level"])),get set_fields(){return de(this,(function(e){var t=null,r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"is_block_level":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}me(me(we,null,hs,"set_fields"),null,e,ye(r)),e.is_block_level=t}))}}),ps=ve("LLMParsingStateDeltaSetBlockLevel",[fr.ParsingStateDelta],{__module__:cs,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"is_block_level":t=n[a]}}}me(me(we,null,ps,"__init__"),null,e,ye({set_attributes:me(wt,null,ye({is_block_level:t}))}))}))}}),gs=function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"parser":e=a[i];break;case"argname":t=a[i];break;case"is_block_level":r=a[i]}}}var o=null;if(Ae(null!==r))o=me(ps,null,ye({is_block_level:r}));return me(fr.LatexArgumentSpec,fr,ye({parser:e,argname:t,parsing_state_delta:o}))},vs=ve("BlocksBuilder",[ge],{__module__:cs,rx_space:me(_s.compile,_s,"[ \\t\\n\\r]+"),rx_only_space:me(_s.compile,_s,"^[ \\t\\n\\r]+$"),get __init__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"latexnodelist":t=n[a]}}}me(me(we,null,vs,"__init__"),null,e),e.latexnodelist=t,e.pending_paragraph_nodes=[],e.blocks=[]}))},get flush_paragraph(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}if(!Ae(!Ae(e.pending_paragraph_nodes))){var a,i=e.pending_paragraph_nodes;i=me((a=e).finalize_paragraph,a,i);!function(){var t=e.blocks;me(t.append,t,me(Ar.LatexNodeList,Ar,i,ye({parsing_state:e.latexnodelist.parsing_state,latex_walker:e.latexnodelist.latex_walker})))}(),e.pending_paragraph_nodes=[]}}))},get simplify_whitespace_chars(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"chars":t=i[o];break;case"is_head":r=i[o];break;case"is_tail":n=i[o]}}}var s,l=me((s=e.rx_space).sub,s," ",t);if(Ae(r))l=function(){var e=l;return me(e.lstrip,e)}();if(Ae(n))l=function(){var e=l;return me(e.rstrip,e)}();return l}))},get finalize_paragraph(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"paragraph_nodes":t=n[a]}}}if(Ae(!Ae(t)))return t;for(var i,o=!0,s=null,l=null,_=[],u=me(tt,null,t),c=0;c<Te(u);c++){(h=Ft(u,c))[0];var f=h[1];if(Ae(Ae(St(me(Te,null,_),0))&&Ae(null!==l)&&me(Ce,null,l,"llm_is_block_heading",!1)))o=!0;if(Ae((i=void 0,me((i=f).isNodeType,i,Ar.LatexCharsNode)))){var d=wt({is_head:o,is_tail:!1});!function(){var e=_;me(e.append,e,at([f,d]))}();o=!1,s=d}else if(Ae(!Ae(function(){var e=f;return me(e.isNodeType,e,Ar.LatexCommentNode)}()))){if(Ae(null===l))l=f;o=!1,s=null}}Ae(null!==s)&&Gt(s,"is_tail",!0);for(u=_,c=0;c<Te(u);c++){var h,p=(h=Ft(u,c))[0];d=h[1];p.llm_chars_value=function(){var t=e;return me(t.simplify_whitespace_chars,t,p.chars,ye({is_head:Ft(d,"is_head"),is_tail:Ft(d,"is_tail")}))}()}return t}))},get build_blocks(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a=e.latexnodelist;xe(St(me(Te,null,e.blocks),0));for(var i,o=a,s=0;s<Te(o);s++){var l=Ft(o,s),_=me(Ce,null,l,"llm_is_block_level",null),u=me(Ce,null,l,"llm_is_block_heading",!1);if(Ae(_)){if(i=void 0,me((i=e).flush_paragraph,i),Ae(me(Ce,null,l,"llm_is_paragraph_break_marker",!1)))continue;if(Ae(u)){!function(){var t=e.pending_paragraph_nodes;me(t.append,t,l)}();continue}!function(){var t=e.blocks;me(t.append,t,l)}()}else{var c=!0;if(Ae(!Ae(e.pending_paragraph_nodes)))c=!1;if(Ae(St(me(Te,null,e.pending_paragraph_nodes),1))&&Ae(me(Ce,null,Ft(e.pending_paragraph_nodes,0),"llm_is_block_heading",!1)))c=!1;Ae(Ae(!Ae(c))&&Ae(function(){var e=l;return me(e.isNodeType,e,Ar.LatexCharsNode)}())&&function(){var t=e.rx_only_space;return me(t.match,t,l.chars)}())||function(){var t=e.pending_paragraph_nodes;me(t.append,t,l)}()}}return function(){var t=e;me(t.flush_paragraph,t)}(),e.blocks}))}}),ms=ve("NodeListFinalizer",[ge],{__module__:cs,get finalize_nodelist(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"latexnodelist":t=n[a]}}}var i;if(Ae(null===(o=t.parsing_state.is_block_level)))var o=me((i=e).infer_is_block_level_nodelist,i,t);if(t.llm_is_block_level=o,Ae(!Ae(o))){for(var s=t,l=0;l<Te(s);l++){var _=Ft(s,l);if(Ae(me(Ce,null,_,"llm_is_block_level",null))){var u=me(Er,null,ye({msg:"Content is not allowed in inline text (not block level): ‘{}’".format(function(){var e=_;return me(e.latex_verbatim,e)}()),pos:_.pos}));throw u.__cause__=null,u}Ae(function(){var e=_;return me(e.isNodeType,e,Ar.LatexCharsNode)}())&&(_.llm_chars_value=function(){var t=e;return me(t.simplify_whitespace_chars_inline,t,_.chars)}())}return t}if(Ae(o)){var c=function(){var r=e;return me(r.make_blocks_builder,r,t)}(),f=function(){var e=c;return me(e.build_blocks,e)}();t.llm_blocks=f}return t}))},get infer_is_block_level_nodelist(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"latexnodelist":t=n[a]}}}for(var i=t,o=0;o<Te(i);o++){var s=Ft(i,o),l=me(Ce,null,s,"llm_is_block_level",null);if(Ae(l))return!0}return!1}))},get simplify_whitespace_chars_inline(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"chars":t=n[a]}}}return me((i=e.rx_inline_space).sub,i," ",t);var i}))},make_blocks_builder:vs,rx_inline_space:vs.rx_space}),ys=ve("LLMLatexWalker",[os],{__module__:cs,get __init__(){return de(this,(function(e){var t=null,r=!1,n=null,a=null,i=null,o=wt();if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"llm_text":var u=l[_];break;case"default_parsing_state":var c=l[_];break;case"llm_environment":var f=l[_];break;case"parsing_state_event_handler":t=l[_];break;case"standalone_mode":r=l[_];break;case"resource_info":n=l[_];break;case"parsing_mode":a=l[_];break;case"what":i=l[_];break;default:o[_]=l[_]}delete o.__kwargtrans__}}me(me(we,null,ys,"__init__"),null,e,ye(Oe({s:u,default_parsing_state:c},o))),e.llm_environment=f,e.standalone_mode=r,e.resource_info=n,e.what=i,e.parsing_mode=a,e._parsing_state_event_handler=t}))},get parsing_state_event_handler(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(e._parsing_state_event_handler)?e._parsing_state_event_handler:me(me(we,null,ys,"parsing_state_event_handler"),null,e)}))},get make_nodelist(){return de(this,(function(e,t,r){var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"nodelist":t=i[o];break;case"parsing_state":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}var s,l,_=me(me(we,null,ys,"make_nodelist"),null,e,ye(Oe({nodelist:t,parsing_state:r},n)));return _=(l=me((s=e.llm_environment).node_list_finalizer,s),me(l.finalize_nodelist,l,_))}))},get make_node(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node_class":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}var o=me(me(we,null,ys,"make_node"),null,e,t,ye(r));return o.node_id=me(ds,null,o),o}))},get filter_whitespace_comments_nodes(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"nodelist":t=n[a]}}}return me((i=t).filter,i,ye({node_predicate_fn:e._filter_whitespace_comments_nodes_predicate,skip_none:!0,skip_comments:!0,skip_whitespace_char_nodes:!0}));var i}))},get _filter_whitespace_comments_nodes_predicate(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}return!Ae(me(Ce,null,t,"llm_is_paragraph_break_marker",!1))}))}}),ws=ve("LLMEnvironment",[ge],{__module__:cs,get __init__(){return de(this,(function(e,t,r,n){var a=!1,i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"features":t=s[l];break;case"parsing_state":r=s[l];break;case"latex_context":n=s[l];break;case"tolerant_parsing":a=s[l];break;case"parsing_mode_deltas":i=s[l]}}}me(me(we,null,ws,"__init__"),null,e),e.latex_context=n,e.parsing_state=r,e.parsing_mode_deltas=Ae(i)?me(wt,null,i):wt({}),e.features=me(nt,null,t),e.features_by_name=wt({});for(var _,u=e.features,c=0;c<Te(u);c++){var f=Ft(u,c);if(Ae(Se(f.feature_name,e.features_by_name)))throw(g=me(Yt,null,"Duplicate feature detected: feature {} has same name/role as the as already-included feature {}".format(f,Ft(e.features_by_name,f.feature_name)))).__cause__=null,g;Gt(e.features_by_name,f.feature_name,f)}if(e.tolerant_parsing=a,e._node_list_finalizer=me(ms,null),Ae(null===e.parsing_state.latex_context)){for(u=e.features,c=0;c<Te(u);c++){var d=Ft(u,c),h=(_=void 0,me((_=d).add_latex_context_definitions,_));if(Ae(h)){var p=me(wt,null,h);!function(){var e=p;me(e.py_update,e,ye({prepend:!0}))}(),function(){var t=e.latex_context;me(t.add_context_category,t,"feature--{}".format(d.feature_name),ye(p))}()}}!function(){var t=e.latex_context;me(t.freeze,t)}(),e.parsing_state.latex_context=e.latex_context}else if(Ae(null!==e.latex_context)){var g;throw(g=me(RuntimeError,null,"The specified `parsing_state` instance already has a latex_context set")).__cause__=null,g}}))},get feature(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"feature_name":t=n[a]}}}return Ft(e.features_by_name,t)}))},parsing_state_event_handler:null,get make_latex_walker(){return de(this,(function(e,t){var r=null,n=null,a=null,i=null,o=null;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"llm_text":t=l[_];break;case"standalone_mode":var u=l[_];break;case"is_block_level":var c=l[_];break;case"parsing_mode":r=l[_];break;case"resource_info":n=l[_];break;case"tolerant_parsing":a=l[_];break;case"what":i=l[_];break;case"input_lineno_colno_offsets":o=l[_]}}}var f,d=me((f=e).make_parsing_state,f,ye({is_block_level:c,parsing_mode:r}));if(Ae(null===a))a=e.tolerant_parsing;if(Ae(null===o))o=wt({});var h=me(ys,null,ye({llm_text:t,default_parsing_state:d,tolerant_parsing:a,llm_environment:e,standalone_mode:u,resource_info:n,what:i,parsing_state_event_handler:e.parsing_state_event_handler,line_number_offset:function(){var e=o;return me(e.py_get,e,"line_number_offset",null)}(),first_line_column_offset:function(){var e=o;return me(e.py_get,e,"first_line_column_offset",null)}(),column_offset:function(){var e=o;return me(e.py_get,e,"column_offset",null)}()}));return h}))},get make_parsing_state(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"is_block_level":t=a[i];break;case"parsing_mode":r=a[i]}}}var o,s=e.parsing_state;if(Ae(null!==r)){try{var l=Ft(e.parsing_mode_deltas,r)}catch(e){if(ze(e,Xt)){var _=me(Yt,null,"Invalid parsing_mode ‘{}’".format(r));throw _.__cause__=null,_}throw e}if(Ae(null!==l))s=me((o=l).get_updated_parsing_state,o,s,ye({latex_walker:null}))}var u=wt({});return Ae(null!==t)&&Gt(u,"is_block_level",t),function(){var e=s;return me(e.sub_context,e,ye(u))}()}))},get make_fragment(){return de(this,(function(e,t){var r,n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"llm_text":t=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}try{var s=me(Yi,null,t,ye(Oe({environment:e},n)));return s}catch(e){throw Ae(!Ae((r=n,me(r.py_get,r,"silent",!1))))&&function(){var e,r,a=fs;me(a.error,a,me((r="Error compiling fragment for {}\nContent was:\n‘{}’\n").format,r,me((e=n).py_get,e,"what","(unknown)"),t),ye({exc_info:!0}))}(),e.__cause__=null,e}}))},get node_list_finalizer(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._node_list_finalizer}))},get make_document(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"render_callback":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}var o,s=me(Ji,null,t,ye(Oe({environment:e},r)));return me((o=s).initialize,o),s}))},get get_parse_error_message(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"exception_object":t=n[a]}}}return i=me(Cr,null,t),me(i.to_display_string,i);var i}))}}),ks={};e(ks,"logger",(function(){return tl})),e(ks,"ReferenceableInfo",(function(){return rl})),e(ks,"get_safe_target_id",(function(){return sl})),e(ks,"RefInstance",(function(){return nl})),e(ks,"_rx_unsafe_char",(function(){return il})),e(ks,"_rx_match_safechar",(function(){return ol})),e(ks,"FeatureRefsRenderManager",(function(){return ll})),e(ks,"FeatureRefs",(function(){return _l})),e(ks,"RefMacro",(function(){return cl})),e(ks,"_ref_arg_specs",(function(){return ul})),e(ks,"latexnodes_parsers",(function(){return ei})),e(ks,"LLMFragment",(function(){return Yi})),e(ks,"LLMArgumentSpec",(function(){return gs})),e(ks,"Feature",(function(){return xs})),e(ks,"LLMMacroSpecBase",(function(){return Ls})),e(ks,"LatexWalkerParseError",(function(){return Er})),e(ks,"ParsedArgumentsInfo",(function(){return ln}));var bs="llm.feature._base",xs=ve("Feature",[ge],{__module__:bs,feature_name:null,DocumentManager:ve("DocumentManager",[ge],{__module__:bs,get __init__(){return de(this,(function(e,t,r){var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"feature":t=i[o];break;case"doc":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,xs.DocumentManager,"__init__"),null,e,ye(n)),e.feature=t,e.feature_name=e.feature.feature_name,e.doc=r,e.RenderManager=e.feature.RenderManager}))},get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}}))},get get_node_id(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}return me((i=e.feature).get_node_id,i,t);var i}))}}),RenderManager:ve("RenderManager",[ge],{__module__:bs,get __init__(){return de(this,(function(e,t,r){var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"feature_document_manager":t=i[o];break;case"render_context":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,xs.RenderManager,"__init__"),null,e,ye(n)),e.feature_document_manager=t,e.feature=e.feature_document_manager.feature,e.feature_name=e.feature.feature_name,e.render_context=r}))},get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}}))},get process(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"first_pass_value":t=n[a]}}}}))},get postprocess(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"final_value":t=n[a]}}}}))},get get_node_id(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}return me((i=e.feature).get_node_id,i,t);var i}))}}),get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return wt({})}))},get get_node_id(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}return Ae(me(ze,null,t,at))?t:t.node_id}))}}),Os={};e(Os,"logger",(function(){return Cs})),e(Os,"LLMSpecInfo",(function(){return Ns})),e(Os,"_dobaseconstructors2argslast",(function(){return Ss})),e(Os,"LLMMacroSpecBase",(function(){return Ls})),e(Os,"LLMEnvironmentSpecBase",(function(){return Ts})),e(Os,"LLMSpecialsSpecBase",(function(){return As})),e(Os,"LLMSpecInfoConstantValue",(function(){return Ms})),e(Os,"ConstantValueMacro",(function(){return Is})),e(Os,"ConstantValueSpecials",(function(){return Rs})),e(Os,"text_arg",(function(){return Ds})),e(Os,"label_arg",(function(){return js})),e(Os,"helper_collect_labels",(function(){return zs})),e(Os,"TextFormatMacro",(function(){return Fs})),e(Os,"LLMSpecInfoParagraphBreak",(function(){return Gs})),e(Os,"ParagraphBreakSpecials",(function(){return Us})),e(Os,"ParagraphBreakMacro",(function(){return qs})),e(Os,"LLMSpecInfoError",(function(){return Hs})),e(Os,"LLMMacroSpecError",(function(){return Vs})),e(Os,"LLMEnvironmentSpecError",(function(){return Bs})),e(Os,"LLMSpecialsSpecError",(function(){return Ws})),e(Os,"_href_arg_specs",(function(){return Ys})),e(Os,"HrefHyperlinkMacro",(function(){return Xs})),e(Os,"VerbatimSpecInfo",(function(){return $s})),e(Os,"VerbatimMacro",(function(){return Qs})),e(Os,"VerbatimEnvironment",(function(){return Zs})),e(Os,"LLMParsingStateDeltaSetBlockLevel",(function(){return ps})),e(Os,"latexnodes_parsers",(function(){return ei})),e(Os,"LLMArgumentSpec",(function(){return gs})),e(Os,"macrospec",(function(){return eo})),e(Os,"latexnodes_nodes",(function(){return Ar})),e(Os,"LatexWalkerParseError",(function(){return Er})),e(Os,"ParsedArgumentsInfo",(function(){return ln}));j=i("fOdIC");var Ps={};fe(Ps,"",dr);var Es="llm.llmspecinfo",Cs=me(Ps.getLogger,Ps,Es),Ns=ve("LLMSpecInfo",[ge],{__module__:Es,delayed_render:!1,is_block_level:!1,is_block_heading:!1,is_paragraph_break_marker:!1,allowed_in_standalone_mode:!1,get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}}))},get prepare_delayed_render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o=me(RuntimeError,null,"Reimplement me!");throw o.__cause__=null,o}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o=me(RuntimeError,null,"Element ‘{}’ cannot be placed here, render() not reimplemented.".format(t));throw o.__cause__=null,o}))},get finalize_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=t.latex_walker.standalone_mode;if(Ae(Ae(o)&&!Ae(e.allowed_in_standalone_mode))){var s=me(Er,null,"‘{}’ is not allowed here (standalone mode).".format(me((i=t).latex_verbatim,i)));throw s.__cause__=null,s}t.llm_specinfo=e;try{!function(){var r=e;me(r.postprocess_parsed_node,r,t)}()}catch(e){var l;if(ze(e,Er))throw Ae(Ae(!Ae(me(Ne,null,_=e,"pos")))||null===_.pos)&&(_.pos=t.pos),(l=_).__cause__=null,l;if(ze(e,Yt))throw(l=me(Er,null,me(ot,null,_=e),ye({pos:t.pos}))).__cause__=null,l;if(ze(e,Vt)){var _=e;throw function(){var e=Cs;me(e.error,e,"Internal Parse Error! {}".format(_),ye({exc_info:!0}))}(),function(){var e,r=Cs;me(r.error,r,"Happened @{},  node: ‘{}’".format(me(Ge,null,me((e=t.latex_walker).pos_to_lineno_colno,e,t.pos)),function(){var e=t;return me(e.latex_verbatim,e)}()))}(),e.__cause__=null,e}throw e}return t.llm_is_block_level=e.is_block_level,t.llm_is_block_heading=e.is_block_heading,t.llm_is_paragraph_break_marker=e.is_paragraph_break_marker,t}))}}),Ss=function(e,t,r,n,a){if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"Me":e=o[s];break;case"self":t=o[s];break;case"args":r=o[s];break;case"kwargs":n=o[s];break;case"kwargs_to_first_constructor":a=o[s]}}}var l,_=wt({}),u=me(wt,null,n);if(Ae(a))for(var c=a,f=0;f<Te(c);f++){var d=Ft(c,f);Ae(Se(d,u))&&Gt(_,d,(l=void 0,me((l=u).py_pop,l,d)))}!function(){var r=Ft(e.__bases__,0);me(r.__init__,r,t,ye(_))}(),function(){var n=Ft(e.__bases__,1);me.apply(void 0,[n.__init__,n,t].concat((0,j.default)(r),[ye(u)]))}()},Ls=ve("LLMMacroSpecBase",[Ns,$o],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,Ls,e,i,t)}))}}),Ts=ve("LLMEnvironmentSpecBase",[Ns,Qo],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,Ts,e,i,t)}))}}),As=ve("LLMSpecialsSpecBase",[Ns,Zo],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,As,e,i,t)}))}}),Ms=ve("LLMSpecInfoConstantValue",[Ns],{__module__:Es,allowed_in_standalone_mode:!0,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"value":var i=n[a];break;default:t[a]=n[a]}delete t.__kwargtrans__}var o=at([].slice.apply(arguments).slice(1,r+1))}else o=at();me.apply(void 0,[me(we,null,Ms,"__init__"),null,e].concat((0,j.default)(o),[ye(t)])),e.value=i}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}return me((o=r.fragment_renderer).render_value,o,e.value);var o}))}}),Is=ve("ConstantValueMacro",[Ms,$o],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,Is,e,i,t,at(["value"]))}))}}),Rs=ve("ConstantValueSpecials",[Ms,Zo],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,Rs,e,i,t,at(["value"]))}))}}),Ds=me(gs,null,ye({parser:"{",argname:"text"})),js=me(gs,null,ye({parser:me(ei.LatexTackOnInformationFieldMacrosParser,ei,["label"],ye({allow_multiple:!0})),argname:"label"})),zs=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"node_arg_label":e=n[a];break;case"allowed_prefixes":t=n[a]}}}if(Ae(!Ae((i=e,me(i.was_provided,i)))))return null;for(var i,o=[],s=function(){var t=e;return me(t.get_content_nodelist,t)}(),l=s,_=0;_<Te(l);_++){var u=Ft(l,_);if(!Ae(St(Ft(u.delimiters,0),"\\label")))throw(c=me(Er,null,"Bad information field macro {}".format(Ft(u.delimiters,0)),ye({pos:u.pos}))).__cause__=null,c;var c,f=function(){var e=u.nodelist;return me(e.get_content_as_chars,e)}();if(Ae(Se(":",f)))var d=function(){var e=f;return me(e.py_split,e,":",1)}(),h=d[0],p=d[1];else h=(d=at([null,f]))[0],p=d[1];if(Ae(!Se(h,t)))throw(c=me(Er,null,"Heading label ‘{}’ has incorrect prefix ‘{}:’; expected one of {}".format(f,h,t),ye({pos:u.pos}))).__cause__=null,c;!function(){var e=o;me(e.append,e,at([h,p]))}()}return o},Fs=ve("TextFormatMacro",[Ls],{__module__:Es,allowed_in_standalone_mode:!0,_llm_main_text_argument:"text",get __init__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"macroname":t=n[a];break;case"text_formats":var i=n[a]}}}me(me(we,null,Fs,"__init__"),null,e,ye({macroname:t,arguments_spec_list:[Ds]})),e.text_formats=i}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=(o=me(ln,null,ye({node:t})),me(o.get_all_arguments_info,o,at(["text"])));return function(){var t,n=r.fragment_renderer;return me(n.render_text_format,n,e.text_formats,me((t=Ft(s,"text")).get_content_nodelist,t),r)}()}))}}),Gs=ve("LLMSpecInfoParagraphBreak",[Ns],{__module__:Es,is_block_level:!0,is_paragraph_break_marker:!0,allowed_in_standalone_mode:!0,get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o=me(Er,null,"Paragraph break is not allowed here",ye({pos:t.pos}));throw o.__cause__=null,o}))}}),Us=ve("ParagraphBreakSpecials",[Gs,Zo],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,Us,e,i,t)}))}}),qs=ve("ParagraphBreakMacro",[Gs,$o],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,qs,e,i,t)}))}}),Hs=ve("LLMSpecInfoError",[Ns],{__module__:Es,allowed_in_standalone_mode:!0,get __init__(){return de(this,(function(e){var t=null,r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"error_msg":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}var o=at([].slice.apply(arguments).slice(1,n+1))}else o=at();me.apply(void 0,[me(we,null,Hs,"__init__"),null,e].concat((0,j.default)(o),[ye(r)])),e.error_msg=t}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}if(Ae(e.error_msg))var o=e.error_msg;else o="The node ‘{}’ cannot be placed here.".format((l=me((s=t).latex_verbatim,s),me(l.strip,l)));var s,l;!function(){var e=Cs;me(e.error,e,"Misplaced node: {}".format(me(Ge,null,t)))}();var _=me(Er,null,o,ye({pos:t.pos}));throw _.__cause__=null,_}))}}),Vs=ve("LLMMacroSpecError",[Hs,$o],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,Vs,e,i,t)}))}}),Bs=ve("LLMEnvironmentSpecError",[Hs,Qo],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,Bs,e,i,t)}))}}),Ws=ve("LLMSpecialsSpecError",[Hs,Zo],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,Ws,e,i,t)}))}}),Ys=wt({target_href:me(gs,null,ye({parser:me(ei.LatexDelimitedVerbatimParser,ei,at(["{","}"])),argname:"target_href"})),display_text:me(gs,null,ye({parser:"{",argname:"display_text"}))}),Xs=ve("HrefHyperlinkMacro",[Ls],{__module__:Es,allowed_in_standalone_mode:!0,get __init__(){return de(this,(function(e,t){var r,n=at(["target_href","display_text"]),a="href";if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"macroname":t=o[s];break;case"command_arguments":n=o[s];break;case"ref_type":a=o[s]}}}me(me(we,null,Xs,"__init__"),null,e,ye({macroname:t,arguments_spec_list:(r=e,me(r._get_arguments_spec_list,r,n))})),e.command_arguments=function(){for(var e,t=[],r=n,a=0;a<Te(r);a++){var i=Ft(r,a);e=void 0,me(t.append,t,me((e=i).strip,e,"[]"))}return t}(),e.ref_type=a,Ae(Se("display_text",n))&&(e._llm_main_text_argument="display_text")}))},get _get_arguments_spec_list(){return he(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"cls":e=n[a];break;case"command_arguments":t=n[a]}}}return function(){for(var e=[],r=t,n=0;n<Te(r);n++){var a=Ft(r,n);me(e.append,e,Ft(Ys,a))}return e}()}))},get pretty_url(){return he(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"cls":e=n[a];break;case"target_href":t=n[a]}}}for(var i,o=me(ot,null,t),s=at(["http://","https://"]),l=0;l<Te(s);l++){var _=Ft(s,l);if(Ae((i=void 0,me((i=o).startswith,i,_)))){o=Ut(o,me(Te,null,_),null,1);break}}o=function(){var e=o;return me(e.rstrip,e,"/#?")}();return o}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=(i=me(ln,null,ye({node:t})),me(i.get_all_arguments_info,i,e.command_arguments)),s=null,l=null;if(Ae(Se("target_href",o)))s=function(){var e=Ft(o,"target_href");return me(e.get_content_as_chars,e)}();if(Ae(Se("display_text",o)))l=function(){var e=Ft(o,"display_text");return me(e.get_content_nodelist,e)}();t.llm_href_info=wt({target_href:s,display_text_nodelist:l})}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s,l,_=Ft(t.llm_href_info,"target_href");if(Ae(null===(u=Ft(t.llm_href_info,"display_text_nodelist"))))var u=me((l=t.latex_walker).make_nodelist,l,[(s=t.latex_walker,me(s.make_node,s,Ur,ye({parsing_state:t.parsing_state,chars:(o=e,me(o.pretty_url,o,_)),pos:t.pos,pos_end:t.pos})))],ye({parsing_state:t.parsing_state}));return function(){var t=r.fragment_renderer;return me(t.render_link,t,e.ref_type,_,u,r)}()}))}}),$s=ve("VerbatimSpecInfo",[Ns],{__module__:Es,allowed_in_standalone_mode:!0,get __init__(){return de(this,(function(e){var t=null,r=!1,n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"annotations":t=i[o];break;case"include_environment_begin_end":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}var s=at([].slice.apply(arguments).slice(1,a+1))}else s=at();me.apply(void 0,[me(we,null,$s,"__init__"),null,e].concat((0,j.default)(s),[ye(n)])),e.annotations=t,e.include_environment_begin_end=r}))},get make_body_parser(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":t=i[o];break;case"nodeargd":r=i[o];break;case"arg_parsing_state_delta":n=i[o]}}}xe(St(t.tok,"begin_environment"));var s=t.arg;return me(ei.LatexVerbatimEnvironmentContentsParser,ei,ye({environment_name:s}))}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=null;if(Ae(me((o=t).isNodeType,o,Br))){s=t.environmentname;if(Ae(e.include_environment_begin_end))var l=function(){var e=t;return me(e.latex_verbatim,e)}();else l=function(){var e=t.nodelist;return me(e.latex_verbatim,e)}()}else l=function(){var e=t;return me(e.latex_verbatim,e)}();var _=Ae(e.annotations)||[];return Ae(null!==s)&&function(){var e=_;me(e.append,e,s)}(),function(){var e=r.fragment_renderer;return me(e.render_verbatim,e,l,ye({annotations:_}))}()}))}}),Qs=ve("VerbatimMacro",[$s,$o],{__module__:Es,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macroname":t=i[o];break;case"verbatim_delimiters":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}var s=me(wt,null,ye(Oe({macroname:t,arguments_spec_list:[me(ei.LatexDelimitedVerbatimParser,ei,ye({delimiters:r}))]},n)));me(Ss,null,Qs,e,[],s)}))}}),Zs=ve("VerbatimEnvironment",[$s,Qo],{__module__:Es,get __init__(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}var i=at([].slice.apply(arguments).slice(1,r+1))}else i=at();me(Ss,null,Zs,e,i,t)}))}}),Ks={},Js={};fe(Ks,"",dr),fe(Js,"",Sn);var el="llm.feature.refs",tl=me(Ks.getLogger,Ks,el),rl=ve("ReferenceableInfo",[ge],{__module__:el,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"formatted_ref_llm_text":t=a[i];break;case"labels":r=a[i]}}}me(me(we,null,rl,"__init__"),null,e),e.formatted_ref_llm_text=t,e.labels=r,e._fields=at(["formatted_ref_llm_text","labels"])}))},get get_target_id(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}if(Ae(!Ae(e.labels)))return null;var a=Ft(e.labels,0),i=a[0],o=a[1];return me(sl,null,i,o)}))},get asdict(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a,me(Ce,null,e,a)])}return wt(t)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Pt(Pt("{}(".format(e.__class__.__name__),me(", ".join,", ",function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,"{}={}".format(a,me(Ce,null,e,a)))}return Ye(t)}())),")")}))}}),nl=ve("RefInstance",[ge],{__module__:el,get __init__(){return de(this,(function(e,t,r,n,a){if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"ref_type":t=o[s];break;case"ref_label":r=o[s];break;case"formatted_ref_llm_text":n=o[s];break;case"target_href":a=o[s]}}}me(me(we,null,nl,"__init__"),null,e),e.ref_type=t,e.ref_label=r,e.formatted_ref_llm_text=n,e.target_href=a,e._fields=at(["ref_type","ref_label","formatted_ref_llm_text","target_href"])}))},get asdict(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a,me(Ce,null,e,a)])}return wt(t)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Pt(Pt("{}(".format(e.__class__.__name__),me(", ".join,", ",function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,"{}={}".format(a,me(Ce,null,e,a)))}return Ye(t)}())),")")}))}}),al=function(e){return(+e).toString(16)},il=me(Js.compile,Js,"[^a-zA-Z0-9-]"),ol=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("m"===n)e=r[n]}}return"_{}X".format(me(al,null,me(qe,null,me((a=e).group,a))));var a},sl=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"ref_type":e=n[a];break;case"ref_label":t=n[a]}}}var i,o=me((i=il).sub,i,ol,e),s=function(){var e=il;return me(e.sub,e,ol,t)}();return"{}-{}".format(o,s)},ll=ve("FeatureRefsRenderManager",[xs.RenderManager],{__module__:el,get initialize(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"add_external_ref_resolvers":t=n[a]}}}var i;e.ref_labels=wt({}),e.registered_references=wt({}),e.external_ref_resolvers=[],Ae(t)&&me((i=e.external_ref_resolvers).extend,i,t),function(){var t=e.external_ref_resolvers;me(t.extend,t,e.feature.external_ref_resolvers)}()}))},get register_reference_referenceable(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)switch(n){case"self":e=r[n];break;case"node":var a=r[n];break;case"referenceable_info":var i=r[n]}}}if(!Ae(!Ae(i.labels)))for(var o,s=Pt("#",me((o=i).get_target_id,o)),l=i.labels,_=0;_<Te(l);_++){var u=Ft(l,_),c=u[0],f=u[1];!function(){var t=e;me(t.register_reference,t,c,f,ye({formatted_ref_llm_text:i.formatted_ref_llm_text,node:a,target_href:s}))}()}}))},get register_reference(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"ref_type":t=a[i];break;case"ref_label":r=a[i];break;case"node":var o=a[i];break;case"formatted_ref_llm_text":var s=a[i];break;case"target_href":var l=a[i]}}}var _,u=me((_=e).get_node_id,_,o),c=at([u,t,r]);if(Ae(Se(c,e.registered_references)))return e.registered_references;if(Ae(Se(at([t,r]),e.ref_labels))){var f=me(Yt,null,"Duplicate reference label ‘{}:{}’ in the same document!".format(t,r));throw f.__cause__=null,f}var d=me(nl,null,ye({ref_type:t,ref_label:r,formatted_ref_llm_text:s,target_href:l}));return Gt(e.registered_references,c,d),e.ref_labels.__setitem__([t,r],d),d}))},get get_ref(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"ref_type":t=i[o];break;case"ref_label":r=i[o];break;case"resource_info":n=i[o]}}}if(Ae(Se(at([t,r]),e.ref_labels)))return e.ref_labels.__getitem__([t,r]);for(var s,l=e.external_ref_resolvers,_=0;_<Te(l);_++){var u=Ft(l,_),c=(s=void 0,me((s=u).get_ref,s,t,r,n,e.render_context));if(Ae(null!==c))return c}var f=me(Yt,null,"Ref target ‘{}:{}’ found neither within database nor with any set external resolvers".format(t,r));throw f.__cause__=null,f}))},get render_ref(){return de(this,(function(e,t,r,n,a,i){if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"ref_type":t=s[l];break;case"ref_label":r=s[l];break;case"display_content_llm":n=s[l];break;case"resource_info":a=s[l];break;case"render_context":i=s[l]}}}var _,u=i.fragment_renderer;try{var c=me((_=e).get_ref,_,t,r,a)}catch(e){if(ze(e,Vt)){var f=e,d=me(Yt,null,"Unable to resolve reference to ‘{}:{}’: {} [in {}]".format(t,r,f,me(Ge,null,a)));throw d.__cause__=null,d}throw e}if(Ae(null===n))n=c.formatted_ref_llm_text;if(Ae(!Ae(me(ze,null,n,Yi))))n=function(){var e=i.doc.environment;return me(e.make_fragment,e,n,ye({standalone_mode:!0}))}();var h=n.nodes;return function(){var e=u;return me(e.render_link,e,"ref",c.target_href,h,ye({render_context:i,annotations:["ref-{}".format(t)]}))}()}))}}),_l=ve("FeatureRefs",[xs],{__module__:el,feature_name:"refs",RenderManager:ll,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"external_ref_resolvers":t=n[a]}}}me(me(we,null,_l,"__init__"),null,e),Ae(null!==t)?e.external_ref_resolvers=me(nt,null,t):e.external_ref_resolvers=[]}))},get set_external_ref_resolvers(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"external_ref_resolvers":t=n[a]}}}var i;Ae(Ae(null!==e.external_ref_resolvers)&&me(Te,null,e.external_ref_resolvers))&&me((i=tl).warning,i,"FeatureRefs.set_external_ref_resolvers(): There were already external refs resolvers set.  They will be replaced."),e.external_ref_resolvers=t}))},get add_external_ref_resolver(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"external_ref_resolver":t=n[a]}}}var i;me((i=e.external_ref_resolvers).append,i,t)}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(wt,null,ye({macros:[me(cl,null,ye({macroname:"ref",command_arguments:at(["ref_label"])})),me(cl,null,ye({macroname:"hyperref",command_arguments:at(["[]ref_label","display_text"])}))]}))}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return"{}(external_ref_resolvers={})".format(e.__class__.__name__,me(Ge,null,e.external_ref_resolvers))}))}}),ul=wt({ref_label:me(gs,null,me(ei.LatexCharsGroupParser,ei),ye({argname:"ref_label"})),"[]ref_label":me(gs,null,me(ei.LatexCharsGroupParser,ei,ye({delimiters:at(["[","]"])})),ye({argname:"ref_label"})),display_text:me(gs,null,"{",ye({argname:"display_text"}))}),cl=ve("RefMacro",[Ls],{__module__:el,delayed_render:!0,get __init__(){return de(this,(function(e,t){var r,n="ref",a=at(["ref_label","display_text"]);if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"macroname":t=o[s];break;case"ref_type":n=o[s];break;case"command_arguments":a=o[s]}}}me(me(we,null,cl,"__init__"),null,e,ye({macroname:t,arguments_spec_list:(r=e,me(r._get_arguments_spec_list,r,a))})),e.ref_type=n,e.command_arguments=function(){for(var e,t=[],r=a,n=0;n<Te(r);n++){var i=Ft(r,n);e=void 0,me(t.append,t,me((e=i).py_replace,e,"[]",""))}return t}()}))},get _get_arguments_spec_list(){return he(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"cls":e=n[a];break;case"command_arguments":t=n[a]}}}return function(){for(var e=[],r=t,n=0;n<Te(r);n++){var a=Ft(r,n);me(e.append,e,Ft(ul,a))}return e}()}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=(i=me(ln,null,ye({node:t})),me(i.get_all_arguments_info,i,e.command_arguments)),s=null,l=function(){var e=Ft(o,"ref_label");return me(e.get_content_as_chars,e)}();if(Ae(Se(":",l))){var _=function(){var e=l;return me(e.py_split,e,":",1)}();s=_[0],l=_[1]}if(Ae(Se("display_text",o)))var u=function(){var e=Ft(o,"display_text");return me(e.get_content_nodelist,e)}();else u=null;t.llmarg_ref=at([s,l]),t.llm_ref_info=wt({ref_type_and_target:at([s,l]),display_content_nodelist:u})}))},get prepare_delayed_render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=Ft(t.llm_ref_info,"ref_type_and_target"),l=s[0],_=s[1],u=Ft(t.llm_ref_info,"display_content_nodelist"),c=me((o=r).feature_render_manager,o,"refs"),f=t.latex_walker.resource_info;try{return function(){var e=c;return me(e.render_ref,e,l,_,u,f,r)}()}catch(e){if(ze(e,Vt)){var d=e;!function(){var e,r=tl;me(r.error,r,"Failed to resolve reference to ‘{}:{}’: {} in ‘{}’ @ {}".format(l,_,d,me((e=t).latex_verbatim,e),function(){var e=t;return me(e.format_pos,e)}()))}();var h=me(Er,null,"Unable to resolve reference to ‘{}:{}’: {}".format(l,_,d),ye({pos:t.pos}));throw h.__cause__=null,h}throw e}}))}}),fl={},dl={};fe(fl,"",dr),fe(dl,"",Sn);var hl="llm.feature.defterm",pl=(me(fl.getLogger,fl,hl),function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("x"===n)e=r[n]}}return me(dl.sub,dl,"\\s+"," ",me((a=e).strip,a));var a}),gl=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("node_term_arg_nodelist"===n)e=r[n]}}return me(pl,null,me((a=e).latex_verbatim,a));var a},vl=ve("DefineTermEnvironment",[Ts],{__module__:hl,is_block_level:!0,allowed_in_standalone_mode:!1,allowed_ref_label_prefixes:at(["topic"]),defterm_ref_type:"defterm",get __init__(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!0;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=": ";var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"environmentname":t=o[s];break;case"render_with_term":r=o[s];break;case"render_with_term_suffix":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}if(me(me(we,null,vl,"__init__"),null,e,ye(Oe({environmentname:t,arguments_spec_list:[me(gs,null,"{",ye({argname:"term"})),Os.label_arg]},a))),e.render_with_term=r,e.render_with_term_suffix=n,Ae(e.render_with_term)){var l=me(Fs,null,"",ye({text_formats:["defterm-term"]}));l.is_block_heading=!0,e.render_term_text_format_spec=l}e.body_parsing_state_delta=me(ps,null,ye({is_block_level:e.is_block_level}))}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=(i=me(ln,null,ye({node:t})),me(i.get_all_arguments_info,i,at(["term","label"]))),s=me(gl,null,function(){var e=Ft(o,"term");return me(e.get_content_nodelist,e)}());return t.llmarg_term_llm_ref_label_verbatim=s,t.llmarg_labels=me(Os.helper_collect_labels,Os,Ft(o,"label"),e.allowed_ref_label_prefixes),t.llm_referenceable_infos=[me(ks.ReferenceableInfo,ks,ye({formatted_ref_llm_text:t.llmarg_term_llm_ref_label_verbatim,labels:Pt([at([e.defterm_ref_type,t.llmarg_term_llm_ref_label_verbatim])],me(nt,null,t.llmarg_labels))}))],t}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=t.llmarg_term_llm_ref_label_verbatim;if(Ae(me((o=r).supports_feature,o,"refs")))for(var l=function(){var e=r;return me(e.feature_render_manager,e,"refs")}(),_=t.llm_referenceable_infos,u=0;u<Te(_);u++){var c=Ft(_,u);!function(){var e=l;me(e.register_reference_referenceable,e,ye({node:t,referenceable_info:c}))}()}var f=t.nodelist;if(Ae(e.render_with_term)){var d=r.doc.environment,h=function(){var t=d;return me(t.make_fragment,t,Pt(s,e.render_with_term_suffix),ye({standalone_mode:!0}))}(),p=function(){var r=h.latex_walker;return me(r.make_node,r,Vr,ye({macroname:"",spec:e.render_term_text_format_spec,macro_post_space:"",parsing_state:h.nodes.parsing_state,nodeargd:me(jr,null,ye({arguments_spec_list:e.render_term_text_format_spec.arguments_spec_list,argnlist:[h.nodes]})),pos:t.pos,pos_end:t.pos_end}))}();!function(){var t=e.render_term_text_format_spec;me(t.finalize_node,t,p)}();f=function(){var e=h.latex_walker;return me(e.make_nodelist,e,Pt([p],me(nt,null,f)),ye({parsing_state:t.nodelist.parsing_state}))}()}return function(){var e,n=r.fragment_renderer;return me(n.render_semantic_block,n,ye({content:(e=r.fragment_renderer,me(e.render_nodelist,e,f,ye({render_context:r,is_block_level:!0}))),role:"defterm",target_id:function(){var e=Ft(t.llm_referenceable_infos,0);return me(e.get_target_id,e)}()}))}()}))}}),ml=ve("RefTermMacro",[Ls],{__module__:hl,allowed_in_standalone_mode:!1,defterm_ref_type:"defterm",get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"macroname":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}me(me(we,null,ml,"__init__"),null,e,ye(Oe({macroname:t,arguments_spec_list:[me(gs,null,"[",ye({argname:"ref_term"})),me(gs,null,"{",ye({argname:"term"}))]},r)))}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=(i=me(ln,null,ye({node:t})),me(i.get_all_arguments_info,i,at(["ref_term","term"])));Ae(function(){var e=Ft(o,"ref_term");return me(e.was_provided,e)}())?(t.llm_term_llm_show_term_nodelist=function(){var e=Ft(o,"term");return me(e.get_content_nodelist,e)}(),t.llm_term_llm_ref_label_verbatim=me(gl,null,function(){var e=Ft(o,"ref_term");return me(e.get_content_nodelist,e)}())):(t.llm_term_llm_show_term_nodelist=function(){var e=Ft(o,"term");return me(e.get_content_nodelist,e)}(),t.llm_term_llm_ref_label_verbatim=me(gl,null,t.llm_term_llm_show_term_nodelist)),t.llmarg_ref=at([e.defterm_ref_type,t.llm_term_llm_ref_label_verbatim])}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=t.llm_term_llm_show_term_nodelist,l=t.llm_term_llm_ref_label_verbatim;if(Ae(!Ae((o=r,me(o.supports_feature,o,"refs")))))return function(){var e=r.fragment_renderer;return me(e.render_nodelist,e,s,ye({render_context:r,is_block_level:!1}))}();var _=t.latex_walker.resource_info,u=function(){var e=r;return me(e.feature_render_manager,e,"refs")}(),c=function(){var t=u;return me(t.get_ref,t,e.defterm_ref_type,l,_)}();return function(){var e=r.fragment_renderer;return me(e.render_link,e,"term",ye({href:c.target_href,display_nodelist:s,render_context:r}))}()}))}}),yl=ve("FeatureDefTerm",[xs],{__module__:hl,feature_name:"defterm",FeatureDocumentManager:null,FeatureRenderManager:null,render_defterm_with_term:!0,render_defterm_with_term_suffix:": ",get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(wt,null,ye({macros:[me(ml,null,"term")],environments:[me(vl,null,"defterm",ye({render_with_term:e.render_defterm_with_term,render_with_term_suffix:e.render_defterm_with_term_suffix}))]}))}))}}),wl={};fe(wl,"",dr);var kl="llm.feature.graphics",bl=(me(wl.getLogger,wl,kl),ve("GraphicsResource",[ge],{__module__:kl,get __init__(){return de(this,(function(e,t){var r=null,n=null,a=null,i=null,o=null;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"src_url":t=l[_];break;case"srcset":r=l[_];break;case"graphics_type":n=l[_];break;case"dpi":a=l[_];break;case"pixel_dimensions":i=l[_];break;case"physical_dimensions":o=l[_]}}}me(me(we,null,bl,"__init__"),null,e),e.src_url=t,e.srcset=r,e.graphics_type=n,e.dpi=a,e.pixel_dimensions=i,e.physical_dimensions=o,e._fields=at(["src_url","srcset","graphics_type","dpi","pixel_dimensions","physical_dimensions"])}))},get asdict(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a,me(Ce,null,e,a)])}return wt(t)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="{}({})").format,a,e.__class__.__name__,me(", ".join,", ",function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,"{}={}".format(a,me(Ce,null,e,a)))}return t}()));var a}))}})),xl=ve("SimpleIncludeGraphicsMacro",[Ls],{__module__:kl,is_block_level:!0,allowed_in_standalone_mode:!1,get __init__(){return de(this,(function(e,t){var r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"macroname":t=a[i];break;default:r[i]=a[i]}delete r.__kwargtrans__}}me(me(we,null,xl,"__init__"),null,e,ye(Oe({macroname:"includegraphics",arguments_spec_list:[me(gs,null,ye({parser:me(ei.LatexCharsGroupParser,ei,ye({delimiters:at(["[","]"]),optional:!0})),argname:"graphics_options"})),me(gs,null,ye({parser:me(ei.LatexCharsGroupParser,ei,ye({delimiters:at(["{","}"])})),argname:"graphics_path"}))]},r)))}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=(i=me(ln,null,ye({node:t})),me(i.get_all_arguments_info,i,at(["graphics_options","graphics_path"])));return t.llmarg_graphics_options_value=function(){var e=Ft(o,"graphics_options");return me(e.get_content_as_chars,e)}(),t.llmarg_graphics_path=function(){var e=Ft(o,"graphics_path");return me(e.get_content_as_chars,e)}(),t.llm_resources=[wt({resource_type:"graphics_path",resource_source_type:"file",resource_source:t.llmarg_graphics_path})],t}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s,l=r.fragment_renderer,_=t.llmarg_graphics_options_value,u=t.llmarg_graphics_path;if(Ae(_))throw(o=me(Er,null,"Graphics options are not supported here: ‘{}’".format(_),ye({pos:Ft(node_args,"graphics_options").nodelist.pos}))).__cause__=null,o;if(Ae(!Ae((s=r,me(s.supports_feature,s,"graphics_resource_provider")))))throw(o=me(RuntimeError,null,"LLM's ‘SimpleIncludeGraphicsSpecInfo’ (‘\\includegraphics’) requires a ‘graphics_resource_provider’ feature to be installed in the render context")).__cause__=null,o;var c=t.latex_walker.resource_info,f=function(){var e=r;return me(e.feature_render_manager,e,"graphics_resource_provider")}(),d=function(){var e=f;return me(e.get_graphics_resource,e,u,c)}();return function(){var e=l;return me(e.render_graphics_block,e,d)}()}))}}),Ol=ve("FeatureSimplePathGraphicsResourceProvider",[xs],{__module__:kl,feature_name:"graphics_resource_provider",RenderManager:ve("RenderManager",[xs.RenderManager],{__module__:kl,get get_graphics_resource(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"graphics_path":t=a[i];break;case"resource_info":r=a[i]}}}return me(bl,null,ye({src_url:t}))}))}})}),Pl={},El={};fe(Pl,"",dr),fe(El,"",Sn);var Cl="llm.feature.cells",Nl=(me(Pl.getLogger,Pl,Cl),ve("_NotSpecified",[ge],{__module__:Cl})),Sl=ve("LatexTabularRowSeparatorSpec",[eo.MacroSpec],{__module__:Cl,get __init__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}me(me(we,null,Sl,"__init__"),null,e,ye({macroname:"\\",arguments_spec_list:[]}))}))}}),Ll=ve("LatexTabularColumnSeparatorSpec",[eo.SpecialsSpec],{__module__:Cl,get __init__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}me(me(we,null,Ll,"__init__"),null,e,ye({specials_chars:"&",arguments_spec_list:[]}))}))}}),Tl=wt({mergespec:me(Dr,null,me(ei.LatexCharsGroupParser,ei,ye({enable_groups:!1})),ye({argname:"mergespec"})),styles:me(Dr,null,me(ei.LatexCharsGroupParser,ei,ye({delimiters:at(["<",">"]),enable_groups:!1,optional:!0})),ye({argname:"styles"})),styles_mapping:me(Dr,null,me(ei.LatexCharsGroupParser,ei,ye({delimiters:at(["<",">"]),enable_groups:!1,optional:!0})),ye({argname:"styles_mapping"})),cellcontents:me(gs,null,"{",ye({argname:"cellcontents",is_block_level:!0}))}),Al=ve("MergeMacroSpec",[eo.MacroSpec],{__module__:Cl,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="merge";if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"macroname":t=n[a]}}}me(me(we,null,Al,"__init__"),null,e,t,ye({arguments_spec_list:[Ft(Tl,"mergespec")]}))}))}});Gt(Tl,"placement",me(Dr,null,me(ei.LatexDelimitedGroupParser,ei,ye({delimiters:at(["[","]"]),optional:!0})),ye({argname:"placement",parsing_state_delta:me(eo.ParsingStateDeltaExtendLatexContextDb,eo,ye({extend_latex_context:me(wt,null,ye({macros:[me(Al,null)]}))}))}))),Gt(Tl,"placement_mapping",me(Dr,null,me(ei.LatexDelimitedGroupParser,ei,ye({delimiters:at(["[","]"]),optional:!0})),ye({argname:"placement_mapping",parsing_state_delta:me(eo.ParsingStateDeltaExtendLatexContextDb,eo,ye({extend_latex_context:me(wt,null,ye({macros:[me(Al,null)]}))}))})));var Ml=ve("CellMacro",[Vs],{__module__:Cl,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="cell";if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"macroname":t=n[a]}}}me(me(we,null,Ml,"__init__"),null,e,ye({macroname:t,arguments_spec_list:[Ft(Tl,"styles"),Ft(Tl,"placement"),Ft(Tl,"cellcontents")]}))}))}});Gt(Tl,"celldata_contents",me(Dr,null,"{",ye({argname:"celldata_contents",parsing_state_delta:me(eo.ParsingStateDeltaExtendLatexContextDb,eo,ye({extend_latex_context:me(wt,null,ye({macros:[me(Ml,null),me(Sl,null)],specials:[me(Ll,null)]}))}))})));var Il=ve("CelldataMacroSpec",[eo.MacroSpec],{__module__:Cl,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="celldata";if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"macroname":t=n[a]}}}me(me(we,null,Il,"__init__"),null,e,t,ye({arguments_spec_list:[Ft(Tl,"styles_mapping"),Ft(Tl,"placement_mapping"),Ft(Tl,"celldata_contents")]}))}))}}),Rl=ve("CellIndexRangeModel",[ge],{__module__:Cl,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"start":t=a[i];break;case"end":r=a[i]}}}me(me(we,null,Rl,"__init__"),null,e),e.start=t,e.end=r}))},_fields:at(["start","end"]),get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(St(e.end,Pt(e.start,1)))?"{}".format(Pt(e.start,1)):"[{}-{}]".format(Pt(e.start,1),e.end)}))}}),Dl=ve("CellPlacementModel",[ge],{__module__:Cl,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"row_range":t=a[i];break;case"col_range":r=a[i]}}}me(me(we,null,Dl,"__init__"),null,e),e.row_range=t,e.col_range=r}))},_fields:at(["row_range","col_range"]),get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return"{},{}".format(me(Ge,null,e.row_range),me(Ge,null,e.col_range))}))}}),jl=ve("CellModel",[ge],{__module__:Cl,get __init__(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"placement":t=i[o];break;case"styles":r=i[o];break;case"content_nodes":n=i[o]}}}me(me(we,null,jl,"__init__"),null,e),e.placement=t,e.styles=r,e.content_nodes=n}))},_fields:at(["placement","styles","content_nodes"]),get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return"<Cell @{} <{}> (‘{}’)>".format(me(Ge,null,e.placement),me(" ".join," ",e.styles),me(zl,null,me((a=e.content_nodes).latex_verbatim,a)));var a}))}}),zl=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("s"===n)e=r[n]}}return me(El.sub,El,"(^\\s+|\\s+$)"," ",e)},Fl=ve("CellPlacementsMappingModel",[ge],{__module__:Cl,get __init__(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"row_placements":t=a[i];break;case"col_placements":r=a[i]}}}me(me(we,null,Fl,"__init__"),null,e),e.row_placements=t,e.col_placements=r}))},_fields:at(["row_placements","col_placements"]),get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Pt(Pt("{}(".format(e.__class__.__name__),me("".join,"",function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,"\n    {}={}".format(a,me(Ge,null,me(Ce,null,e,a))))}return Ye(t)}())),"\n)".format())}))},get _get_index_range(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"placements":t=i[o];break;case"j":r=i[o];break;case"current":n=i[o]}}}if(Ae(St(me(Te,null,t),0)))return me(Rl,null,n,Pt(n,1));if(Ae(Tt(r,Et(me(Te,null,t),1))))return Ft(t,r);var s=Ft(t,bt(1));if(Ae(null===s.end)){var l=Pt(s.start,Pt(Et(r,me(Te,null,t)),1));return me(Rl,null,l,Pt(l,1))}return s}))},get get_row_index_range(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"row_j":t=a[i];break;case"current_row":r=a[i]}}}return me((o=e)._get_index_range,o,e.row_placements,t,r);var o}))},get get_col_index_range(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"col_j":t=a[i];break;case"current_col":r=a[i]}}}return me((o=e)._get_index_range,o,e.col_placements,t,r);var o}))},get start_row_col(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"current_row":t=a[i];break;case"current_col":r=a[i]}}}return at([(o=e,me(o.get_row_index_range,o,0,t)).start,function(){var t=e;return me(t.get_col_index_range,t,0,r)}().start]);var o}))}}),Gl=ve("CellsModel",[ge],{__module__:Cl,get __init__(){return de(this,(function(e){var t,r=wt();if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)if("self"===i)e=a[i];else r[i]=a[i];delete r.__kwargtrans__}}if(me(me(we,null,Gl,"__init__"),null,e),e.current_row=0,e.current_col=0,e.row_names=wt({}),e.column_names=wt({}),Ae(r))return e.cells_size=me((t=r).py_pop,t,"cells_size"),e.cells_data=function(){var e=r;return me(e.py_pop,e,"cells_data")}(),void function(){var t=e;me(t.finalize,t)}();e.cells_size=[null,null],e.cells_data=[],e.grid_data=null}))},_fields:at(["cells_size","cells_data"]),get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a=me("".join,"",function(){for(var t=[],r=e.cells_data,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,Pt("\n        ",me(Ge,null,a)))}return t}());return"{}(\n    cells_size={},\n    cells_data=[{}\n    ])".format(e.__class__.__name__,me(Ge,null,e.cells_size),a)}))},get add_cell_node(){return de(this,(function(e,t,r,n){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cell_node":t=i[o];break;case"default_placement":r=i[o];break;case"default_styles":n=i[o]}}}var s,l=(s=me(ln,null,ye({node:t})),me(s.get_all_arguments_info,s,at(["styles","placement","cellcontents"])));if(Ae(null===n))n=[];if(Ae(function(){var e=Ft(l,"styles");return me(e.was_provided,e)}()))var _=Pt(function(){var e,t=me((e=Ft(l,"styles")).get_content_as_chars,e);return me(t.py_split,t," ")}(),n);else _=n;if(Ae(function(){var e=Ft(l,"placement");return me(e.was_provided,e)}()))var u=function(){var e=Ft(l,"placement");return me(e.get_content_nodelist,e)}();else u=r;var c=function(){var e=Ft(l,"cellcontents");return me(e.get_content_nodelist,e)}();return function(){var t=e;return me(t.add_cell,t,u,_,c)}()}))},get add_cell(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"placement_spec":t=i[o];break;case"styles":r=i[o];break;case"content_nodes":n=i[o]}}}var s,l=me((s=e).parse_placement_spec,s,t),_=me(jl,null,ye({placement:l,styles:r,content_nodes:n}));return function(){var t=e.cells_data;me(t.append,t,_)}(),Ae(Ae(null===Ft(e.cells_size,0))||It(_.placement.row_range.end,Ft(e.cells_size,0)))&&Gt(e.cells_size,0,_.placement.row_range.end),Ae(Ae(null===Ft(e.cells_size,1))||It(_.placement.col_range.end,Ft(e.cells_size,1)))&&Gt(e.cells_size,1,_.placement.col_range.end),function(){var t=e;me(t.move_to_col,t,_.placement.col_range.end)}(),_}))},get move_to_col(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"col":t=n[a]}}}e.current_col=t}))},get move_next_row(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}e.current_row=me(Dt,null,e.current_row,1),e.current_col=0}))},get finalize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}e.grid_data=function(){for(var t=[],r=0;r<Ft(e.cells_size,0);r++)me(t.append,t,function(){for(var t=[],r=0;r<Ft(e.cells_size,1);r++)me(t.append,t,null);return t}());return t}();for(var a=e.cells_data,i=0;i<Te(a);i++)for(var o=Ft(a,i),s=!0,l=o.placement.row_range.start;l<o.placement.row_range.end;l++)for(var _=o.placement.col_range.start;_<o.placement.col_range.end;_++){if(Ae(null!==Ft(Ft(e.grid_data,l),_))){var u=Ft(Ft(Ft(e.grid_data,l),_),"cell"),c=me(Yt,null,"‘{}’ overlaps with ‘{}’".format(me(Ge,null,o),me(Ge,null,u)));throw c.__cause__=null,c}Gt(Ft(e.grid_data,l),_,wt({cell:o,is_topleft:s}));s=!1}}))},get add_celldata_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"celldata_node":t=n[a]}}}var i,o=(i=me(ln,null,ye({node:t})),me(i.get_all_arguments_info,i,at(["styles_mapping","placement_mapping","celldata_contents"]))),s=function(){for(var e,t,r=[],n=(t=me((e=Ft(o,"styles_mapping")).get_content_as_chars,e),me(t.py_split,t,",")),a=0;a<Te(n);a++){var i=Ft(n,a);me(r.append,r,function(){var e=i;return me(e.py_split,e)}())}return r}(),l=function(){var e=Ft(o,"placement_mapping");return me(e.get_content_nodelist,e)}(),_=function(){var e=Ft(o,"celldata_contents");return me(e.get_content_nodelist,e)}(),u=function(){var e=_;return me(e.split_at_node,e,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("node"===n)e=r[n]}}return Ae(me((a=e).isNodeType,a,Vr))&&St(e.macroname,"\\");var a}))}(),c=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("node"===n)e=r[n]}}return!!Ae(Ae(function(){var t=e;return me(t.isNodeType,t,Yr)}())&&St(e.specials_chars,"&"))},f=function(){for(var e,t=[],r=u,n=0;n<Te(r);n++){var a=Ft(r,n);e=void 0,me(t.append,t,me((e=a).split_at_node,e,c))}return t}();!function(){var t=e;me(t.add_celldata,t,l,s,f)}()}))},get add_celldata(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"placement_mapping_spec":t=i[o];break;case"styles_mapping":r=i[o];break;case"data_content_nodes":n=i[o]}}}var s,l=me((s=e).parse_placement_mapping_spec,s,t),_=function(){var t=l;return me(t.start_row_col,t,ye({current_row:e.current_row,current_col:e.current_col}))}();e.current_row=_[0],e.current_col=_[1];for(var u=0,c=n,f=0;f<Te(c);f++){for(var d=Ft(c,f),h=0,p=d,g=0;g<Te(p);g++){var v=Ft(p,g),m=function(){var t=l;return me(t.get_row_index_range,t,u,ye({current_row:e.current_row}))}(),y=function(){var t=l;return me(t.get_col_index_range,t,h,ye({current_col:e.current_col}))}(),w=me(Dl,null,ye({row_range:m,col_range:y}));if(Ae(Tt(h,me(Te,null,r))))var k=Ft(r,h);else k=Ft(r,bt(1));var b=function(){var e=v.latex_walker;return me(e.filter_whitespace_comments_nodes,e,v)}();if(Ae(Ae(St(me(Te,null,b),1))&&Ae(function(){var e=Ft(b,0);return me(e.isNodeType,e,Vr)}())&&St(Ft(b,0).macroname,"cell"))){var x=function(){var t=e;return me(t.add_cell_node,t,Ft(b,0),ye({default_placement:w,default_styles:k}))}();h=me(Dt,null,h,Et(x.placement.col_range.end,x.placement.col_range.start))}else if(Ae(St(me(Te,null,b),0))){e.current_col=y.end;h=me(Dt,null,h,1)}else{!function(){var t=e;me(t.add_cell,t,w,k,v)}();h=me(Dt,null,h,1)}}!function(){var t=e;me(t.move_next_row,t)}();u=me(Dt,null,u,1),h=0}}))},_rx_int:me(El.compile,El,"^\\d+$"),get parse_cell_index_spec(){return de(this,(function(e,t,r,n,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=Nl;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"index_spec":t=o[s];break;case"is_row":r=o[s];break;case"is_col":n=o[s];break;case"py_default":a=o[s]}}}if(Ae(me(ze,null,t,ot)))var l=t;else l=me((_=t).get_content_as_chars,_);var _;l=function(){var e=l;return me(e.strip,e)}();if(Ae(Ae(!Ae(l))||St(l,"."))){if(Ae(a!==Nl))return a;if(Ae(r))return e.current_row;if(Ae(n))return e.current_col;var u;throw(u=me(RuntimeError,null,"Internal error: Neither is_row nor is_col is set!")).__cause__=null,u}if(Ae(function(){var t=e._rx_int;return me(t.match,t,l)}()))return Et(me(Ie,null,l),1);if(Ae(Ae(r)&&Se(l,e.row_names)))return Ft(e.row_names,l);if(Ae(Ae(n)&&Se(l,e.col_names)))return Ft(e.col_names,l);throw(u=me(Yt,null,"Invalid cell index: ‘{}’, expected number or valid alias name".format(l))).__cause__=null,u}))},get parse_cell_index_range_spec(){return de(this,(function(e,t,r,n,a,i,o){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=Nl;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"range_spec_s":t=l[_];break;case"is_row":r=l[_];break;case"is_col":n=l[_];break;case"py_default":a=l[_];break;case"default_start":i=l[_];break;case"default_end":o=l[_]}}}if(Ae(Se(",",t))){for(var u=me((k=t).py_split,k,","),c=[],f=null,d=null,h=u,p=0;p<Te(h);p++){for(var g=Ft(h,p),v=function(){var t=e;return me(t.parse_cell_index_range_spec,t,g,ye({is_row:r,is_col:n,py_default:a}))}(),m=v[0],y=v[1],w=m;w<y;w++){if(Ae(It(w,me(Te,null,c))))c=me(Dt,null,c,function(){for(var e=[],t=0;t<Pt(Et(y,me(Te,null,c)),1);t++)me(e.append,e,!1);return e}());Gt(c,w,!0)}if(Ae(Ae(null===f)||Mt(f,m)))f=m;if(Ae(Ae(null===d)||Tt(d,y)))d=y}for(w=f;w<d;w++)if(Ae(!Ae(Ft(c,w)))){throw(P=me(Yt,null,"Specified range ‘{}’ is not contiguous".format(t))).__cause__=null,P}return at([f,d])}var k;if(Ae(Se("-",t))){v=function(){var e=t;return me(e.py_split,e,"-",1)}();var b=v[0],x=v[1],O=(m=function(){var t=e;return me(t.parse_cell_index_spec,t,b,ye({is_row:r,is_col:n,py_default:i}))}(),function(){var t=e;return me(t.parse_cell_index_spec,t,x,ye({is_row:r,is_col:n,py_default:null}))}());if(Ae(null===O))y=o;else y=Pt(O,1);return at([m,y])}if(Ae(Se("+",t))){v=function(){var e=t;return me(e.py_split,e,"+",1)}(),b=v[0];var P,E=v[1];m=function(){var t=e;return me(t.parse_cell_index_spec,t,b,ye({is_row:r,is_col:n,py_default:a}))}();if(Ae(!Ae(function(){var t=e._rx_int;return me(t.match,t,E)}())))throw(P=me(Yt,null,"Invalid number in ‘START+N’ cell index range specification: ‘{}’".format(E))).__cause__=null,P;var C=me(Ie,null,E);return at([m,y=Pt(m,C)])}w=function(){var i=e;return me(i.parse_cell_index_spec,i,t,ye({is_row:r,is_col:n,py_default:a}))}();return at([w,Pt(w,1)])}))},get parse_placement_index_spec(){return de(this,(function(e,t,r,n,a,i,o){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=Nl;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=0;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=Nl;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"placement_index_spec":t=l[_];break;case"is_row":r=l[_];break;case"is_col":n=l[_];break;case"py_default":a=l[_];break;case"default_start":i=l[_];break;case"default_end":o=l[_]}}}if(Ae(St(me(Te,null,t),0))){if(Ae(r))return me(Rl,null,ye({start:e.current_row,end:Pt(e.current_row,1)}));if(Ae(n))return me(Rl,null,ye({start:e.current_col,end:Pt(e.current_col,1)}));throw(d=me(RuntimeError,null,"Internal error, neither is_row nor is_col was set here.")).__cause__=null,d}var u,c=me((u=t.latex_walker).filter_whitespace_comments_nodes,u,t);if(Ae(Lt(me(Te,null,c),1))){if(Ae(r))var f="ROW";else if(Ae(n))f="COL";else f=null;var d;throw(d=me(Er,null,"Bad cell index or merge range specification, expected ‘{}’ or ‘\\merge{}{}-RANGE{}’, got {} ({} nodes)".format(f,"{",f,"}",me(Ge,null,t),me(Te,null,c)),ye({pos:c.pos}))).__cause__=null,d}var h=Ft(c,0);if(Ae(Ae(function(){var e=h;return me(e.isNodeType,e,Vr)}())&&St(h.macroname,"merge"))){var p=function(){var e=me(ln,null,ye({node:h}));return me(e.get_all_arguments_info,e,at(["mergespec"]))}(),g=function(){var e=Ft(p,"mergespec");return me(e.get_content_as_chars,e)}();if(Ae((v=o)===Nl)){if(Ae(r))var v=Ft(e.cells_size,0);if(Ae(n))v=Ft(e.cells_size,1)}var m=function(){var t=e;return me(t.parse_cell_index_range_spec,t,g,ye({is_row:r,is_col:n,default_start:i,default_end:v}))}(),y=m[0],w=m[1];return me(Rl,null,ye({start:y,end:w}))}var k=function(){var t,i=e;return me(i.parse_cell_index_spec,i,me((t=c).get_content_as_chars,t),ye({is_row:r,is_col:n,py_default:a}))}();return me(Rl,null,ye({start:k,end:Pt(k,1)}))}))},get parse_placement_spec(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"placement_spec":t=n[a]}}}if(Ae(me(ze,null,t,Dl)))return t;var i,o=(_=at([[],[]]))[0],s=_[1];if(Ae(null!==t)){var l=me((i=t).split_at_chars,i,";",ye({keep_empty:!0}));if(Ae(St(me(Te,null,l),2)))o=(_=l)[0],s=_[1];else if(Ae(St(me(Te,null,l),1))){var _;s=(_=l)[0]}else if(!Ae(St(me(Te,null,l),0))){var u=me(Er,null,"Bad cell placement specification, expected ‘ROW;COL’ or ‘COL’, got ‘{}’".format(me(zl,null,function(){var e=t;return me(e.latex_verbatim,e)}())),ye({pos:t.pos}));throw u.__cause__=null,u}}var c=function(){var t=e;return me(t.parse_placement_index_spec,t,o,ye({is_row:!0}))}(),f=function(){var t=e;return me(t.parse_placement_index_spec,t,s,ye({is_col:!0}))}();return me(Dl,null,ye({row_range:c,col_range:f}))}))},get parse_placement_mapping_index_spec(){return de(this,(function(e,t,r,n,a){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=!1;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=!1;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"placement_mapping_index_spec":t=o[s];break;case"index_end":r=o[s];break;case"is_row":n=o[s];break;case"is_col":a=o[s]}}}if(Ae(St(me(Te,null,t),0)))return[];for(var l,_=me((l=t).split_at_chars,l,",",ye({keep_empty:!0})),u=0,c=[],f=_,d=0;d<Te(f);d++){var h=Ft(f,d),p=function(){var e=h.latex_walker;return me(e.filter_whitespace_comments_nodes,e,h)}();if(Ae(Lt(me(Te,null,p),1))){if(Ae(n))var g="ROW-RANGE";else if(Ae(a))g="COL-RANGE";else g=null;var v=me(Er,null,"Bad cell index or range or merge range specification, expected ‘{}’ or ‘\\merge{}{}-RANGE{}’, got {} ({} nodes)".format(g,"{",g,"}",me(Ge,null,placement_index_spec),me(Te,null,p)),ye({pos:p.pos}));throw v.__cause__=null,v}var m=Ft(p,0);if(Ae(Ae(function(){var e=m;return me(e.isNodeType,e,Vr)}())&&St(m.macroname,"merge"))){var y=function(){var e=me(ln,null,ye({node:m}));return me(e.get_all_arguments_info,e,at(["mergespec"]))}(),w=function(){var e=Ft(y,"mergespec");return me(e.get_content_as_chars,e)}(),k=function(){var t=e;return me(t.parse_cell_index_range_spec,t,w,ye({is_row:n,is_col:a,py_default:u,default_start:u,default_end:null}))}(),b=k[0],x=k[1];!function(){var e=c;me(e.append,e,me(Rl,null,ye({start:b,end:x})))}();u=x}else{k=function(){var t,r=e;return me(r.parse_cell_index_range_spec,r,me((t=p).get_content_as_chars,t),ye({is_row:n,is_col:a,py_default:u,default_start:u,default_end:null}))}();var O=k[0],P=k[1];if(Ae(null===P)){!function(){var e=c;me(e.append,e,me(Rl,null,ye({start:O,end:null})))}();u=null}else for(var E=O;E<P;E++){!function(){var e=c;me(e.append,e,me(Rl,null,ye({start:E,end:Pt(E,1)})))}();u=Pt(E,1)}}}return c}))},get parse_placement_mapping_spec(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"placement_mapping_spec":t=n[a]}}}var i,o=me((i=t).split_at_chars,i,";",ye({keep_empty:!0}));if(Ae(St(me(Te,null,o),2)))var s=(u=o)[0],l=u[1];else if(Ae(St(me(Te,null,o),1)))s=[],l=(u=o)[0];else{if(!Ae(St(me(Te,null,o),0))){var _=me(Er,null,"Expected ‘ROWS;COLS’ or ‘COLS’ or ‘’ for placement argument, got ‘{}’".format(me(zl,null,function(){var e=t;return me(e.latex_verbatim,e)}())),ye({pos:t.pos}));throw _.__cause__=null,_}var u;s=(u=at([[],[]]))[0],l=u[1]}var c=function(){var t=e;return me(t.parse_placement_mapping_index_spec,t,s,ye({index_end:null,is_row:!0}))}(),f=function(){var t=e;return me(t.parse_placement_mapping_index_spec,t,l,ye({index_end:null,is_col:!0}))}();return me(Fl,null,ye({row_placements:c,col_placements:f}))}))}}),Ul=ve("CellsEnvironment",[Ts],{__module__:Cl,is_block_level:!0,allowed_in_standalone_mode:!0,body_contents_is_block_level:!0,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="cells";if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"environmentname":t=n[a]}}}me(me(we,null,Ul,"__init__"),null,e,ye({environmentname:t}))}))},get make_body_parser(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":t=i[o];break;case"nodeargd":r=i[o];break;case"arg_parsing_state_delta":n=i[o]}}}return me(eo.LatexEnvironmentBodyContentsParser,eo,ye({environmentname:t.arg,contents_parsing_state_delta:me(eo.ParsingStateDeltaExtendLatexContextDb,eo,ye({extend_latex_context:me(wt,null,ye({macros:[me(Ml,null),me(Il,null),me(Sl,null)]}))})),child_parsing_state_delta:me(fn,null)}))}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}for(var i,o=me(Gl,null),s=t.nodelist,l=0;l<Te(s);l++){var _=Ft(s,l);if(Ae((i=void 0,me((i=_).isNodeType,i,Vr)))){if(Ae(St(_.macroname,"cell"))){!function(){var e=o;me(e.add_cell_node,e,_)}();continue}if(Ae(St(_.macroname,"celldata"))){!function(){var e=o;me(e.add_celldata_node,e,_)}();continue}if(Ae(St(_.macroname,"\\"))){!function(){var e=o;me(e.move_next_row,e)}();continue}}if(!Ae(function(){var e=_;return me(e.isNodeType,e,Hr)}())&&!Ae(Ae(function(){var e=_;return me(e.isNodeType,e,Ur)}())&&St(me(Te,null,function(){var e=_.chars;return me(e.strip,e)}()),0))){var u=me(Er,null,"You cannot place ‘{}’ here.  Expected: \\cell, \\celldata, \\\\.".format(me(zl,null,function(){var e=_;return me(e.latex_verbatim,e)}())));throw u.__cause__=null,u}}!function(){var e=o;me(e.finalize,e)}(),t.llm_cells_model=o}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}return me((o=r.fragment_renderer).render_cells,o,ye({cells_model:t.llm_cells_model,render_context:r}));var o}))}}),ql=(ve("FeatureProvideCells",[xs],{__module__:Cl,DocumentManager:null,RenderManager:null,get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(wt,null,ye({environments:[me(Ul,null)]}))}))}}),{});e(ql,"alphacounter",(function(){return Vl})),e(ql,"Alphacounter",(function(){return Bl})),e(ql,"_romancounterchars",(function(){return Wl})),e(ql,"romancounter",(function(){return Yl})),e(ql,"Romancounter",(function(){return Xl})),e(ql,"_fnsymbols",(function(){return $l})),e(ql,"fnsymbolcounter",(function(){return Ql})),e(ql,"_unicodesuperscriptdigits",(function(){return Zl})),e(ql,"_unicodesubscriptdigits",(function(){return Kl})),e(ql,"customdigitscounter",(function(){return Jl})),e(ql,"unicodesuperscriptcounter",(function(){return e_})),e(ql,"unicodesubscriptcounter",(function(){return t_})),e(ql,"standard_counter_formatters",(function(){return r_})),e(ql,"_standard_tag_template_initials_formatters",(function(){return n_})),e(ql,"parse_counter_formatter",(function(){return a_})),e(ql,"_parse_counter_formatter_from_tag_template",(function(){return i_}));var Hl={};fe(Hl,"",Sn);var Vl=function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!0;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"n":e=n[a];break;case"lower":t=n[a]}}}var i,o=Pt(1,Ot(e=me(jt,null,e,1),26)),s=kt(e,26),l=xt(me(Ue,null,Pt(97,s)),o);return Ae(t)?l:me((i=l).upper,i)},Bl=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return me(Vl,null,e,ye({lower:!1}))},Wl=at([at([1e3,"M"]),at([900,"CM"]),at([500,"D"]),at([400,"CD"]),at([100,"C"]),at([90,"XC"]),at([50,"L"]),at([40,"XL"]),at([10,"X"]),at([9,"IX"]),at([5,"V"]),at([4,"IV"]),at([1,"I"])]),Yl=function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!0;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="";if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"n":e=a[i];break;case"lower":t=a[i];break;case"zero":r=a[i]}}}var o="";if(Ae(St(e,0)))return r;for(var s,l=Wl,_=0;_<Te(l);_++){var u=Ft(l,_),c=u[0],f=u[1];o=me(Dt,null,o,xt(f,Ot(e,c))),e=kt(e,c)}return Ae(t)?me((s=o).lower,s):o},Xl=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return me(Yl,null,e,ye({lower:!1}))},$l=["*","†","‡","§","¶","‖"],Ql=function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=$l;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"n":e=n[a];break;case"symbols":t=n[a]}}}e=me(jt,null,e,1);var i=me(Te,null,t),o=Pt(1,Ot(e,i)),s=kt(e,i),l=xt(Ft(t,s),o);return l},Zl=[me(Ue,null,8304),me(Ue,null,185),me(Ue,null,178),me(Ue,null,179),me(Ue,null,8308),me(Ue,null,8309),me(Ue,null,8310),me(Ue,null,8311),me(Ue,null,8312),me(Ue,null,8313)],Kl=function(){for(var e=[],t=0;t<10;t++)me(e.append,e,me(Ue,null,Pt(8320,t)));return e}(),Jl=function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="0123456789";if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"n":e=n[a];break;case"digits":t=n[a]}}}for(var i=me(Te,null,t),o="";Ae(e);){var s=at([Ot(e,i),kt(e,i)]),l=s[0],_=s[1];o=Pt(Ft(t,_),o),e=l}return me("".join,"",o)},e_=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return me(Jl,null,e,ye({digits:Zl}))},t_=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return me(Jl,null,e,ye({digits:Kl}))},r_=wt({alph:function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return me(Vl,null,e,ye({lower:!0}))},Alph:function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return me(Vl,null,e,ye({lower:!1}))},roman:function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return me(Yl,null,e,ye({lower:!0}))},Roman:function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return me(Yl,null,e,ye({lower:!1}))},arabic:function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return me(ot,null,e)},fnsymbol:function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return me(Ql,null,e)},unicodesuperscript:e_,unicodesubscript:t_}),n_=wt({a:Vl,A:Bl,i:Yl,I:Xl,1:ot}),a_=function(e,t,r,n){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=r_;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=n_;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"counter_formatter":e=i[o];break;case"named_counter_formatters":t=i[o];break;case"str_use_tag_template":r=i[o];break;case"tag_template_initials_counters":n=i[o]}}}if(Ae(me(Fe,null,e)))return e;if(Ae(me(ze,null,e,ot))){if(Ae(Se(e,t)))return Ft(t,e);if(Ae(r))return me(i_,null,e,n)}if(Ae(me(ze,null,e,wt))&&Ae(Se("template",e))){var s=Ft(e,"template"),l=me("|".join,"|",function(){for(var e,r=[],n=me((e=t).py_keys,e),a=0;a<Te(n);a++){var i=Ft(n,a);me(r.append,r,me(Hl.escape,Hl,i))}return Ye(r)}()),_=me(Hl.compile,Hl,Pt(Pt("\\$\\{(",l),")\\}"));return function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("n"===a)e=n[a]}}return me((i=_).sub,i,(function(r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)"m"===i&&(r=a[i])}}return me(Ft(t,me((o=r).group,o,1)),null,e);var o}),s);var i}}var u=me(Yt,null,"Invalid counter_formatter: ‘{}’".format(me(Ge,null,e)));throw u.__cause__=null,u},i_=function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=n_;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"tag_template":e=n[a];break;case"tag_template_initials_counters":t=n[a]}}}var i,o,s=me(Hl.compile,Hl,Pt(Pt("[",me("".join,"",me((i=t).py_keys,i))),"]")),l=me((o=s).search,o,e);if(Ae(null!==l)){var _=Ut(e,0,function(){var e=l;return me(e.start,e)}(),1),u=Ut(e,function(){var e=l;return me(e.end,e)}(),null,1),c=Ft(t,function(){var e=l;return me(e.group,e)}());return function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return Pt(Pt(_,me(c,null,e)),u)}}return function(t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("n"===a)t=n[a]}}return e}},o_={};fe(o_,"",dr);var s_="llm.feature.floats",l_=(me(o_.getLogger,o_,s_),ve("FloatContentHandlerBase",[ge],{__module__:s_,get float_content_set_extra_definitions(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"extend_latex_context":t=n[a]}}}}))},get float_handle_content_nodes(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_node":t=a[i];break;case"content_nodes":r=a[i]}}}var o=me(RuntimeError,null,"This method needs to be reimplemented in subclasses!".format());throw o.__cause__=null,o}))}})),__=ve("FloatContentAnyContent",[l_],{__module__:s_,get float_handle_content_nodes(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_node":t=a[i];break;case"content_nodes":r=a[i]}}}return r}))}}),u_=ve("FloatContentIncludeGraphics",[l_],{__module__:s_,get float_content_set_extra_definitions(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"extend_latex_context":t=n[a]}}}var i;me((i=Ft(t,"macros")).append,i,me(xl,null,ye({macroname:"includegraphics"})))}))},get float_handle_content_nodes(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_node":t=a[i];break;case"content_nodes":r=a[i]}}}var o;r=me((o=r.latex_walker).filter_whitespace_comments_nodes,o,r);if(Ae(St(me(Te,null,r),1))){var s=Ft(r,0);if(Ae(Ae(function(){var e=s;return me(e.isNodeType,e,Vr)}())&&St(s.macroname,"includegraphics")))return r}var l=me(Er,null,"expected exactly one \\includegraphics command".format(),ye({pos:r.pos}));throw l.__cause__=null,l}))}}),c_=ve("FloatContentCells",[l_],{__module__:s_,get float_content_set_extra_definitions(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"extend_latex_context":t=n[a]}}}var i;me((i=Ft(t,"environments")).append,i,me(Ul,null))}))},get float_handle_content_nodes(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_node":t=a[i];break;case"content_nodes":r=a[i]}}}var o;r=me((o=r.latex_walker).filter_whitespace_comments_nodes,o,r);if(Ae(St(me(Te,null,r),1))){var s=Ft(r,0);if(Ae(Ae(function(){var e=s;return me(e.isNodeType,e,Br)}())&&St(s.environmentname,"cells")))return r}var l=me(Er,null,"expected exactly one \\begin{}cells{}...\\end{}cells{} environment".format("{","}","{","}"),ye({pos:r.pos}));throw l.__cause__=null,l}))}}),f_=wt({any:__,includegraphics:u_,cells:c_}),d_=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("c"===n)e=r[n]}}if(Ae(me(ze,null,e,l_)))return e;if(Ae(me(ze,null,e,ot)))e=wt({name:e});if(Ae(Se(Ft(e,"name"),f_)))return me(Ft(f_,Ft(e,"name")),null,ye(me((a=e).py_get,a,"config",wt({}))));var a,i=me(Yt,null,"Invalid float handler specification: {}".format(me(Ge,null,e)));throw i.__cause__=null,i},h_=ve("FloatEnvironment",[Ts],{__module__:s_,is_block_level:!0,float_content_is_block_level:!0,float_content_render_at_environment_node_location:!0,allowed_in_standalone_mode:!1,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_type":t=a[i];break;case"content_handlers":r=a[i]}}}if(me(me(we,null,h_,"__init__"),null,e,ye({environmentname:t,arguments_spec_list:[]})),Ae(null===r))r=["includegraphics","cells"];r=function(){for(var e=[],t=r,n=0;n<Te(t);n++){var a=Ft(t,n);me(e.append,e,me(d_,null,a))}return e}();e.float_type=t,e.content_handlers=r}))},get make_body_parser(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":t=i[o];break;case"nodeargd":r=i[o];break;case"arg_parsing_state_delta":n=i[o]}}}for(var s,l=me(wt,null,ye({macros:[me($o,null,"label",ye({arguments_spec_list:[me(gs,null,ye({parser:me(ei.LatexCharsGroupParser,ei,ye({delimiters:at(["{","}"])})),argname:"label"}))]})),me($o,null,"caption",ye({arguments_spec_list:[me(gs,null,"{",ye({argname:"captiontext"}))]}))],environments:[],specials:[]})),_=e.content_handlers,u=0;u<Te(_);u++){var c=Ft(_,u);s=void 0,me((s=c).float_content_set_extra_definitions,s,l)}return me(fo,null,ye({environmentname:t.arg,contents_parsing_state_delta:me(Vo,null,ye({extend_latex_context:l,set_attributes:me(wt,null,ye({is_block_level:e.float_content_is_block_level}))}))}))}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}t.llm_float_label=me(wt,null,ye({ref_label_prefix:null,ref_label:null,label_node:null})),t.llm_float_caption=me(wt,null,ye({caption_nodelist:null,caption_node:null}));for(var i,o=[],s=t.nodelist,l=0;l<Te(s);l++){var _=Ft(s,l);if(Ae((i=void 0,me((i=_).isNodeType,i,Vr)))){if(Ae(St(_.macroname,"label"))){Gt(t.llm_float_label,"label_node",_);var u,c=function(){var e=me(ln,null,ye({node:_}));return me(e.get_all_arguments_info,e,at(["label"]))}(),f=function(){var e=Ft(c,"label");return me(e.get_content_as_chars,e)}();if(Ae(Se(":",f)))var d=function(){var e=f;return me(e.py_split,e,":",1)}(),h=d[0],p=d[1];else h=(d=at([null,f]))[0],p=d[1];if(Ae(Lt(h,e.float_type)))throw(u=me(Er,null,"{} label must start with the prefix ‘{}:...’ (got ‘{}’)".format(e.float_type,e.float_type,f),ye({pos:_.pos}))).__cause__=null,u;if(Gt(t.llm_float_label,"ref_label_prefix",h),Gt(t.llm_float_label,"ref_label",p),Ae(Lt(h,e.float_type)))throw(u=me(Er,null,"Float's \\label{}...{} must have the prefix ‘{}:’".format("{","}",e.float_type),ye({pos:_.pos}))).__cause__=null,u;continue}if(Ae(St(_.macroname,"caption"))){Gt(t.llm_float_caption,"caption_node",_);var g=function(){var e=me(ln,null,ye({node:_}));return me(e.get_all_arguments_info,e,at(["captiontext"]))}(),v=function(){var e=Ft(g,"captiontext");return me(e.get_content_nodelist,e)}();Gt(t.llm_float_caption,"caption_nodelist",v);continue}}!function(){var e=o;me(e.append,e,_)}()}o=function(){var e=t.latex_walker;return me(e.make_nodelist,e,o,ye({parsing_state:t.nodelist.parsing_state}))}();var m=[],y=null;for(s=e.content_handlers,l=0;l<Te(s);l++){var w=Ft(s,l);try{y=function(){var e=w;return me(e.float_handle_content_nodes,e,t,o)}()}catch(e){if(!ze(e,Er))throw e;var k=e;!function(){var e=m;me(e.append,e,"*** {} error: {}".format(w.__class__.__name__,me(ot,null,k)))}()}}if(Ae(null===y)){var b=me(Er,null,Pt("Invalid {} contents! The following content handler(s) were unable to parse the float's content [other than possible \\caption and \\label commands]:\n".format(e.float_type),me("\n".join,"\n",m)),ye({pos:t.pos}));throw b.__cause__=null,b}return t.llm_float_content_nodelist=y,t}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=me((o=r).feature_render_manager,o,"floats"),l=Ft(t.llm_float_label,"ref_label_prefix"),_=Ft(t.llm_float_label,"ref_label"),u=!0;if(Ae(Ae(null===l)&&null===_))u=!1;var c=function(){var r=s;return me(r.register_float,r,ye({node:t,float_type:e.float_type,numbered:u,ref_label_prefix:l,ref_label:_,caption_nodelist:Ft(t.llm_float_caption,"caption_nodelist"),content_nodelist:t.llm_float_content_nodelist}))}();return Ae(e.float_content_render_at_environment_node_location)?function(){var n=e;return me(n.render_float,n,c,t,r)}():function(){var t=r.fragment_renderer;return me(t.render_nothing,t,ye({annotations:["float-placeholder","float-{}-placeholder".format(e.float_type)]}))}()}))},get render_float(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"float_instance":t=i[o];break;case"node":r=i[o];break;case"render_context":n=i[o]}}}var s,l=n.fragment_renderer;return me((s=l).render_float,s,t,n)}))}}),p_=ve("FloatInstance",[ge],{__module__:s_,get __init__(){return de(this,(function(e){var t=null,r=null,n=null,a=null,i=null,o=null,s=null,l=null,_=null;if(arguments.length){var u=arguments.length-1;if(arguments[u]&&arguments[u].hasOwnProperty("__kwargtrans__")){var c=arguments[u--];for(var f in c)switch(f){case"self":e=c[f];break;case"float_type":t=c[f];break;case"float_type_info":r=c[f];break;case"number":n=c[f];break;case"formatted_counter_value_llm":a=c[f];break;case"ref_label_prefix":i=c[f];break;case"ref_label":o=c[f];break;case"target_id":s=c[f];break;case"caption_nodelist":l=c[f];break;case"content_nodelist":_=c[f]}}}me(me(we,null,p_,"__init__"),null,e),e.float_type=t,e.float_type_info=r,e.number=n,e.formatted_counter_value_llm=a,e.ref_label_prefix=i,e.ref_label=o,e.target_id=s,e.caption_nodelist=l,e.content_nodelist=_,e._fields=at(["float_type","float_type_info","number","formatted_counter_value_llm","ref_label_prefix","ref_label","target_id","caption_nodelist","content_nodelist"])}))},get asdict(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a,me(Ce,null,e,a)])}return wt(t)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="{}({})").format,a,e.__class__.__name__,me(", ".join,", ",function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,"{}={}".format(a,me(Ce,null,e,a)))}return t}()));var a}))}}),g_=ve("FloatType",[ge],{__module__:s_,get __init__(){return de(this,(function(e,t,r,n,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"float_type":t=o[s];break;case"float_caption_name":r=o[s];break;case"counter_formatter":n=o[s];break;case"content_handlers":a=o[s]}}}if(me(me(we,null,g_,"__init__"),null,e),e.float_type=t,Ae(null===r))r=t;if(e.float_caption_name=r,Ae(null===n))n="arabic";e.counter_formatter=me(ql.parse_counter_formatter,ql,n),e.content_handlers=a,e._fields=at(["float_type","float_caption_name","counter_formatter","content_handlers"])}))},get asdict(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a,me(Ce,null,e,a)])}return wt(t)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="{}({})").format,a,e.__class__.__name__,me(", ".join,", ",function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,"{}={}".format(a,me(Ce,null,e,a)))}return t}()));var a}))}}),v_=ve("FeatureFloats",[xs],{__module__:s_,feature_name:"floats",get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"float_types":t=n[a]}}}if(me(me(we,null,v_,"__init__"),null,e),Ae(null===t))t=[me(g_,null,"figure","Figure","arabic",["includegraphics"]),me(g_,null,"table","Table","arabic",["cells","includegraphics"])];var i=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("x"===n)e=r[n]}}return Ae(me(ze,null,e,g_))?e:me(g_,null,ye(e))};e.float_types_list=function(){for(var e=[],r=t,n=0;n<Te(r);n++){var a=Ft(r,n);me(e.append,e,me(i,null,a))}return e}(),e.float_types=function(){for(var t=[],r=e.float_types_list,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a.float_type,a])}return wt(t)}()}))},get make_float_environment_spec(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"float_type":t=n[a]}}}return me(h_,null,t,ye({content_handlers:Ft(e.float_types,t).content_handlers}))}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}for(var a,i=[],o=me((a=e.float_types).py_items,a),s=0;s<Te(o);s++){var l=Ft(o,s),_=l[0];l[1];!function(){var t,r=i;me(r.append,r,me((t=e).make_float_environment_spec,t,_))}()}return me(wt,null,ye({environments:i}))}))},RenderManager:ve("RenderManager",[xs.RenderManager],{__module__:s_,get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}e.floats=function(){for(var t,r=[],n=me((t=e.feature.float_types).py_items,t),a=0;a<Te(n);a++){var i=Ft(n,a),o=i[0];i[1];me(r.append,r,[o,[]])}return wt(r)}(),e.float_counters=function(){for(var t,r=[],n=me((t=e.feature.float_types).py_items,t),a=0;a<Te(n);a++){var i=Ft(n,a),o=i[0];i[1];me(r.append,r,[o,1])}return wt(r)}(),e.float_instances=wt({})}))},get register_float(){return de(this,(function(e,t){var r=!0,n=null,a=null,i=null,o=null;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"float_type":t=l[_];break;case"node":var u=l[_];break;case"numbered":r=l[_];break;case"ref_label_prefix":n=l[_];break;case"ref_label":a=l[_];break;case"caption_nodelist":i=l[_];break;case"content_nodelist":o=l[_]}}}var c,f=me((c=e).get_node_id,c,u);if(Ae(Se(f,e.float_instances)))return Ft(e.float_instances,f);var d=Ft(e.feature.float_types,t);if(Ae(r)){var h=d.counter_formatter,p=Ft(e.float_counters,t);Gt(e.float_counters,t,me(Dt,null,Ft(e.float_counters,t),1));var g=me(h,null,p),v=function(){var r=e.render_context.doc.environment;return me(r.make_fragment,r,g,ye({is_block_level:!1,what:"{} {} counter value".format(t,p)}))}()}else p=null,v=null;var m=null;if(Ae(null!==p))m="{}-{}".format(t,p);var y=me(p_,null,ye({float_type:t,float_type_info:d,number:p,formatted_counter_value_llm:v,ref_label_prefix:n,ref_label:a,target_id:m,caption_nodelist:i,content_nodelist:o}));if(function(){var r=Ft(e.floats,t);me(r.append,r,y)}(),Ae(Ae(null!==p)&&function(){var t=e.render_context;return me(t.supports_feature,t,"refs")}())){var w=function(){var t=e.render_context;return me(t.feature_render_manager,t,"refs")}();if(Ae(Ae(null!==n)&&null!==a)){xe(St(n,t));var k=function(){var t=e;return me(t.get_formatted_ref_llm_text,t,y)}();!function(){var e=w;me(e.register_reference,e,n,a,ye({node:u,formatted_ref_llm_text:k,target_href:"#{}".format(m)}))}()}}return Gt(e.float_instances,f,y),y}))},get get_formatted_ref_llm_text(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"float_instance":t=n[a]}}}return Pt(Pt(t.float_type_info.float_caption_name,"~"),t.formatted_counter_value_llm.llm_text)}))}})}),m_={},y_={};fe(m_,"",dr),fe(y_,"",Sn);var w_="llm.feature.headings",k_=(me(m_.getLogger,m_,w_),ve("HeadingMacro",[Os.LLMMacroSpecBase],{__module__:w_,is_block_level:!0,allowed_in_standalone_mode:!0,_llm_main_text_argument:"text",allowed_ref_label_prefixes:at(["sec","topic"]),get __init__(){return de(this,(function(e,t){var r=1,n=!1;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macroname":t=i[o];break;case"heading_level":r=i[o];break;case"inline_heading":n=i[o]}}}me(me(we,null,k_,"__init__"),null,e,t,ye({arguments_spec_list:[Os.text_arg,Os.label_arg]})),e.heading_level=r,e.inline_heading=n,e.is_block_heading=e.inline_heading}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=(i=me(ln,null,ye({node:t})),me(i.get_all_arguments_info,i,at(["text","label"])));t.llmarg_heading_content_nodelist=function(){var e=Ft(o,"text");return me(e.get_content_nodelist,e)}(),t.llmarg_labels=me(Os.helper_collect_labels,Os,Ft(o,"label"),e.allowed_ref_label_prefixes),t.llm_referenceable_infos=[me(ks.ReferenceableInfo,ks,ye({formatted_ref_llm_text:t.llmarg_heading_content_nodelist,labels:t.llmarg_labels}))]}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=me((o=r).feature_render_manager,o,"headings"),l=function(){var e=Ft(t.llm_referenceable_infos,0);return me(e.get_target_id,e)}();if(Ae(null===l))l=function(){var e=s;return me(e.get_default_target_id,e,t.llmarg_labels,t.llmarg_heading_content_nodelist,ye({node:t}))}();if(Ae(Ae(function(){var e=r;return me(e.supports_feature,e,"refs")}())&&r.is_first_pass))for(var _=function(){var e=r;return me(e.feature_render_manager,e,"refs")}(),u=t.llm_referenceable_infos,c=0;c<Te(u);c++){var f=Ft(u,c);!function(){var e=_;me(e.register_reference_referenceable,e,ye({node:t,referenceable_info:f}))}()}return function(){var n=r.fragment_renderer;return me(n.render_heading,n,t.llmarg_heading_content_nodelist,ye({render_context:r,heading_level:e.heading_level,inline_heading:e.inline_heading,target_id:l}))}()}))}})),b_=ve("FeatureHeadings",[xs],{__module__:w_,feature_name:"headings",RenderManager:ve("RenderManager",[xs.RenderManager],{__module__:w_,get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}e.target_id_counters=wt({}),e.target_ids=wt({})}))},get get_default_target_id(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"heading_labels":t=a[i];break;case"heading_content_nodelist":r=a[i];break;case"node":var o=a[i]}}}var s,l=me((s=e).get_node_id,s,o);if(Ae(Se(l,e.target_ids)))return Ft(e.target_ids,l);var _=function(){var n=e;return me(n._generate_default_target_id,n,t,r)}();return Gt(e.target_ids,l,_),_}))},get _generate_default_target_id(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"heading_labels":t=a[i];break;case"heading_content_nodelist":r=a[i]}}}var o,s,l=(s=me((o=r).latex_verbatim,o),me(s.strip,s));l=me(y_.sub,y_,"[^A-Za-z0-9_-]+","-",l);return Ae(Se(l=Ut(l="sec--{}".format(l),0,32,1),e.target_id_counters))?(Gt(e.target_id_counters,l,me(Dt,null,Ft(e.target_id_counters,l),1)),"{}-{}".format(l,Ft(e.target_id_counters,l))):(Gt(e.target_id_counters,l,1),l)}))}}),SectionCommandSpec:ve("SectionCommandSpec",[ge],{__module__:w_,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=!1;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"cmdname":t=a[i];break;case"inline":r=a[i]}}}me(me(we,null,b_.SectionCommandSpec,"__init__"),null,e),e.cmdname=t,e.inline=r}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return"{}(cmdname={}, inline={})".format(e.__class__.__name__,e.cmdname,e.inline)}))}}),get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"section_commands_by_level":t=n[a]}}}if(me(me(we,null,b_,"__init__"),null,e),Ae(null===t))t=wt({1:(i=e,me(i.SectionCommandSpec,i,"section")),2:function(){var t=e;return me(t.SectionCommandSpec,t,"subsection")}(),3:function(){var t=e;return me(t.SectionCommandSpec,t,"subsubsection")}(),4:function(){var t=e;return me(t.SectionCommandSpec,t,"paragraph",ye({inline:!0}))}(),5:function(){var t=e;return me(t.SectionCommandSpec,t,"subparagraph",ye({inline:!0}))}(),6:function(){var t=e;return me(t.SectionCommandSpec,t,"subsubparagraph",ye({inline:!0}))}()});var i,o=function(t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("x"===a)t=n[a]}}return Ae(me(ze,null,t,e.SectionCommandSpec))?t:Ae(me(ze,null,t,ot))?function(){var r=e;return me(r.SectionCommandSpec,r,t)}():function(){var r=e;return me(r.SectionCommandSpec,r,ye(t))}()};e.section_commands_by_level=function(){for(var e,r=[],n=(e=me(wt,null,t),me(e.py_items,e)),a=0;a<Te(n);a++){var i=Ft(n,a),s=i[0],l=i[1];me(r.append,r,[s,me(o,null,l)])}return wt(r)}()}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(wt,null,ye({macros:function(){for(var t,r=[],n=me((t=e.section_commands_by_level).py_items,t),a=0;a<Te(n);a++){var i=Ft(n,a),o=i[0],s=i[1];me(r.append,r,me(k_,null,ye({macroname:s.cmdname,heading_level:o,inline_heading:s.inline})))}return r}()}))}))}}),x_={};fe(x_,"",dr),fe({},"",Sn);var O_="llm.feature.endnotes",P_=(me(x_.getLogger,x_,O_),ve("EndnoteCategory",[ge],{__module__:O_,get __init__(){return de(this,(function(e,t,r,n,a){if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"category_name":t=o[s];break;case"counter_formatter":r=o[s];break;case"heading_title":n=o[s];break;case"endnote_command":a=o[s]}}}me(me(we,null,P_,"__init__"),null,e),e.category_name=t;r=me(ql.parse_counter_formatter,ql,r);e.counter_formatter=r,e.heading_title=n,e.endnote_command=a}))}})),E_=ve("EndnoteMacro",[Ls],{__module__:O_,allowed_in_standalone_mode:!1,get __init__(){return de(this,(function(e,t,r){var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macroname":t=i[o];break;case"endnote_category_name":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,E_,"__init__"),null,e,ye(Oe({macroname:t,arguments_spec_list:[me(gs,null,"{",ye({argname:"endnote_content"}))]},n))),e.endnote_category_name=r}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=me((o=r).feature_render_manager,o,"endnotes");if(Ae(null===s)){var l=me(RuntimeError,null,"You did not set up the feature 'endnotes' in your LLM environment");throw l.__cause__=null,l}var _=function(){var e=me(ln,null,ye({node:t}));return me(e.get_all_arguments_info,e,at(["endnote_content"]))}(),u=function(){var e=Ft(_,"endnote_content");return me(e.get_content_nodelist,e)}(),c=function(){var r=s;return me(r.add_endnote,r,ye({category_name:e.endnote_category_name,content_nodelist:u,node:t}))}(),f=function(){var e=s;return me(e.render_endnote_mark,e,c)}();return f}))}}),C_=ve("EndnoteInstance",[ge],{__module__:O_,get __init__(){return de(this,(function(e,t,r,n,a,i,o){if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"category_name":t=l[_];break;case"number":r=l[_];break;case"formatted_counter_value_llm":n=l[_];break;case"content_nodelist":a=l[_];break;case"ref_label_prefix":i=l[_];break;case"ref_label":o=l[_]}}}me(me(we,null,C_,"__init__"),null,e),e.category_name=t,e.number=r,e.formatted_counter_value_llm=n,e.content_nodelist=a,e.ref_label_prefix=i,e.ref_label=o,e._fields=at(["category_name","number","formatted_counter_value_llm","content_nodelist","ref_label_prefix","ref_label"])}))},get asdict(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a,me(Ce,null,e,a)])}return wt(t)}()}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me((a="{}({})").format,a,e.__class__.__name__,me(", ".join,", ",function(){for(var t=[],r=e._fields,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,"{}={}".format(a,me(Ce,null,e,a)))}return t}()));var a}))}}),N_=ve("FeatureEndnotes",[xs],{__module__:O_,feature_name:"endnotes",get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"categories":t=a[i];break;case"render_options":r=a[i]}}}me(me(we,null,N_,"__init__"),null,e);var o=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("x"===n)e=r[n]}}return Ae(me(ze,null,e,P_))?e:me(P_,null,ye(e))};if(Ae(!Ae(t)))t=[];e.base_categories=function(){for(var e=[],r=t,n=0;n<Te(r);n++){var a=Ft(r,n);me(e.append,e,me(o,null,a))}return e}(),e.default_render_options=Ae(r)?r:wt({})}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}for(var a,i=[],o=e.base_categories,s=0;s<Te(o);s++){var l=Ft(o,s);Ae(l.endnote_command)&&(a=void 0,me((a=i).append,a,me(E_,null,l.endnote_command,ye({endnote_category_name:l.category_name}))))}return me(wt,null,ye({macros:i}))}))},DocumentManager:ve("DocumentManager",[xs.DocumentManager],{__module__:O_,get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}e.categories=me(nt,null,e.feature.base_categories),e.categories_by_name=function(){for(var t=[],r=e.categories,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a.category_name,a])}return wt(t)}()}))},get add_endnote_category(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"endnote_category":t=n[a]}}}if(Ae(Se(t.category_name,e.categories_by_name))){var i=me(Yt,null,"Endnote category ‘{}’ is already a registered endnote category".format(t.category_name));throw i.__cause__=null,i}var o;me((o=e.categories).append,o,t),Gt(e.categories_by_name,t.category_name,t)}))}}),RenderManager:ve("RenderManager",[xs.RenderManager],{__module__:O_,get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}e.endnotes=function(){for(var t=[],r=e.feature_document_manager.categories,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a.category_name,[]])}return wt(t)}(),e.endnote_counters=function(){for(var t=[],r=e.feature_document_manager.categories,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,[a.category_name,1])}return wt(t)}(),e.endnote_instances=wt({})}))},get add_endnote(){return de(this,(function(e,t,r){var n=null,a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"category_name":t=o[s];break;case"content_nodelist":r=o[s];break;case"node":var l=o[s];break;case"ref_label_prefix":n=o[s];break;case"ref_label":a=o[s]}}}var _,u=me((_=e).get_node_id,_,l);if(Ae(Se(u,e.endnote_instances)))return Ft(e.endnote_instances,u);var c=Ft(e.feature_document_manager.categories_by_name,t),f=c.counter_formatter,d=Ft(e.endnote_counters,t);Gt(e.endnote_counters,t,me(Dt,null,Ft(e.endnote_counters,t),1));var h=me(f,null,d),p=function(){var r=e.render_context.doc.environment;return me(r.make_fragment,r,h,ye({is_block_level:!1,what:"{} counter".format(t)}))}(),g=me(C_,null,ye({category_name:t,number:d,formatted_counter_value_llm:p,content_nodelist:r,ref_label_prefix:n,ref_label:a}));return function(){var r=Ft(e.endnotes,t);me(r.append,r,g)}(),Ae(null!==u)&&Gt(e.endnote_instances,u,g),g}))},get render_endnote_mark(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"endnote":t=n[a]}}}var i,o="#{}-{}".format(t.category_name,t.number),s=t.formatted_counter_value_llm;return me((i=e.render_context.fragment_renderer).render_link,i,"endnote",o,ye({display_nodelist:s.nodes,render_context:e.render_context,annotations:["endnote",t.category_name]}))}))},get render_endnotes_category(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"category_name":t=n[a]}}}var i=e.render_context,o=i.fragment_renderer;if(Ae(me(Ne,null,t,"category_name"))){var s=t;t=s.category_name}var l,_=function(r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)if("n"===i)r=a[i]}}var o=Ft(Ft(e.endnotes,t),Et(r,1)),s=o.formatted_counter_value_llm;return s.nodes},u=function(e){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("n"===a)e=n[a]}}return"{}-{}".format(t,e)},c=function(){for(var r=[],n=Ft(e.endnotes,t),a=0;a<Te(n);a++){var i=Ft(n,a);me(r.append,r,i.content_nodelist)}return r}();return me((l=o).render_enumeration,l,c,ye({counter_formatter:_,target_id_generator:u,render_context:e.render_context,annotations:[Pt(t,"-list")]}))}))},get render_endnotes(){return de(this,(function(e,t,r,n,a,i,o){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="endnotes";if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a=null;if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"target_id":t=l[_];break;case"annotations":r=l[_];break;case"include_headings_at_level":n=l[_];break;case"set_headings_target_ids":a=l[_];break;case"endnotes_heading_title":i=l[_];break;case"endnotes_heading_level":o=l[_]}}}if(Ae(null===n))n=me((u=e.feature.default_render_options).py_get,u,"include_headings_at_level",null);var u;if(Ae(null===a))a=function(){var t=e.feature.default_render_options;return me(t.py_get,t,"set_headings_target_ids",!1)}();if(Ae(null===i))i=function(){var t=e.feature.default_render_options;return me(t.py_get,t,"endnotes_heading_title",null)}();if(Ae(null===o))o=function(){var t=e.feature.default_render_options;return me(t.py_get,t,"endnotes_heading_level",1)}();for(var c=e.render_context,f=c.fragment_renderer,d=!1,h=[],p=e.feature_document_manager.categories,g=0;g<Te(p);g++){var v=Ft(p,g);if(!Ae(!Ae(me(Te,null,Ft(e.endnotes,v.category_name))))){d=!0;if(Ae(Ae(null!==n)&&!1!==n)){var m=function(){var t=e.render_context.doc.environment;return me(t.make_fragment,t,v.heading_title,ye({is_block_level:!1,what:"{} heading title".format(v.category_name)}))}(),y=null;if(Ae(a))y="{}-{}".format(t,v.category_name);!function(){var t,r=h;me(r.append,r,me((t=f).render_heading,t,m.nodes,ye({render_context:e.render_context,heading_level:n,target_id:y})))}()}!function(){var t,r=h;me(r.append,r,me((t=e).render_endnotes_category,t,v))}()}}if(Ae(!Ae(d)))return function(){var e=f;return me(e.render_nothing,e,ye({annotations:["no-endnotes"]}))}();if(Ae(null!==i)){var w=function(){var t=e.render_context.doc.environment;return me(t.make_fragment,t,i,ye({is_block_level:!1,what:"endnotes heading title".format()}))}();!function(){var t,r=h;me(r.insert,r,0,me((t=f).render_heading,t,w.nodes,ye({render_context:e.render_context,heading_level:o})))}()}return function(){var e,n=f;return me(n.render_semantic_block,n,me((e=f).render_join_blocks,e,h),ye({role:"endnotes",annotations:r,target_id:t}))}()}))}})}),S_={};fe(S_,"",dr);var L_="llm.feature.cite",T_=me(S_.getLogger,S_,L_),A_=ve("CitationEndnoteCategory",[P_],{__module__:L_,get __init__(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="arabic";if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=at([null,null]);if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"counter_formatter":t=a[i];break;case"citation_delimiters":r=a[i]}}}e.inner_counter_formatter_fn=t,Ae(Se(e.inner_counter_formatter_fn,r_))&&(e.inner_counter_formatter_fn=Ft(r_,e.inner_counter_formatter_fn)),e.citation_delimiters=r;var o=function(t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("x"===a)t=n[a]}}return Pt(Pt(Ft(e.citation_delimiters,0),me((i=e).inner_counter_formatter_fn,i,t)),Ft(e.citation_delimiters,1));var i};me(me(we,null,A_,"__init__"),null,e,"citation",ye({counter_formatter:o,heading_title:"References"}))}))}}),M_=ve("FeatureExternalPrefixedCitations",[xs],{__module__:L_,feature_name:"citations",use_endnotes:!0,DocumentManager:ve("DocumentManager",[xs.DocumentManager],{__module__:L_,get initialize(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"use_endnotes":t=n[a]}}}if(Ae(null!==t)?e.use_endnotes=t:e.use_endnotes=e.feature.use_endnotes,Ae(e.use_endnotes)){var i=me((o=e.doc).feature_document_manager,o,"endnotes");e.endnote_category=me(A_,null,ye({counter_formatter:e.feature.counter_formatter,citation_delimiters:e.feature.citation_delimiters})),function(){var t=i;me(t.add_endnote_category,t,e.endnote_category)}()}var o}))}}),RenderManager:ve("RenderManager",[xs.RenderManager],{__module__:L_,get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}e.citation_endnotes=wt({}),e.use_endnotes=e.feature_document_manager.use_endnotes,e.external_citations_providers=e.feature.external_citations_providers}))},get get_citation_content_llm(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cite_prefix":t=i[o];break;case"cite_key":r=i[o];break;case"resource_info":n=i[o]}}}if(Ae(null===e.external_citations_providers))throw(l=me(Yt,null,"No external citations providers are set!")).__cause__=null,l;for(var s,l,_=null,u=e.external_citations_providers,c=0;c<Te(u);c++){var f=Ft(u,c);if(Ae(_=(s=void 0,me((s=f).get_citation_full_text_llm,s,t,r,n))))break}if(Ae(null===_))throw(l=me(Yt,null,"Citation not found: ‘{}:{}’".format(t,r))).__cause__=null,l;if(Ae(me(ze,null,_,Yi)))var d=_;else d=function(){var n=e.render_context.doc.environment;return me(n.make_fragment,n,_,ye({is_block_level:!1,standalone_mode:!0,what:"Citation text for {}:{}".format(t,r)}))}();return d}))},get get_citation_endnote(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cite_prefix":t=i[o];break;case"cite_key":r=i[o];break;case"resource_info":n=i[o]}}}var s,l=null;if(Ae(e.use_endnotes))l=me((s=e.render_context).feature_render_manager,s,"endnotes");if(Ae(Se(at([t,r]),e.citation_endnotes)))return e.citation_endnotes.__getitem__([t,r]);var _=function(){var a=e;return me(a.get_citation_content_llm,a,t,r,n)}(),u=function(){var e=l;return me(e.add_endnote,e,ye({category_name:"citation",content_nodelist:_.nodes,ref_label_prefix:t,ref_label:r,node:at([t,r])}))}();return u.formatted_inner_counter_value_llm=function(){var t,r=e.render_context.doc.environment;return me(r.make_fragment,r,me((t=e.feature_document_manager.endnote_category).inner_counter_formatter_fn,t,u.number),ye({is_block_level:!1,standalone_mode:!0,what:"citation counter (inner)".format()}))}(),e.citation_endnotes.__setitem__([t,r],u),u}))}}),get __init__(){return de(this,(function(e,t,r,n,a){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="arabic";if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=at(["[","]"]);if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a="; ";if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"external_citations_providers":t=o[s];break;case"counter_formatter":r=o[s];break;case"citation_delimiters":n=o[s];break;case"citation_optional_text_separator":a=o[s]}}}me(me(we,null,M_,"__init__"),null,e),e.external_citations_providers=t,e.counter_formatter=r,e.citation_delimiters=n,e.citation_optional_text_separator=a}))},get set_external_citations_providers(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"external_citations_providers":t=n[a]}}}var i;Ae(null!==e.external_citations_providers)&&me((i=T_).warning,i,"FeatureExternalPrefixedCitations.set_external_citations_providers(): There are already external citation providers set.  They will be replaced."),e.external_citations_providers=t}))},get add_external_citations_provider(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"external_citations_provider":t=n[a]}}}var i;Ae(null===e.external_citations_providers)&&(me((i=T_).warning,i,"FeatureExternalPrefixedCitations.add_external_citations_provider(): External citations provider list was not initialized, creating an empty list."),e.external_citations_providers=[]),function(){var r=e.external_citations_providers;me(r.append,r,t)}()}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return wt({macros:[me(I_,null,"cite")]})}))}}),I_=ve("CiteMacro",[Ls],{__module__:L_,allowed_in_standalone_mode:!1,get __init__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"macroname":t=n[a]}}}me(me(we,null,I_,"__init__"),null,e,ye({macroname:t,arguments_spec_list:[me(gs,null,"[",ye({argname:"cite_pre_text"})),me(gs,null,me(ei.LatexCharsCommaSeparatedListParser,ei,ye({enable_comments:!1})),ye({argname:"citekey"}))]}))}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=(i=me(ln,null,ye({node:t})),me(i.get_all_arguments_info,i,at(["cite_pre_text","citekey"]))),s=null;if(Ae(function(){var e=Ft(o,"cite_pre_text");return me(e.was_provided,e)}()))s=function(){var e=Ft(o,"cite_pre_text");return me(e.get_content_nodelist,e)}();var l=function(){var e=Ft(o,"citekey");return me(e.get_content_nodelist,e)}();t.llmarg_optional_cite_extra_nodelist=s,t.llmarg_citekeylist_nodelist=l;for(var _=[],u=l,c=0;c<Te(u);c++){var f=Ft(u,c);if(!Ae(!Ae(f))){var d=function(){var e=f;return me(e.latex_verbatim,e)}();if(Ae(Ft(f.delimiters,0)))d=Ut(d,me(Te,null,Ft(f.delimiters,0)),null,1);if(Ae(Ft(f.delimiters,1)))d=Ut(d,0,bt(me(Te,null,Ft(f.delimiters,1))),1);if(Ae(Se(":",d))){var h=function(){var e=d;return me(e.py_split,e,":",1)}(),p=h[0],g=h[1];p=function(){var e,t=me((e=p).strip,e);return me(t.lower,t)}()}else p=(h=at([null,d]))[0],g=h[1];!function(){var e=_;me(e.append,e,at([p,g]))}()}}return t.llmarg_cite_items=_,t}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}for(var o,s=r.fragment_renderer,l=t.llmarg_optional_cite_extra_nodelist,_=me((o=r).feature_render_manager,o,"citations"),u=_.feature.citation_delimiters,c=t.latex_walker.resource_info,f=[],d=t.llmarg_cite_items,h=0;h<Te(d);h++){var p=Ft(d,h),g=p,v=g[0],m=g[1];if(Ae(null===_))!function(){var e,t,r=f;me(r.append,r,me((t=s).render_text_format,t,ye({text_formats:["cite"],content:(e=s,me(e.render_value,e,"[{}:{}]".format(v,m)))})))}();else{var y=null,w=null,k=null;if(Ae(_.use_endnotes))y=function(){var e=_;return me(e.get_citation_endnote,e,v,m,c)}(),k=y.formatted_inner_counter_value_llm;else w=function(){var e=_;return me(e.get_citation_content_llm,e,v,m,c)}(),k=w;var b=[];Ae(null!==Ft(u,0))&&function(){var e,r=b;me(r.append,r,me((e=t.latex_walker).make_node,e,Ur,ye({chars:Ft(u,0),pos:t.pos,pos_end:t.pos_end,parsing_state:t.parsing_state})))}(),function(){var e=b;me(e.extend,e,me(nt,null,k.nodes))}(),Ae(null!==l)&&(function(){var e,r=b;me(r.append,r,me((e=t.latex_walker).make_node,e,Ur,ye({chars:_.feature.citation_optional_text_separator,pos:t.pos,pos_end:t.pos_end,parsing_state:t.parsing_state})))}(),function(){var e=b;me(e.extend,e,me(nt,null,l))}()),Ae(null!==Ft(u,1))&&function(){var e,r=b;me(r.append,r,me((e=t.latex_walker).make_node,e,Ur,ye({chars:Ft(u,1),pos:t.pos,pos_end:t.pos_end,parsing_state:t.parsing_state})))}();var x=function(){var e=t.parsing_state;return me(e.sub_context,e,ye({is_block_level:!1}))}();if(Ae(_.use_endnotes)){var O="#{}-{}".format(y.category_name,y.number),P=function(){var e,n=r.fragment_renderer;return me(n.render_link,n,"endnote",O,ye({display_nodelist:(e=t.latex_walker,me(e.make_nodelist,e,b,ye({parsing_state:x}))),render_context:r,annotations:["endnote",y.category_name]}))}();!function(){var e=f;me(e.append,e,P)}()}else{var E=function(){var e,n=r.fragment_renderer;return me(n.render_nodelist,n,me((e=t.latex_walker).make_nodelist,e,b,ye({parsing_state:x})),r)}();!function(){var e=f;me(e.append,e,E)}()}}}return function(){var e=s;return me(e.render_join,e,f)}()}))}}),R_={};fe({},"",Sn),fe(R_,"",dr);var D_="llm.feature.enumeration",j_=(me(R_.getLogger,R_,D_),[wt({template:"${arabic}."}),wt({template:"(${roman})"}),wt({template:"${alph}-"})]),z_=ve("Enumeration",[Ts],{__module__:D_,is_block_level:!0,body_contents_is_block_level:!0,allowed_in_standalone_mode:!0,get __init__(){return de(this,(function(e,t){var r=null,n=null,a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"environmentname":t=o[s];break;case"counter_formatter":r=o[s];break;case"annotations":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}if(me(me(we,null,z_,"__init__"),null,e,ye(Oe({environmentname:t,arguments_spec_list:[me(gs,null,me(ei.LatexCharsGroupParser,ei,ye({delimiters:at(["[","]"]),optional:!0})),ye({argname:"tag_template"}))]},a))),Ae(null===r))r=j_;e.counter_formatter=r,e.annotations=n,e.body_parsing_state_delta=me(ps,null,ye({is_block_level:e.is_block_level}))}))},get make_body_parser(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":t=i[o];break;case"nodeargd":r=i[o];break;case"arg_parsing_state_delta":n=i[o]}}}return me(fo,null,ye({environmentname:t.arg,contents_parsing_state_delta:me(Vo,null,ye({extend_latex_context:me(wt,null,ye({macros:[me($o,null,"item",ye({arguments_spec_list:[me(gs,null,"[",ye({argname:"custom_tag"}))]}))]}))}))}))}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}for(var i,o=me((i=t.nodelist).split_at_node,i,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)"n"===n&&(e=r[n])}}return Ae(me((a=e).isNodeType,a,Vr))&&St(e.macroname,"item");var a}),ye({keep_separators:!0})),s=[],l=me(tt,null,o),_=0;_<Te(l);_++){var u=Ft(l,_),c=u[0],f=u[1];if(!Ae(!Ae(f))){var d=Ft(f,0);if(!Ae(null===d)&&!Ae(Ae(St(c,0))&&Ae(function(){var e=d;return me(e.isNodeType,e,Ur)}())&&St(function(){var e=d.chars;return me(e.strip,e)}(),""))){if(Ae(Ae(!Ae(function(){var e=d;return me(e.isNodeType,e,Vr)}()))||Lt(d.macroname,"item"))){var h=me(LatexWalkerParseError,null,ye({msg:"Expected ‘\\item’ in enumeration environment: {}".format(d),pos:d.pos}));throw h.__cause__=null,h}var p=function(){var e=d.latex_walker;return me(e.make_nodelist,e,Ut(f.nodelist,1,null,1),ye({parsing_state:d.parsing_state}))}();!function(){var e=s;me(e.append,e,at([d,p]))}()}}}return t.enumeration_items=s,t}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=r.fragment_renderer,l=(o=me(ln,null,ye({node:t})),me(o.get_all_arguments_info,o,at(["tag_template"]))),_=function(){var e=r;return me(e.get_logical_state,e,"enumeration")}(),u=function(){var e=_;return me(e.py_get,e,"nested_depth",0)}();if(Ae(me(ze,null,c=e.counter_formatter,at([nt,at]))))if(Ae(It(u,me(Te,null,c))))var c=Ft(c,Et(me(Te,null,c),1));else c=Ft(c,u);if(Ae(Ae(Se("tag_template",l))&&function(){var e=Ft(l,"tag_template");return me(e.was_provided,e)}())){var f=function(){var e=Ft(l,"tag_template");return me(e.get_content_as_chars,e)}();c=f}for(var d=me(ql.parse_counter_formatter,ql,c,ye({str_use_tag_template:!0})),h=wt({}),p=[],g=me(tt,null,t.enumeration_items),v=0;v<Te(g);v++){var m,y=(m=Ft(g,v))[0],w=m[1],k=(m=w)[0],b=m[1];!function(){var e=p;me(e.append,e,b)}();var x=function(){var e=me(ln,null,ye({node:k}));return me(e.get_all_arguments_info,e,at(["custom_tag"]))}();Ae(Ae(Se("custom_tag",x))&&function(){var e=Ft(x,"custom_tag");return me(e.was_provided,e)}())&&Gt(h,Pt(1,y),function(){var e=Ft(x,"custom_tag");return me(e.get_content_nodelist,e)}())}var O=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("n"===n)e=r[n]}}return Ae(Se(e,h))?Ft(h,e):me(d,null,e)},P=function(){var e=r;return me(e.push_logical_state,e,"enumeration","nested_depth",Pt(u,1))}();try{P.__enter__();var E=function(){var t=s;return me(t.render_enumeration,t,p,O,ye({render_context:r,annotations:e.annotations,nested_depth:u}))}();P.__exit__()}catch(e){if(!P.__exit__(e.name,e,e.stack))throw e}return E}))}}),F_=wt({itemize:wt({counter_formatter:["•","-","▸"]}),enumerate:wt({counter_formatter:null})}),G_=ve("FeatureEnumeration",[xs],{__module__:D_,feature_name:"enumeration",DocumentManager:null,RenderManager:null,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"enumeration_environments":t=n[a]}}}if(me(me(we,null,G_,"__init__"),null,e),Ae(null===t))t=F_;e.enumeration_environments=t}))},get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(wt,null,ye({environments:function(){for(var t,r=[],n=me((t=e.enumeration_environments).py_items,t),a=0;a<Te(n);a++){var i=Ft(n,a),o=i[0],s=i[1];me(r.append,r,me(z_,null,ye({environmentname:o,counter_formatter:Ft(s,"counter_formatter"),annotations:[o]})))}return r}()}))}))}}),U_={},q_={};fe(U_,"",dr),fe(q_,"",Sn);var H_="llm.feature.math",V_=me(U_.getLogger,U_,H_),B_=at(["equation","equation*","align","align*","gather","gather*"]),W_=ve("FeatureMath",[xs],{__module__:H_,feature_name:"math",get __init__(){return de(this,(function(e,t,r,n,a){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n="eqref";if(void 0===a||null!=a&&a.hasOwnProperty("__kwargtrans__"))a="eq";if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"eq_counter_formatter":t=o[s];break;case"math_environment_names":r=o[s];break;case"eqref_macro_name":n=o[s];break;case"eqref_ref_type":a=o[s]}}}if(me(me(we,null,W_,"__init__"),null,e),Ae(null===t))t=wt({template:"(${arabic})"});if(e.eq_counter_formatter=me(ql.parse_counter_formatter,ql,t),Ae(null===r))r=B_;e.math_environment_names=r,e.eqref_macro_name=n,e.eqref_ref_type=a}))},DocumentManager:ve("DocumentManager",[xs.DocumentManager],{__module__:H_,get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}}))}}),RenderManager:ve("RenderManager",[xs.RenderManager],{__module__:H_,get initialize(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}e.equation_counter=1,e.equation_info_by_node=wt({})}))},get new_numbered_display_math(){return de(this,(function(e,t,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":t=i[o];break;case"lineno":r=i[o];break;case"custom_tag_llm_text":n=i[o]}}}var s,l=at([(s=e,me(s.get_node_id,s,t)),r]);if(Ae(Se(l,e.equation_info_by_node)))return Ft(e.equation_info_by_node,l);if(Ae(null!==n)){var _=n,u="_{}".format(Ft(l,0));if(Ae(r))u=me(Dt,null,u,"-{}".format(r))}else{u=e.equation_counter,_=function(){var t=e.feature;return me(t.eq_counter_formatter,t,u)}();e.equation_counter=me(Dt,null,e.equation_counter,1)}var c=at([u,_]);return Gt(e.equation_info_by_node,l,c),c}))}}),get add_latex_context_definitions(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}var a,i=function(){for(var t=[],r=e.math_environment_names,n=0;n<Te(r);n++){var a=Ft(r,n);me(t.append,t,me(X_,null,a))}return t}(),o=[];return Ae(null!==e.eqref_macro_name)&&me((a=o).append,a,me($_,null,ye({macroname:e.eqref_macro_name,ref_type:e.eqref_ref_type}))),me(wt,null,ye({macros:o,environments:i}))}))}}),Y_=ve("_ProxyNodeWithLatexVerbatim",[ge],{__module__:H_,pos:null,pos_end:null,get __init__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"verbatim":t=n[a]}}}e._verbatim=t}))},get latex_verbatim(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e._verbatim}))}}),X_=ve("MathEnvironment",[Ts],{__module__:H_,get __init__(){return de(this,(function(e,t,r){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"environmentname":t=a[i];break;case"is_numbered":r=a[i]}}}me(me(we,null,X_,"__init__"),null,e,ye({environmentname:t})),Ae(null!==r)?e.is_numbered=r:e.is_numbered=Lt(Ut(t,bt(1),null,1),"*"),Ae(!Ae(e.is_numbered))&&(e.allowed_in_standalone_mode=!0)}))},get make_body_parsing_state_delta(){return de(this,(function(e,t,r,n,a){var i=wt();if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"token":t=s[l];break;case"nodeargd":r=s[l];break;case"arg_parsing_state_delta":n=s[l];break;case"latex_walker":a=s[l];break;default:i[l]=s[l]}delete i.__kwargtrans__}}return me(pn,null)}))},get make_body_parser(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"token":t=i[o];break;case"nodeargd":r=i[o];break;case"arg_parsing_state_delta":n=i[o]}}}return me(fo,null,ye({environmentname:t.arg,contents_parsing_state_delta:me(Vo,null,ye({extend_latex_context:me(wt,null,ye({macros:[me($o,null,"label",ye({arguments_spec_list:[me(gs,null,ye({parser:me(ei.LatexCharsGroupParser,ei,ye({delimiters:at(["{","}"])})),argname:"label"}))]})),me($o,null,"tag",ye({arguments_spec_list:[me(gs,null,ye({parser:"*",argname:"tag_star"})),me(gs,null,ye({parser:me(ei.LatexCharsGroupParser,ei,ye({delimiters:at(["{","}"])})),argname:"text"}))]})),me($o,null,"\\",ye({arguments_spec_list:[]}))]}))}))}))}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}if(t.llm_equation_lines_labels_infos=[],Ae(!Ae(e.is_numbered)))return t;for(var i,o=wt({labels_info:[],custom_tag_llm_text:null}),s=function(e){if(void 0===e||null!=e&&e.hasOwnProperty("__kwargtrans__"))e=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("newline_node"===a)e=n[a]}}var i;me((i=t.llm_equation_lines_labels_infos).append,i,wt({labels:me(nt,null,Ft(o,"labels_info")),custom_tag_llm_text:Ft(o,"custom_tag_llm_text"),newline_node:e})),function(){var e=o;me(e.py_update,e,wt({labels_info:[],custom_tag_llm_text:null}))}()},l=!1,_=t.nodelist,u=0;u<Te(_);u++){var c=Ft(_,u);if(Ae(Ae((i=void 0,me((i=c).isNodeType,i,Ar.LatexMacroNode)))&&St(c.macroname,"label"))){var f=function(){var e=me(ln,null,ye({node:c}));return me(e.get_all_arguments_info,e,at(["label"]))}(),d=function(){var e=Ft(f,"label");return me(e.get_content_as_chars,e)}();if(Ae(Se(":",d)))var h=function(){var e=d;return me(e.py_split,e,":",1)}(),p=h[0],g=h[1];else p=(h=at([null,d]))[0],g=h[1];var v=wt({node:c,label:at([p,g])});!function(){var e=Ft(o,"labels_info");me(e.append,e,v)}()}else if(Ae(Ae(function(){var e=c;return me(e.isNodeType,e,Ar.LatexMacroNode)}())&&St(c.macroname,"tag"))){var m=function(){var e=me(ln,null,ye({node:c}));return me(e.get_all_arguments_info,e,at(["tag_star","text"]))}(),y=function(){var e,t=me((e=Ft(m,"text")).get_content_nodelist,e);return me(t.latex_verbatim,t)}();if(Ae(!Ae(function(){var e=Ft(m,"tag_star");return me(e.was_provided,e)}())))y="({})".format(y);Gt(o,"custom_tag_llm_text",y)}else if(Ae(Ae(function(){var e=c;return me(e.isNodeType,e,Ar.LatexMacroNode)}())&&St(c.macroname,"\\"))){me(s,null,c);l=!0}else if(Ae(Ae(!Ae(function(){var e=c;return me(e.isNodeType,e,Ar.LatexCommentNode)}()))&&!Ae(Ae(function(){var e=c;return me(e.isNodeType,e,Ar.LatexCharsNode)}())&&!Ae(function(){var e=c.chars;return me(e.strip,e)}()))))l=!1}return Ae(!Ae(l))&&me(s,null),t}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=t.environmentname;if(Ae(!Ae((o=r,me(o.supports_feature,o,"math"))))){var l=me(Yt,null,"Feature 'math' is not enabled, cannot render math environment");throw l.__cause__=null,l}var _=function(){var e=r;return me(e.feature_render_manager,e,"math")}(),u=null;if(Ae(function(){var e=r;return me(e.supports_feature,e,"refs")}()))u=function(){var e=r;return me(e.feature_render_manager,e,"refs")}();for(var c=me(nt,null,t.nodelist),f=null,d=me(tt,null,t.llm_equation_lines_labels_infos),h=0;h<Te(d);h++){var p=(m=Ft(d,h))[0],g=m[1],v=Ft(g,"custom_tag_llm_text"),m=function(){var e=_;return me(e.new_numbered_display_math,e,t,p,v)}(),y=m[0],w=m[1],k="equation-{}".format(y);if(Ae(null===f))f=k;if(Ae(!Ae(v))){var b=Ft(g,"newline_node");if(Ae(null!==b))var x=function(){var e=c;return me(e.index,e,b)}();else x=me(Te,null,c);!function(){var e=c;me(e.insert,e,x,me(Y_,null,Pt(Pt("\\tag*{",w),"}")))}()}k=f;if(Ae(Ae(null!==u)&&r.is_first_pass))for(var O=Ft(g,"labels"),P=0;P<Te(O);P++){var E=Ft(O,P),C=(m=Ft(E,"label"))[0],N=m[1];!function(){var e=u;me(e.register_reference,e,C,N,ye({node:t,formatted_ref_llm_text:w,target_href:"#{}".format(k)}))}()}}return function(){var e=r.fragment_renderer;return me(e.render_math_content,e,at(["\\begin{}{}{}".format("{",s,"}"),"\\end{}{}{}".format("{",s,"}")]),me(Ar.LatexNodeList,Ar,c),r,"display",ye({environmentname:s,target_id:f}))}()}))}}),$_=ve("MathEqrefMacro",[Ls],{__module__:H_,delayed_render:!0,allowed_in_standalone_mode:!1,get __init__(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t="eqref";if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r="eq";var n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"macroname":t=i[o];break;case"ref_type":r=i[o];break;default:n[o]=i[o]}delete n.__kwargtrans__}}me(me(we,null,$_,"__init__"),null,e,ye({macroname:t,arguments_spec_list:[me(gs,null,me(ei.LatexCharsGroupParser,ei),ye({argname:"ref_label"}))]})),e.ref_type=r}))},get postprocess_parsed_node(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"node":t=n[a]}}}var i,o=(i=me(ln,null,ye({node:t})),me(i.get_all_arguments_info,i,at(["ref_label"]))),s=null,l=function(){var e=Ft(o,"ref_label");return me(e.get_content_as_chars,e)}();if(Ae(Se(":",l))){var _=function(){var e=l;return me(e.py_split,e,":",1)}();s=_[0],l=_[1]}if(Ae(Lt(s,e.ref_type))){var u=me(Er,null,"Equation labels must begin with “{}:” (error in ‘\\{}’)".format(e.ref_type,t.macroname),ye({pos:t.pos}));throw u.__cause__=null,u}t.llmarg_ref=at([s,l])}))},get prepare_delayed_render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}}))},get render(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s=t.llmarg_ref,l=s[0],_=s[1],u=me((o=r).feature_render_manager,o,"refs"),c=t.latex_walker.resource_info;try{return function(){var e=u;return me(e.render_ref,e,l,_,null,c,r)}()}catch(e){if(ze(e,Vt)){var f=e;!function(){var e,r=V_;me(r.error,r,"Failed to resolve reference to ‘{}:{}’: {} in ‘{}’ @ {}".format(l,_,f,me((e=t).latex_verbatim,e),function(){var e=t;return me(e.format_pos,e)}()))}();var d=me(Er,null,"Unable to resolve reference to ‘{}:{}’. {}".format(l,_,f),ye({pos:t.pos}));throw d.__cause__=null,d}throw e}}))}}),Q_={};fe(Q_,"",dr);for(var Z_="llm.llmstd",K_=(me(Q_.getLogger,Q_,Z_),ve("LLMLatexWalkerParsingStateEventHandler",[fr.LatexWalkerParsingStateEventHandler],{__module__:Z_,get enter_math_mode(){return de(this,(function(e,t,r){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"math_mode_delimiter":t=a[i];break;case"trigger_token":r=a[i]}}}var o=me(wt,null,ye({in_math_mode:!0,math_mode_delimiter:t}));return me(eo.ParsingStateDeltaExtendLatexContextDb,eo,ye({set_attributes:o,extend_latex_context:me(wt,null,ye({unknown_macro_spec:me(eo.MacroSpec,eo,""),unknown_environment_spec:me(eo.EnvironmentSpec,eo,""),unknown_specials_spec:me(eo.SpecialsSpec,eo,"")}))}))}))},get leave_math_mode(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"trigger_token":t=n[a]}}}return me(eo.ParsingStateDeltaExtendLatexContextDb,eo,ye({set_attributes:me(wt,null,ye({in_math_mode:!1,math_mode_delimiter:null})),extend_latex_context:me(wt,null,ye({unknown_macro_spec:null,unknown_environment_spec:null,unknown_specials_spec:null}))}))}))}})),J_=function(){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var t=arguments[e--];for(var r in t);}}var n,a=me(eo.LatexContextDb,eo);return me((n=a).add_context_category,n,"base-formatting",ye({macros:[me(Is,null,"textbackslash",ye({value:"\\"})),me(Is,null,"%",ye({value:"%"})),me(Is,null,"#",ye({value:"#"})),me(Is,null,"&",ye({value:"&"})),me(Is,null,"$",ye({value:"$"})),me(Is,null," ",ye({value:" "})),me(Is,null,"{",ye({value:"{"})),me(Is,null,"}",ye({value:"}"})),me(Fs,null,"emph",ye({text_formats:at(["textit"])})),me(Fs,null,"textit",ye({text_formats:at(["textit"])})),me(Fs,null,"textbf",ye({text_formats:at(["textbf"])}))],specials:[me(Rs,null,"~",ye({value:" "})),me(Us,null,"\n\n")]})),function(){var e=a;me(e.add_context_category,e,"href",ye({macros:[me(Xs,null,ye({macroname:"href",command_arguments:at(["target_href","display_text"])})),me(Xs,null,ye({macroname:"url",command_arguments:at(["target_href"])}))]}))}(),function(){var e=a;me(e.add_context_category,e,"verbatimtext",ye({environments:new it([me(Zs,null,ye({environmentname:"verbatimtext"}))])}))}(),a},eu=function(){var e=null,t=!0,r="%%",n="",a=!1;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"force_block_level":e=o[s];break;case"enable_comments":t=o[s];break;case"comment_start":r=o[s];break;case"extra_forbidden_characters":n=o[s];break;case"dollar_inline_math_mode":a=o[s]}}}var l=me(ot,null,n);if(Ae(Ae(!Ae(a))&&!Se("$",l)))l=me(Dt,null,l,"$");if(Ae(Ae(Ae(!Ae(t))||Lt(r,"%"))&&!Se("%",l)))l=me(Dt,null,l,"%");var _,u=[at(["\\(","\\)"])];return Ae(a)&&me((_=u).append,_,at(["$","$"])),me(hs,null,ye({is_block_level:e,latex_context:null,enable_comments:t,comment_start:r,latex_inline_math_delimiters:u,latex_display_math_delimiters:[at(["\\[","\\]"])],forbidden_characters:l}))},tu=function(){var e=!0,t=!0,r=null,n=!0,a=null,i=!0,o=null,s=!0,l=!0,_=null,u=null,c=null,f=null,d=!0,h=!0,p=null,g=!0;if(arguments.length){var v=arguments.length-1;if(arguments[v]&&arguments[v].hasOwnProperty("__kwargtrans__")){var m=arguments[v--];for(var y in m)switch(y){case"math":e=m[y];break;case"headings":t=m[y];break;case"heading_section_commands_by_level":r=m[y];break;case"refs":n=m[y];break;case"external_ref_resolvers":a=m[y];break;case"enumeration_environments":i=m[y];break;case"enumeration_environments_dict":o=m[y];break;case"endnotes":s=m[y];break;case"citations":l=m[y];break;case"external_citations_providers":_=m[y];break;case"eq_counter_formatter":u=m[y];break;case"footnote_counter_formatter":c=m[y];break;case"citation_counter_formatter":f=m[y];break;case"use_simple_path_graphics_resource_provider":d=m[y];break;case"floats":h=m[y];break;case"float_types":p=m[y];break;case"defterm":g=m[y]}}}if(Ae(null===c))c="alph";if(Ae(null===f))f="arabic";var w,k=[];if(Ae(e)&&me((w=k).append,w,me(W_,null,ye({eq_counter_formatter:u}))),Ae(i)&&function(){var e=k;me(e.append,e,me(G_,null,ye({enumeration_environments:o})))}(),Ae(t)&&function(){var e=k;me(e.append,e,me(b_,null,ye({section_commands_by_level:r})))}(),Ae(n)&&function(){var e=k;me(e.append,e,me(_l,null,ye({external_ref_resolvers:a})))}(),Ae(s)){var b=[me(P_,null,ye({category_name:"footnote",counter_formatter:c,heading_title:"Footnotes",endnote_command:"footnote"}))];!function(){var e=k;me(e.append,e,me(N_,null,ye({categories:b})))}()}return Ae(Ae(l)&&null!==_)&&function(){var e=k;me(e.append,e,me(M_,null,ye({external_citations_providers:_,counter_formatter:f,citation_delimiters:at(["[","]"])})))}(),Ae(d)&&function(){var e=k;me(e.append,e,me(Ol,null))}(),Ae(h)&&function(){var e=k;me(e.append,e,me(v_,null,ye({float_types:p})))}(),Ae(g)&&function(){var e=k;me(e.append,e,me(yl,null))}(),k},ru=ve("LLMStandardEnvironment",[ws],{__module__:Z_,get __init__(){return de(this,(function(e,t,r,n){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))r=null;if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;var a=wt();if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"features":t=o[s];break;case"parsing_state":r=o[s];break;case"latex_context":n=o[s];break;default:a[s]=o[s]}delete a.__kwargtrans__}}if(Ae(null===n))n=me(J_,null);if(Ae(null===r))r=me(eu,null,ye(function(){for(var e,t=[],r=at(["enable_comments","comment_start"]),n=0;n<Te(r);n++){var i=Ft(r,n);Ae(Se(i,a))&&(e=void 0,me(t.append,t,[i,(e=a,me(e.py_pop,e,i))]))}return wt(t)}()));if(Ae(null===t))t=me(tu,null,ye(function(){for(var e,t=[],r=at(["external_citations_providers","external_ref_resolvers","footnote_counter_formatter","citation_counter_formatter"]),n=0;n<Te(r);n++){var i=Ft(r,n);Ae(Se(i,a))&&(e=void 0,me(t.append,t,[i,(e=a,me(e.py_pop,e,i))]))}return wt(t)}()));me(me(we,null,ru,"__init__"),null,e,t,r,n,ye(a))}))},parsing_state_event_handler:me(K_,null),get get_parse_error_message(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"exception_object":t=n[a]}}}var i=null,o=t.error_type_info;if(Ae(o)){var s=Ft(o,"what");if(Ae(St(s,"token_forbidden_character")))if(Ae(St(Ft(o,"forbidden_character"),"%")))i="LaTeX comments are not allowed here. Use ‘\\%’ to typeset a literal percent sign.";else if(Ae(St(Ft(o,"forbidden_character"),"$")))i="You can't use ‘$’ here. LaTeX math should be typeset using \\(...\\) for inline math and \\[...\\] for unnumbered display equations. Use ‘\\$’ for a literal dollar sign."}if(Ae(!Ae(i)))i=t.msg;var l,_=me(fr.LatexWalkerParseErrorFormatter,fr,t);return i=me(Dt,null,i,me((l=_).format_full_traceback,l))}))}}),nu=t(m)("zoodb.zoollm._environment"),au=b_.SectionCommandSpec,iu=P_,ou=nl,su=g_,lu=bl,_u=0,uu=[au,iu,rl,ou,su,lu];_u<uu.length;_u++){uu[_u].toJSON=function(){return this.asdict()}}function cu(e){return ze(e,Yi)}var fu=function(){"use strict";function e(t){M(this,e),this.options=null!=t?t:{},this.clear_all_refs(),this.target_href_resolver=null}return R(e,[{key:"clear_all_refs",value:function(){var e=this;this.ref_instance_database={},this.options.ref_types&&this.options.ref_types.forEach((function(t){e.ref_instance_database[t]={}}))}},{key:"add_ref",value:function(e){var t=e.ref_type,r=e.ref_label;if(null==t)throw new Error("Invalid ref_type:ref_label pair ‘".concat(t,":").concat(r,"’"));if(!this.ref_instance_database.hasOwnProperty(t)){if(void 0!==this.options.ref_types)throw new Error("Invalid ref prefix ‘".concat(t,"’ in ‘").concat(t,":").concat(r,"’, ")+"expected one of ".concat(this.options.ref_types));this.ref_instance_database[t]={}}if(this.ref_instance_database[t].hasOwnProperty(r))throw new Error("Ref target ‘".concat(t,":").concat(r,"’ already exists in ref instance ")+"database, found "+"".concat(JSON.stringify(this.ref_instance_database[t][r])));this.ref_instance_database[t][r]=e}},{key:"get_ref",value:function(e,t,r,n){var a,i,o=null===(a=this.ref_instance_database)||void 0===a||null===(i=a[e])||void 0===i?void 0:i[t];return null==o?(nu("No such reference in ref instance database — ".concat(e,":").concat(t)),null):null!=this.target_href_resolver?new ou(sr(Object.assign({},o.asdict(),{target_href:this.target_href_resolver(o,n)}))):o}},{key:"dump_database",value:function(){return{ref_instance_database:this.ref_instance_database}}},{key:"load_database",value:function(e){var t={},r=!0,n=!1,a=void 0;try{for(var i,o=Object.entries(e.ref_instance_database)[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=d(i.value,2),l=s[0],_=s[1];t[l]={};var u=!0,c=!1,f=void 0;try{for(var h,p=Object.entries(_)[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var g=d(h.value,2),v=g[0],m=g[1];t[l][v]=new ou(sr(m))}}catch(e){c=!0,f=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw f}}}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}this.ref_instance_database=t}}]),e}(),du=function(){"use strict";function e(){M(this,e),this.clear_citations()}return R(e,[{key:"clear_citations",value:function(){this.citations_database={}}},{key:"add_citation",value:function(e,t,r){if(this.citations_database.hasOwnProperty(e)||(this.citations_database[e]={}),this.citations_database[e].hasOwnProperty(t))throw new Error("There is already a citation registered for ‘".concat(e,":").concat(t,"’"));this.citations_database[e][t]=r}},{key:"set_citations",value:function(e){this.clear_citations();var t=!0,r=!1,n=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,s=o.cite_prefix,l=o.cite_key,_=o.citation_text;this.add_citation(s,l,_)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"get_citation_full_text_llm",value:function(e,t,r){return this.citations_database.hasOwnProperty(e)?this.citations_database[e].hasOwnProperty(t)?this.citations_database[e][t]:this.handle_unresolved_citation({cite_prefix:e,cite_key:t,resource_info:r,message:"There is no citation registered for key ‘".concat(e,":").concat(t,"’ ")+"in ".concat(r)}):this.handle_unresolved_citation({cite_prefix:e,cite_key:t,resource_info:r,message:"There is no citation registered for prefix ‘".concat(e,"’ in query ")+"for ‘".concat(e,":").concat(t,"’ in ").concat(r)})}},{key:"handle_unresolved_citation",value:function(e){var t=e.cite_prefix,r=e.cite_key,n=e.message;e.resource_info;return nu("Can't find citation ‘".concat(t,":").concat(r,"’: ").concat(n)),null}},{key:"dump_database",value:function(){var e={},t=!0,r=!1,n=void 0;try{for(var a,i=Object.entries(this.citations_database)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=d(a.value,2),s=o[0],l=o[1];e[s]={};var _=!0,u=!1,c=void 0;try{for(var f,h=Object.entries(l)[Symbol.iterator]();!(_=(f=h.next()).done);_=!0){var p=d(f.value,2),g=p[0],v=p[1];cu(v)&&(v=v.llm_text),e[s][g]=v}}catch(e){u=!0,c=e}finally{try{_||null==h.return||h.return()}finally{if(u)throw c}}}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return{citations_database:e}}},{key:"load_database",value:function(e){this.citations_database=e.citations_database}}]),e}(),hu=ve("FeatureZooGraphicsCollection",[xs],{__module__:"zoodb.zoollm._environment",RenderManager:ve("RenderManager",[xs.RenderManager],{get get_graphics_resource(){return de(this,(function(e,r,n){var a=e.feature,i=t(or).join(n.get_source_directory(),r);if(!a.graphics_collection.hasOwnProperty(i))throw new Error("No such graphics ‘".concat(i,"’ (‘").concat(r,"’ ")+"relative to ".concat(n,")"));var o=a.graphics_collection[i];if(null!=a.src_url_resolver){var s=a.src_url_resolver(o,e.render_context),l=s.src_url,_=s.srcset;if(void 0===l)throw new Error("src_url_resolver() did not return { src_url }.");return lu(sr(Object.assign({},o.asdict(),{src_url:l,srcset:_})))}return o}))}}),get __init__(){return de(this,(function(e){we(hu,"__init__")(e),e.graphics_collection={},e.feature_name="graphics_resource_provider",e.src_url_resolver=null}))},get add_graphics(){return de(this,(function(e,t,r){if(e.graphics_collection.hasOwnProperty(t))throw new Error("Graphics collection already has a graphics resource registered "+" for path ‘".concat(t,"’ (registered target ")+"‘".concat(e.graphics_collection[t].src_url,"’, new target ")+"‘".concat(r.src_url,"’)"));e.graphics_collection[t]=r}))},get set_collection(){return de(this,(function(e,t){Object.entries(t).forEach((function(t){var r=d(t,2),n=r[0],a=r[1];e.add_graphics(n,a)}))}))}});var pu=ve("ZooLLMEnvironment",[ru],{get __init__(){return de(this,(function(e,t){var r,n,a;t=Object.assign({},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"alph";return{heading_section_commands_by_level:{2:au("section",sr({inline:!1})),3:au("subsection",sr({inline:!1})),4:au("paragraph",sr({inline:!0}))},endnote_categories:[iu("footnote",sr({counter_formatter:e,heading_title:"Footnotes",endnote_command:"footnote"}))],citation_counter_formatter:"arabic",citation_delimiters:["[","]"],figure_filename_extensions:["",".svg",".png",".jpg",".jpeg"],float_types:[su("figure","Figure",sr({counter_formatter:"Roman",content_handlers:["includegraphics"]})),su("table","Table",sr({counter_formatter:"Roman",content_handlers:["cells","includegraphics"]}))],defterm_render_defterm_with_term:!0,defterm_render_defterm_with_term_suffix:": "}}(),t),e.citations_provider=null!==(r=t.citations_provider)&&void 0!==r?r:new du,e.ref_resolver=null!==(n=t.ref_resolver)&&void 0!==n?n:new fu(t.ref_resolver_options),e.graphics_collection=null!==(a=t.graphics_collection)&&void 0!==a?a:new hu,nu("ZooLLMEnvironment.__init__(): creating feature class instances ..."),e.feature_math=new W_,e.feature_headings=new b_(sr({section_commands_by_level:t.heading_section_commands_by_level})),e.feature_refs=new _l([e.ref_resolver]),e.feature_endnotes=new N_(sr({categories:t.endnote_categories})),e.feature_citations=new M_(sr({external_citations_providers:[e.citations_provider],counter_formatter:t.citation_counter_formatter,citation_delimiters:t.citation_delimiters})),e.feature_floats=new v_(sr({float_types:t.float_types})),e.feature_defterm=new yl,e.feature_defterm.render_defterm_with_term=t.defterm_render_defterm_with_term,e.feature_defterm.render_defterm_with_term_suffix=t.defterm_render_defterm_with_term_suffix;var i=[e.feature_math,e.feature_headings,e.feature_refs,e.feature_endnotes,e.feature_citations,e.feature_floats,e.feature_defterm,e.graphics_collection];nu("ZooLLMEnvironment.__init__(): calling super constructor ..."),we(pu,"__init__")(e,i)}))}}),gu={};fe(gu,"",Ma);var vu="llm.llmdump",mu=gu.fn_unique_object_id,yu=ve("_FakeDataLoadedLLMLatexWalker",[ge],{__module__:vu,get __init__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"s":t=n[a]}}}e.s=t,e._fields=at(["s"])}))},get __repr__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return"{}(s={})".format(e.__class__.__name__,e.s)}))}}),wu=ve("_Skip",[ge],{__module__:vu}),ku=at([Dr,$o,Qo,Zo,Ho]),bu=(ve("LLMDataDumper",[ge],{__module__:vu,get __init__(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)switch(n){case"self":e=r[n];break;case"environment":var a=r[n]}}}var i;e.environment=a,me((i=e).py_clear,i)}))},get py_clear(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}e.data=wt({objects:wt({}),resources:wt({}),_dump:wt({version:1})})}))},get get_data(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return e.data}))},get add_dump(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"key":t=a[i];break;case"obj":r=a[i]}}}var o,s=me((o=e)._make_object_dump,o,r,ye({dumping_state:wt({object:r})}));Gt(Ft(e.data,"objects"),t,s)}))},get _make_object_dump(){return de(this,(function(e,t){var r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"obj":t=a[i];break;case"dumping_state":var o=a[i];break;case"type_name":r=a[i]}}}for(var s,l=me(it,null,t._fields),_=me(Pe,null,t),u=0;u<Te(_);u++){var c=Ft(_,u);Ae((s=void 0,me((s=c).startswith,s,"llm")))&&function(){var e=l;me(e.add,e,c)}()}var f=wt({$type:Ae(null!==r)?r:t.__class__.__name__});for(_=me(rr,null,l),u=0;u<Te(_);u++){var d=Ft(_,u),h=function(){var r=e;return me(r._make_dump,r,me(Ce,null,t,d),ye({dumping_state:o}))}();if(Ae(h===wu))h=wt({$skip:!0});Gt(f,d,h)}return f}))},get _make_dump(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"x":t=n[a];break;case"dumping_state":var i=n[a]}}}if(Ae(me(ze,null,t,at([at,nt])))){for(var o=[],s=t,l=0;l<Te(s);l++){var _=Ft(s,l);if(Ae((u=(c=void 0,me((c=e)._make_dump,c,_,ye({dumping_state:i}))))===wu))var u=null;!function(){var e=o;me(e.append,e,u)}()}return o}var c;if(Ae(me(ze,null,t,ys)))return function(){var r=e;return me(r._make_resource,r,"LLMLatexWalker",t,me(yu,null,t.s),ye({dumping_state:i}))}();if(Ae(me(ze,null,t,hs)))return function(){var r=e;return me(r._make_resource,r,"LLMParsingState",t,t,ye({dumping_state:i}))}();if(Ae(me(ze,null,t,ku)))return wu;if(Ae(me(Ne,null,t,"_fields")))return function(){var r=e;return me(r._make_object_dump,r,t,ye({dumping_state:i}))}();if(Ae(null===t))return null;if(Ae(me(ze,null,t,at([ot,Re,Ie,Me]))))return t;var f=me(Yt,null,"Cannot dump value {} of unsupported type".format(t));throw f.__cause__=null,f}))},get _make_resource(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"restype":t=i[o];break;case"y":r=i[o];break;case"ydata":n=i[o];break;case"dumping_state":var s=i[o]}}}Ae(!Se(t,Ft(e.data,"resources")))&&Gt(Ft(e.data,"resources"),t,wt({}));var l,_=me(ot,null,me(mu,null,r));if(Ae(!Se(_,Ft(Ft(e.data,"resources"),t)))){var u=me((l=e)._make_object_dump,l,n,ye({dumping_state:s,type_name:t}));Gt(Ft(Ft(e.data,"resources"),t),_,u)}return wt({$restype:t,$reskey:_})}))}}),ve("LLMDataLoadNotSupported",[ge],{__module__:vu})),xu=function(){for(var e=[],t=en,r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,[n.__name__,n])}return wt(e)}(),Ou=function(){for(var e=[],t=[hs,jr],r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,[n.__name__,n])}return wt(e)}(),Pu=(ve("LLMDataLoader",[ge],{__module__:vu,get __init__(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"data":t=n[a];break;case"environment":var i=n[a]}}}if(e.data=t,e.environment=i,Ae(Lt(Ft(Ft(e.data,"_dump"),"version"),1))){var o=me(RuntimeError,null,"Dump version mismatch: {}, expected {}".format(Ft(Ft(e.data,"_dump"),"version"),1));throw o.__cause__=null,o}}))},get get_keys(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return me(nt,null,me((a=Ft(e.data,"objects")).py_keys,a));var a}))},get get_object(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"key":t=n[a]}}}var i,o=Ft(Ft(e.data,"objects"),t);return me((i=e)._load_from_data,i,o)}))},get _load_from_data(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"data":t=n[a]}}}if(Ae(me(ze,null,t,nt)))return function(){for(var r,n=[],a=t,i=0;i<Te(a);i++){var o=Ft(a,i);r=void 0,me(n.append,n,me((r=e)._load_from_data,r,o))}return n}();if(Ae(me(ze,null,t,wt))){if(Ae(Ae(Se("$skip",t))&&!0===Ft(t,"$skip")))return bu;if(Ae(Se("$restype",t)))return me((i=e)._load_resource,i,Ft(t,"$restype"),Ft(t,"$reskey"));if(Ae(Se("$type",t)))return function(){var r,n=e;return me(n._load_object,n,me((r=t).py_pop,r,"$type"),t)}()}var i;return t}))},get _load_resource(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"restype":t=a[i];break;case"reskey":r=a[i]}}}var o,s=Ft(Ft(Ft(e.data,"resources"),t),r);if(Ae(St(t,"LLMLatexWalker")))return me(yu,null,Ft(s,"s"));if(Ae(St(t,"LLMParsingState")))return me((o=e)._load_object,o,t,me(wt,null,s,ye({latex_context:bu})));var l=me(Yt,null,"Unknown data resource type to load: {}".format(t));throw l.__cause__=null,l}))},get _load_object(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"objtype":t=a[i];break;case"data":r=a[i]}}}if(Ae(St(t,"LLMFragment")))var o=e._make_fragment;else if(Ae(Ae(Se(t,xu))||St(t,"LatexNodeList")))o=function(){var r,n=wt();if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)n[o]=i[o];delete n.__kwargtrans__}}return me((r=e)._make_node_instance,r,t,n)};else{if(!Ae(Se(t,Ou))){var s=me(Yt,null,"Unknown object type ‘{}’ for data loading".format(t));throw s.__cause__=null,s}o=Ft(Ou,t)}var l=function(){for(var t,n,a=[],i=me((t=r).py_items,t),o=0;o<Te(i);o++){var s=Ft(i,o),l=s[0],_=s[1];Ae(!Ae(function(){var e=l;return me(e.startswith,e,"$")}()))&&(n=void 0,me(a.append,a,[l,(n=e,me(n._load_from_data,n,_))]))}return wt(a)}(),_=me(o,null,ye(l));return _}))},get _make_node_instance(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodetype":t=a[i];break;case"kwargs":r=a[i]}}}for(var o,s=wt({}),l=wt({}),_=me((o=r).py_items,o),u=0;u<Te(_);u++){var c=(p=Ft(_,u))[0],f=p[1];Ae(function(){var e=c;return me(e.startswith,e,"llm")}())?Gt(l,c,f):Gt(s,c,f)}if(Ae(St(t,"LatexNodeList")))var d=Qr;else d=Ft(xu,t);var h=me(d,null,ye(s));for(_=function(){var e=l;return me(e.py_items,e)}(),u=0;u<Te(_);u++){var p;c=(p=Ft(_,u))[0],f=p[1];me(Ee,null,h,c,f)}return h}))},get _make_fragment(){return de(this,(function(e){var t=wt();if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)if("self"===a)e=n[a];else t[a]=n[a];delete t.__kwargtrans__}}var i,o=me((i=t).py_pop,i,"nodes"),s=function(){var e=t;return me(e.py_pop,e,"llm_text")}();return me(Yi,null,ye(Oe({llm_text:o,environment:e.environment,_llm_text_if_loading_nodes:s},t)))}))}}),{});fe(Pu,"",dr);var Eu="llm.fragmentrenderer._base",Cu=(me(Pu.getLogger,Pu,Eu),ve("FragmentRenderer",[ge],{__module__:Eu,supports_delayed_render_markers:!1,get __init__(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"config":t=n[a]}}}if(me(me(we,null,Cu,"__init__"),null,e),Ae(null!==t))for(var i=me((u=t).py_items,u),o=0;o<Te(i);o++){var s=Ft(i,o),l=s[0],_=s[1];me(Ee,null,e,l,_)}var u}))},get render_fragment(){return de(this,(function(e,t,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"llm_fragment":t=i[o];break;case"render_context":r=i[o];break;case"is_block_level":n=i[o]}}}try{return me((l=e).render_nodelist,l,t.nodes,me((s=e)._ensure_render_context,s,r),ye({is_block_level:n}))}catch(e){if(ze(e,Vt)){throw e.__cause__=null,e}throw e}var s,l}))},get render_nodelist(){return de(this,(function(e,t,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"nodelist":t=i[o];break;case"render_context":r=i[o];break;case"is_block_level":n=i[o]}}}var s,l;if(Ae(null===t))throw(s=me(Yt,null,"render_nodelist(): nodelist should not be None")).__cause__=null,s;if(Ae(!Ae(me(Ne,null,t,"llm_is_block_level"))))throw(s=me(Yt,null,"The given node list was not parsed & produced by LLM; missing .llm_is_block_level attribute")).__cause__=null,s;if(Ae(null===n))n=t.llm_is_block_level;if(Ae(Ae(!Ae(n))&&t.llm_is_block_level))throw(s=me(Yt,null,"Cannot render node list ‘{}’ in inline mode (not block level mode) as it contains block-level elements.".format(t))).__cause__=null,s;if(Ae(n)){if(Ae(me(Ne,null,t,"llm_blocks")))var _=t.llm_blocks;else _=[t];return me((l=e).render_blocks,l,_,r)}return function(){var n=e;return me(n.render_inline_content,n,t,r)}()}))},get render_node(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o;r=me((o=e)._ensure_render_context,o,r);if(Ae(function(){var e=t;return me(e.isNodeType,e,Ur)}()))return function(){var n=e;return me(n.render_node_chars,n,t,r)}();if(Ae(function(){var e=t;return me(e.isNodeType,e,Hr)}()))return function(){var n=e;return me(n.render_node_comment,n,t,r)}();if(Ae(function(){var e=t;return me(e.isNodeType,e,qr)}()))return function(){var n=e;return me(n.render_node_group,n,t,r)}();if(Ae(function(){var e=t;return me(e.isNodeType,e,Vr)}()))return function(){var n=e;return me(n.render_node_macro,n,t,r)}();if(Ae(function(){var e=t;return me(e.isNodeType,e,Br)}()))return function(){var n=e;return me(n.render_node_environment,n,t,r)}();if(Ae(function(){var e=t;return me(e.isNodeType,e,Yr)}()))return function(){var n=e;return me(n.render_node_specials,n,t,r)}();if(Ae(function(){var e=t;return me(e.isNodeType,e,Xr)}()))return function(){var n=e;return me(n.render_node_math,n,t,r)}();var s=me(Yt,null,"Invalid node type: {}".format(t));throw s.__cause__=null,s}))},get render_node_chars(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}if(Ae(me(Ne,null,t,"llm_chars_value")))var o=t.llm_chars_value;else o=null;if(Ae(null===o))o=t.chars;return me((s=e).render_value,s,o);var s}))},get render_node_comment(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}return""}))},get render_node_group(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}return me((s=e).render_nodelist,s,t.nodelist,me((o=e)._ensure_render_context,o,r));var o,s}))},get render_node_macro(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}return me((s=e).render_invocable_node,s,t,me((o=e)._ensure_render_context,o,r));var o,s}))},get render_node_environment(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}return me((s=e).render_invocable_node,s,t,me((o=e)._ensure_render_context,o,r));var o,s}))},get render_node_specials(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}return me((s=e).render_invocable_node,s,t,me((o=e)._ensure_render_context,o,r));var o,s}))},get render_invocable_node(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}var o,s;if(Ae(Ae(!Ae(me(Ne,null,t,"llm_specinfo")))||null===t.llm_specinfo))throw(o=me(RuntimeError,null,"Node {} does not have the `llm_specinfo` attribute set".format(t))).__cause__=null,o;if(Ae(r.is_standalone_mode)&&Ae(!Ae(t.llm_specinfo.allowed_in_standalone_mode)))throw(o=me(Yt,null,"Cannot render ‘{}’ in standalone mode.".format(me((s=t).latex_verbatim,s)))).__cause__=null,o;return function(){var n,a=e;return me(a.render_invocable_node_call_render,a,t,t.llm_specinfo,me((n=e)._ensure_render_context,n,r))}()}))},get render_invocable_node_call_render(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":t=i[o];break;case"llm_specinfo":r=i[o];break;case"render_context":n=i[o]}}}if(xe(null!==n),Ae(null===r)){var s=me(Yt,null,"Cannot render node={} because specinfo is None!".format(t));throw s.__cause__=null,s}var l,_=me((l=n).get_is_delayed_render,l,t);if(Ae(_)){var u=n.is_first_pass,c=null;if(Ae(u)){!function(){var e=r;me(e.prepare_delayed_render,e,t,n)}();c=function(){var r=n;return me(r.register_delayed_render,r,t,e)}()}return Ae(e.supports_delayed_render_markers)?function(){var r=e;return me(r.render_delayed_marker,r,t,c,n)}():Ae(u)?(function(){var e=r;me(e.prepare_delayed_render,e,t,n)}(),function(){var r=e;return me(r.render_delayed_dummy_placeholder,r,t,c,n)}()):(xe(!Ae(n.is_first_pass)),function(){var e=n;return me(e.get_delayed_render_content,e,t)}())}var f=function(){var e=r;return me(e.render,e,t,n)}();return f}))},get render_node_math(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node":t=a[i];break;case"render_context":r=a[i]}}}return me((s=e).render_math_content,s,t.delimiters,t.nodelist,me((o=e)._ensure_render_context,o,r),ye({displaytype:t.displaytype,target_id:null}));var o,s}))},get render_math_content(){return de(this,(function(e,t,r,n,a){var i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"delimiters":t=s[l];break;case"nodelist":r=s[l];break;case"render_context":n=s[l];break;case"displaytype":a=s[l];break;case"environmentname":s[l];break;case"target_id":i=s[l]}}}var _,u,c=me((u=e).render_verbatim,u,Pt(Pt(Ft(t,0),me((_=r).latex_verbatim,_)),Ft(t,1)),ye({annotations:["{}-math".format(a)],target_id:i}));return c}))},get render_blocks(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"node_blocks":t=a[i];break;case"render_context":r=a[i]}}}for(var o,s=[],l=t,_=0;_<Te(l);_++){var u=Ft(l,_);if(Ae(me(ze,null,u,Qr)))var c=(o=void 0,me((o=e).render_build_paragraph,o,u,r));else c=function(){var t=e;return me(t.render_node,t,u,r)}();!function(){var e=s;me(e.append,e,c)}()}return function(){var t=e;return me(t.render_join_blocks,t,s)}()}))},get render_build_paragraph(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":t=a[i];break;case"render_context":r=a[i]}}}return me((o=e).render_inline_content,o,t,r);var o}))},get render_inline_content(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":t=a[i];break;case"render_context":r=a[i]}}}return me((o=e).render_join,o,function(){for(var n,a=[],i=t,o=0;o<Te(i);o++){var s=Ft(i,o);n=void 0,me(a.append,a,me((n=e).render_node,n,s,r))}return a}());var o}))},get render_join(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"content_list":t=n[a]}}}return me("".join,"",t)}))},get render_join_blocks(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"content_list":t=n[a]}}}return me("\n\n".join,"\n\n",function(){for(var e=[],r=t,n=0;n<Te(r);n++){var a=Ft(r,n);Ae(Ae(null!==a)&&me(Te,null,a))&&me(e.append,e,a)}return e}())}))},get render_semantic_block(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"content":t=a[i];break;case"role":r=a[i];break;case"annotations":a[i];break;case"target_id":a[i]}}}return t}))},get replace_delayed_markers_with_final_values(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"content":t=a[i];break;case"delayed_values":r=a[i]}}}var o=me(RuntimeError,null,"Reimplement me!");throw o.__cause__=null,o}))},get render_value(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"value":t=n[a]}}}var i=me(RuntimeError,null,"Subclasses need to reimplement this method");throw i.__cause__=null,i}))},get render_delayed_marker(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":t=i[o];break;case"delayed_key":r=i[o];break;case"render_context":n=i[o]}}}var s=me(RuntimeError,null,"Subclasses need to reimplement this method");throw s.__cause__=null,s}))},get render_delayed_dummy_placeholder(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":t=i[o];break;case"delayed_key":r=i[o];break;case"render_context":n=i[o]}}}var s=me(RuntimeError,null,"Subclasses need to reimplement this method");throw s.__cause__=null,s}))},get render_nothing(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"annotations":t=n[a]}}}var i=me(RuntimeError,null,"Subclasses need to reimplement this method");throw i.__cause__=null,i}))},get render_empty_error_placeholder(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"debug_str":t=n[a]}}}var i=me(RuntimeError,null,"Subclasses need to reimplement this method");throw i.__cause__=null,i}))},get render_text_format(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"text_formats":t=i[o];break;case"nodelist":r=i[o];break;case"render_context":n=i[o]}}}var s=me(RuntimeError,null,"Subclasses need to reimplement this method");throw s.__cause__=null,s}))},get render_enumeration(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"iter_items_nodelists":t=i[o];break;case"counter_formatter":r=i[o];break;case"render_context":n=i[o];break;case"target_id_generator":i[o];break;case"annotations":i[o]}}}var s=me(RuntimeError,null,"Subclasses need to reimplement this method");throw s.__cause__=null,s}))},get render_heading(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"heading_nodelist":t=a[i];break;case"render_context":r=a[i];break;case"heading_level":a[i];break;case"inline_heading":a[i];break;case"target_id":a[i]}}}var o=me(RuntimeError,null,"Subclasses need to reimplement this method");throw o.__cause__=null,o}))},get render_verbatim(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"value":t=n[a];break;case"annotations":n[a];break;case"target_id":n[a]}}}var i=me(RuntimeError,null,"Subclasses need to reimplement this method");throw i.__cause__=null,i}))},get render_link(){return de(this,(function(e,t,r,n,a,i){if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"ref_type":t=s[l];break;case"href":r=s[l];break;case"display_nodelist":n=s[l];break;case"render_context":a=s[l];break;case"annotations":i=s[l]}}}var _=me(RuntimeError,null,"Subclasses need to reimplement this method");throw _.__cause__=null,_}))},get render_float(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_instance":t=a[i];break;case"render_context":r=a[i]}}}var o=me(RuntimeError,null,"Feature is not implemented by subclass");throw o.__cause__=null,o}))},get render_graphics_block(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"graphics_resource":t=n[a]}}}var i=me(RuntimeError,null,"Feature is not implemented by subclass");throw i.__cause__=null,i}))},get render_cells(){return de(this,(function(e,t,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cells_model":t=i[o];break;case"render_context":r=i[o];break;case"target_id":n=i[o]}}}var s=me(RuntimeError,null,"Feature is not implemented by subclass");throw s.__cause__=null,s}))},get _ensure_render_context(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"render_context":t=n[a]}}}return Ae(t)||me(Za,null,ye({fragment_renderer:e}))}))}})),Nu={};e(Nu,"__all__",(function(){return Fu})),e(Nu,"escape",(function(){return Gu})),e(Nu,"_invalid_charrefs",(function(){return Uu})),e(Nu,"_invalid_codepoints",(function(){return qu})),e(Nu,"_replace_charref",(function(){return Hu})),e(Nu,"_charref",(function(){return Vu})),e(Nu,"unescape",(function(){return Bu})),e(Nu,"_html5",(function(){return Tu})),e(Nu,"_re",(function(){return Sn}));for(var Su,Lu=wt({AElig:198,Aacute:193,Acirc:194,Agrave:192,Alpha:913,Aring:197,Atilde:195,Auml:196,Beta:914,Ccedil:199,Chi:935,Dagger:8225,Delta:916,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Epsilon:917,Eta:919,Euml:203,Gamma:915,Iacute:205,Icirc:206,Igrave:204,Iota:921,Iuml:207,Kappa:922,Lambda:923,Mu:924,Ntilde:209,Nu:925,OElig:338,Oacute:211,Ocirc:212,Ograve:210,Omega:937,Omicron:927,Oslash:216,Otilde:213,Ouml:214,Phi:934,Pi:928,Prime:8243,Psi:936,Rho:929,Scaron:352,Sigma:931,THORN:222,Tau:932,Theta:920,Uacute:218,Ucirc:219,Ugrave:217,Upsilon:933,Uuml:220,Xi:926,Yacute:221,Yuml:376,Zeta:918,aacute:225,acirc:226,acute:180,aelig:230,agrave:224,alefsym:8501,alpha:945,amp:38,and:8743,ang:8736,aring:229,asymp:8776,atilde:227,auml:228,bdquo:8222,beta:946,brvbar:166,bull:8226,cap:8745,ccedil:231,cedil:184,cent:162,chi:967,circ:710,clubs:9827,cong:8773,copy:169,crarr:8629,cup:8746,curren:164,dArr:8659,dagger:8224,darr:8595,deg:176,delta:948,diams:9830,divide:247,eacute:233,ecirc:234,egrave:232,empty:8709,emsp:8195,ensp:8194,epsilon:949,equiv:8801,eta:951,eth:240,euml:235,euro:8364,exist:8707,fnof:402,forall:8704,frac12:189,frac14:188,frac34:190,frasl:8260,gamma:947,ge:8805,gt:62,hArr:8660,harr:8596,hearts:9829,hellip:8230,iacute:237,icirc:238,iexcl:161,igrave:236,image:8465,infin:8734,int:8747,iota:953,iquest:191,isin:8712,iuml:239,kappa:954,lArr:8656,lambda:955,lang:9001,laquo:171,larr:8592,lceil:8968,ldquo:8220,le:8804,lfloor:8970,lowast:8727,loz:9674,lrm:8206,lsaquo:8249,lsquo:8216,lt:60,macr:175,mdash:8212,micro:181,middot:183,minus:8722,mu:956,nabla:8711,nbsp:160,ndash:8211,ne:8800,ni:8715,not:172,notin:8713,nsub:8836,ntilde:241,nu:957,oacute:243,ocirc:244,oelig:339,ograve:242,oline:8254,omega:969,omicron:959,oplus:8853,or:8744,ordf:170,ordm:186,oslash:248,otilde:245,otimes:8855,ouml:246,para:182,part:8706,permil:8240,perp:8869,phi:966,pi:960,piv:982,plusmn:177,pound:163,prime:8242,prod:8719,prop:8733,psi:968,quot:34,rArr:8658,radic:8730,rang:9002,raquo:187,rarr:8594,rceil:8969,rdquo:8221,real:8476,reg:174,rfloor:8971,rho:961,rlm:8207,rsaquo:8250,rsquo:8217,sbquo:8218,scaron:353,sdot:8901,sect:167,shy:173,sigma:963,sigmaf:962,sim:8764,spades:9824,sub:8834,sube:8838,sum:8721,sup:8835,sup1:185,sup2:178,sup3:179,supe:8839,szlig:223,tau:964,there4:8756,theta:952,thetasym:977,thinsp:8201,thorn:254,tilde:732,times:215,trade:8482,uArr:8657,uacute:250,uarr:8593,ucirc:251,ugrave:249,uml:168,upsih:978,upsilon:965,uuml:252,weierp:8472,xi:958,yacute:253,yen:165,yuml:255,zeta:950,zwj:8205,zwnj:8204}),Tu=wt({Aacute:"Á",aacute:"á","Aacute;":"Á","aacute;":"á","Abreve;":"Ă","abreve;":"ă","ac;":"∾","acd;":"∿","acE;":"∾̳",Acirc:"Â",acirc:"â","Acirc;":"Â","acirc;":"â",acute:"´","acute;":"´","Acy;":"А","acy;":"а",AElig:"Æ",aelig:"æ","AElig;":"Æ","aelig;":"æ","af;":"⁡","Afr;":"𝔄","afr;":"𝔞",Agrave:"À",agrave:"à","Agrave;":"À","agrave;":"à","alefsym;":"ℵ","aleph;":"ℵ","Alpha;":"Α","alpha;":"α","Amacr;":"Ā","amacr;":"ā","amalg;":"⨿",AMP:"&",amp:"&","AMP;":"&","amp;":"&","And;":"⩓","and;":"∧","andand;":"⩕","andd;":"⩜","andslope;":"⩘","andv;":"⩚","ang;":"∠","ange;":"⦤","angle;":"∠","angmsd;":"∡","angmsdaa;":"⦨","angmsdab;":"⦩","angmsdac;":"⦪","angmsdad;":"⦫","angmsdae;":"⦬","angmsdaf;":"⦭","angmsdag;":"⦮","angmsdah;":"⦯","angrt;":"∟","angrtvb;":"⊾","angrtvbd;":"⦝","angsph;":"∢","angst;":"Å","angzarr;":"⍼","Aogon;":"Ą","aogon;":"ą","Aopf;":"𝔸","aopf;":"𝕒","ap;":"≈","apacir;":"⩯","apE;":"⩰","ape;":"≊","apid;":"≋","apos;":"'","ApplyFunction;":"⁡","approx;":"≈","approxeq;":"≊",Aring:"Å",aring:"å","Aring;":"Å","aring;":"å","Ascr;":"𝒜","ascr;":"𝒶","Assign;":"≔","ast;":"*","asymp;":"≈","asympeq;":"≍",Atilde:"Ã",atilde:"ã","Atilde;":"Ã","atilde;":"ã",Auml:"Ä",auml:"ä","Auml;":"Ä","auml;":"ä","awconint;":"∳","awint;":"⨑","backcong;":"≌","backepsilon;":"϶","backprime;":"‵","backsim;":"∽","backsimeq;":"⋍","Backslash;":"∖","Barv;":"⫧","barvee;":"⊽","Barwed;":"⌆","barwed;":"⌅","barwedge;":"⌅","bbrk;":"⎵","bbrktbrk;":"⎶","bcong;":"≌","Bcy;":"Б","bcy;":"б","bdquo;":"„","becaus;":"∵","Because;":"∵","because;":"∵","bemptyv;":"⦰","bepsi;":"϶","bernou;":"ℬ","Bernoullis;":"ℬ","Beta;":"Β","beta;":"β","beth;":"ℶ","between;":"≬","Bfr;":"𝔅","bfr;":"𝔟","bigcap;":"⋂","bigcirc;":"◯","bigcup;":"⋃","bigodot;":"⨀","bigoplus;":"⨁","bigotimes;":"⨂","bigsqcup;":"⨆","bigstar;":"★","bigtriangledown;":"▽","bigtriangleup;":"△","biguplus;":"⨄","bigvee;":"⋁","bigwedge;":"⋀","bkarow;":"⤍","blacklozenge;":"⧫","blacksquare;":"▪","blacktriangle;":"▴","blacktriangledown;":"▾","blacktriangleleft;":"◂","blacktriangleright;":"▸","blank;":"␣","blk12;":"▒","blk14;":"░","blk34;":"▓","block;":"█","bne;":"=⃥","bnequiv;":"≡⃥","bNot;":"⫭","bnot;":"⌐","Bopf;":"𝔹","bopf;":"𝕓","bot;":"⊥","bottom;":"⊥","bowtie;":"⋈","boxbox;":"⧉","boxDL;":"╗","boxDl;":"╖","boxdL;":"╕","boxdl;":"┐","boxDR;":"╔","boxDr;":"╓","boxdR;":"╒","boxdr;":"┌","boxH;":"═","boxh;":"─","boxHD;":"╦","boxHd;":"╤","boxhD;":"╥","boxhd;":"┬","boxHU;":"╩","boxHu;":"╧","boxhU;":"╨","boxhu;":"┴","boxminus;":"⊟","boxplus;":"⊞","boxtimes;":"⊠","boxUL;":"╝","boxUl;":"╜","boxuL;":"╛","boxul;":"┘","boxUR;":"╚","boxUr;":"╙","boxuR;":"╘","boxur;":"└","boxV;":"║","boxv;":"│","boxVH;":"╬","boxVh;":"╫","boxvH;":"╪","boxvh;":"┼","boxVL;":"╣","boxVl;":"╢","boxvL;":"╡","boxvl;":"┤","boxVR;":"╠","boxVr;":"╟","boxvR;":"╞","boxvr;":"├","bprime;":"‵","Breve;":"˘","breve;":"˘",brvbar:"¦","brvbar;":"¦","Bscr;":"ℬ","bscr;":"𝒷","bsemi;":"⁏","bsim;":"∽","bsime;":"⋍","bsol;":"\\","bsolb;":"⧅","bsolhsub;":"⟈","bull;":"•","bullet;":"•","bump;":"≎","bumpE;":"⪮","bumpe;":"≏","Bumpeq;":"≎","bumpeq;":"≏","Cacute;":"Ć","cacute;":"ć","Cap;":"⋒","cap;":"∩","capand;":"⩄","capbrcup;":"⩉","capcap;":"⩋","capcup;":"⩇","capdot;":"⩀","CapitalDifferentialD;":"ⅅ","caps;":"∩︀","caret;":"⁁","caron;":"ˇ","Cayleys;":"ℭ","ccaps;":"⩍","Ccaron;":"Č","ccaron;":"č",Ccedil:"Ç",ccedil:"ç","Ccedil;":"Ç","ccedil;":"ç","Ccirc;":"Ĉ","ccirc;":"ĉ","Cconint;":"∰","ccups;":"⩌","ccupssm;":"⩐","Cdot;":"Ċ","cdot;":"ċ",cedil:"¸","cedil;":"¸","Cedilla;":"¸","cemptyv;":"⦲",cent:"¢","cent;":"¢","CenterDot;":"·","centerdot;":"·","Cfr;":"ℭ","cfr;":"𝔠","CHcy;":"Ч","chcy;":"ч","check;":"✓","checkmark;":"✓","Chi;":"Χ","chi;":"χ","cir;":"○","circ;":"ˆ","circeq;":"≗","circlearrowleft;":"↺","circlearrowright;":"↻","circledast;":"⊛","circledcirc;":"⊚","circleddash;":"⊝","CircleDot;":"⊙","circledR;":"®","circledS;":"Ⓢ","CircleMinus;":"⊖","CirclePlus;":"⊕","CircleTimes;":"⊗","cirE;":"⧃","cire;":"≗","cirfnint;":"⨐","cirmid;":"⫯","cirscir;":"⧂","ClockwiseContourIntegral;":"∲","CloseCurlyDoubleQuote;":"”","CloseCurlyQuote;":"’","clubs;":"♣","clubsuit;":"♣","Colon;":"∷","colon;":":","Colone;":"⩴","colone;":"≔","coloneq;":"≔","comma;":",","commat;":"@","comp;":"∁","compfn;":"∘","complement;":"∁","complexes;":"ℂ","cong;":"≅","congdot;":"⩭","Congruent;":"≡","Conint;":"∯","conint;":"∮","ContourIntegral;":"∮","Copf;":"ℂ","copf;":"𝕔","coprod;":"∐","Coproduct;":"∐",COPY:"©",copy:"©","COPY;":"©","copy;":"©","copysr;":"℗","CounterClockwiseContourIntegral;":"∳","crarr;":"↵","Cross;":"⨯","cross;":"✗","Cscr;":"𝒞","cscr;":"𝒸","csub;":"⫏","csube;":"⫑","csup;":"⫐","csupe;":"⫒","ctdot;":"⋯","cudarrl;":"⤸","cudarrr;":"⤵","cuepr;":"⋞","cuesc;":"⋟","cularr;":"↶","cularrp;":"⤽","Cup;":"⋓","cup;":"∪","cupbrcap;":"⩈","CupCap;":"≍","cupcap;":"⩆","cupcup;":"⩊","cupdot;":"⊍","cupor;":"⩅","cups;":"∪︀","curarr;":"↷","curarrm;":"⤼","curlyeqprec;":"⋞","curlyeqsucc;":"⋟","curlyvee;":"⋎","curlywedge;":"⋏",curren:"¤","curren;":"¤","curvearrowleft;":"↶","curvearrowright;":"↷","cuvee;":"⋎","cuwed;":"⋏","cwconint;":"∲","cwint;":"∱","cylcty;":"⌭","Dagger;":"‡","dagger;":"†","daleth;":"ℸ","Darr;":"↡","dArr;":"⇓","darr;":"↓","dash;":"‐","Dashv;":"⫤","dashv;":"⊣","dbkarow;":"⤏","dblac;":"˝","Dcaron;":"Ď","dcaron;":"ď","Dcy;":"Д","dcy;":"д","DD;":"ⅅ","dd;":"ⅆ","ddagger;":"‡","ddarr;":"⇊","DDotrahd;":"⤑","ddotseq;":"⩷",deg:"°","deg;":"°","Del;":"∇","Delta;":"Δ","delta;":"δ","demptyv;":"⦱","dfisht;":"⥿","Dfr;":"𝔇","dfr;":"𝔡","dHar;":"⥥","dharl;":"⇃","dharr;":"⇂","DiacriticalAcute;":"´","DiacriticalDot;":"˙","DiacriticalDoubleAcute;":"˝","DiacriticalGrave;":"`","DiacriticalTilde;":"˜","diam;":"⋄","Diamond;":"⋄","diamond;":"⋄","diamondsuit;":"♦","diams;":"♦","die;":"¨","DifferentialD;":"ⅆ","digamma;":"ϝ","disin;":"⋲","div;":"÷",divide:"÷","divide;":"÷","divideontimes;":"⋇","divonx;":"⋇","DJcy;":"Ђ","djcy;":"ђ","dlcorn;":"⌞","dlcrop;":"⌍","dollar;":"$","Dopf;":"𝔻","dopf;":"𝕕","Dot;":"¨","dot;":"˙","DotDot;":"⃜","doteq;":"≐","doteqdot;":"≑","DotEqual;":"≐","dotminus;":"∸","dotplus;":"∔","dotsquare;":"⊡","doublebarwedge;":"⌆","DoubleContourIntegral;":"∯","DoubleDot;":"¨","DoubleDownArrow;":"⇓","DoubleLeftArrow;":"⇐","DoubleLeftRightArrow;":"⇔","DoubleLeftTee;":"⫤","DoubleLongLeftArrow;":"⟸","DoubleLongLeftRightArrow;":"⟺","DoubleLongRightArrow;":"⟹","DoubleRightArrow;":"⇒","DoubleRightTee;":"⊨","DoubleUpArrow;":"⇑","DoubleUpDownArrow;":"⇕","DoubleVerticalBar;":"∥","DownArrow;":"↓","Downarrow;":"⇓","downarrow;":"↓","DownArrowBar;":"⤓","DownArrowUpArrow;":"⇵","DownBreve;":"̑","downdownarrows;":"⇊","downharpoonleft;":"⇃","downharpoonright;":"⇂","DownLeftRightVector;":"⥐","DownLeftTeeVector;":"⥞","DownLeftVector;":"↽","DownLeftVectorBar;":"⥖","DownRightTeeVector;":"⥟","DownRightVector;":"⇁","DownRightVectorBar;":"⥗","DownTee;":"⊤","DownTeeArrow;":"↧","drbkarow;":"⤐","drcorn;":"⌟","drcrop;":"⌌","Dscr;":"𝒟","dscr;":"𝒹","DScy;":"Ѕ","dscy;":"ѕ","dsol;":"⧶","Dstrok;":"Đ","dstrok;":"đ","dtdot;":"⋱","dtri;":"▿","dtrif;":"▾","duarr;":"⇵","duhar;":"⥯","dwangle;":"⦦","DZcy;":"Џ","dzcy;":"џ","dzigrarr;":"⟿",Eacute:"É",eacute:"é","Eacute;":"É","eacute;":"é","easter;":"⩮","Ecaron;":"Ě","ecaron;":"ě","ecir;":"≖",Ecirc:"Ê",ecirc:"ê","Ecirc;":"Ê","ecirc;":"ê","ecolon;":"≕","Ecy;":"Э","ecy;":"э","eDDot;":"⩷","Edot;":"Ė","eDot;":"≑","edot;":"ė","ee;":"ⅇ","efDot;":"≒","Efr;":"𝔈","efr;":"𝔢","eg;":"⪚",Egrave:"È",egrave:"è","Egrave;":"È","egrave;":"è","egs;":"⪖","egsdot;":"⪘","el;":"⪙","Element;":"∈","elinters;":"⏧","ell;":"ℓ","els;":"⪕","elsdot;":"⪗","Emacr;":"Ē","emacr;":"ē","empty;":"∅","emptyset;":"∅","EmptySmallSquare;":"◻","emptyv;":"∅","EmptyVerySmallSquare;":"▫","emsp13;":" ","emsp14;":" ","emsp;":" ","ENG;":"Ŋ","eng;":"ŋ","ensp;":" ","Eogon;":"Ę","eogon;":"ę","Eopf;":"𝔼","eopf;":"𝕖","epar;":"⋕","eparsl;":"⧣","eplus;":"⩱","epsi;":"ε","Epsilon;":"Ε","epsilon;":"ε","epsiv;":"ϵ","eqcirc;":"≖","eqcolon;":"≕","eqsim;":"≂","eqslantgtr;":"⪖","eqslantless;":"⪕","Equal;":"⩵","equals;":"=","EqualTilde;":"≂","equest;":"≟","Equilibrium;":"⇌","equiv;":"≡","equivDD;":"⩸","eqvparsl;":"⧥","erarr;":"⥱","erDot;":"≓","Escr;":"ℰ","escr;":"ℯ","esdot;":"≐","Esim;":"⩳","esim;":"≂","Eta;":"Η","eta;":"η",ETH:"Ð",eth:"ð","ETH;":"Ð","eth;":"ð",Euml:"Ë",euml:"ë","Euml;":"Ë","euml;":"ë","euro;":"€","excl;":"!","exist;":"∃","Exists;":"∃","expectation;":"ℰ","ExponentialE;":"ⅇ","exponentiale;":"ⅇ","fallingdotseq;":"≒","Fcy;":"Ф","fcy;":"ф","female;":"♀","ffilig;":"ﬃ","fflig;":"ﬀ","ffllig;":"ﬄ","Ffr;":"𝔉","ffr;":"𝔣","filig;":"ﬁ","FilledSmallSquare;":"◼","FilledVerySmallSquare;":"▪","fjlig;":"fj","flat;":"♭","fllig;":"ﬂ","fltns;":"▱","fnof;":"ƒ","Fopf;":"𝔽","fopf;":"𝕗","ForAll;":"∀","forall;":"∀","fork;":"⋔","forkv;":"⫙","Fouriertrf;":"ℱ","fpartint;":"⨍",frac12:"½","frac12;":"½","frac13;":"⅓",frac14:"¼","frac14;":"¼","frac15;":"⅕","frac16;":"⅙","frac18;":"⅛","frac23;":"⅔","frac25;":"⅖",frac34:"¾","frac34;":"¾","frac35;":"⅗","frac38;":"⅜","frac45;":"⅘","frac56;":"⅚","frac58;":"⅝","frac78;":"⅞","frasl;":"⁄","frown;":"⌢","Fscr;":"ℱ","fscr;":"𝒻","gacute;":"ǵ","Gamma;":"Γ","gamma;":"γ","Gammad;":"Ϝ","gammad;":"ϝ","gap;":"⪆","Gbreve;":"Ğ","gbreve;":"ğ","Gcedil;":"Ģ","Gcirc;":"Ĝ","gcirc;":"ĝ","Gcy;":"Г","gcy;":"г","Gdot;":"Ġ","gdot;":"ġ","gE;":"≧","ge;":"≥","gEl;":"⪌","gel;":"⋛","geq;":"≥","geqq;":"≧","geqslant;":"⩾","ges;":"⩾","gescc;":"⪩","gesdot;":"⪀","gesdoto;":"⪂","gesdotol;":"⪄","gesl;":"⋛︀","gesles;":"⪔","Gfr;":"𝔊","gfr;":"𝔤","Gg;":"⋙","gg;":"≫","ggg;":"⋙","gimel;":"ℷ","GJcy;":"Ѓ","gjcy;":"ѓ","gl;":"≷","gla;":"⪥","glE;":"⪒","glj;":"⪤","gnap;":"⪊","gnapprox;":"⪊","gnE;":"≩","gne;":"⪈","gneq;":"⪈","gneqq;":"≩","gnsim;":"⋧","Gopf;":"𝔾","gopf;":"𝕘","grave;":"`","GreaterEqual;":"≥","GreaterEqualLess;":"⋛","GreaterFullEqual;":"≧","GreaterGreater;":"⪢","GreaterLess;":"≷","GreaterSlantEqual;":"⩾","GreaterTilde;":"≳","Gscr;":"𝒢","gscr;":"ℊ","gsim;":"≳","gsime;":"⪎","gsiml;":"⪐",GT:">",gt:">","GT;":">","Gt;":"≫","gt;":">","gtcc;":"⪧","gtcir;":"⩺","gtdot;":"⋗","gtlPar;":"⦕","gtquest;":"⩼","gtrapprox;":"⪆","gtrarr;":"⥸","gtrdot;":"⋗","gtreqless;":"⋛","gtreqqless;":"⪌","gtrless;":"≷","gtrsim;":"≳","gvertneqq;":"≩︀","gvnE;":"≩︀","Hacek;":"ˇ","hairsp;":" ","half;":"½","hamilt;":"ℋ","HARDcy;":"Ъ","hardcy;":"ъ","hArr;":"⇔","harr;":"↔","harrcir;":"⥈","harrw;":"↭","Hat;":"^","hbar;":"ℏ","Hcirc;":"Ĥ","hcirc;":"ĥ","hearts;":"♥","heartsuit;":"♥","hellip;":"…","hercon;":"⊹","Hfr;":"ℌ","hfr;":"𝔥","HilbertSpace;":"ℋ","hksearow;":"⤥","hkswarow;":"⤦","hoarr;":"⇿","homtht;":"∻","hookleftarrow;":"↩","hookrightarrow;":"↪","Hopf;":"ℍ","hopf;":"𝕙","horbar;":"―","HorizontalLine;":"─","Hscr;":"ℋ","hscr;":"𝒽","hslash;":"ℏ","Hstrok;":"Ħ","hstrok;":"ħ","HumpDownHump;":"≎","HumpEqual;":"≏","hybull;":"⁃","hyphen;":"‐",Iacute:"Í",iacute:"í","Iacute;":"Í","iacute;":"í","ic;":"⁣",Icirc:"Î",icirc:"î","Icirc;":"Î","icirc;":"î","Icy;":"И","icy;":"и","Idot;":"İ","IEcy;":"Е","iecy;":"е",iexcl:"¡","iexcl;":"¡","iff;":"⇔","Ifr;":"ℑ","ifr;":"𝔦",Igrave:"Ì",igrave:"ì","Igrave;":"Ì","igrave;":"ì","ii;":"ⅈ","iiiint;":"⨌","iiint;":"∭","iinfin;":"⧜","iiota;":"℩","IJlig;":"Ĳ","ijlig;":"ĳ","Im;":"ℑ","Imacr;":"Ī","imacr;":"ī","image;":"ℑ","ImaginaryI;":"ⅈ","imagline;":"ℐ","imagpart;":"ℑ","imath;":"ı","imof;":"⊷","imped;":"Ƶ","Implies;":"⇒","in;":"∈","incare;":"℅","infin;":"∞","infintie;":"⧝","inodot;":"ı","Int;":"∬","int;":"∫","intcal;":"⊺","integers;":"ℤ","Integral;":"∫","intercal;":"⊺","Intersection;":"⋂","intlarhk;":"⨗","intprod;":"⨼","InvisibleComma;":"⁣","InvisibleTimes;":"⁢","IOcy;":"Ё","iocy;":"ё","Iogon;":"Į","iogon;":"į","Iopf;":"𝕀","iopf;":"𝕚","Iota;":"Ι","iota;":"ι","iprod;":"⨼",iquest:"¿","iquest;":"¿","Iscr;":"ℐ","iscr;":"𝒾","isin;":"∈","isindot;":"⋵","isinE;":"⋹","isins;":"⋴","isinsv;":"⋳","isinv;":"∈","it;":"⁢","Itilde;":"Ĩ","itilde;":"ĩ","Iukcy;":"І","iukcy;":"і",Iuml:"Ï",iuml:"ï","Iuml;":"Ï","iuml;":"ï","Jcirc;":"Ĵ","jcirc;":"ĵ","Jcy;":"Й","jcy;":"й","Jfr;":"𝔍","jfr;":"𝔧","jmath;":"ȷ","Jopf;":"𝕁","jopf;":"𝕛","Jscr;":"𝒥","jscr;":"𝒿","Jsercy;":"Ј","jsercy;":"ј","Jukcy;":"Є","jukcy;":"є","Kappa;":"Κ","kappa;":"κ","kappav;":"ϰ","Kcedil;":"Ķ","kcedil;":"ķ","Kcy;":"К","kcy;":"к","Kfr;":"𝔎","kfr;":"𝔨","kgreen;":"ĸ","KHcy;":"Х","khcy;":"х","KJcy;":"Ќ","kjcy;":"ќ","Kopf;":"𝕂","kopf;":"𝕜","Kscr;":"𝒦","kscr;":"𝓀","lAarr;":"⇚","Lacute;":"Ĺ","lacute;":"ĺ","laemptyv;":"⦴","lagran;":"ℒ","Lambda;":"Λ","lambda;":"λ","Lang;":"⟪","lang;":"⟨","langd;":"⦑","langle;":"⟨","lap;":"⪅","Laplacetrf;":"ℒ",laquo:"«","laquo;":"«","Larr;":"↞","lArr;":"⇐","larr;":"←","larrb;":"⇤","larrbfs;":"⤟","larrfs;":"⤝","larrhk;":"↩","larrlp;":"↫","larrpl;":"⤹","larrsim;":"⥳","larrtl;":"↢","lat;":"⪫","lAtail;":"⤛","latail;":"⤙","late;":"⪭","lates;":"⪭︀","lBarr;":"⤎","lbarr;":"⤌","lbbrk;":"❲","lbrace;":"{","lbrack;":"[","lbrke;":"⦋","lbrksld;":"⦏","lbrkslu;":"⦍","Lcaron;":"Ľ","lcaron;":"ľ","Lcedil;":"Ļ","lcedil;":"ļ","lceil;":"⌈","lcub;":"{","Lcy;":"Л","lcy;":"л","ldca;":"⤶","ldquo;":"“","ldquor;":"„","ldrdhar;":"⥧","ldrushar;":"⥋","ldsh;":"↲","lE;":"≦","le;":"≤","LeftAngleBracket;":"⟨","LeftArrow;":"←","Leftarrow;":"⇐","leftarrow;":"←","LeftArrowBar;":"⇤","LeftArrowRightArrow;":"⇆","leftarrowtail;":"↢","LeftCeiling;":"⌈","LeftDoubleBracket;":"⟦","LeftDownTeeVector;":"⥡","LeftDownVector;":"⇃","LeftDownVectorBar;":"⥙","LeftFloor;":"⌊","leftharpoondown;":"↽","leftharpoonup;":"↼","leftleftarrows;":"⇇","LeftRightArrow;":"↔","Leftrightarrow;":"⇔","leftrightarrow;":"↔","leftrightarrows;":"⇆","leftrightharpoons;":"⇋","leftrightsquigarrow;":"↭","LeftRightVector;":"⥎","LeftTee;":"⊣","LeftTeeArrow;":"↤","LeftTeeVector;":"⥚","leftthreetimes;":"⋋","LeftTriangle;":"⊲","LeftTriangleBar;":"⧏","LeftTriangleEqual;":"⊴","LeftUpDownVector;":"⥑","LeftUpTeeVector;":"⥠","LeftUpVector;":"↿","LeftUpVectorBar;":"⥘","LeftVector;":"↼","LeftVectorBar;":"⥒","lEg;":"⪋","leg;":"⋚","leq;":"≤","leqq;":"≦","leqslant;":"⩽","les;":"⩽","lescc;":"⪨","lesdot;":"⩿","lesdoto;":"⪁","lesdotor;":"⪃","lesg;":"⋚︀","lesges;":"⪓","lessapprox;":"⪅","lessdot;":"⋖","lesseqgtr;":"⋚","lesseqqgtr;":"⪋","LessEqualGreater;":"⋚","LessFullEqual;":"≦","LessGreater;":"≶","lessgtr;":"≶","LessLess;":"⪡","lesssim;":"≲","LessSlantEqual;":"⩽","LessTilde;":"≲","lfisht;":"⥼","lfloor;":"⌊","Lfr;":"𝔏","lfr;":"𝔩","lg;":"≶","lgE;":"⪑","lHar;":"⥢","lhard;":"↽","lharu;":"↼","lharul;":"⥪","lhblk;":"▄","LJcy;":"Љ","ljcy;":"љ","Ll;":"⋘","ll;":"≪","llarr;":"⇇","llcorner;":"⌞","Lleftarrow;":"⇚","llhard;":"⥫","lltri;":"◺","Lmidot;":"Ŀ","lmidot;":"ŀ","lmoust;":"⎰","lmoustache;":"⎰","lnap;":"⪉","lnapprox;":"⪉","lnE;":"≨","lne;":"⪇","lneq;":"⪇","lneqq;":"≨","lnsim;":"⋦","loang;":"⟬","loarr;":"⇽","lobrk;":"⟦","LongLeftArrow;":"⟵","Longleftarrow;":"⟸","longleftarrow;":"⟵","LongLeftRightArrow;":"⟷","Longleftrightarrow;":"⟺","longleftrightarrow;":"⟷","longmapsto;":"⟼","LongRightArrow;":"⟶","Longrightarrow;":"⟹","longrightarrow;":"⟶","looparrowleft;":"↫","looparrowright;":"↬","lopar;":"⦅","Lopf;":"𝕃","lopf;":"𝕝","loplus;":"⨭","lotimes;":"⨴","lowast;":"∗","lowbar;":"_","LowerLeftArrow;":"↙","LowerRightArrow;":"↘","loz;":"◊","lozenge;":"◊","lozf;":"⧫","lpar;":"(","lparlt;":"⦓","lrarr;":"⇆","lrcorner;":"⌟","lrhar;":"⇋","lrhard;":"⥭","lrm;":"‎","lrtri;":"⊿","lsaquo;":"‹","Lscr;":"ℒ","lscr;":"𝓁","Lsh;":"↰","lsh;":"↰","lsim;":"≲","lsime;":"⪍","lsimg;":"⪏","lsqb;":"[","lsquo;":"‘","lsquor;":"‚","Lstrok;":"Ł","lstrok;":"ł",LT:"<",lt:"<","LT;":"<","Lt;":"≪","lt;":"<","ltcc;":"⪦","ltcir;":"⩹","ltdot;":"⋖","lthree;":"⋋","ltimes;":"⋉","ltlarr;":"⥶","ltquest;":"⩻","ltri;":"◃","ltrie;":"⊴","ltrif;":"◂","ltrPar;":"⦖","lurdshar;":"⥊","luruhar;":"⥦","lvertneqq;":"≨︀","lvnE;":"≨︀",macr:"¯","macr;":"¯","male;":"♂","malt;":"✠","maltese;":"✠","Map;":"⤅","map;":"↦","mapsto;":"↦","mapstodown;":"↧","mapstoleft;":"↤","mapstoup;":"↥","marker;":"▮","mcomma;":"⨩","Mcy;":"М","mcy;":"м","mdash;":"—","mDDot;":"∺","measuredangle;":"∡","MediumSpace;":" ","Mellintrf;":"ℳ","Mfr;":"𝔐","mfr;":"𝔪","mho;":"℧",micro:"µ","micro;":"µ","mid;":"∣","midast;":"*","midcir;":"⫰",middot:"·","middot;":"·","minus;":"−","minusb;":"⊟","minusd;":"∸","minusdu;":"⨪","MinusPlus;":"∓","mlcp;":"⫛","mldr;":"…","mnplus;":"∓","models;":"⊧","Mopf;":"𝕄","mopf;":"𝕞","mp;":"∓","Mscr;":"ℳ","mscr;":"𝓂","mstpos;":"∾","Mu;":"Μ","mu;":"μ","multimap;":"⊸","mumap;":"⊸","nabla;":"∇","Nacute;":"Ń","nacute;":"ń","nang;":"∠⃒","nap;":"≉","napE;":"⩰̸","napid;":"≋̸","napos;":"ŉ","napprox;":"≉","natur;":"♮","natural;":"♮","naturals;":"ℕ",nbsp:" ","nbsp;":" ","nbump;":"≎̸","nbumpe;":"≏̸","ncap;":"⩃","Ncaron;":"Ň","ncaron;":"ň","Ncedil;":"Ņ","ncedil;":"ņ","ncong;":"≇","ncongdot;":"⩭̸","ncup;":"⩂","Ncy;":"Н","ncy;":"н","ndash;":"–","ne;":"≠","nearhk;":"⤤","neArr;":"⇗","nearr;":"↗","nearrow;":"↗","nedot;":"≐̸","NegativeMediumSpace;":"​","NegativeThickSpace;":"​","NegativeThinSpace;":"​","NegativeVeryThinSpace;":"​","nequiv;":"≢","nesear;":"⤨","nesim;":"≂̸","NestedGreaterGreater;":"≫","NestedLessLess;":"≪","NewLine;":"\n","nexist;":"∄","nexists;":"∄","Nfr;":"𝔑","nfr;":"𝔫","ngE;":"≧̸","nge;":"≱","ngeq;":"≱","ngeqq;":"≧̸","ngeqslant;":"⩾̸","nges;":"⩾̸","nGg;":"⋙̸","ngsim;":"≵","nGt;":"≫⃒","ngt;":"≯","ngtr;":"≯","nGtv;":"≫̸","nhArr;":"⇎","nharr;":"↮","nhpar;":"⫲","ni;":"∋","nis;":"⋼","nisd;":"⋺","niv;":"∋","NJcy;":"Њ","njcy;":"њ","nlArr;":"⇍","nlarr;":"↚","nldr;":"‥","nlE;":"≦̸","nle;":"≰","nLeftarrow;":"⇍","nleftarrow;":"↚","nLeftrightarrow;":"⇎","nleftrightarrow;":"↮","nleq;":"≰","nleqq;":"≦̸","nleqslant;":"⩽̸","nles;":"⩽̸","nless;":"≮","nLl;":"⋘̸","nlsim;":"≴","nLt;":"≪⃒","nlt;":"≮","nltri;":"⋪","nltrie;":"⋬","nLtv;":"≪̸","nmid;":"∤","NoBreak;":"⁠","NonBreakingSpace;":" ","Nopf;":"ℕ","nopf;":"𝕟",not:"¬","Not;":"⫬","not;":"¬","NotCongruent;":"≢","NotCupCap;":"≭","NotDoubleVerticalBar;":"∦","NotElement;":"∉","NotEqual;":"≠","NotEqualTilde;":"≂̸","NotExists;":"∄","NotGreater;":"≯","NotGreaterEqual;":"≱","NotGreaterFullEqual;":"≧̸","NotGreaterGreater;":"≫̸","NotGreaterLess;":"≹","NotGreaterSlantEqual;":"⩾̸","NotGreaterTilde;":"≵","NotHumpDownHump;":"≎̸","NotHumpEqual;":"≏̸","notin;":"∉","notindot;":"⋵̸","notinE;":"⋹̸","notinva;":"∉","notinvb;":"⋷","notinvc;":"⋶","NotLeftTriangle;":"⋪","NotLeftTriangleBar;":"⧏̸","NotLeftTriangleEqual;":"⋬","NotLess;":"≮","NotLessEqual;":"≰","NotLessGreater;":"≸","NotLessLess;":"≪̸","NotLessSlantEqual;":"⩽̸","NotLessTilde;":"≴","NotNestedGreaterGreater;":"⪢̸","NotNestedLessLess;":"⪡̸","notni;":"∌","notniva;":"∌","notnivb;":"⋾","notnivc;":"⋽","NotPrecedes;":"⊀","NotPrecedesEqual;":"⪯̸","NotPrecedesSlantEqual;":"⋠","NotReverseElement;":"∌","NotRightTriangle;":"⋫","NotRightTriangleBar;":"⧐̸","NotRightTriangleEqual;":"⋭","NotSquareSubset;":"⊏̸","NotSquareSubsetEqual;":"⋢","NotSquareSuperset;":"⊐̸","NotSquareSupersetEqual;":"⋣","NotSubset;":"⊂⃒","NotSubsetEqual;":"⊈","NotSucceeds;":"⊁","NotSucceedsEqual;":"⪰̸","NotSucceedsSlantEqual;":"⋡","NotSucceedsTilde;":"≿̸","NotSuperset;":"⊃⃒","NotSupersetEqual;":"⊉","NotTilde;":"≁","NotTildeEqual;":"≄","NotTildeFullEqual;":"≇","NotTildeTilde;":"≉","NotVerticalBar;":"∤","npar;":"∦","nparallel;":"∦","nparsl;":"⫽⃥","npart;":"∂̸","npolint;":"⨔","npr;":"⊀","nprcue;":"⋠","npre;":"⪯̸","nprec;":"⊀","npreceq;":"⪯̸","nrArr;":"⇏","nrarr;":"↛","nrarrc;":"⤳̸","nrarrw;":"↝̸","nRightarrow;":"⇏","nrightarrow;":"↛","nrtri;":"⋫","nrtrie;":"⋭","nsc;":"⊁","nsccue;":"⋡","nsce;":"⪰̸","Nscr;":"𝒩","nscr;":"𝓃","nshortmid;":"∤","nshortparallel;":"∦","nsim;":"≁","nsime;":"≄","nsimeq;":"≄","nsmid;":"∤","nspar;":"∦","nsqsube;":"⋢","nsqsupe;":"⋣","nsub;":"⊄","nsubE;":"⫅̸","nsube;":"⊈","nsubset;":"⊂⃒","nsubseteq;":"⊈","nsubseteqq;":"⫅̸","nsucc;":"⊁","nsucceq;":"⪰̸","nsup;":"⊅","nsupE;":"⫆̸","nsupe;":"⊉","nsupset;":"⊃⃒","nsupseteq;":"⊉","nsupseteqq;":"⫆̸","ntgl;":"≹",Ntilde:"Ñ",ntilde:"ñ","Ntilde;":"Ñ","ntilde;":"ñ","ntlg;":"≸","ntriangleleft;":"⋪","ntrianglelefteq;":"⋬","ntriangleright;":"⋫","ntrianglerighteq;":"⋭","Nu;":"Ν","nu;":"ν","num;":"#","numero;":"№","numsp;":" ","nvap;":"≍⃒","nVDash;":"⊯","nVdash;":"⊮","nvDash;":"⊭","nvdash;":"⊬","nvge;":"≥⃒","nvgt;":">⃒","nvHarr;":"⤄","nvinfin;":"⧞","nvlArr;":"⤂","nvle;":"≤⃒","nvlt;":"<⃒","nvltrie;":"⊴⃒","nvrArr;":"⤃","nvrtrie;":"⊵⃒","nvsim;":"∼⃒","nwarhk;":"⤣","nwArr;":"⇖","nwarr;":"↖","nwarrow;":"↖","nwnear;":"⤧",Oacute:"Ó",oacute:"ó","Oacute;":"Ó","oacute;":"ó","oast;":"⊛","ocir;":"⊚",Ocirc:"Ô",ocirc:"ô","Ocirc;":"Ô","ocirc;":"ô","Ocy;":"О","ocy;":"о","odash;":"⊝","Odblac;":"Ő","odblac;":"ő","odiv;":"⨸","odot;":"⊙","odsold;":"⦼","OElig;":"Œ","oelig;":"œ","ofcir;":"⦿","Ofr;":"𝔒","ofr;":"𝔬","ogon;":"˛",Ograve:"Ò",ograve:"ò","Ograve;":"Ò","ograve;":"ò","ogt;":"⧁","ohbar;":"⦵","ohm;":"Ω","oint;":"∮","olarr;":"↺","olcir;":"⦾","olcross;":"⦻","oline;":"‾","olt;":"⧀","Omacr;":"Ō","omacr;":"ō","Omega;":"Ω","omega;":"ω","Omicron;":"Ο","omicron;":"ο","omid;":"⦶","ominus;":"⊖","Oopf;":"𝕆","oopf;":"𝕠","opar;":"⦷","OpenCurlyDoubleQuote;":"“","OpenCurlyQuote;":"‘","operp;":"⦹","oplus;":"⊕","Or;":"⩔","or;":"∨","orarr;":"↻","ord;":"⩝","order;":"ℴ","orderof;":"ℴ",ordf:"ª","ordf;":"ª",ordm:"º","ordm;":"º","origof;":"⊶","oror;":"⩖","orslope;":"⩗","orv;":"⩛","oS;":"Ⓢ","Oscr;":"𝒪","oscr;":"ℴ",Oslash:"Ø",oslash:"ø","Oslash;":"Ø","oslash;":"ø","osol;":"⊘",Otilde:"Õ",otilde:"õ","Otilde;":"Õ","otilde;":"õ","Otimes;":"⨷","otimes;":"⊗","otimesas;":"⨶",Ouml:"Ö",ouml:"ö","Ouml;":"Ö","ouml;":"ö","ovbar;":"⌽","OverBar;":"‾","OverBrace;":"⏞","OverBracket;":"⎴","OverParenthesis;":"⏜","par;":"∥",para:"¶","para;":"¶","parallel;":"∥","parsim;":"⫳","parsl;":"⫽","part;":"∂","PartialD;":"∂","Pcy;":"П","pcy;":"п","percnt;":"%","period;":".","permil;":"‰","perp;":"⊥","pertenk;":"‱","Pfr;":"𝔓","pfr;":"𝔭","Phi;":"Φ","phi;":"φ","phiv;":"ϕ","phmmat;":"ℳ","phone;":"☎","Pi;":"Π","pi;":"π","pitchfork;":"⋔","piv;":"ϖ","planck;":"ℏ","planckh;":"ℎ","plankv;":"ℏ","plus;":"+","plusacir;":"⨣","plusb;":"⊞","pluscir;":"⨢","plusdo;":"∔","plusdu;":"⨥","pluse;":"⩲","PlusMinus;":"±",plusmn:"±","plusmn;":"±","plussim;":"⨦","plustwo;":"⨧","pm;":"±","Poincareplane;":"ℌ","pointint;":"⨕","Popf;":"ℙ","popf;":"𝕡",pound:"£","pound;":"£","Pr;":"⪻","pr;":"≺","prap;":"⪷","prcue;":"≼","prE;":"⪳","pre;":"⪯","prec;":"≺","precapprox;":"⪷","preccurlyeq;":"≼","Precedes;":"≺","PrecedesEqual;":"⪯","PrecedesSlantEqual;":"≼","PrecedesTilde;":"≾","preceq;":"⪯","precnapprox;":"⪹","precneqq;":"⪵","precnsim;":"⋨","precsim;":"≾","Prime;":"″","prime;":"′","primes;":"ℙ","prnap;":"⪹","prnE;":"⪵","prnsim;":"⋨","prod;":"∏","Product;":"∏","profalar;":"⌮","profline;":"⌒","profsurf;":"⌓","prop;":"∝","Proportion;":"∷","Proportional;":"∝","propto;":"∝","prsim;":"≾","prurel;":"⊰","Pscr;":"𝒫","pscr;":"𝓅","Psi;":"Ψ","psi;":"ψ","puncsp;":" ","Qfr;":"𝔔","qfr;":"𝔮","qint;":"⨌","Qopf;":"ℚ","qopf;":"𝕢","qprime;":"⁗","Qscr;":"𝒬","qscr;":"𝓆","quaternions;":"ℍ","quatint;":"⨖","quest;":"?","questeq;":"≟",QUOT:'"',quot:'"',"QUOT;":'"',"quot;":'"',"rAarr;":"⇛","race;":"∽̱","Racute;":"Ŕ","racute;":"ŕ","radic;":"√","raemptyv;":"⦳","Rang;":"⟫","rang;":"⟩","rangd;":"⦒","range;":"⦥","rangle;":"⟩",raquo:"»","raquo;":"»","Rarr;":"↠","rArr;":"⇒","rarr;":"→","rarrap;":"⥵","rarrb;":"⇥","rarrbfs;":"⤠","rarrc;":"⤳","rarrfs;":"⤞","rarrhk;":"↪","rarrlp;":"↬","rarrpl;":"⥅","rarrsim;":"⥴","Rarrtl;":"⤖","rarrtl;":"↣","rarrw;":"↝","rAtail;":"⤜","ratail;":"⤚","ratio;":"∶","rationals;":"ℚ","RBarr;":"⤐","rBarr;":"⤏","rbarr;":"⤍","rbbrk;":"❳","rbrace;":"}","rbrack;":"]","rbrke;":"⦌","rbrksld;":"⦎","rbrkslu;":"⦐","Rcaron;":"Ř","rcaron;":"ř","Rcedil;":"Ŗ","rcedil;":"ŗ","rceil;":"⌉","rcub;":"}","Rcy;":"Р","rcy;":"р","rdca;":"⤷","rdldhar;":"⥩","rdquo;":"”","rdquor;":"”","rdsh;":"↳","Re;":"ℜ","real;":"ℜ","realine;":"ℛ","realpart;":"ℜ","reals;":"ℝ","rect;":"▭",REG:"®",reg:"®","REG;":"®","reg;":"®","ReverseElement;":"∋","ReverseEquilibrium;":"⇋","ReverseUpEquilibrium;":"⥯","rfisht;":"⥽","rfloor;":"⌋","Rfr;":"ℜ","rfr;":"𝔯","rHar;":"⥤","rhard;":"⇁","rharu;":"⇀","rharul;":"⥬","Rho;":"Ρ","rho;":"ρ","rhov;":"ϱ","RightAngleBracket;":"⟩","RightArrow;":"→","Rightarrow;":"⇒","rightarrow;":"→","RightArrowBar;":"⇥","RightArrowLeftArrow;":"⇄","rightarrowtail;":"↣","RightCeiling;":"⌉","RightDoubleBracket;":"⟧","RightDownTeeVector;":"⥝","RightDownVector;":"⇂","RightDownVectorBar;":"⥕","RightFloor;":"⌋","rightharpoondown;":"⇁","rightharpoonup;":"⇀","rightleftarrows;":"⇄","rightleftharpoons;":"⇌","rightrightarrows;":"⇉","rightsquigarrow;":"↝","RightTee;":"⊢","RightTeeArrow;":"↦","RightTeeVector;":"⥛","rightthreetimes;":"⋌","RightTriangle;":"⊳","RightTriangleBar;":"⧐","RightTriangleEqual;":"⊵","RightUpDownVector;":"⥏","RightUpTeeVector;":"⥜","RightUpVector;":"↾","RightUpVectorBar;":"⥔","RightVector;":"⇀","RightVectorBar;":"⥓","ring;":"˚","risingdotseq;":"≓","rlarr;":"⇄","rlhar;":"⇌","rlm;":"‏","rmoust;":"⎱","rmoustache;":"⎱","rnmid;":"⫮","roang;":"⟭","roarr;":"⇾","robrk;":"⟧","ropar;":"⦆","Ropf;":"ℝ","ropf;":"𝕣","roplus;":"⨮","rotimes;":"⨵","RoundImplies;":"⥰","rpar;":")","rpargt;":"⦔","rppolint;":"⨒","rrarr;":"⇉","Rrightarrow;":"⇛","rsaquo;":"›","Rscr;":"ℛ","rscr;":"𝓇","Rsh;":"↱","rsh;":"↱","rsqb;":"]","rsquo;":"’","rsquor;":"’","rthree;":"⋌","rtimes;":"⋊","rtri;":"▹","rtrie;":"⊵","rtrif;":"▸","rtriltri;":"⧎","RuleDelayed;":"⧴","ruluhar;":"⥨","rx;":"℞","Sacute;":"Ś","sacute;":"ś","sbquo;":"‚","Sc;":"⪼","sc;":"≻","scap;":"⪸","Scaron;":"Š","scaron;":"š","sccue;":"≽","scE;":"⪴","sce;":"⪰","Scedil;":"Ş","scedil;":"ş","Scirc;":"Ŝ","scirc;":"ŝ","scnap;":"⪺","scnE;":"⪶","scnsim;":"⋩","scpolint;":"⨓","scsim;":"≿","Scy;":"С","scy;":"с","sdot;":"⋅","sdotb;":"⊡","sdote;":"⩦","searhk;":"⤥","seArr;":"⇘","searr;":"↘","searrow;":"↘",sect:"§","sect;":"§","semi;":";","seswar;":"⤩","setminus;":"∖","setmn;":"∖","sext;":"✶","Sfr;":"𝔖","sfr;":"𝔰","sfrown;":"⌢","sharp;":"♯","SHCHcy;":"Щ","shchcy;":"щ","SHcy;":"Ш","shcy;":"ш","ShortDownArrow;":"↓","ShortLeftArrow;":"←","shortmid;":"∣","shortparallel;":"∥","ShortRightArrow;":"→","ShortUpArrow;":"↑",shy:"­","shy;":"­","Sigma;":"Σ","sigma;":"σ","sigmaf;":"ς","sigmav;":"ς","sim;":"∼","simdot;":"⩪","sime;":"≃","simeq;":"≃","simg;":"⪞","simgE;":"⪠","siml;":"⪝","simlE;":"⪟","simne;":"≆","simplus;":"⨤","simrarr;":"⥲","slarr;":"←","SmallCircle;":"∘","smallsetminus;":"∖","smashp;":"⨳","smeparsl;":"⧤","smid;":"∣","smile;":"⌣","smt;":"⪪","smte;":"⪬","smtes;":"⪬︀","SOFTcy;":"Ь","softcy;":"ь","sol;":"/","solb;":"⧄","solbar;":"⌿","Sopf;":"𝕊","sopf;":"𝕤","spades;":"♠","spadesuit;":"♠","spar;":"∥","sqcap;":"⊓","sqcaps;":"⊓︀","sqcup;":"⊔","sqcups;":"⊔︀","Sqrt;":"√","sqsub;":"⊏","sqsube;":"⊑","sqsubset;":"⊏","sqsubseteq;":"⊑","sqsup;":"⊐","sqsupe;":"⊒","sqsupset;":"⊐","sqsupseteq;":"⊒","squ;":"□","Square;":"□","square;":"□","SquareIntersection;":"⊓","SquareSubset;":"⊏","SquareSubsetEqual;":"⊑","SquareSuperset;":"⊐","SquareSupersetEqual;":"⊒","SquareUnion;":"⊔","squarf;":"▪","squf;":"▪","srarr;":"→","Sscr;":"𝒮","sscr;":"𝓈","ssetmn;":"∖","ssmile;":"⌣","sstarf;":"⋆","Star;":"⋆","star;":"☆","starf;":"★","straightepsilon;":"ϵ","straightphi;":"ϕ","strns;":"¯","Sub;":"⋐","sub;":"⊂","subdot;":"⪽","subE;":"⫅","sube;":"⊆","subedot;":"⫃","submult;":"⫁","subnE;":"⫋","subne;":"⊊","subplus;":"⪿","subrarr;":"⥹","Subset;":"⋐","subset;":"⊂","subseteq;":"⊆","subseteqq;":"⫅","SubsetEqual;":"⊆","subsetneq;":"⊊","subsetneqq;":"⫋","subsim;":"⫇","subsub;":"⫕","subsup;":"⫓","succ;":"≻","succapprox;":"⪸","succcurlyeq;":"≽","Succeeds;":"≻","SucceedsEqual;":"⪰","SucceedsSlantEqual;":"≽","SucceedsTilde;":"≿","succeq;":"⪰","succnapprox;":"⪺","succneqq;":"⪶","succnsim;":"⋩","succsim;":"≿","SuchThat;":"∋","Sum;":"∑","sum;":"∑","sung;":"♪",sup1:"¹","sup1;":"¹",sup2:"²","sup2;":"²",sup3:"³","sup3;":"³","Sup;":"⋑","sup;":"⊃","supdot;":"⪾","supdsub;":"⫘","supE;":"⫆","supe;":"⊇","supedot;":"⫄","Superset;":"⊃","SupersetEqual;":"⊇","suphsol;":"⟉","suphsub;":"⫗","suplarr;":"⥻","supmult;":"⫂","supnE;":"⫌","supne;":"⊋","supplus;":"⫀","Supset;":"⋑","supset;":"⊃","supseteq;":"⊇","supseteqq;":"⫆","supsetneq;":"⊋","supsetneqq;":"⫌","supsim;":"⫈","supsub;":"⫔","supsup;":"⫖","swarhk;":"⤦","swArr;":"⇙","swarr;":"↙","swarrow;":"↙","swnwar;":"⤪",szlig:"ß","szlig;":"ß","Tab;":"\t","target;":"⌖","Tau;":"Τ","tau;":"τ","tbrk;":"⎴","Tcaron;":"Ť","tcaron;":"ť","Tcedil;":"Ţ","tcedil;":"ţ","Tcy;":"Т","tcy;":"т","tdot;":"⃛","telrec;":"⌕","Tfr;":"𝔗","tfr;":"𝔱","there4;":"∴","Therefore;":"∴","therefore;":"∴","Theta;":"Θ","theta;":"θ","thetasym;":"ϑ","thetav;":"ϑ","thickapprox;":"≈","thicksim;":"∼","ThickSpace;":"  ","thinsp;":" ","ThinSpace;":" ","thkap;":"≈","thksim;":"∼",THORN:"Þ",thorn:"þ","THORN;":"Þ","thorn;":"þ","Tilde;":"∼","tilde;":"˜","TildeEqual;":"≃","TildeFullEqual;":"≅","TildeTilde;":"≈",times:"×","times;":"×","timesb;":"⊠","timesbar;":"⨱","timesd;":"⨰","tint;":"∭","toea;":"⤨","top;":"⊤","topbot;":"⌶","topcir;":"⫱","Topf;":"𝕋","topf;":"𝕥","topfork;":"⫚","tosa;":"⤩","tprime;":"‴","TRADE;":"™","trade;":"™","triangle;":"▵","triangledown;":"▿","triangleleft;":"◃","trianglelefteq;":"⊴","triangleq;":"≜","triangleright;":"▹","trianglerighteq;":"⊵","tridot;":"◬","trie;":"≜","triminus;":"⨺","TripleDot;":"⃛","triplus;":"⨹","trisb;":"⧍","tritime;":"⨻","trpezium;":"⏢","Tscr;":"𝒯","tscr;":"𝓉","TScy;":"Ц","tscy;":"ц","TSHcy;":"Ћ","tshcy;":"ћ","Tstrok;":"Ŧ","tstrok;":"ŧ","twixt;":"≬","twoheadleftarrow;":"↞","twoheadrightarrow;":"↠",Uacute:"Ú",uacute:"ú","Uacute;":"Ú","uacute;":"ú","Uarr;":"↟","uArr;":"⇑","uarr;":"↑","Uarrocir;":"⥉","Ubrcy;":"Ў","ubrcy;":"ў","Ubreve;":"Ŭ","ubreve;":"ŭ",Ucirc:"Û",ucirc:"û","Ucirc;":"Û","ucirc;":"û","Ucy;":"У","ucy;":"у","udarr;":"⇅","Udblac;":"Ű","udblac;":"ű","udhar;":"⥮","ufisht;":"⥾","Ufr;":"𝔘","ufr;":"𝔲",Ugrave:"Ù",ugrave:"ù","Ugrave;":"Ù","ugrave;":"ù","uHar;":"⥣","uharl;":"↿","uharr;":"↾","uhblk;":"▀","ulcorn;":"⌜","ulcorner;":"⌜","ulcrop;":"⌏","ultri;":"◸","Umacr;":"Ū","umacr;":"ū",uml:"¨","uml;":"¨","UnderBar;":"_","UnderBrace;":"⏟","UnderBracket;":"⎵","UnderParenthesis;":"⏝","Union;":"⋃","UnionPlus;":"⊎","Uogon;":"Ų","uogon;":"ų","Uopf;":"𝕌","uopf;":"𝕦","UpArrow;":"↑","Uparrow;":"⇑","uparrow;":"↑","UpArrowBar;":"⤒","UpArrowDownArrow;":"⇅","UpDownArrow;":"↕","Updownarrow;":"⇕","updownarrow;":"↕","UpEquilibrium;":"⥮","upharpoonleft;":"↿","upharpoonright;":"↾","uplus;":"⊎","UpperLeftArrow;":"↖","UpperRightArrow;":"↗","Upsi;":"ϒ","upsi;":"υ","upsih;":"ϒ","Upsilon;":"Υ","upsilon;":"υ","UpTee;":"⊥","UpTeeArrow;":"↥","upuparrows;":"⇈","urcorn;":"⌝","urcorner;":"⌝","urcrop;":"⌎","Uring;":"Ů","uring;":"ů","urtri;":"◹","Uscr;":"𝒰","uscr;":"𝓊","utdot;":"⋰","Utilde;":"Ũ","utilde;":"ũ","utri;":"▵","utrif;":"▴","uuarr;":"⇈",Uuml:"Ü",uuml:"ü","Uuml;":"Ü","uuml;":"ü","uwangle;":"⦧","vangrt;":"⦜","varepsilon;":"ϵ","varkappa;":"ϰ","varnothing;":"∅","varphi;":"ϕ","varpi;":"ϖ","varpropto;":"∝","vArr;":"⇕","varr;":"↕","varrho;":"ϱ","varsigma;":"ς","varsubsetneq;":"⊊︀","varsubsetneqq;":"⫋︀","varsupsetneq;":"⊋︀","varsupsetneqq;":"⫌︀","vartheta;":"ϑ","vartriangleleft;":"⊲","vartriangleright;":"⊳","Vbar;":"⫫","vBar;":"⫨","vBarv;":"⫩","Vcy;":"В","vcy;":"в","VDash;":"⊫","Vdash;":"⊩","vDash;":"⊨","vdash;":"⊢","Vdashl;":"⫦","Vee;":"⋁","vee;":"∨","veebar;":"⊻","veeeq;":"≚","vellip;":"⋮","Verbar;":"‖","verbar;":"|","Vert;":"‖","vert;":"|","VerticalBar;":"∣","VerticalLine;":"|","VerticalSeparator;":"❘","VerticalTilde;":"≀","VeryThinSpace;":" ","Vfr;":"𝔙","vfr;":"𝔳","vltri;":"⊲","vnsub;":"⊂⃒","vnsup;":"⊃⃒","Vopf;":"𝕍","vopf;":"𝕧","vprop;":"∝","vrtri;":"⊳","Vscr;":"𝒱","vscr;":"𝓋","vsubnE;":"⫋︀","vsubne;":"⊊︀","vsupnE;":"⫌︀","vsupne;":"⊋︀","Vvdash;":"⊪","vzigzag;":"⦚","Wcirc;":"Ŵ","wcirc;":"ŵ","wedbar;":"⩟","Wedge;":"⋀","wedge;":"∧","wedgeq;":"≙","weierp;":"℘","Wfr;":"𝔚","wfr;":"𝔴","Wopf;":"𝕎","wopf;":"𝕨","wp;":"℘","wr;":"≀","wreath;":"≀","Wscr;":"𝒲","wscr;":"𝓌","xcap;":"⋂","xcirc;":"◯","xcup;":"⋃","xdtri;":"▽","Xfr;":"𝔛","xfr;":"𝔵","xhArr;":"⟺","xharr;":"⟷","Xi;":"Ξ","xi;":"ξ","xlArr;":"⟸","xlarr;":"⟵","xmap;":"⟼","xnis;":"⋻","xodot;":"⨀","Xopf;":"𝕏","xopf;":"𝕩","xoplus;":"⨁","xotime;":"⨂","xrArr;":"⟹","xrarr;":"⟶","Xscr;":"𝒳","xscr;":"𝓍","xsqcup;":"⨆","xuplus;":"⨄","xutri;":"△","xvee;":"⋁","xwedge;":"⋀",Yacute:"Ý",yacute:"ý","Yacute;":"Ý","yacute;":"ý","YAcy;":"Я","yacy;":"я","Ycirc;":"Ŷ","ycirc;":"ŷ","Ycy;":"Ы","ycy;":"ы",yen:"¥","yen;":"¥","Yfr;":"𝔜","yfr;":"𝔶","YIcy;":"Ї","yicy;":"ї","Yopf;":"𝕐","yopf;":"𝕪","Yscr;":"𝒴","yscr;":"𝓎","YUcy;":"Ю","yucy;":"ю",yuml:"ÿ","Yuml;":"Ÿ","yuml;":"ÿ","Zacute;":"Ź","zacute;":"ź","Zcaron;":"Ž","zcaron;":"ž","Zcy;":"З","zcy;":"з","Zdot;":"Ż","zdot;":"ż","zeetrf;":"ℨ","ZeroWidthSpace;":"​","Zeta;":"Ζ","zeta;":"ζ","Zfr;":"ℨ","zfr;":"𝔷","ZHcy;":"Ж","zhcy;":"ж","zigrarr;":"⇝","Zopf;":"ℤ","zopf;":"𝕫","Zscr;":"𝒵","zscr;":"𝓏","zwj;":"‍","zwnj;":"‌"}),Au=wt({}),Mu=wt({}),Iu=me((Su=Lu).py_items,Su),Ru=0;Ru<Te(Iu);Ru++){var Du=Ft(Iu,Ru),ju=Du[0],zu=Du[1];Gt(Au,zu,ju),Gt(Mu,ju,me(Ue,null,zu))}var Fu=["escape","unescape"],Gu=function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=!0;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"s":e=n[a];break;case"quote":t=n[a]}}}e=function(){var t=e;return me(t.py_replace,t,"&","&amp;")}(),e=function(){var t=e;return me(t.py_replace,t,"<","&lt;")}(),e=function(){var t=e;return me(t.py_replace,t,">","&gt;")}();if(Ae(t))e=function(){var t=e;return me(t.py_replace,t,'"',"&quot;")}(),e=function(){var t=e;return me(t.py_replace,t,"'","&#x27;")}();return e},Uu=wt({0:"�",13:"\r",128:"€",129:"",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",141:"",142:"Ž",143:"",144:"",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",157:"",158:"ž",159:"Ÿ"}),qu=new it([1,2,3,4,5,6,7,8,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,11,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Hu=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("s"===n)e=r[n]}}e=function(){var t=e;return me(t.group,t,1)}();if(Ae(St(Ft(e,0),"#"))){if(Ae(Se(Ft(e,1),"xX")))var a=me(Ie,null,function(){var t=Ut(e,2,null,1);return me(t.rstrip,t,";")}(),16);else a=me(Ie,null,function(){var t=Ut(e,1,null,1);return me(t.rstrip,t,";")}());return Ae(Se(a,Uu))?Ft(Uu,a):Ae(Ae(At(55296,a)&&At(a,57343))||Mt(a,1114111))?"�":Ae(Se(a,qu))?"":me(Ue,null,a)}if(Ae(Se(e,Tu)))return Ft(Tu,e);for(var i=!1,o=Et(me(Te,null,e),1);o>1;o--)if(Ae(Se(Ut(e,0,o,1),Tu)))return Pt(Ft(Tu,Ut(e,0,o,1)),Ut(e,o,null,1));return i?void 0:Pt("&",e)},Vu=me(Sn.compile,Sn,"&(#[0-9]+;?|#[xX][0-9a-fA-F]+;?|[^\\t\\n\\f <&#;]{1,32};?)"),Bu=function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("s"===n)e=r[n]}}return Ae(!Se("&",e))?e:function(){var t=Vu;return me(t.sub,t,Hu,e)}()},Wu={},Yu={},Xu={};fe(Yu,"",dr),fe(Xu,"",Sn),fe(Wu,"",Nu);var $u="llm.fragmentrenderer.html",Qu=me(Yu.getLogger,Yu,$u),Zu=me(Xu.compile,Xu,"[&]([a-zA-Z]+|[#][0-9]+|[#]x[0-9a-fA-F]+);"),Ku=ve("HtmlFragmentRenderer",[Cu],{__module__:$u,supports_delayed_render_markers:!0,use_link_target_blank:!1,html_blocks_joiner:"\n",heading_tags_by_level:wt({1:"h1",2:"h2",3:"h3",4:"span",5:"span",6:"span"}),inline_heading_add_space:!0,aggressively_escape_html_attributes:!1,render_nothing_as_comment_with_annotations:!0,use_mathjax:!0,get htmlescape(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"value":t=n[a]}}}return me(Wu.escape,Wu,t)}))},get htmlescape_double_quoted_attribute_value(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"value":t=n[a]}}}if(Ae(e.aggressively_escape_html_attributes))return function(){var r=e;return me(r.htmlescape,r,t)}();t=function(){var e=Zu;return me(e.sub,e,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("m"===n)e=r[n]}}return Pt(Pt("&amp;",me((a=e).group,a,1)),";");var a}),t)}(),t=function(){var e=t;return me(e.py_replace,e,'"',"&quot;")}();return t}))},get generate_open_tag(){return de(this,(function(e,t){var r=null,n=null,a=!1;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"tagname":t=o[s];break;case"attrs":r=o[s];break;case"class_names":n=o[s];break;case"self_close_tag":a=o[s]}}}var l="<{}".format(t);if(Ae(!Ae(r)))var r=wt({});if(Ae(Se("class",r=me(wt,null,r)))){var _=me(Yt,null,"generate_open_tag(): set HTML 'class' attribute with class_names=, not with attrs=");throw _.__cause__=null,_}if(Ae(n)&&Gt(r,"class",me(" ".join," ",n)),Ae(r))for(var u=function(){var e=r;return me(e.py_items,e)}(),c=0;c<Te(u);c++){var f=Ft(u,c),d=f[0],h=f[1];l=me(Dt,null,l,' {}="{}"'.format(d,function(){var t=e;return me(t.htmlescape_double_quoted_attribute_value,t,h)}()))}if(Ae(a))l=me(Dt,null,l,"/>");else l=me(Dt,null,l,">");return l}))},get wrap_in_tag(){return de(this,(function(e,t,r){var n=null,a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"tagname":t=o[s];break;case"content_html":r=o[s];break;case"attrs":n=o[s];break;case"class_names":a=o[s]}}}var l=function(){var r=e;return me(r.generate_open_tag,r,t,ye({attrs:n,class_names:a}))}();l=me(Dt,null,l,me(ot,null,r));return l=me(Dt,null,l,"</{}>".format(t))}))},get wrap_in_link(){return de(this,(function(e,t,r){var n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"display_html":t=i[o];break;case"target_href":r=i[o];break;case"class_names":n=i[o]}}}if(Ae(!Ae(r)))r="#";var s=wt({href:r});return Ae(me(Fe,null,e.use_link_target_blank))?Ae(function(){var t=e;return me(t.use_link_target_blank,t,r)}())&&Gt(s,"target","_blank"):Ae(Ae(e.use_link_target_blank)&&!Ae(function(){var e=r;return me(e.startswith,e,"#")}()))&&Gt(s,"target","_blank"),function(){var r=e;return me(r.wrap_in_tag,r,"a",t,ye({attrs:s,class_names:n}))}()}))},get render_build_paragraph(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":t=a[i];break;case"render_context":r=a[i]}}}return Pt(Pt("<p>",function(){var n=e;return me(n.render_inline_content,n,t,r)}()),"</p>")}))},get render_inline_content(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"nodelist":t=a[i];break;case"render_context":r=a[i]}}}return function(){var n=e;return me(n.render_join,n,function(){for(var n,a=[],i=t,o=0;o<Te(i);o++){var s=Ft(i,o);n=void 0,me(a.append,a,me((n=e).render_node,n,s,r))}return a}())}()}))},get render_join(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"content_list":t=n[a]}}}return me("".join,"",function(){for(var e=[],r=t,n=0;n<Te(r);n++){var a=Ft(r,n);me(e.append,e,me(ot,null,a))}return e}())}))},get render_join_blocks(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"content_list":t=n[a]}}}return function(){var r=e.html_blocks_joiner;return me(r.join,r,function(){for(var e=[],r=t,n=0;n<Te(r);n++){var a=Ft(r,n);Ae(Ae(null!==a)&&me(Te,null,a))&&me(e.append,e,a)}return e}())}()}))},get render_value(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"value":t=n[a]}}}return function(){var r=e;return me(r.htmlescape,r,t)}()}))},get render_empty_error_placeholder(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"debug_str":t=n[a]}}}var i=function(){var e=t;return me(e.py_replace,e,"--","- - ")}();return'<span class="empty-error-placeholder">\x3c!-- {} --\x3e(?)</span>'.format(i)}))},get render_nothing(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"annotations":t=n[a]}}}if(Ae(!Ae(e.render_nothing_as_comment_with_annotations)))return"";if(Ae(!Ae(t)))t=[];t=function(){for(var e,r=[],n=t,a=0;a<Te(n);a++){var i=Ft(n,a);e=void 0,me(r.append,r,me((e=i).py_replace,e,"--","- - "))}return r}();return function(){var e="\x3c!-- {} --\x3e";return me(e.format,e,me(" ".join," ",t))}()}))},get render_verbatim(){return de(this,(function(e,t){var r=null;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"value":t=a[i];break;case"annotations":var o=a[i];break;case"target_id":r=a[i]}}}var s=wt({});return Ae(null!==r)&&Gt(s,"id",r),function(){var r,n=e;return me(n.wrap_in_tag,n,"span",me((r=e).htmlescape,r,t),ye({class_names:Ae(o)?o:["verbatim"],attrs:s}))}()}))},get render_math_content(){return de(this,(function(e,t,r,n,a,i,o){if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(void 0===o||null!=o&&o.hasOwnProperty("__kwargtrans__"))o=null;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"delimiters":t=l[_];break;case"nodelist":r=l[_];break;case"render_context":n=l[_];break;case"displaytype":a=l[_];break;case"environmentname":i=l[_];break;case"target_id":o=l[_]}}}Ae(!Ae(e.use_mathjax))&&function(){var e=Qu;me(e.warning,e,"called HtmlFragmentRenderer.render_math_content() but self.use_mathjax is not set. Your math will probably not render correctly.")}();var u=["{}-math".format(a)];Ae(null!==i)&&function(){var e,t=u;me(t.append,t,"env-{}".format(me((e=i).py_replace,e,"*","-star")))}();var c=function(){var n,a=e;return me(a.htmlescape,a,Pt(Pt(Ft(t,0),me((n=r).latex_verbatim,n)),Ft(t,1)))}(),f=wt({});return Ae(null!==o)&&Gt(f,"id",o),Ae(St(a,"display"))?function(){var t=e;return me(t.wrap_in_tag,t,"span",c,ye({class_names:u,attrs:f}))}():function(){var t=e;return me(t.wrap_in_tag,t,"span",c,ye({class_names:u,attrs:f}))}()}))},get render_text_format(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"text_formats":t=i[o];break;case"nodelist":r=i[o];break;case"render_context":n=i[o]}}}var s=function(){var t=e;return me(t.render_nodelist,t,r,n,ye({is_block_level:!1}))}();return function(){var r=e;return me(r.wrap_in_tag,r,"span",s,ye({class_names:t}))}()}))},get render_semantic_block(){return de(this,(function(e,t,r){var n=null,a=null;if(arguments.length){var i=arguments.length-1;if(arguments[i]&&arguments[i].hasOwnProperty("__kwargtrans__")){var o=arguments[i--];for(var s in o)switch(s){case"self":e=o[s];break;case"content":t=o[s];break;case"role":r=o[s];break;case"annotations":n=o[s];break;case"target_id":a=o[s]}}}var l=wt({});return Ae(null!==a)&&Gt(l,"id",a),Ae(Se(r,at(["section","main","article"])))?function(){var a=e;return me(a.wrap_in_tag,a,r,t,ye({attrs:l,class_names:n}))}():function(){var a=e;return me(a.wrap_in_tag,a,"div",t,ye({attrs:l,class_names:Pt([r],Ae(n)?n:[])}))}()}))},get render_enumeration(){return de(this,(function(e,t,r,n){var a=null,i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"iter_items_nodelists":t=s[l];break;case"counter_formatter":r=s[l];break;case"render_context":n=s[l];break;case"target_id_generator":a=s[l];break;case"annotations":i=s[l];break;case"nested_depth":s[l]}}}for(var _=[],u=me(tt,null,t),c=0;c<Te(u);c++){var f=Ft(u,c),d=f[0],h=f[1],p=!0;if(Ae(!1===h.parsing_state.is_block_level))p=!1;var g=function(){var t=e;return me(t.render_nodelist,t,h,ye({render_context:n,is_block_level:p}))}(),v=Pt(1,d),m=me(r,null,v);if(Ae(me(ze,null,m,ot)))var y=function(){var t=e;return me(t.render_value,t,m)}();else y=function(){var t=e;return me(t.render_nodelist,t,m,ye({render_context:n,is_block_level:!1}))}();var w=wt({});Ae(null!==a)&&Gt(w,"id",me(a,null,v)),function(){var t,r,n=_;me(n.append,n,me((r=e).render_join,r,[(t=e,me(t.wrap_in_tag,t,"dt",y,ye({attrs:w}))),function(){var t=e;return me(t.wrap_in_tag,t,"dd",g)}()]))}()}return function(){var t,r=e;return me(r.wrap_in_tag,r,"dl",me((t=e).render_join,t,_),ye({class_names:Pt(["enumeration"],Ae(i)?i:[])}))}()}))},get render_heading(){return de(this,(function(e,t,r){var n=1,a=null,i=!1,o=null;if(arguments.length){var s=arguments.length-1;if(arguments[s]&&arguments[s].hasOwnProperty("__kwargtrans__")){var l=arguments[s--];for(var _ in l)switch(_){case"self":e=l[_];break;case"heading_nodelist":t=l[_];break;case"render_context":r=l[_];break;case"heading_level":n=l[_];break;case"target_id":a=l[_];break;case"inline_heading":i=l[_];break;case"annotations":o=l[_]}}}if(Ae(!Se(n,e.heading_tags_by_level))){var u=me(Yt,null,"Bad heading_level={}, expected one of {}".format(n,me(nt,null,function(){var t=e.heading_tags_by_level;return me(t.py_keys,t)}())));throw u.__cause__=null,u}var c=Ae(o)?me(nt,null,o):[];!function(){var e=c;me(e.append,e,"heading-level-{}".format(n))}(),Ae(i)&&function(){var e=c;me(e.append,e,"heading-inline")}();var f=wt({});Ae(null!==a)&&Gt(f,"id",a);var d=function(){var a,i=e;return me(i.wrap_in_tag,i,Ft(e.heading_tags_by_level,n),me((a=e).render_inline_content,a,t,r),ye({class_names:c,attrs:f}))}();if(Ae(Ae(i)&&e.inline_heading_add_space))d=me(Dt,null,d," ");return d}))},get render_link(){return de(this,(function(e,t,r,n,a,i){if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"ref_type":t=s[l];break;case"href":r=s[l];break;case"display_nodelist":n=s[l];break;case"render_context":a=s[l];break;case"annotations":i=s[l]}}}var _=function(){var t=e;return me(t.render_nodelist,t,n,ye({render_context:a,is_block_level:!1}))}();return function(){var n=e;return me(n.wrap_in_link,n,_,r,ye({class_names:Pt(["href-{}".format(t)],Ae(i)?i:[])}))}()}))},get render_delayed_marker(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":t=i[o];break;case"delayed_key":r=i[o];break;case"render_context":n=i[o]}}}return"<LLM:DLYD:{}/>".format(r)}))},get render_delayed_dummy_placeholder(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":t=i[o];break;case"delayed_key":r=i[o];break;case"render_context":n=i[o]}}}return"\x3c!-- delayed:{} --\x3e".format(r)}))},get replace_delayed_markers_with_final_values(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"content":t=a[i];break;case"delayed_values":r=a[i]}}}return function(){var e=Ju;return me(e.sub,e,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var n=arguments[t--];for(var a in n)if("m"===a)e=n[a]}}return Ft(r,me(Ie,null,me((i=e).group,i,"key")));var i}),t)}()}))},get render_float(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_instance":t=a[i];break;case"render_context":r=a[i]}}}var o=wt({});Ae(null!==t.target_id)&&Gt(o,"id",t.target_id);var s=[];Ae(null!==t.number)?function(){var n,a,i,o=s;me(o.append,o,me((i=e).wrap_in_tag,i,"span",me((a=e).render_join,a,[(n=e,me(n.render_value,n,t.float_type_info.float_caption_name)),"&nbsp;",function(){var n=e;return me(n.render_nodelist,n,t.formatted_counter_value_llm.nodes,ye({render_context:r}))}()]),ye({class_names:["float-number"]})))}():Ae(t.caption_nodelist)&&function(){var r,n,a,i=s;me(i.append,i,me((a=e).wrap_in_tag,a,"span",me((n=e).render_join,n,[(r=e,me(r.render_value,r,t.float_type_info.float_caption_name))]),ye({class_names:["float-no-number"]})))}(),Ae(t.caption_nodelist)&&(function(){var e=s;me(e.append,e,": ")}(),function(){var n,a=s;me(a.append,a,me((n=e).render_nodelist,n,t.caption_nodelist,ye({render_context:r})))}());var l=null;if(Ae(s))l=function(){var t,r,n=e;return me(n.wrap_in_tag,n,"figcaption",me((r=e).wrap_in_tag,r,"span",me((t=e).render_join,t,s)),ye({class_names:["float-caption-content"]}))}();var _=function(){var n=e;return me(n.render_nodelist,n,t.content_nodelist,ye({render_context:r,is_block_level:!0}))}(),u=function(){var t=e;return me(t.render_semantic_block,t,_,"float-contents")}();if(Ae(null!==l))var c=function(){var t=e;return me(t.render_join_blocks,t,[u,l])}();else c=u;var f=function(){var r=e;return me(r.wrap_in_tag,r,"figure",c,ye({attrs:o,class_names:["float","float-{}".format(t.float_type)]}))}();return f}))},graphics_raster_magnification:1,graphics_vector_magnification:1,get render_graphics_block(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"graphics_resource":t=n[a]}}}var i=wt({}),o=[];if(Ae(null!==t.physical_dimensions)){var s=t.physical_dimensions,l=s[0],_=s[1];if(Ae(St(t.graphics_type,"raster"))){if(Ae(null!==l))l=me(Rt,null,l,e.graphics_raster_magnification);if(Ae(null!==_))_=me(Rt,null,_,e.graphics_raster_magnification)}else if(Ae(St(t.graphics_type,"vector"))){if(Ae(null!==l))l=me(Rt,null,l,e.graphics_vector_magnification);if(Ae(null!==_))_=me(Rt,null,_,e.graphics_vector_magnification)}Ae(null!==l)&&function(){var e=o;me(e.append,e,"width:{}pt".format(l))}(),Ae(null!==_)&&function(){var e=o;me(e.append,e,"height:{}pt".format(_))}()}Ae(o)&&Gt(i,"style",me(";".join,";",o));var u=t.src_url;return Gt(i,"src",u),Ae(Ae(null!==t.srcset)&&me(Te,null,t.srcset))&&Gt(i,"srcset",t.srcset),function(){var t=e;return me(t.generate_open_tag,t,"img",ye({attrs:i}))}()}))},get render_cells(){return de(this,(function(e,t,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cells_model":t=i[o];break;case"render_context":r=i[o];break;case"target_id":n=i[o]}}}for(var s=[],l=0;Ae(Tt(l,me(Te,null,t.grid_data)));){for(var _=[],u=0;Ae(Tt(u,me(Te,null,Ft(t.grid_data,l))));){var c=Ft(Ft(t.grid_data,l),u);if(Ae(Ae(null===c)||null===Ft(c,"cell"))){!function(){var t,r=_;me(r.append,r,me((t=e).wrap_in_tag,t,"td","",ye({class_names:["cell-empty"]})))}();u=me(Dt,null,u,1)}else if(Ae(Ft(c,"is_topleft"))){var f=Ft(c,"cell"),d=function(){var t=e;return me(t.render_nodelist,t,f.content_nodes,ye({render_context:r}))}(),h=Pt(["cell"],function(){for(var e=[],t=f.styles,r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,"cellstyle-{}".format(n))}return e}()),p="td";if(Ae(Ae(Se("H",f.styles))||Se("rH",f.styles)))p="th";var g=wt({}),v=f.placement;Ae(Lt(v.col_range.end,Pt(v.col_range.start,1)))&&Gt(g,"colspan",me(ot,null,Et(v.col_range.end,v.col_range.start))),Ae(Lt(v.row_range.end,Pt(v.row_range.start,1)))&&Gt(g,"rowspan",me(ot,null,Et(v.row_range.end,v.row_range.start))),function(){var t,r=_;me(r.append,r,me((t=e).wrap_in_tag,t,p,d,ye({attrs:g,class_names:h})))}();u=v.col_range.end}else u=me(Dt,null,u,1)}!function(){var e=s;me(e.append,e,_)}();l=me(Dt,null,l,1)}var m=wt({});Ae(null!==n)&&Gt(m,"id",n);var y=function(){var t=e;return me(t.wrap_in_tag,t,"table",me("".join,"",function(){for(var e=[],t=s,r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,Pt(Pt("<tr>",me("".join,"",n)),"</tr>"))}return e}()),ye({attrs:m,class_names:["cells"]}))}();return y}))},get get_html_css_global(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return ec}))},get get_html_css_content(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return tc}))},get get_html_js(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(e.use_mathjax)?rc:""}))},get get_html_body_end_js_scripts(){return de(this,(function(e){if(arguments.length){var t=arguments.length-1;if(arguments[t]&&arguments[t].hasOwnProperty("__kwargtrans__")){var r=arguments[t--];for(var n in r)if("self"===n)e=r[n]}}return Ae(e.use_mathjax)?nc:""}))}}),Ju=me(Xu.compile,Xu,"<LLM:DLYD:(?P<key>\\d+)\\s*/>"),ec="\np, ul, ol {\n  margin: 1em 0px;\n}\np:first-child, ul:first-child, ol:first-child {\n  margin-top: 0px;\n}\np:last-child, ul:last-child, ol:last-child {\n  margin-bottom: 0px;\n}\ndd > p, dd > p:first-child, dd > p:last-child {\n  margin: 0.33em 0px;\n}\n\na, a:link, a:hover, a:active, a:visited {\n  color: #3232c8;\n  text-decoration: none;\n}\na:hover {\n  color: #22228a;\n}\n",tc="\n.emph, .textit {\n  font-style: italic;\n}\n.textbf {\n  font-weight: bold;\n}\n\nh1 {\n  font-size: 1.6rem;\n  line-height: 1.3em;\n  font-weight: bold;\n  margin: 1em 0px;\n}\nh2 {\n  font-size: 1.3rem;\n  line-height: 1.3em;\n  font-weight: bold;\n  margin: 1em 0px;\n}\nh3 {\n  font-size: 1rem;\n  font-weight: bold;\n  margin: 1em 0px;\n}\n\n.heading-level-4 {\n  font-style: italic;\n  display: inline;\n}\n.heading-level-4::after {\n  display: inline-block;\n  margin: 0px .12em;\n  content: '—';\n}\n\n.heading-level-5 {\n  font-style: italic;\n  font-size: .9em;\n  display: inline;\n}\n.heading-level-5::after {\n  display: inline-block;\n  margin-right: .12em;\n  content: '';\n}\n\n.heading-level-6 {\n  font-style: italic;\n  font-size: .8em;\n  display: inline;\n}\n.heading-level-6::after {\n  display: inline-block;\n  margin-right: .06em;\n  content: '';\n}\n\ndl.enumeration {\n  display: block;\n  margin-left: 2.5em;\n}\ndl.enumeration > dt {\n  float: left;\n  clear: left;\n  display: inline-block;\n  /*margin: 0px; */\n  margin-left: -2.5em;\n  width: 2.0em;\n  min-width: 2.0em;\n  max-width: 2.0em;\n  margin-right: 0.5em;\n  text-align: right;\n}\ndl.enumeration > dd {\n  /*display: inline-block;\n  width: 100%;*/\n  border: 0px;\n  padding: 0px;\n  margin: 0px;\n}\n\nfigure.float {\n  width: 100%;\n  border-width: 1px 0px 1px 0px;\n  border-style: solid none solid none;\n  border-color: rgba(120, 120, 140, 0.15);\n  margin: 0.5rem 0px;\n  padding: 0.5rem 0px;\n}\n\nfigure.float .float-contents {\n  width: 100%;\n  max-width: 100%;\n  overflow-x: auto;\n}\n\nfigure.float .float-contents img {\n  display: block;\n  margin: 0pt auto;\n  padding: 0pt;\n  border: 0pt;\n  margin: 0px auto;\n}\n\nfigure.float figcaption {\n  display: block;\n  margin-top: 0.5em;\n  margin: 0.75em 2em 0px;\n  text-align: center;\n}\n\nfigure.float figcaption > span {\n  display: inline-block;\n  font-style: italic;\n  text-align: left;\n}\n\ntable {\n  margin: 1em 0px 1em 0px;\n  border-collapse: collapse;\n  border-top: solid 1pt;\n  border-bottom: solid 1pt;\n}\nfigure.float .float-contents table {\n  margin: 0px auto;\n}\ntd {\n  padding: 0.3em 0.5em;\n}\nth {\n  padding: 0.3em 0.5em;\n}\nth.cellstyle-H {\n  border-bottom: solid .5pt;\n}\nth.cellstyle-rH {\n}\n.cellstyle-l {\n  text-align: left;\n}\n.cellstyle-c {\n  text-align: center;\n}\n.cellstyle-r {\n  text-align: right;\n}\n.cellstyle-green {\n  background-color: rgb(200,255,200);\n}\n.cellstyle-blue {\n  background-color: rgb(200,220,255);\n}\n.cellstyle-yellow {\n  background-color: rgb(255,255,200);\n}\n.cellstyle-red {\n  background-color: rgb(255,200,200);\n}\n.cellstyle-lvert {\n  border-left: solid .5pt;\n}\n.cellstyle-rvert {\n  border-right: solid .5pt;\n}\n\n.defterm {\n  font-style: italic;\n}\n\n.defterm .defterm-term {\n  font-style: italic;\n  font-weight: bold;\n}\n\n.display-math {\n  width: 100%;\n  max-width: 100%;\n  display: block;\n  overflow-x: auto;\n}\n\n.citation {\n  font-size: 0.8em;\n  display: inline-block;\n  vertical-align: 0.3em;\n  margin-top: -0.3em;\n}\n.footnote {\n  font-size: 0.8em;\n  display: inline-block;\n  vertical-align: 0.3em;\n  margin-top: -0.3em;\n}\ndl.citation-list > dt, dl.footnote-list > dt {\n  font-size: 0.8em;\n  display: inline-block;\n  vertical-align: 0.3em;\n  margin-top: -0.3em;\n}\n",rc="\nMathJax = {\n    tex: {\n        inlineMath: [['\\\\(', '\\\\)']],\n        displayMath: [['\\\\[', '\\\\]']],\n        processEnvironments: true,\n        processRefs: true,\n\n        // equation numbering on\n        tags: 'ams'\n    },\n    options: {\n        // all MathJax content is marked with CSS classes\n        // skipHtmlTags: 'body',\n        // processHtmlClass: 'display-math|inline-math',\n    },\n    startup: {\n        pageReady: function() {\n            // override the default \"typeset everything on the page\" behavior to\n            // only typeset whatever we have explicitly marked as math\n            return typesetPageMathPromise();\n        }\n    }\n};\nfunction typesetPageMathPromise()\n{\n    var elements = document.querySelectorAll('.display-math, .inline-math');\n    return MathJax.typesetPromise(elements);\n}\n",nc='\n<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"><\/script>\n<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>\n',ac=ve("TextFragmentRenderer",[Cu],{__module__:"llm.fragmentrenderer.text",display_href_urls:!0,float_separator_top:xt("·",80),float_separator_bottom:xt("·",80),get render_value(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"value":t=n[a]}}}return t}))},get render_delayed_marker(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":t=i[o];break;case"delayed_key":r=i[o];break;case"render_context":n=i[o]}}}return""}))},get render_delayed_dummy_placeholder(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"node":t=i[o];break;case"delayed_key":r=i[o];break;case"render_context":n=i[o]}}}return"#DELAYED#"}))},get render_nothing(){return de(this,(function(e,t){if(void 0===t||null!=t&&t.hasOwnProperty("__kwargtrans__"))t=null;if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"annotations":t=n[a]}}}return""}))},get render_empty_error_placeholder(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"debug_str":t=n[a]}}}return""}))},get render_text_format(){return de(this,(function(e,t,r,n){if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"text_formats":t=i[o];break;case"nodelist":r=i[o];break;case"render_context":n=i[o]}}}var s=function(){var t=e;return me(t.render_nodelist,t,r,n,ye({is_block_level:!1}))}();return s}))},get render_enumeration(){return de(this,(function(e,t,r,n){var a=null,i=0;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"iter_items_nodelists":t=s[l];break;case"counter_formatter":r=s[l];break;case"render_context":n=s[l];break;case"target_id_generator":s[l];break;case"annotations":a=s[l];break;case"nested_depth":i=s[l]}}}for(var _=[],u=me(tt,null,t),c=0;c<Te(u);c++){var f=Ft(u,c),d=f[0],h=f[1],p=function(){var t=e;return me(t.render_nodelist,t,h,ye({render_context:n,is_block_level:!0}))}(),g=me(r,null,Pt(1,d));if(Ae(null===g))var v="?";else if(Ae(me(ze,null,g,ot)))v=function(){var t=e;return me(t.render_value,t,g)}();else v=function(){var t=e;return me(t.render_nodelist,t,g,ye({render_context:n,is_block_level:!1}))}();if(Ae(Mt(i,0)))v=Pt(xt(" ",xt(4,i)),v);!function(){var e=_;me(e.append,e,at([v,p]))}()}if(Ae(!Ae(_)))return function(){var t=e;return me(t.render_semantic_block,t,"","enumeration",ye({annotations:a}))}();var m=me(He,null,function(){for(var e=[],t=_,r=0;r<Te(t);r++){var n=Ft(t,r),a=n[0];n[1];me(e.append,e,me(Te,null,a))}return e}());return function(){var t=e;return me(t.render_join_blocks,t,function(){for(var t,r,n,i,o=[],s=_,l=0;l<Te(s);l++){var u=Ft(s,l),c=u[0],f=u[1];t=void 0,r=void 0,n=void 0,i=void 0,me(o.append,o,me((i=e).render_semantic_block,i,me((n=e).render_join,n,[(r=e,me(r.render_value,r,Pt(me((t=c).rjust,t,Pt(m,2)," ")," "))),f]),"enumeration",ye({annotations:a})))}return o}())}()}))},get render_heading(){return de(this,(function(e,t,r){var n=1;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"heading_nodelist":t=i[o];break;case"render_context":r=i[o];break;case"heading_level":n=i[o];break;case"target_id":i[o];break;case"inline_heading":i[o];break;case"annotations":i[o]}}}var s=function(){var n=e;return me(n.render_inline_content,n,t,r)}(),l=function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"x":e=n[a];break;case"c":t=n[a]}}}e=me(ot,null,e);return Ae(Se(Ut(function(){var t=e;return me(t.rstrip,t)}(),bt(1),null,1),".,:;?!"))?e:Pt(e,t)};if(Ae(St(n,1)))return"{}\n{}".format(s,xt("=",me(Te,null,s)));if(Ae(St(n,2)))return"{}\n{}".format(s,xt("-",me(Te,null,s)));if(Ae(St(n,3)))return"{}\n{}".format(s,xt("~",me(Te,null,s)));if(Ae(St(n,4)))return"{}  ".format(me(l,null,s,":"));if(Ae(St(n,5)))return"    {}  ".format(me(l,null,s,":"));if(Ae(St(n,6)))return"        {}  ".format(me(l,null,s,":"));var _=me(Yt,null,"Bad heading_level={}, expected 1..6".format(n));throw _.__cause__=null,_}))},get render_verbatim(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"value":t=n[a];break;case"annotations":n[a];break;case"target_id":n[a]}}}return t}))},get render_link(){return de(this,(function(e,t,r,n,a,i){if(void 0===i||null!=i&&i.hasOwnProperty("__kwargtrans__"))i=null;if(arguments.length){var o=arguments.length-1;if(arguments[o]&&arguments[o].hasOwnProperty("__kwargtrans__")){var s=arguments[o--];for(var l in s)switch(l){case"self":e=s[l];break;case"ref_type":t=s[l];break;case"href":r=s[l];break;case"display_nodelist":n=s[l];break;case"render_context":a=s[l];break;case"annotations":i=s[l]}}}var _=function(){var t=e;return me(t.render_nodelist,t,n,ye({render_context:a,is_block_level:!1}))}();return Ae(Ae(e.display_href_urls)&&!Ae(function(){var e=r;return me(e.startswith,e,"#")}()))?"{} <{}>".format(_,r):_}))},get render_float(){return de(this,(function(e,t,r){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var a=arguments[n--];for(var i in a)switch(i){case"self":e=a[i];break;case"float_instance":t=a[i];break;case"render_context":r=a[i]}}}var o=[];Ae(null!==t.number)?function(){var n,a,i=o;me(i.append,i,me((a=e).render_join,a,[t.float_type_info.float_caption_name," ",(n=e,me(n.render_nodelist,n,t.formatted_counter_value_llm.nodes,ye({render_context:r})))]))}():Ae(t.caption_nodelist)&&function(){var e=o;me(e.append,e,t.float_type_info.float_caption_name)}(),Ae(t.caption_nodelist)&&(function(){var e=o;me(e.append,e,": ")}(),function(){var n,a=o;me(a.append,a,me((n=e).render_nodelist,n,t.caption_nodelist,ye({render_context:r})))}());var s=null;if(Ae(o))s=function(){var t=e;return me(t.render_join,t,o)}();var l=function(){var n=e;return me(n.render_nodelist,n,t.content_nodelist,ye({render_context:r,is_block_level:!0}))}();if(Ae(null!==s))var _=function(){var t=e;return me(t.render_join_blocks,t,[l,s])}();else _=l;return Pt(Pt(Pt(Pt(e.float_separator_top,"\n"),_),"\n"),e.float_separator_bottom)}))},get render_graphics_block(){return de(this,(function(e,t){if(arguments.length){var r=arguments.length-1;if(arguments[r]&&arguments[r].hasOwnProperty("__kwargtrans__")){var n=arguments[r--];for(var a in n)switch(a){case"self":e=n[a];break;case"graphics_resource":t=n[a]}}}return"{}".format(Pt(Pt("[",t.src_url),"]"))}))},cells_column_sep:"   ",get render_cells(){return de(this,(function(e,t,r,n){if(void 0===n||null!=n&&n.hasOwnProperty("__kwargtrans__"))n=null;if(arguments.length){var a=arguments.length-1;if(arguments[a]&&arguments[a].hasOwnProperty("__kwargtrans__")){var i=arguments[a--];for(var o in i)switch(o){case"self":e=i[o];break;case"cells_model":t=i[o];break;case"render_context":r=i[o];break;case"target_id":n=i[o]}}}for(var s=[],l=t.cells_data,_=0;_<Te(l);_++){var u=Ft(l,_),c=function(){var t=e;return me(t.render_nodelist,t,u.content_nodes,ye({render_context:r}))}(),f=function(){var e=c;return me(e.py_split,e,"\n")}(),d=!1;if(Ae(Se("H",u.styles)))d=!0;!function(){var e=s;me(e.append,e,wt({cell:u,rendered_contents_lines:f,width:me(He,null,function(){for(var e=[],t=f,r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,me(Te,null,n))}return e}()),is_header:d}))}()}var h=[];for(l=s,_=0;_<Te(l);_++){var p=Ft(l,_);!function(){var e=h;me(e.append,e,me("\n".join,"\n",function(){for(var e=[],t=Ft(p,"rendered_contents_lines"),r=0;r<Te(t);r++){var n=Ft(t,r);me(e.append,e,"    {}".format(n))}return e}()))}()}return me("\n".join,"\n",h)}))}});var ic=ve("ZooHtmlFragmentRenderer",[Ku],{inline_heading_add_space:!1,html_blocks_joiner:"",get use_link_target_blank(){return de(this,(function(e,t){return!function(e){return e.startsWith("#")||e.startsWith("/")&&!e.startsWith("//")||e.startsWith("javascript:")}(t)}))}}),oc=ve("ZooTextFragmentRenderer",[ac],{display_href_urls:!1,float_separator_top:"[figure]",float_separator_bottom:""});function sc(e){var t=new oc;return e.render_standalone(t)}var lc,_c,uc,cc=t(m)("zoodb.zoollm");function fc(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)return"";var n=Object.assign({list_joiner:"\n",list_item_wrapper:function(e){return e}},r),a=n.list_joiner,i=n.list_item_wrapper;if("string"==typeof e)return t.fragment_renderer.render_verbatim(e);if("number"==typeof e)return t.fragment_renderer.render_verbatim(Number(e).toString());if(e&&e.length)return e.map((function(e){return i(fc(e,t,r))})).join(a);if(e&&"render"in e)return e.render(t);throw cc("Cannot render %O",e),new Error("No idea how to render x = ".concat(e))}function dc(e){return null!=e&&(""!==e&&("is_empty"in e&&!e.is_empty()||void 0!==e.length&&e.length>0))}var hc=t(m)("zoodb.dbprocessor.llmcontent");function pc(e){var t=e._llm;if(!t)return{enabled:!1,standalone:!1};if("full"===t||!0===t)return{enabled:!0,standalone:!1};if("standalone"===t)return{enabled:!0,standalone:!0};var r=t.enabled,n=t.standalone;return{enabled:null!=r&&r,standalone:null!=n&&n}}var gc,vc=function(e){"use strict";q(r,e);var t=$(r);function r(e){var n,a,i;if(M(this,r),(n=t.call(this)).config=Object.assign({},e),!n.config.llm_environment)throw new Error("You need to specify the config field ‘llm_environment’ for LLMContentCompiler!");return null!==(a=(_c=n.config).content_scanner)&&void 0!==a||(_c.content_scanner=null),null!==(i=(uc=n.config).llm_error_policy)&&void 0!==i||(uc.llm_error_policy="abort"),n}return R(r,[{key:"initialize_zoo",value:function(){var e;null!==(e=(lc=this.config).object_types)&&void 0!==e||(lc.object_types=this.zoodb.object_types)}},{key:"process_zoo",value:function(){if(null==this.zoodb)throw new Error("No zoodb set!");var e=!0,t=!1,r=void 0;try{for(var n,a=this.config.object_types[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var i=n.value,o=this.zoodb.schema(i),s=!0,l=!1,_=void 0;try{for(var u,c=Object.entries(this.zoodb.objects[i])[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var f=d(u.value,2),h=f[0],p=f[1];this.compile_object(i,h,p,o)}}catch(e){l=!0,_=e}finally{try{s||null==c.return||c.return()}finally{if(l)throw _}}}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}},{key:"prepare_zoo_update_objects",value:function(e){var t=!0,r=!1,n=void 0,a=!0,i=!1,o=void 0;try{for(var s,l=Object.entries(e)[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var _=d(s.value,2),u=_[0],c=_[1];try{for(var f,h=Object.entries(c)[Symbol.iterator]();!(t=(f=h.next()).done);t=!0){var p=d(f.value,2),g=p[0];p[1];this.config.content_scanner.unregister_all_from_object(u,g)}}catch(e){r=!0,n=e}finally{try{t||null==h.return||h.return()}finally{if(r)throw n}}}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}}},{key:"compile_llm",value:function(e,t){var r,n=t.llm_options,a=t.fieldschema,i=t.object_schema,o=t.object_type,s=t.object,l=t.fieldname;if(cu(e))return e;if(null==n){if(null==a){var _=_e(i),u=!0,c=!1,f=void 0;try{for(var d,h=_[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var p=d.value;if(p.fieldname===l){a=p.fieldschema;break}}}catch(e){c=!0,f=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw f}}if(null==a)throw new Error("Couldn't find field schema for ‘".concat(l,"’ in object_schema"))}n=pc(a)}var g=null==s?void 0:s._zoodb.id,v=null==s||null===(r=s._zoodb)||void 0===r?void 0:r.source_file_path,m=new cr(o,g,v),y=m.toString()+" .".concat(l);null!=e||(e="");var w=null;try{var k;w=this.config.llm_environment.make_fragment(e,sr({standalone_mode:null!==(k=n.standalone)&&void 0!==k&&k,resource_info:m,what:y}))}catch(e){var b=void 0!==e.msg?e.msg+"\n"+e.stack:e;if(console.error("Error while compiling LLM content for ".concat(m," ")+"— field ‘".concat(l,"’: "),b),"abort"==this.config.llm_error_policy)throw hc("LLM Error & policy is 'abort', aborting compilation"),e;if("continue"!=this.config.llm_error_policy)throw new Error("Invalid llm_error_policy: ‘".concat(this.config.llm_error_policy,"’, ")+"expected 'abort' or 'continue'");hc("Continuing despite LLM Error (llm_error_policy is 'continue')"),w=this.config.llm_environment.make_fragment("\\textbf{LLM ERROR "+"(\\begin{verbatimtext}".concat(y," (‘").concat(l,"’)\\end{verbatimtext}):} ")+"\\begin{verbatimtext}".concat(b,"\\end{verbatimtext}"),sr({standalone_mode:!0,resource_info:m,what:"ERROR-MESSAGE:".concat(y)}))}return null!=this.config.content_scanner&&this.config.content_scanner.scan_fragment(w),w}},{key:"_iter_llm_fields",value:function(e,t){var r,n,a,i,o,s,l,_,u,c,f,d,p;return h(this,(function(h){switch(h.label){case 0:r=!0,n=!1,a=void 0,h.label=1;case 1:h.trys.push([1,6,7,8]),i=le(e,t,{provide_parent:!0})[Symbol.iterator](),h.label=2;case 2:return(r=(o=i.next()).done)?[3,5]:(s=o.value,l=s.fieldname,_=s.fieldvalue,u=s.fieldschema,c=s.parent,f=s.parent_index,(d=pc(u)).enabled?[4,{fieldname:l,fieldvalue:_,fieldschema:u,parent:c,parent_index:f,llm_options:d}]:[3,4]);case 3:h.sent(),h.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return p=h.sent(),n=!0,a=p,[3,8];case 7:try{r||null==i.return||i.return()}finally{if(n)throw a}return[7];case 8:return[2]}}))}},{key:"compile_object",value:function(e,t,r,n){hc("Compiling LLM content - ".concat(e," ‘").concat(t,"’")),r._zoodb.llm_fields=[];var a=!0,i=!1,o=void 0;try{for(var s,l=this._iter_llm_fields(r,n)[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var _=s.value,u=_.fieldname,c=_.fieldvalue,f=(_.fieldschema,_.parent),d=_.parent_index,h=_.llm_options;r._zoodb.llm_fields.push(u),f[d]=this.compile_llm(c,{object_type:e,llm_options:h,object:r,fieldname:u})}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}}},{key:"prepare_data_dump",value:function(e,t){if(t.llm_keep_fragment_instances)return e;throw new Error("Operation not supported!")}}]),r}(re),mc=t(m)("eczoo_jscomponents.codegraph");function yc(e,t){if(-1===e.indexOf("[TREEDIRECTION]"))return function(t){return t.connectedEdges(e)};var r;if("children"===t)r="target","source";else{if("parents"!==t)throw new Error("treeDirection must be 'children' or 'parents'");r="source","target"}return function(t){var n=t.cy().collection();return t.forEach((function(t){if(t.isNode()){var a=e.replace("[TREEDIRECTION]","[".concat(r,'="').concat(t.id(),'"]')),i=t.connectedEdges(a);n.merge(i)}})),n}}t(z).use(t(G));var wc=function(){"use strict";function e(r){var n=r.eczoodb,a=r.graphOptions,i=r.displayOptions;M(this,e),mc("EczCodeGraph constructor"),this.getNodeIdCode=e.getNodeIdCode,this.getNodeIdDomain=e.getNodeIdDomain,this.eczoodb=n,this.graphOptions=t(D).merge({graphRootNodesPrelayoutHints:{},isolationRelationSelector:{primary:"[TREEDIRECTION][_primaryParent=1]",secondary:'[TREEDIRECTION], [_relType="cousin"]'},rootPositioning:{rootAbstractCodesXSpacing:180,rootAbstractCodesYPosition:100,domainNodesXSpacing:180,domainNodesYPosition:0}},null!=a?a:{}),this.displayOptions=t(D).merge({displayMode:"all",modeIsolateNodesOptions:{nodeIds:null,redoLayout:!1,range:{parents:{primary:5,secondary:1},children:{primary:2,secondary:1}}},domainColoring:!0,cousinEdgesShown:!1,secondaryParentEdgesShown:!1,lowDegreeNodesDimmed:{enabled:!1,degree:8,dimLeaf:!1}},null!=i?i:{}),this._initialLayoutInvalidated=!0}return R(e,[{key:"initialize",value:function(){var e=this;return s((function(){return h(this,(function(t){switch(t.label){case 0:return mc("EczCodeGraph initialize()"),[4,e.initGraph()];case 1:return t.sent(),mc("EczCodeGraph initialize() done"),[2]}}))}))()}},{key:"initGraph",value:function(e){var r=this;return s((function(){var e,n,a,i,o,s,l,_,u,c,f,p,g,v,m,y,w,k,b,x,O,P,E,C,N,S,L,T,A,M,I,R,D,j,F,G,U,q,H,V,B,W,Y,X,$,Q,Z,K,J,ee,te,re,ne,ae,ie,oe,se,le,_e,ue,ce,fe,de,he,pe,ge,ve,me,ye,we,ke,be,xe,Oe,Pe,Ee,Ce,Ne,Se,Le,Te,Ae,Me;return h(this,(function(h){mc("EczCodeGraph: initGraph() ..."),e=[],n=[],a=0,i={},o=!0,s=!1,l=void 0;try{for(_=Object.entries(r.eczoodb.objects.domain)[Symbol.iterator]();!(o=(u=_.next()).done);o=!0)c=d(u.value,2),f=c[0],p=c[1],mc("Adding domain =",p),g=r.getNodeIdDomain(f),cu(v=p.name)&&(v=sc(p.name)),e.push({data:{id:g,label:v,_isDomain:1,_domainId:f,_domainColorIndex:a}}),i[f]=a,a=(a+1)%xc}catch(e){s=!0,l=e}finally{try{o||null==_.return||_.return()}finally{if(s)throw l}}m=!0,y=!1,w=void 0;try{for(k=Object.entries(r.eczoodb.objects.code)[Symbol.iterator]();!(m=(b=k.next()).done);m=!0){if(x=d(b.value,2),O=x[0],P=x[1],mc("adding code =",P),E=r.eczoodb.code_short_name(P),C=E,cu(E)&&(C=sc(E)),C=C.replace(/\\\(|\\\)/g,""),N=r.getNodeIdCode(O),S={id:N,label:C,_codeId:O,_isCode:1},e.push({data:S}),L=P.relations.defines_kingdom,mc({code:P,thisCodeNodeId:N,definesKingdomRelation:L}),L&&L.length)T=L[0].kingdom,A=T.kingdom_id,M=T.parent_domain,I=M.domain_id,R=r.getNodeIdDomain(I),cu(D=T.name)&&(D=sc(D)),Object.assign(S,{_isKingdom:1,_kingdomId:A,_kingdomName:D,_parentDomainId:I,_domainColorIndex:i[I]}),n.push({data:{_relType:"parent",_primaryParent:1,source:N,target:R}});else{for(B=P;(null==(null===(j=B.relations)||void 0===j?void 0:j.defines_kingdom)||0==(null===(F=B.relations)||void 0===F||null===(G=F.defines_kingdom)||void 0===G?void 0:G.length))&&(null===(U=B.relations)||void 0===U||null===(q=U.parents)||void 0===q?void 0:q.length)>0;)B=B.relations.parents[0].code;mc("Code ‘".concat(O,"’'s primary-parent-root is"),B),null!=(null===(H=B.relations)||void 0===H?void 0:H.defines_kingdom)&&(null===(V=B.relations)||void 0===V?void 0:V.defines_kingdom.length)>0?(W=B.relations.defines_kingdom[0].kingdom,Y=W.kingdom_id,X=W.parent_domain.domain_id,Object.assign(S,{_hasParentKingdom:1,_parentKingdomId:Y,_parentDomainId:X,_domainColorIndex:i[X]})):Object.assign(S,{_hasParentKingdom:0})}for($=0,Q=["parent","cousin"];$<Q.length;$++)if(Z=Q[$],K=P.relations[Z+"s"],mc("code's ".concat(Z," relations is: "),K),null!=K)for(J=0;J<K.length;++J)ee=K[J],te={_relType:Z,source:N,target:r.getNodeIdCode(ee.code.code_id)},"parent"===Z&&(te._primaryParent=0==J&&null==L?1:0),n.push({data:te})}}catch(e){y=!0,w=e}finally{try{m||null==k.return||k.return()}finally{if(y)throw w}}(re={}).elements={nodes:e,edges:n},re.style=Oc,r.cy=t(z)(re),ne=r.graphOptions.rootPositioning,ae=ne.rootAbstractCodesXSpacing,ie=ne.rootAbstractCodesYPosition,oe=ne.domainNodesXSpacing,se=ne.domainNodesYPosition,le={},_e=Object.keys(r.eczoodb.objects.domain),ue=!0,ce=!1,fe=void 0;try{for(de=_e.entries()[Symbol.iterator]();!(ue=(he=de.next()).done);ue=!0)pe=d(he.value,2),ge=pe[0],ve=pe[1],me=r.getNodeIdDomain(ve),le[me]={position:{x:(ge-(_e.length-1)/2)*ae,y:ie},radiusOffset:50,direction:Math.PI-Math.PI*(ge+.5)/_e.length,angularSpread:Math.PI/_e.length}}catch(e){ce=!0,fe=e}finally{try{ue||null==de.return||de.return()}finally{if(ce)throw fe}}ye=r.getOverallRootNodeIds({includeDomains:!1}),mc("rootCodeNodeIds = ",ye),we=!0,ke=!1,be=void 0;try{for(xe=ye.entries()[Symbol.iterator]();!(we=(Oe=xe.next()).done);we=!0)Pe=d(Oe.value,2),Ee=Pe[0],Ce=Pe[1],le[Ce]={position:{x:(Ee-(ye.length-1)/2)*oe,y:se},radiusOffset:50,direction:Math.PI+Math.PI*(Ee+.5)/ye.length,angularSpread:Math.PI/ye.length}}catch(e){ke=!0,be=e}finally{try{we||null==xe.return||xe.return()}finally{if(ke)throw be}}mc("graphRootNodesPrelayoutHints = ",le),r.graphOptions.graphRootNodesPrelayoutHints=le,Ne=!0,Se=!1,Le=void 0;try{for(Te=Object.keys(r.graphOptions.graphRootNodesPrelayoutHints)[Symbol.iterator]();!(Ne=(Ae=Te.next()).done);Ne=!0)Me=Ae.value,r.cy.getElementById(Me).addClass("graphRoot")}catch(e){Se=!0,Le=e}finally{try{Ne||null==Te.return||Te.return()}finally{if(Se)throw Le}}return r.setDisplayMode(null),r.setDomainColoring(null),r.setCousinEdgesShown(null),r.setSecondaryParentEdgesShown(null),r.setLowDegreeNodesDimmed(null),[2]}))}))()}},{key:"mountInDom",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.style.backgroundColor="rgb(255, 236, 217)",this.cy.mount(e);var n,a=t(D).merge({},r);null!==(n=(gc=a).matchWebPageFonts)&&void 0!==n||(gc.matchWebPageFonts=!0);var i=Pc(a);this.cy.style().resetToDefault().fromJson(i).update()}},{key:"domainColoring",value:function(){return this.displayOptions.domainColoring}},{key:"setDomainColoring",value:function(e){if(null!=e){if((e=!!e)===this.displayOptions.domainColoring)return;this.displayOptions.domainColoring=e}this.displayOptions.domainColoring?this.cy.nodes().addClass("useDomainColors"):this.cy.nodes().removeClass("useDomainColors")}},{key:"cousinEdgesShown",value:function(){return this.displayOptions.cousinEdgesShown}},{key:"setCousinEdgesShown",value:function(e){if(null!=e){if((e=!!e)===this.displayOptions.cousinEdgesShown)return;this.displayOptions.cousinEdgesShown=e}var t=this.cy.edges('[_relType="cousin"]');this.displayOptions.cousinEdgesShown?t.removeClass("hidden"):t.addClass("hidden")}},{key:"secondaryParentEdgesShown",value:function(){return this.displayOptions.secondaryParentEdgesShown}},{key:"setSecondaryParentEdgesShown",value:function(e){if(null!=e){if((e=!!e)===this.displayOptions.secondaryParentEdgesShown)return;this.displayOptions.secondaryParentEdgesShown=e}var t=this.cy.edges("[_primaryParent=0]");this.displayOptions.secondaryParentEdgesShown?t.removeClass("hidden"):t.addClass("hidden")}},{key:"lowDegreeNodesDimmed",value:function(){return this.displayOptions.lowDegreeNodesDimmed}},{key:"setLowDegreeNodesDimmed",value:function(e){if(null!=e){if(t(D).isEqual(this.displayOptions.lowDegreeNodesDimmed,e))return;this.displayOptions.lowDegreeNodesDimmed=e}var r=this.displayOptions.lowDegreeNodesDimmed,n=r.enabled,a=r.degree,i=r.dimLeaf;if(this.cy.elements().removeClass("lowDegreeDimmed"),n){null!=a||(a=8),null!=i||(i=!0);var o="[[degree < ".concat(a,"]]");i||(o+="[[indegree >= 1]]"),this.cy.nodes(o).addClass("lowDegreeDimmed"),this.cy.edges((function(e){return e.source().is(".lowDegreeDimmed")||e.target().is(".lowDegreeDimmed")})).addClass("lowDegreeDimmed")}}},{key:"displayMode",value:function(){return this.displayOptions.displayMode}},{key:"modeIsolateNodesOptions",value:function(){return this.displayOptions.modeIsolateNodesOptions}},{key:"setDisplayMode",value:function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).modeIsolateNodesOptions,n=this;if(mc("setDisplayMode(): ",{displayMode:e,modeIsolateNodesOptions:r}),null!=e){if(e===this.displayOptions.displayMode){if("all"===e)return;if("isolate-nodes"!==e)throw new Error("Invalid display mode: ".concat(e));if(t(D).isEqual(r,this.displayOptions.modeIsolateNodesOptions))return void mc("setDisplayMode(): (nothing to update). ",{"this.displayOptions":this.displayOptions,modeIsolateNodesOptions:r})}if(this.displayOptions.displayMode=e,"all"===e);else{if("isolate-nodes"!==e)throw new Error("Invalid display mode: ".concat(e));t(D).merge(this.displayOptions.modeIsolateNodesOptions,r)}}if(this.cy.elements().removeClass(["isolationRoot","isolationSelected","isolationSecondary","isolationHidden"]),"all"===this.displayOptions.displayMode)mc("displayMode is 'all'");else{if("isolate-nodes"!==this.displayOptions.displayMode)throw new Error("Unknown displayMode = ".concat(this.displayOptions.displayMode));mc("applying displayMode=".concat(this.displayOptions.displayMode," with"),{displayOptions:this.displayOptions});for(var a=this.displayOptions.modeIsolateNodesOptions,i=a.nodeIds,o=(a.redoLayout,a.range),s={},l=0,_=["parents","children"];l<_.length;l++){var u=_[l];s[u]={};for(var c=0,f=["primary","secondary"];c<f.length;c++){var d=f[c],h=this.graphOptions.isolationRelationSelector[d];if(!1!==h){var p=yc(h,u);s[u][d]=p}else s[u][d]=!1}}mc({relationEdgesGetters:s});var g=this.cy.collection();i.forEach((function(e){return g.merge(n.cy.getElementById(e))}));for(var v=g,m=g,y=0;y<o.children.primary;++y){mc("computing isolation mode elements, elx1 = ",v);var w=s.children.primary(v);v=v.union(w).union(w.connectedNodes())}for(var k=v,b=0;b<o.children.secondary;++b){var x=s.children.secondary(k);k=v.union(x).union(x.connectedNodes())}for(var O=0;O<o.parents.primary;++O){mc("computing isolation mode elements, elx2 = ",m);var P=s.parents.primary(m);m=m.union(P).union(P.connectedNodes())}for(var E=m,C=0;C<o.parents.secondary;++C){var N=s.parents.secondary(m);E=m.union(N).union(N.connectedNodes())}var S=v.union(m),L=k.union(E),T=L.union(L.connectedNodes()).union(S),A=T.not(S);mc("elxall = ",T),mc("elxlast = ",A),g.addClass("isolationRoot"),S.addClass("isolationSelected"),A.addClass(["isolationSelected","isolationSecondary"]),this.cy.elements().not(T).addClass("isolationHidden")}}},{key:"initialLayoutInvalidated",value:function(){return this._initialLayoutInvalidated}},{key:"prelayout",value:function(e,r){var n=this;return s((function(){var a,i;return h(this,(function(o){if("all"===n.displayOptions.displayMode)a={primary:"[TREEDIRECTION][_primaryParent=1]",secondary:!1};else{if("isolate-nodes"!==n.displayOptions.displayMode)throw new Error("unknown displayMode=".concat(n.displayOptions.displayMode));a=n.graphOptions.isolationRelationSelector}return r=t(D).merge({origin:{position:{x:0,y:0},angularSpread:2*Math.PI,useWeights:!1},relationSelector:a,weightCalcLevels:6,weightCalcSecondaryFactor:.3},r),mc("prelayout(): Using rootNodeIds =",e),i=new kc({cy:n.cy,rootNodeIds:e,options:r,graphRootNodesPrelayoutHints:n.graphOptions.graphRootNodesPrelayoutHints}),n.cy.batch((function(){n.cy.elements().removeClass(["prelayoutPositioned","prelayoutOutOfLayoutTree","prelayoutRoot"]);try{i.run()}catch(e){return void console.error(e)}n.cy.edges((function(e){return e.target().is(".prelayoutPositioned")&&e.source().is(".prelayoutPositioned")})).addClass("prelayoutPositioned"),n.cy.elements(":visible").not(".prelayoutPositioned").addClass("prelayoutOutOfLayoutTree")})),[2]}))}))()}},{key:"getOverallRootNodeIds",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeDomains,t=this;null!=e||(e=!0);var r=[];e&&(r=Object.keys(this.eczoodb.objects.domain).map((function(e){return t.getNodeIdDomain(e)})));var n=Object.entries(this.eczoodb.objects.code).filter((function(e){var t,r,n,a=d(e,2),i=(a[0],a[1]);return!(null===(t=i.relations)||void 0===t||null===(r=t.parents)||void 0===r?void 0:r.length)&&!(null===(n=i.relations)||void 0===n?void 0:n.defines_kingdom)})).map((function(e){var r=d(e,2),n=r[0];r[1];return t.getNodeIdCode(n)}));return[].concat(r,n)}},{key:"layout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.animate,n=e.forceRelayout,a=e.prelayoutOptions,i=this;return s((function(){var e,o,s,l,_,u,c,f,d,p;return h(this,(function(h){switch(h.label){case 0:return null!=r||(r=!0),n&&(i._initialLayoutInvalidated=!0),mc("code graph layout()"),e=null,o=!0,s=!0,"all"===i.displayOptions.displayMode?(i._initialLayoutInvalidated||(o=!1,s=!1),e=i.getOverallRootNodeIds(),a=t(D).merge({},a)):"isolate-nodes"===i.displayOptions.displayMode&&(l=i.displayOptions.modeIsolateNodesOptions,_=l.nodeIds,(u=l.redoLayout)?e=_:(o=!1,e=i.getOverallRootNodeIds()),c={position:{x:0,y:0},radius:80},1===_.length&&t(D).merge(c,{radius:0}),a=t(D).merge({origin:t(D).merge({direction:Math.PI/2,angularSpread:Math.PI},c)},a),u||(s=!1),i.cy.nodes(".prelayoutPositioned").size,(o||s)&&(i._initialLayoutInvalidated=!0)),o?[4,i.prelayout(e,a)]:[3,2];case 1:h.sent(),h.label=2;case 2:return s?(mc("Running fcose layout ..."),f=[].concat(e.map((function(e){return{nodeId:e,position:i.cy.getElementById(e).position()}}))),d={name:"fcose",quality:"proof",randomize:!1,animate:r,fit:!0,sampleSize:500,nodeDimensionsIncludeLabels:!0,nodeRepulsion:function(e){return 1e5},idealEdgeLength:function(e){return 1===e.data("_primaryParent")?100:300},edgeElasticity:function(e){return 1===e.data("_primaryParent")?.3:.01},numIter:5e4,gravity:0,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:f},p=new Promise((function(e){mc("in promise - creating and running layout"),i.cy.elements((function(e){return e.visible()})).layout(t(D).merge({ready:function(){return e()},stop:function(){return e()}},d)).run()})),mc("laying out (fcose) - waiting for promise."),[4,p]):[2];case 3:return h.sent(),"all"===i.displayOptions.displayMode&&o&&s&&(i._initialLayoutInvalidated=!1),mc("done!"),[2]}}))}))()}}],[{key:"getNodeIdCode",value:function(e){return"c_".concat(e)}},{key:"getNodeIdDomain",value:function(e){return"d_".concat(e)}}]),e}(),kc=function(){"use strict";function e(r){var n=r.cy,a=r.rootNodeIds,i=r.options,o=r.graphRootNodesPrelayoutHints;M(this,e),this.cy=n,this.rootNodeIds=a,this.graphRootNodesPrelayoutHints=o,this.options=t(D).merge({trees:{children:{primary:!0,secondary:1},parents:{primary:!0,secondary:1}},relationSelector:{primary:"",secondary:""},origin:{position:{x:0,y:0},radius:50,angularSpread:2*Math.PI,direction:Math.PI/2,useWeights:!1},radiusSegmentLevels:[200,200],radiusSegmentLevelFactor:1.1,weightCalcLevels:2},i)}return R(e,[{key:"run",value:function(){var e=[],t={},r={},n=[],a=!0,i=!1,o=void 0;try{for(var s,l=this.rootNodeIds[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var _=s.value,u=this.graphRootNodesPrelayoutHints[_];null!=u?r[_]=u:n.push(_)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}var c=n.length,f=Math.max(n.length-1,1),h=this.options.origin;mc("Will need to auto position ".concat(c," root nodes"),{origin:h});var p=!0,g=!1,v=void 0;try{for(var m,y=n.entries()[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var w=d(m.value,2),k=w[0],b=w[1],x=k/f;1===f&&(x=.5);var O=h.direction+(x-.5)*h.angularSpread,P=h.radius,E={x:h.position.x+P*Math.cos(O),y:h.position.y+P*Math.sin(O)};r[b]={position:E,radiusOffset:P,direction:O,angularSpread:h.angularSpread/c}}}catch(e){g=!0,v=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw v}}var C=!0,N=!1,S=void 0;try{for(var L,T=Object.entries(r)[Symbol.iterator]();!(C=(L=T.next()).done);C=!0){var A=d(L.value,2),M=A[0],I=A[1];if(mc("Prelayout - Prepping root node ".concat(M),{hints:I}),t[M]={position:I.position,isRoot:!0,relatedAs:"root"},this.options.trees.children){var R=this.options.trees.children;e.push(new bc({cy:this.cy,root:{nodeId:M,radius:I.radiusOffset,position:I.position,direction:I.direction,angularSpread:I.angularSpread},options:this.options,branchOptions:{treeDirection:"children",flipDirection:!1,tree:R},positionedNodesData:t}))}if(this.options.trees.parents){var D=this.options.trees.parents;e.push(new bc({cy:this.cy,root:{nodeId:M,radius:I.radiusOffset,position:I.position,direction:I.direction,angularSpread:I.angularSpread},options:this.options,branchOptions:{treeDirection:"parents",flipDirection:!0,tree:D},positionedNodesData:t}))}}}catch(e){N=!0,S=e}finally{try{C||null==T.return||T.return()}finally{if(N)throw S}}var j=!0,z=!1,F=void 0;try{for(var G,U=e[Symbol.iterator]();!(j=(G=U.next()).done);j=!0){G.value.positionAndMarkNodesInData()}}catch(e){z=!0,F=e}finally{try{j||null==U.return||U.return()}finally{if(z)throw F}}var q=!0,H=!1,V=void 0;try{for(var B,W=Object.entries(t)[Symbol.iterator]();!(q=(B=W.next()).done);q=!0){var Y=d(B.value,2),X=Y[0],$=Y[1],Q=this.cy.getElementById(X),Z=$.position,K=$.isRoot,J=$.relatedAs;Q.addClass(["prelayoutPositioned","prelayoutRelatedAs_".concat(J)]),K&&Q.addClass(["prelayoutPositioned","prelayoutRoot"]),Q.position(Z)}}catch(e){H=!0,V=e}finally{try{q||null==W.return||W.return()}finally{if(H)throw V}}}}]),e}(),bc=function(){"use strict";function e(r){var n=r.cy,a=r.root,i=r.options,o=r.branchOptions,s=r.positionedNodesData;M(this,e),this.cy=n,this.root=a,this.rootNode=this.cy.getElementById(this.root.nodeId),this.options=i,this.branchOptions=t(D).merge({treeDirection:"children",flipDirection:!1},o),this.positionedNodesData=s,this.nodeOrderinginfoByLevel=null}return R(e,[{key:"_computeNodeInfos",value:function(){for(var e=[],t=this.options,r=new Set,n=[{nodeId:this.root.nodeId,level:0,treeDepthRemaining:Object.assign({},this.branchOptions.tree),parentNodeOrderingInfo:null,connectedNodesInfos:[],totalNumDescendants:0,numDescendants:[],relatedAs:"root"}],a=function(e,t){var r=e.source(),n=e.target();return r.id()===t?n:r},i={},o=0,s=["primary","secondary"];o<s.length;o++){var l=s[o],_=t.relationSelector[l];if(!1!==_){var u=yc(_,this.branchOptions.treeDirection);i[l]=u}else i[l]=!1}e.push(n);for(var c=0;n.length;){var f=[],d=!0,h=!1,p=void 0;try{for(var g,v=n[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){for(var m=g.value,y=m.nodeId,w=m.parentNodeOrderingInfo,k=m.treeDepthRemaining,b=w,x=0;null!=b;){for(b.totalNumDescendants+=1;b.numDescendants.length<=x;)b.numDescendants.push(0);b.numDescendants[x]+=1,b=b.parentNodeOrderingInfo,x+=1}for(var O=0,P=["primary","secondary"];O<P.length;O++){var E,C,N=P[O];if(0!==k[N]){var S=i[N];if(!1!==S){var L=S(this.cy.getElementById(y)),T=[],A=!0,M=!1,I=void 0;try{for(var R,D=L[Symbol.iterator]();!(A=(R=D.next()).done);A=!0){var z=a(R.value,y).id();if(!this.positionedNodesData.hasOwnProperty(z)&&!r.has(z)){r.add(z);var F=Object.assign({},k);!0!==F[N]&&(F[N]-=1),"secondary"===N&&(F.primary=0),T.push({nodeId:z,level:c+1,parentNodeOrderingInfo:m,connectedNodesInfos:[],totalNumDescendants:0,numDescendants:[],treeDepthRemaining:F,relatedAs:N})}}}catch(e){M=!0,I=e}finally{try{A||null==D.return||D.return()}finally{if(M)throw I}}(E=m.connectedNodesInfos).push.apply(E,(0,j.default)(T)),(C=f).push.apply(C,(0,j.default)(T))}}}}}catch(e){h=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(h)throw p}}e.push(f),n=f,c+=1}this.nodeOrderinginfoByLevel=e}},{key:"_computeNodeWeights",value:function(){var e=this,r=!0,n=!1,a=void 0;try{for(var i,o=this.nodeOrderinginfoByLevel.entries()[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=d(i.value,2);s[0];s[1].forEach((function(r){var n,a=Math.max(1,null!==(n=t(D).sum(r.numDescendants.slice(0,e.options.weightCalcLevels)))&&void 0!==n?n:0);"secondary"===r.relatedAs&&(a*=e.options.weightCalcSecondaryFactor),r._weight=a}))}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}}},{key:"positionAndMarkNodesInData",value:function(){this._computeNodeInfos(),this._computeNodeWeights();var e=this.root.direction;this.branchOptions.flipDirection&&(e=-e),this._positionNodeChildren({node:this.rootNode,nodePosition:this.root.position,nodeInfo:this.nodeOrderinginfoByLevel[0][0],level:1,angularSpread:this.root.angularSpread,direction:e})}},{key:"_markNodeAndSetRelativePosition",value:function(e){var t=e.node,r=e.isRoot,n=e.referencePoint,a=e.relPos,i=e.relatedAs,o={x:n.x+a.x,y:n.y+a.y},s=t.id();if(this.positionedNodesData.hasOwnProperty(s))throw new Error("Node ".concat(s," is being positioned in two different subtrees!"));return this.positionedNodesData[t.id()]={position:o,isRoot:r,relatedAs:i},o}},{key:"_positionNodesRadially",value:function(e){var r,n=e.nodeInfos,a=e.referencePoint,i=e.R,o=e.direction,s=e.angularSpread,l=e.isRoot,_=e.useWeights;null!=l||(l=!1),null!=_||(_=!0);var u=t(D).sum(n.map((function(e){return null!==(r=e._weight)&&void 0!==r?r:1}))),c=0,f=[],h=n.length,p=!0,g=!1,v=void 0;try{for(var m,y=n.entries()[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var w=d(m.value,2),k=w[0],b=w[1],x=b.nodeId,O=b._weight,P=b.relatedAs,E=this.cy.getElementById(x),C=void 0;1===h?C=.5:_?(C=c/u,l&&h>1||(C+=O/(2*u))):(C=k/h,l&&h>1||(C+=.5/h));var N=o+(C-.5)*s,S={x:i*Math.cos(N),y:i*Math.sin(N)};c+=O;var L=this._markNodeAndSetRelativePosition({node:E,referencePoint:a,relPos:S,isRoot:l,relatedAs:P}),T=O*s/u;f.push({nodeId:x,node:E,nodePosition:L,nodeInfo:b,angularSpread:T,direction:N})}}catch(e){g=!0,v=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw v}}return f}},{key:"_positionNodeChildren",value:function(e){e.node;var t=e.nodePosition,r=e.nodeInfo,n=e.level,a=e.angularSpread,i=e.direction,o=this.options;null==i&&(i=Math.atan2(t.y-this.root.position.y,t.x-this.root.position.x));for(var s=o.radiusSegmentLevels.length,l=this.root.radius,_=0;_<n;++_)l+=n<s?o.radiusSegmentLevels[n]:o.radiusSegmentLevels[s-1]*Math.pow(o.radiusSegmentLevelFactor,n-s);var u=this._positionNodesRadially({nodeInfos:r.connectedNodesInfos,referencePoint:this.root.position,R:l,direction:i,angularSpread:a}),c=!0,f=!1,d=void 0;try{for(var h,p=u[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var g=h.value;this._positionNodeChildren({node:g.node,nodePosition:g.nodePosition,nodeInfo:g.nodeInfo,level:n+1,angularSpread:g.angularSpread,direction:g.direction})}}catch(e){f=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(f)throw d}}}}]),e}(),xc=3,Oc=[{selector:"node",style:{color:"rgb(127, 48, 0)","background-color":"rgb(127, 48, 0)",label:"data(label)",width:15,height:15,"min-zoomed-font-size":10}},{selector:"node[_isDomain=1]",style:{shape:"round-rectangle",width:25,height:25}},{selector:"node[_isKingdom=1]",style:{shape:"diamond",width:25,height:25}},{selector:"node[_hasParentKingdom=0]",style:{shape:"round-diamond",color:"rgb(136, 91, 7)","background-color":"rgb(136, 91, 7)",width:20,height:20}},{selector:"node.useDomainColors[_domainColorIndex=0]",style:{color:"rgb(95,69,130)","background-color":"rgb(95,69,130)"}},{selector:"node.useDomainColors[_domainColorIndex=1]",style:{color:"rgb(50,108,110)","background-color":"rgb(50,108,110)"}},{selector:"node.useDomainColors[_domainColorIndex=2]",style:{color:"rgb(111,50,72)","background-color":"rgb(111,50,72)"}},{selector:"edge",style:{width:1,opacity:.5,"target-arrow-shape":"triangle","curve-style":"bezier","font-size":"12px"}},{selector:'edge[_relType="parent"]',style:{width:1,"line-color":"#00307f","target-arrow-color":"#00307f",color:"#00307f"}},{selector:"edge[_primaryParent=0]",style:{opacity:.25}},{selector:'edge[_relType="cousin"]',style:{width:1,"target-arrow-shape":"none","line-style":"dotted","line-color":"#00883f","target-arrow-color":"#00883f",color:"#00883f"}},{selector:".graphRoot[_isDomain!=1]",style:{width:25,height:25}},{selector:".isolationRoot",style:{color:"rgb(230,50,50)","font-weight":"bold","background-color":"rgb(230,50,50)"}},{selector:".isolationSecondary",style:{opacity:.3}},{selector:"node.isolationSecondary",style:{width:10,height:10}},{selector:".prelayoutOutOfLayoutTree",style:{color:"rgb(255,0,255)","background-color":"rgb(255,0,255)",opacity:1}},{selector:".hidden, .isolationHidden",style:{display:"none"}},{selector:".lowDegreeDimmed",style:{opacity:.15,label:""}},{selector:"node.lowDegreeDimmed",style:{width:10,height:10}},{selector:".highlight",style:{opacity:1,color:"rgb(220,80,0)","background-color":"rgb(220,80,0)",width:40,height:40,"font-size":20}},{selector:".dimmed",style:{opacity:.3}}];function Pc(e){var r={};if(null!=e||(e={}),e.matchWebPageFonts){var n,a=null!==(n=e.window)&&void 0!==n?n:window,i=a.getComputedStyle(a.document.body);r["font-family"]=i.getPropertyValue("font-family"),r["font-size"]=i.getPropertyValue("font-size"),r["font-weight"]=i.getPropertyValue("font-weight"),r["font-style"]=i.getPropertyValue("font-style")}return null!=e.fontFamily&&(r["font-family"]=e.fontFamily),null!=e.fontSize&&(r["font-size"]=e.fontSize),null!=e.fontWeight&&(r["font-weight"]=e.fontWeight),null!=e.fontStyle&&(r["font-style"]=e.fontStyle),t(D).isEmpty(r)?Oc:[].concat([{selector:"*",style:r}],Oc)}var Ec;Ec=i("47ZFg");var Cc=i("8XZMw"),Nc={};Y=i("3Ie7j");function Sc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}window,Nc=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var n=r(1),a=function(e){e&&e("core","svg",n.svg)};"undefined"!=typeof cytoscape&&a(cytoscape),e.exports=a},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==(0,Y.default)(Symbol.iterator)?function(e){return void 0===e?"undefined":(0,Y.default)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":(0,Y.default)(e)},a=r(2),i={},o={number:function(e){return null!=e&&(void 0===e?"undefined":n(e))===n(1)&&!isNaN(e)}};i.bufferCanvasImage=function(e,t){var r=t.renderer().usePaths;t.renderer().usePaths=function(){return!1},t.elements().forEach((function(e){e._private.rscratch.pathCacheKey=null,e._private.rscratch.pathCache=null}));var n=t.renderer(),i=t.mutableElements().boundingBox(),s=n.findContainerClientCoords(),l=e.full?Math.ceil(i.w):s[2],_=e.full?Math.ceil(i.h):s[3],u=o.number(e.maxWidth)||o.number(e.maxHeight),c=n.getPixelRatio(),f=1;if(void 0!==e.scale)l*=e.scale,_*=e.scale,f=e.scale;else if(u){var d=1/0,h=1/0;o.number(e.maxWidth)&&(d=f*e.maxWidth/l),o.number(e.maxHeight)&&(h=f*e.maxHeight/_),l*=f=Math.min(d,h),_*=f}u||(l*=c,_*=c,f*=c);var p=null,g=p=new a(l,_);if(l>0&&_>0){p.clearRect(0,0,l,_),e.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=e.bg,p.fillRect(0,0,l,_)),p.globalCompositeOperation="source-over";var v=n.getCachedZSortedEles();if(e.full)p.translate(-i.x1*f,-i.y1*f),p.scale(f,f),n.drawElements(p,v),p.scale(1/f,1/f),p.translate(i.x1*f,i.y1*f);else{var m=t.pan(),y={x:m.x*f,y:m.y*f};f*=t.zoom(),p.translate(y.x,y.y),p.scale(f,f),n.drawElements(p,v),p.scale(1/f,1/f),p.translate(-y.x,-y.y)}}return t.renderer().usePaths=r,g},i.svg=function(e){return i.bufferCanvasImage(e||{},this).getSerializedSvg()},e.exports=i},function(e,t,r){!function(){"use strict";var t,r,n,a,i,o=function(e,t){var r,n=Object.keys(t);for(r=0;r<n.length;r++)e=e.replace(new RegExp("\\{"+n[r]+"\\}","gi"),t[n[r]]);return e},s=function(e){var t,r,n;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",r="";do{for(r="",n=0;n<12;n++)r+=t[Math.floor(Math.random()*t.length)]}while(e[r]);return r},l=function(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic};i=function(e,t){var r,n,a,i={};for(e=e.split(","),t=t||10,r=0;r<e.length;r+=2)n="&"+e[r+1]+";",a=parseInt(e[r],t),i[n]="&#"+a+";";return i["\\xa0"]="&#160;",i}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),t={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(n=function(e,t){this.__root=e,this.__ctx=t}).prototype.addColorStop=function(e,t){var r,n=this.__ctx.__createElement("stop");n.setAttribute("offset",e),-1!==t.indexOf("rgba")?(r=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),n.setAttribute("stop-color",o("rgb({r},{g},{b})",{r:r[1],g:r[2],b:r[3]})),n.setAttribute("stop-opacity",r[4])):n.setAttribute("stop-color",t),this.__root.appendChild(n)},a=function(e,t){this.__root=e,this.__ctx=t},(r=function(e){var t,n={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((t=n).width=arguments[0],t.height=arguments[1]):t=e||n,!(this instanceof r))return new r(t);this.width=t.width||n.width,this.height=t.height||n.height,this.enableMirroring=void 0!==t.enableMirroring?t.enableMirroring:n.enableMirroring,this.canvas=this,this.__document=t.document||document,t.ctx?this.__ctx=t.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(e,t,r){void 0===t&&(t={});var n,a,i=this.__document.createElementNS("http://www.w3.org/2000/svg",e),o=Object.keys(t);for(r&&(i.setAttribute("fill","none"),i.setAttribute("stroke","none")),n=0;n<o.length;n++)a=o[n],i.setAttribute(a,t[a]);return i},r.prototype.__setDefaultStyles=function(){var e,r,n=Object.keys(t);for(e=0;e<n.length;e++)this[r=n[e]]=t[r].canvas},r.prototype.__applyStyleState=function(e){if(e){var t,r,n=Object.keys(e);for(t=0;t<n.length;t++)this[r=n[t]]=e[r]}},r.prototype.__getStyleState=function(){var e,r,n={},a=Object.keys(t);for(e=0;e<a.length;e++)n[r=a[e]]=this[r];return n},r.prototype.__applyStyleToCurrentElement=function(e){var r=this.__currentElement;this.__currentElementsToStyle;var i,s,l,_,u,c=Object.keys(t);for(i=0;i<c.length;i++)if(s=t[c[i]],l=this[c[i]],s.apply)if(l instanceof a){if(l.__ctx)for(;l.__ctx.__defs.childNodes.length;)_=l.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[_]=_,this.__defs.appendChild(l.__ctx.__defs.childNodes[0]);r.setAttribute(s.apply,o("url(#{id})",{id:l.__root.getAttribute("id")}))}else if(l instanceof n)r.setAttribute(s.apply,o("url(#{id})",{id:l.__root.getAttribute("id")}));else if(-1!==s.apply.indexOf(e)&&s.svg!==l)if("stroke"!==s.svgAttr&&"fill"!==s.svgAttr||-1===l.indexOf("rgba")){var f=s.svgAttr;if("globalAlpha"===c[i]&&(f=e+"-"+s.svgAttr,r.getAttribute(f)))continue;r.setAttribute(f,l)}else{u=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(l),r.setAttribute(s.svgAttr,o("rgb({r},{g},{b})",{r:u[1],g:u[2],b:u[3]}));var d=u[4],h=this.globalAlpha;null!=h&&(d*=h),r.setAttribute(s.svgAttr+"-opacity",d)}},r.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},r.prototype.getSerializedSvg=function(e){var t,r,n,a,o,s=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(s)&&(s=s.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),e)for(t=Object.keys(i),r=0;r<t.length;r++)n=t[r],a=i[n],(o=new RegExp(n,"gi")).test(s)&&(s=s.replace(o,a));return s},r.prototype.getSvg=function(){return this.__root},r.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},r.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)},r.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var r=this.__createElement("g");t.appendChild(r),this.__currentElement=r}var n=this.__currentElement.getAttribute("transform");n?n+=" ":n="",n+=e,this.__currentElement.setAttribute("transform",n)},r.prototype.scale=function(e,t){void 0===t&&(t=e),this.__addTransform(o("scale({x},{y})",{x:e,y:t}))},r.prototype.rotate=function(e){var t=180*e/Math.PI;this.__addTransform(o("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))},r.prototype.translate=function(e,t){this.__addTransform(o("translate({x},{y})",{x:e,y:t}))},r.prototype.transform=function(e,t,r,n,a,i){this.__addTransform(o("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:r,d:n,e:a,f:i}))},r.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},r.prototype.__applyCurrentDefaultPath=function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)},r.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},r.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(o("M {x} {y}",{x:e,y:t}))},r.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},r.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(o("L {x} {y}",{x:e,y:t})):this.__addPathCommand(o("M {x} {y}",{x:e,y:t}))},r.prototype.bezierCurveTo=function(e,t,r,n,a,i){this.__currentPosition={x:a,y:i},this.__addPathCommand(o("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:r,cp2y:n,x:a,y:i}))},r.prototype.quadraticCurveTo=function(e,t,r,n){this.__currentPosition={x:r,y:n},this.__addPathCommand(o("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:r,y:n}))};var _=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};r.prototype.arcTo=function(e,t,r,n,a){var i=this.__currentPosition&&this.__currentPosition.x,o=this.__currentPosition&&this.__currentPosition.y;if(void 0!==i&&void 0!==o){if(a<0)throw new Error("IndexSizeError: The radius provided ("+a+") is negative.");if(i===e&&o===t||e===r&&t===n||0===a)this.lineTo(e,t);else{var s=_([i-e,o-t]),l=_([r-e,n-t]);if(s[0]*l[1]!=s[1]*l[0]){var u=s[0]*l[0]+s[1]*l[1],c=Math.acos(Math.abs(u)),f=_([s[0]+l[0],s[1]+l[1]]),d=a/Math.sin(c/2),h=e+d*f[0],p=t+d*f[1],g=[-s[1],s[0]],v=[l[1],-l[0]],m=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},y=m(g),w=m(v);this.lineTo(h+g[0]*a,p+g[1]*a),this.arc(h,p,a,y,w)}else this.lineTo(e,t)}}},r.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},r.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},r.prototype.rect=function(e,t,r,n){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.closePath()},r.prototype.fillRect=function(e,t,r,n){var a;a=this.__createElement("rect",{x:e,y:t,width:r,height:n},!0),this.__closestGroupOrSvg().appendChild(a),this.__currentElement=a,this.__applyStyleToCurrentElement("fill")},r.prototype.strokeRect=function(e,t,r,n){var a;a=this.__createElement("rect",{x:e,y:t,width:r,height:n},!0),this.__closestGroupOrSvg().appendChild(a),this.__currentElement=a,this.__applyStyleToCurrentElement("stroke")},r.prototype.__clearCanvas=function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],r=t.childNodes,n=r.length-1;n>=0;n--)r[n]&&t.removeChild(r[n]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)},r.prototype.clearRect=function(e,t,r,n){if(0!==e||0!==t||r!==this.width||n!==this.height){var a,i=this.__closestGroupOrSvg();a=this.__createElement("rect",{x:e,y:t,width:r,height:n,fill:"#FFFFFF"},!0),i.appendChild(a)}else this.__clearCanvas()},r.prototype.createLinearGradient=function(e,t,r,a){var i=this.__createElement("linearGradient",{id:s(this.__ids),x1:e+"px",x2:r+"px",y1:t+"px",y2:a+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new n(i,this)},r.prototype.createRadialGradient=function(e,t,r,a,i,o){var l=this.__createElement("radialGradient",{id:s(this.__ids),cx:a+"px",cy:i+"px",r:o+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(l),new n(l,this)},r.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t},r.prototype.__wrapTextLink=function(e,t){if(e.href){var r=this.__createElement("a");return r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),r.appendChild(t),r}return t},r.prototype.__applyText=function(e,t,r,n){var a,i,o=this.__parseFont(),s=this.__closestGroupOrSvg(),_=this.__createElement("text",{"font-family":o.family,"font-size":o.size,"font-style":o.style,"font-weight":o.weight,"text-decoration":o.decoration,x:t,y:r,"text-anchor":(a=this.textAlign,i={left:"start",right:"end",center:"middle",start:"start",end:"end"},i[a]||i.start),"dominant-baseline":l(this.textBaseline)},!0);_.appendChild(this.__document.createTextNode(e)),this.__currentElement=_,this.__applyStyleToCurrentElement(n),s.appendChild(this.__wrapTextLink(o,_))},r.prototype.fillText=function(e,t,r){this.__applyText(e,t,r,"fill")},r.prototype.strokeText=function(e,t,r){this.__applyText(e,t,r,"stroke")},r.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},r.prototype.arc=function(e,t,r,n,a,i){if(n!==a){(n%=2*Math.PI)==(a%=2*Math.PI)&&(a=(a+2*Math.PI-.001*(i?-1:1))%(2*Math.PI));var s=e+r*Math.cos(a),l=t+r*Math.sin(a),_=e+r*Math.cos(n),u=t+r*Math.sin(n),c=i?0:1,f=0,d=a-n;d<0&&(d+=2*Math.PI),f=i?d>Math.PI?0:1:d>Math.PI?1:0,this.lineTo(_,u),this.__addPathCommand(o("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:r,ry:r,xAxisRotation:0,largeArcFlag:f,sweepFlag:c,endX:s,endY:l})),this.__currentPosition={x:s,y:l}}},r.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),r=s(this.__ids),n=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",r),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",o("url(#{id})",{id:r})),e.appendChild(n),this.__currentElement=n},r.prototype.drawImage=function(){var e,t,n,a,i,o,s,l,_,u,c,f,d,h=Array.prototype.slice.call(arguments),p=h[0],g=0,v=0;if(3===h.length)e=h[1],t=h[2],n=i=p.width,a=o=p.height;else if(5===h.length)e=h[1],t=h[2],n=h[3],a=h[4],i=p.width,o=p.height;else{if(9!==h.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);g=h[1],v=h[2],i=h[3],o=h[4],e=h[5],t=h[6],n=h[7],a=h[8]}s=this.__closestGroupOrSvg(),this.__currentElement;var m="translate("+e+", "+t+")";if(p instanceof r){if((l=p.getSvg().cloneNode(!0)).childNodes&&l.childNodes.length>1){for(_=l.childNodes[0];_.childNodes.length;)d=_.childNodes[0].getAttribute("id"),this.__ids[d]=d,this.__defs.appendChild(_.childNodes[0]);if(u=l.childNodes[1]){var y,w=u.getAttribute("transform");y=w?w+" "+m:m,u.setAttribute("transform",y),s.appendChild(u)}}}else"CANVAS"!==p.nodeName&&"IMG"!==p.nodeName||((c=this.__createElement("image")).setAttribute("width",n),c.setAttribute("height",a),c.setAttribute("opacity",this.globalAlpha),c.setAttribute("preserveAspectRatio","none"),(f=this.__document.createElement("canvas")).width=n,f.height=a,f.getContext("2d").drawImage(p,g,v,i,o,0,0,n,a),p=f,c.setAttribute("transform",m),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===p.nodeName?p.toDataURL():p.getAttribute("src")),s.appendChild(c))},r.prototype.createPattern=function(e,t){var n,i=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),o=s(this.__ids);return i.setAttribute("id",o),i.setAttribute("width",e.width),i.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((n=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",e.width),n.setAttribute("height",e.height),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),i.appendChild(n),this.__defs.appendChild(i)):e instanceof r&&(i.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(i)),new a(i,this)},r.prototype.setLineDash=function(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null},r.prototype.drawFocusRing=function(){},r.prototype.createImageData=function(){},r.prototype.getImageData=function(){},r.prototype.putImageData=function(){},r.prototype.globalCompositeOperation=function(){},r.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=r),"object"==typeof e.exports&&(e.exports=r)}()}]);Cc=i("8XZMw"),j=i("fOdIC");function Lc(){var e=Sc(['\n  <div class="llm-html-error">\n    <b>🚨 LLM ERROR 🚨</b>\n    <pre>',"</pre>\n  </div>"]);return Lc=function(){return e},e}var Tc=t(m)("eczoodbjs.render_utils"),Ac=sr,Mc=Ge,Ic={list_joiner:"",list_item_wrapper:function(e){return'<span class="paragraph-in-list">'.concat(e,"</span>")}};function Rc(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a,i=e.length-1,o=e.map((function(e,t){var r=e.replace(/>\n+ */g,">").replace(/\n+ *</g,"<");return 0===t?r.trimStart():t===i?r.trimEnd():r}));return(a=String).raw.apply(a,[{raw:o}].concat((0,j.default)(r)))}function Dc(e){var t=e.render_context;return{ne:dc,rdr:function(e){return fc(e,t,Ic)},ref:function(e,r){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).display_llm,a=t.feature_render_manager("refs");return a.render_ref(e,r,null!=n?n:null,null,t)}}}function jc(e){var t=e.zoo_llm_environment,r=e.render_doc,n=e.doc_metadata,a=e.render_endnotes,i=e.fragment_renderer,o=e.llm_error_policy,s=e.feature_document_options,l=e.feature_render_options;null!=o||(o="abort");var _={};null!=n&&(_.metadata=n),null!=s&&(_.feature_document_options=s),null!=i||(i=new ic);var u=t.make_document(r,Ac(_));try{var c=d(u.render(i,l),2),f=c[0],h=c[1];if(a){var p={endnotes_heading_title:"References",endnotes_heading_level:2};"object"==typeof a&&Object.assign(p,a);var g=h.feature_render_manager("endnotes").render_endnotes(Ac(p));f=f.replace("<RENDER_ENDNOTES/>",g)}return f}catch(e){var v="<??>";try{v=e&&null!=e.__class__?Mc(e):""+e}catch(e){}if(console.error("\n🚨🚨🚨 LLM RENDERING ERROR 🚨🚨🚨\n\n"+v,e),"abort"===o)throw Tc("LLM Error & policy is 'abort', aborting compilation"),e;if("continue"==o)return Tc("Continuing despite LLM Error (llm_error_policy is 'continue')"),Rc(Lc(),v);throw new Error("Invalid llm_error_policy: ‘".concat(o,"’, ")+"expected 'abort' or 'continue'")}}function zc(){var e=Sc(['\n  <span class="code-name" title="','">','</span>\n  <span class="code-introduced">',"</span>"]);return zc=function(){return e},e}function Fc(){var e=Sc(['\n  <div class="kingdom-name">\n    <span class="kingdom-name-label">\n      This code defines the\n    </span>&nbsp;','</div>\n  <div class="kingdom-description">',"</div>"]);return Fc=function(){return e},e}function Gc(){var e=Sc(['\n  <div class="code-description">','</div>\n  <a class="code-link" href="','">go to code page →</a>']);return Gc=function(){return e},e}function Uc(){var e=Sc(['\n  <a class="kingdom-link" href="','">go to kingdom page →</a>']);return Uc=function(){return e},e}function qc(){var e=Sc(['\n  <div class="code-relations">\n    <span class="code-relation-type">',"</span>\n    <ul>","</ul>\n  </div>"]);return qc=function(){return e},e}function Hc(){var e=Sc(["\n  <RENDER_ENDNOTES/>"]);return Hc=function(){return e},e}function Vc(){var e=Sc(['\n  <div class="domain-name">','</div>\n  <div class="domain-description">','</div>\n  <a class="domain-link" href="','">go to domain page →</a>\n  <div class="domain-kingdoms-list">\n    <p>Kingdoms:</p>\n    <ul>']);return Vc=function(){return e},e}function Bc(){var e=Sc(["\n      <li>","</li>"]);return Bc=function(){return e},e}function Wc(){var e=Sc(['\n      <div class="empty-info-pane">\n        <p>\n          Click on a node in the code graph\n          to display additional information here.\n        </p>\n        <p style="margin-top: 2em">Zoom into:</p>\n        <ul>']);return Wc=function(){return e},e}function Yc(){var e=Sc(["\n          <li>","</li>"]);return Yc=function(){return e},e}function Xc(){var e=Sc(["\n        </ul>\n      </div>\n"]);return Xc=function(){return e},e}var $c=t(m)("eczoo_jscomponents.codegraph.CodeGraphInformationPane");function Qc(e){var t=e.eczoodb,r=e.captureLinksToObjectTypes,n=t.zoo_llm_environment,a=(new ic,new vc({llm_environment:n,llm_error_policy:"continue"})),i={get_ref:function(e,n,a){var i=t.zoo_llm_environment.ref_resolver.get_ref(e,n,a);return r.includes(e)?new ou(sr(Object.assign({},i.asdict(),{target_href:"jsCallbackRef:".concat(e,"/").concat(n)}))):null}};return{zoo_llm_environment:n,llm_simple_content:a,render:function(e){var t=jc({zoo_llm_environment:n,render_doc:e,render_endnotes:{target_id:null,include_headings_at_level:!1,endnotes_heading_title:null,endnotes_heading_level:null},feature_render_options:{refs:{add_external_ref_resolvers:[i]}},llm_error_policy:"continue"});return $c("Got HTML: ",t),t}}}function Zc(e){var t=e.eczoodb,r=e.currentCodeSelected,n=e.currentDomainSelected,a=e.captureLinksToObjectTypes,i=e.onLinkToObjectActivated,o=e.displayInformationOptions;$c("In CodeGraphInformationPane ()",e),null!=a||(a=["code","domain","kingdom"]);var l=(0,Cc.useRef)(null),_=r||n,u=d((0,Cc.useState)({html:null,what:_}),2),c=u[0],f=u[1];return(0,Cc.useLayoutEffect)((function(){$c("layout effect. gonna gotta have to set up some html.");var e,u=(e=s((function(){var e,s,u,p,g,v,m,y,w,k,b,x,O,P;return h(this,(function(h){switch(h.label){case 0:return $c("setupHtmlContent()..."),null!=c.html&&c.what==_?[3,1]:($c("setupHtmlContent() ... gotta render some HTML here"),null!=r?(e=function(e){var t,r,n,a=e.eczoodb,i=e.code,o=e.displayInformationOptions,s=e.captureLinksToObjectTypes,l=Qc({eczoodb:a,captureLinksToObjectTypes:s}),_=l.llm_simple_content,u=l.render,c=(null!=o?o:{}).truncateDescriptionLength;null!=c||(c=700),$c("Rendering code information ...");var f,h=i.code_id,p=a.zoo_object_permalink("code",h),g=a.schemas.code,v=_.compile_llm(i.name,{object_type:"code",object_schema:g,object:i,fieldname:"name"}),m=_.compile_llm(i.introduced,{object_type:"code",object_schema:g,object:i,fieldname:"introduced"}),y=_.compile_llm(i.description,{object_type:"code",object_schema:g,object:i,fieldname:"description"}).truncate_to(c),w=null,k=null,b=null!==(f=null===(t=i.relations)||void 0===t||null===(r=t.defines_kingdom)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.kingdom)&&void 0!==f?f:null;if(null!=b){$c("code is a kingdom,",b);var x=a.schemas.kingdom;w=_.compile_llm(b.name,{object_type:"kingdom",object_schema:x,object:b,fieldname:"name"}),k=_.compile_llm(b.description,{object_type:"kingdom",object_schema:x,object:b,fieldname:"description"})}return u((function(e){var t,r,n,o,s,l,_,u,c=Dc({render_context:e}),f=(c.ne,c.rdr),g=c.ref,x="";if(x+=Rc(zc(),h,f(v),f(m)),null!=b&&(x+=Rc(Fc(),f(w),f(k))),x+=Rc(Gc(),f(y),p),null!=b){var O=a.zoo_object_permalink("kingdom",b.kingdom_id);x+=Rc(Uc(),O)}if(null!=i.relations)for(var P=0,E=[["Parent","Parents",null!==(s=null===(t=i.relations)||void 0===t?void 0:t.parents)&&void 0!==s?s:[]],["Child","Children",null!==(l=null===(r=i.relations)||void 0===r?void 0:r.parent_of)&&void 0!==l?l:[]],["Cousin","Cousins",[].concat(null!==(_=null===(n=i.relations)||void 0===n?void 0:n.cousins)&&void 0!==_?_:[],null!==(u=null===(o=i.relations)||void 0===o?void 0:o.cousin_of)&&void 0!==u?u:[])]];P<E.length;P++){var C=d(E[P],3),N=C[0],S=C[1],L=C[2];if(0!==L.length){var T=1===L.length?N:S,A=L.map((function(e){return"<li>"+g("code",e.code_id)+"</li>"})).join("");x+=Rc(qc(),T,A)}}return x+Rc(Hc())}))}({eczoodb:t,displayInformationOptions:o,captureLinksToObjectTypes:a,code:r}),f({html:e,what:_})):null!=n?(s=function(e){var t=e.eczoodb,r=e.domain,n=Qc({eczoodb:t,captureLinksToObjectTypes:e.captureLinksToObjectTypes}),a=n.llm_simple_content,i=n.render;$c("Rendering domain information ...");var o=t.schemas.domain,s=a.compile_llm(r.name,{object_type:"domain",object_schema:o,object:r,fieldname:"name"}),l=a.compile_llm(r.description,{object_type:"domain",object_schema:o,object:r,fieldname:"description"}),_=t.zoo_object_permalink("domain",r.domain_id);return i((function(e){var t=Dc({render_context:e}),n=(t.ne,t.rdr),a=t.ref,i="";i+=Rc(Vc(),n(s),n(l),_);var o=!0,u=!1,c=void 0;try{for(var f,d=r.kingdoms[Symbol.iterator]();!(o=(f=d.next()).done);o=!0){var h=f.value.kingdom_id;i+=Rc(Bc(),a("kingdom",h))}}catch(e){u=!0,c=e}finally{try{o||null==d.return||d.return()}finally{if(u)throw c}}return i+"\n    </ul>\n  </div>"}))}({eczoodb:t,displayInformationOptions:o,captureLinksToObjectTypes:a,domain:n}),f({html:s,what:_})):(u=function(e){var t=e.eczoodb,r=e.captureLinksToObjectTypes,n=Qc({eczoodb:t,captureLinksToObjectTypes:r}),a=(n.llm_simple_content,n.render);return $c("Rendering empty pane information ..."),a((function(e){var r=Dc({render_context:e}),n=(r.ne,r.rdr,r.ref),a="";a+=Rc(Wc());var i=!0,o=!1,s=void 0;try{for(var l,_=Object.entries(t.objects.domain)[Symbol.iterator]();!(i=(l=_.next()).done);i=!0){var u=d(l.value,2),c=u[0];u[1],a+=Rc(Yc(),n("domain",c))}}catch(e){o=!0,s=e}finally{try{i||null==_.return||_.return()}finally{if(o)throw s}}return a+Rc(Xc())}))}({eczoodb:t,displayInformationOptions:o,captureLinksToObjectTypes:a}),$c("Gonna update panel html contents..."),f({html:u,what:_})),[3,4]);case 1:return null==(p=l.current)?[3,4]:null==window.MathJax?[3,3]:[4,window.MathJax.typesetPromise([p])];case 2:h.sent(),h.label=3;case 3:g=!0,v=!1,m=void 0;try{for(y=p.querySelectorAll("a")[Symbol.iterator]();!(g=(w=y.next()).done);g=!0)k=w.value,b=k.getAttribute("href"),null!=(x=/^jsCallbackRef:([^\/]+)\/(.*)$/.exec(b))&&(O=x[1],P=x[2],k.addEventListener("click",(function(){i(O,P)})),k.removeAttribute("href",""),k.style.cursor="pointer")}catch(e){v=!0,m=e}finally{try{g||null==y.return||y.return()}finally{if(v)throw m}}h.label=4;case 4:return[2]}}))})),function(){return e.apply(this,arguments)});u()}),[c,r,n]),(0,Ec.jsx)("div",{className:"CodeGraphInformationPane",ref:l,dangerouslySetInnerHTML:{__html:c.html}})}var Kc=t(m)("eczoo_jscomponents.codegraph.ui");cytoscape.use(t(Nc));function Jc(e){var t=e.eczCodeGraph,r=e.domainColoring,n=e.onChangeDomainColoring,a=e.cousinEdgesShown,i=e.onChangeCousinEdgesShown,o=e.secondaryParentEdgesShown,s=e.onChangeSecondaryParentEdgesShown,l=e.displayModeWithOptions,_=e.onChangeDisplayModeWithOptions,u=t.cy,c=d((0,Cc.useState)(u.zoom()),2),f=c[0],h=c[1];(0,Cc.useEffect)((function(){f!=u.zoom()&&u.zoom({level:f,renderedPosition:{x:u.width()/2,y:u.height()/2}})}),[f]);var p=d((0,Cc.useState)(l.modeIsolateNodesOptions.range.parents.primary),2),g=p[0],v=p[1];(0,Cc.useEffect)((function(){_({modeIsolateNodesOptions:{range:{parents:{primary:Math.round(g)},children:{primary:Math.round(g/2)}}}})}),[g]);var m=d((0,Cc.useState)(0!==l.modeIsolateNodesOptions.range.parents.secondary),2),y=m[0],w=m[1];(0,Cc.useEffect)((function(){var e=y?1:0;_({modeIsolateNodesOptions:{range:{parents:{secondary:e},children:{secondary:e}}}})}),[y]);var k=d((0,Cc.useState)(""),2),b=k[0],x=k[1];(0,Cc.useEffect)((function(){if(u.nodes().removeClass(["highlight","dimmed"]),""!==b){var e=u.nodes("[label @*= ".concat(JSON.stringify(b),"]"));e.addClass("highlight"),u.stop(),u.animate({fit:{eles:e},duration:80}),u.elements().not(".highlight").addClass("dimmed")}}),[b]);var O="viewport",P=function(e){u.zoom()!=f&&h(u.zoom())};(0,Cc.useEffect)((function(){return u.on(O,P),function(){u.removeListener(O,P)}}),[t]);var E=function(e){var r=t.cy.svg(e),n=window.document.createElement("a");n.setAttribute("href","data:image/svg+xml;base64,"+btoa(r)),n.setAttribute("download","Error_Correction_Zoo_Code_Graph.svg"),n.click()};return(0,Ec.jsxs)("div",{className:"EczCodeGraphControlsComponent",children:[(0,Ec.jsxs)("div",{children:[(0,Ec.jsx)("input",{type:"range",min:-2.3,max:2.3,step:.01,value:Math.log(f),onChange:function(e){return t=Math.exp(parseFloat(e.target.value)),void h(t);var t}}),(0,Ec.jsx)("button",{onClick:function(){h(1.2*f)},children:"+"}),(0,Ec.jsx)("button",{onClick:function(){h(f/1.2)},children:"-"}),(0,Ec.jsx)("button",{onClick:function(){var e=u.nodes();if("all"===l.displayMode);else{if("isolate-nodes"!==l.displayMode)throw new Error("can't center, don't know display mode = ",l);e=u.collection();var t=!0,r=!1,n=void 0;try{for(var a,i=l.modeIsolateNodesOptions.nodeIds[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.merge(u.getElementById(o))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}u.animate({center:{eles:e}},{duration:200})},children:"center"}),(0,Ec.jsx)("button",{onClick:function(){u.animate({fit:!0}),h(u.zoom())},children:"fit"})]}),(0,Ec.jsxs)("div",{children:[(0,Ec.jsx)("input",{type:"checkbox",id:"input_domainColoring",checked:r,onChange:function(e){return n(!!e.target.checked)}}),(0,Ec.jsx)("label",{for:"input_domainColoring",children:"domain colors"}),(0,Ec.jsx)("input",{type:"checkbox",id:"input_cousinEdgesShown",checked:a,onChange:function(e){return i(!!e.target.checked)}}),(0,Ec.jsx)("label",{for:"input_cousinEdgesShown",children:"cousins"}),(0,Ec.jsx)("input",{type:"checkbox",id:"input_secondaryParentEdgesShown",checked:o,onChange:function(e){return s(!!e.target.checked)}}),(0,Ec.jsx)("label",{for:"input_secondaryParentEdgesShown",children:"secondary parents"})]}),(0,Ec.jsxs)("div",{children:[(0,Ec.jsxs)("div",{children:[(0,Ec.jsx)("button",{disabled:"isolate-nodes"!==l.displayMode,onClick:function(){_({displayMode:"all"})},children:"back"}),(0,Ec.jsx)("button",{disabled:"isolate-nodes"!==l.displayMode,onClick:function(){_({modeIsolateNodesOptions:{redoLayout:!0}})},children:"relayout"}),(0,Ec.jsx)("span",{children:" "}),(0,Ec.jsx)("label",{for:"input_modeIsolateNodesDisplayRange",children:"tree:"}),(0,Ec.jsx)("input",{type:"range",id:"input_modeIsolateNodesDisplayRange",disabled:"isolate-nodes"!==l.displayMode,min:0,max:16,step:1,value:g,onChange:function(e){return v(parseFloat(e.target.value))}})]}),(0,Ec.jsxs)("div",{children:[(0,Ec.jsx)("input",{type:"checkbox",id:"input_modeIsolateNodesAddSecondary",disabled:"isolate-nodes"!==l.displayMode,checked:y,onChange:function(e){return w(!!e.target.checked)}}),(0,Ec.jsx)("label",{for:"input_modeIsolateNodesAddSecondary",children:"expand with secondary step"})]})]}),(0,Ec.jsxs)("div",{children:[(0,Ec.jsx)("input",{type:"text",id:"input_searchGraphNodes",placeholder:"search",value:b,onChange:function(e){return t=e.target.value,void x(t);var t}}),(0,Ec.jsx)("button",{onClick:function(){x("")},children:"clear"})]}),(0,Ec.jsx)("button",{onClick:function(){return E({full:!0})},children:"SVG full"}),(0,Ec.jsx)("button",{onClick:function(){return E({full:!1})},children:"SVG snapshot"})]})}function ef(e){var r,n,a,i,o=e.eczCodeGraph,l=e.matchWebPageFonts,_=e.onLayoutDone,u=o.eczoodb,c=(0,Cc.useRef)(null),f=(0,Cc.useRef)(null),p=d((0,Cc.useState)(!1),2),g=p[0],v=p[1],m={};r=d((0,Cc.useState)(o.domainColoring()),2),m.domainColoring=r[0],m.setDomainColoring=r[1],(0,Cc.useEffect)((function(){o.setDomainColoring(m.domainColoring)}),[m.domainColoring]),n=d((0,Cc.useState)(o.cousinEdgesShown()),2),m.cousinEdgesShown=n[0],m.setCousinEdgesShown=n[1],(0,Cc.useEffect)((function(){o.setCousinEdgesShown(m.cousinEdgesShown)}),[m.cousinEdgesShown]),a=d((0,Cc.useState)(o.secondaryParentEdgesShown()),2),m.secondaryParentEdgesShown=a[0],m.setSecondaryParentEdgesShown=a[1],(0,Cc.useEffect)((function(){o.setSecondaryParentEdgesShown(m.secondaryParentEdgesShown)}),[m.secondaryParentEdgesShown]),i=d((0,Cc.useState)({displayMode:o.displayMode(),modeIsolateNodesOptions:o.modeIsolateNodesOptions()}),2),m.displayModeWithOptions=i[0],m.setDisplayModeWithOptions=i[1],(0,Cc.useEffect)((function(){var e,t=(e=s((function(){return h(this,(function(e){switch(e.label){case 0:return Kc("Updating graph's displayMode&Options -> ",m.displayModeWithOptions),o.setDisplayMode(m.displayModeWithOptions.displayMode,m.displayModeWithOptions),[4,o.layout({animate:!0})];case 1:return e.sent(),null==_||_(),[2]}}))})),function(){return e.apply(this,arguments)});t()}),[m.displayModeWithOptions]);var y=function(e){var r=e.nodeId,n=e.codeId,a=e.kingdomId,i=e.domainId;if(e.background)m.setDisplayModeWithOptions(t(D).merge({},m.displayModeWithOptions,{displayMode:"all"}));else{i&&(r=o.getNodeIdDomain(i)),a&&(n=u.objects.kingdom[a].kingdom_code.code_id),n&&(r=o.getNodeIdCode(n)),m.setDisplayModeWithOptions(t(D).merge({},m.displayModeWithOptions,{displayMode:"isolate-nodes",modeIsolateNodesOptions:{nodeIds:[r],redoLayout:!1}}));var s=o.cy,l=s.getElementById(r),_=l.renderedPosition();(_.x<0||_.y<0||_.x>s.width()||_.y>s.height())&&s.animate({center:{eles:l}},{duration:400})}};(0,Cc.useLayoutEffect)((function(){g||(o.mountInDom(c.current,{matchWebPageFonts:l,window:window}),o.cy.on("tap",(function(e){var t=e.target;if(Kc("Tap! eventTarget = ",t),!t||!t.isNode)return Kc("Unknown or non-node tap target."),void y({background:!0});if(t.isEdge()){var r=o.cy;r.animate({fit:{eles:t,padding:Math.min(r.width(),r.height())/6}})}else{if(t.isNode()){var n=t;return Kc("Tapped node ".concat(n.id())),void y({nodeId:n.id()})}Kc("Unknown click target ??!")}})),o.layout({animate:!0}).then((function(){return v(!0)})))})),(0,Cc.useEffect)((function(){if(g){m.displayModeWithOptions.displayMode;Kc("effect hook for diplayModeWithOptions",m.displayModeWithOptions),o.setDisplayMode(m.displayMode,m.displayModeWithOptions),o.layout()}}),[m.diplayModeWithOptions]),Kc("Rendering components. displayModeWithOptions=",m.displayModeWithOptions);var w=null,k=null;if("isolate-nodes"===m.displayModeWithOptions.displayMode){var b=m.displayModeWithOptions.modeIsolateNodesOptions.nodeIds;if(b&&1===b.length){var x=b[0],O=o.cy.getElementById(x).data()._codeId,P=o.cy.getElementById(x).data()._domainId;null!=O&&(w=u.objects.code[O]),null!=P&&(k=u.objects.domain[P])}}return(0,Ec.jsxs)("div",{className:"EczCodeGraphComponent",children:[(0,Ec.jsx)("div",{ref:f,className:"EczCodeGraphComponent_CyPanel",children:(0,Ec.jsx)("div",{ref:c,className:"EczCodeGraphComponent_Cy"})}),(0,Ec.jsxs)("div",{className:"EczCodeGraphComponent_SidePanel",children:[(0,Ec.jsx)(Jc,{eczCodeGraph:o,displayModeWithOptions:m.displayModeWithOptions,onChangeDisplayModeWithOptions:function(e){Kc("request to set display options -> ",e),m.setDisplayModeWithOptions(t(D).merge({},m.displayModeWithOptions,e))},domainColoring:m.domainColoring,onChangeDomainColoring:m.setDomainColoring,cousinEdgesShown:m.cousinEdgesShown,onChangeCousinEdgesShown:m.setCousinEdgesShown,secondaryParentEdgesShown:m.secondaryParentEdgesShown,onChangeSecondaryParentEdgesShown:m.setSecondaryParentEdgesShown}),(0,Ec.jsx)(Zc,{eczoodb:u,currentCodeSelected:w,currentDomainSelected:k,captureLinksToObjectTypes:["code","domain","kingdom"],onLinkToObjectActivated:function(e,t){if("code"===e)y({codeId:t});else if("kingdom"===e)y({kingdomId:t});else{if("domain"!==e)throw new Error("I don't know what to do with click on ".concat(object_type));y({domainId:t})}}})]})]})}function tf(e){return new ie}var rf=t(m)("eczoodbjs.use_llm_environment");function nf(e){var t,r=new pu(null!==(t=e.config.zoo_llm_environment_options)&&void 0!==t?t:{});return r.ref_resolver.target_href_resolver=function(t,r){return function(e,t,r){var n,a,i=r.zoo_object_permalink,o=null!=e?e:{},s=o.target_href,l=o.ref_type,_=o.ref_label;if(null!=s){var u=new URL(s);if("zoodbobjectref:"==u.protocol){var c=d(-1==(a=(n=u.pathname.replace(/^\/+/,"")).indexOf(":"))?[null,n]:[n.slice(0,a),n.slice(a+1)],2);return i(c[0],c[1])+u.hash}return s}throw new Error("Cannot resolve link reference to ‘".concat(l,":").concat(_,"’"))}(t,0,{zoo_object_permalink:e.zoo_object_permalink})},e.config.llm_allow_unresolved_references&&r.feature_refs.add_external_ref_resolver({get_ref:function(e,t,r,n){return rf("Default ref_resolver called for invalid reference "+"‘".concat(e,":").concat(t,"’")),ou(e,t,"<??>",null)}}),e.config.llm_allow_unresolved_citations&&r.feature_citations.add_external_citations_provider({get_citation_full_text_llm:function(e,t,r){return rf("Note: unresolved citation ‘".concat(e,":").concat(t,"’")),"\\begin{verbatimtext}".concat(e,":").concat(t,"\\end{verbatimtext}")}}),r.graphics_collection.src_url_resolver=function(t,r){return{src_url:e.config.zoo_graphics_resource_permalink(t),srcset:undefined}},e.$$kw=sr,r}function af(e,t){if("code"===e)return"/c/".concat(t);if("domain"===e)return"/domain/".concat(t);if("kingdom"===e)return"/kingdom/".concat(t);if("user"===e)return"/team#u-".concat(t);if("codelist"===e)return"all"===t?"/all":"/list/".concat(t);throw new Error("Unknown object type ‘".concat(e,"’"))}var of,sf,lf=t(m)("zoodb._zoodb"),_f=function(){"use strict";function e(t){var r=t.processors;M(this,e),this.processors=null!=r?r:[],this.processors_initialized=!1;var n=!0,a=!1,i=void 0;try{for(var o,s=this.processors[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value.install_zoo(this)}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}this.raw_data_db={}}return R(e,[{key:"schema",value:function(e){if(!this.db.schemas.hasOwnProperty(e))throw new Error("No zoo schema associated with object type ‘".concat(e,"’"));return this.db.schemas[e]}},{key:"object_types",get:function(){return Object.keys(this.db.objects)}},{key:"schemas",get:function(){return this.db.schemas}},{key:"objects",get:function(){return this.db.objects}},{key:"data_dump",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={db:this.db},r=!0,n=!1,a=void 0;try{for(var i,o=Array.from(this.processors).reverse()[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;t=s.process_data_dump(t,e)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t}},{key:"raw_data_db_dump",value:function(){return{db:this.raw_data_db}}},{key:"load_data",value:function(e){var t=this;return s((function(){var r,n,a,i,o,s,l,_,u,c,f;return h(this,(function(d){switch(d.label){case 0:if(lf("zoodb load_data"),!e||"object"!=typeof e.schemas||"object"!=typeof e.objects)throw new Error("Invalid zoo DB data, expected db.schemas and db.objects to be objects, got "+"db=".concat(e));for(var h in e.objects)if(null==e.schemas[h])throw new Error("Zoo DB data does not have schema for objects of type ‘".concat(h,"’"));if(t.db=Object.assign({},e),t._object_types=Object.keys(e.objects),t.raw_data_db=JSON.parse(JSON.stringify(t.db)),t.processors_initialized)return[3,8];t.processors_initialized=!0,r=!0,n=!1,a=void 0,d.label=1;case 1:d.trys.push([1,6,7,8]),i=t.processors[Symbol.iterator](),d.label=2;case 2:return(r=(o=i.next()).done)?[3,5]:[4,o.value.initialize_zoo()];case 3:d.sent(),d.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return f=d.sent(),n=!0,a=f,[3,8];case 7:try{r||null==i.return||i.return()}finally{if(n)throw a}return[7];case 8:s=!0,l=!1,_=void 0,d.label=9;case 9:d.trys.push([9,14,15,16]),u=t.processors[Symbol.iterator](),d.label=10;case 10:return(s=(c=u.next()).done)?[3,13]:[4,c.value.process_zoo()];case 11:d.sent(),d.label=12;case 12:return s=!0,[3,10];case 13:return[3,16];case 14:return f=d.sent(),l=!0,_=f,[3,16];case 15:try{s||null==u.return||u.return()}finally{if(l)throw _}return[7];case 16:return lf("zoodb load_data done."),[2]}}))}))()}},{key:"update_objects",value:function(e){var t=this;return s((function(){var r,n,a,i,o,s,l,_,u,c,f,p,g,v,m,y,w,k,b,x,O,P,E,C,N,S,L,T,A,M,I,R,D,j,z,F,G,U,q,H,V,B;return h(this,(function(h){switch(h.label){case 0:r=!0,n=!1,a=void 0,i=!0,o=!1,s=void 0;try{for(l=Object.entries(e)[Symbol.iterator]();!(i=(_=l.next()).done);i=!0){u=d(_.value,2),c=u[0],f=u[1];try{for(p=Object.entries(f)[Symbol.iterator]();!(r=(g=p.next()).done);r=!0)v=d(g.value,2),m=v[0],v[1],t.raw_data_db.objects[c][m]=JSON.parse(JSON.stringify(e[c][m]))}catch(e){n=!0,a=e}finally{try{r||null==p.return||p.return()}finally{if(n)throw a}}}}catch(e){o=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}y=!0,w=!1,k=void 0,h.label=1;case 1:h.trys.push([1,6,7,8]),b=t.processors[Symbol.iterator](),h.label=2;case 2:return(y=(x=b.next()).done)?[3,5]:[4,x.value.prepare_zoo_update_objects(e)];case 3:h.sent(),h.label=4;case 4:return y=!0,[3,2];case 5:return[3,8];case 6:return B=h.sent(),w=!0,k=B,[3,8];case 7:try{y||null==b.return||b.return()}finally{if(w)throw k}return[7];case 8:O=!0,P=!1,E=void 0,C=!0,N=!1,S=void 0;try{for(L=Object.entries(e)[Symbol.iterator]();!(C=(T=L.next()).done);C=!0){A=d(T.value,2),M=A[0],I=A[1];try{for(R=Object.entries(I)[Symbol.iterator]();!(O=(D=R.next()).done);O=!0)j=d(D.value,2),z=j[0],F=j[1],t.update_object(t.db.objects[M],z,F)}catch(e){P=!0,E=e}finally{try{O||null==R.return||R.return()}finally{if(P)throw E}}}}catch(e){N=!0,S=e}finally{try{C||null==L.return||L.return()}finally{if(N)throw S}}G=!0,U=!1,q=void 0,h.label=9;case 9:h.trys.push([9,14,15,16]),H=t.processors[Symbol.iterator](),h.label=10;case 10:return(G=(V=H.next()).done)?[3,13]:[4,V.value.process_zoo_update_objects(e)];case 11:h.sent(),h.label=12;case 12:return G=!0,[3,10];case 13:return[3,16];case 14:return B=h.sent(),U=!0,q=B,[3,16];case 15:try{G||null==H.return||H.return()}finally{if(U)throw q}return[7];case 16:return[2]}}))}))()}},{key:"update_object",value:function(e,t,r){e[t]=r}}]),e}(),uf=t(m)("eczoodbjs"),cf=function(e){"use strict";q(r,e);var t=$(r);function r(e){var n;M(this,r);var a={};a.config=Object.assign({continue_with_errors:!1,use_relations_populator:null,use_llm_environment:null,zoo_llm_environment_options:null,llm_allow_unresolved_references:!1,llm_allow_unresolved_citations:!1,use_llm_processor:null,llm_processor_graphics_path_resource_retriever:null,fs:null,llm_processor_citations_override_arxiv_dois_file:"code_extras/override_arxiv_dois.yml",llm_processor_citations_preset_bibliography_files:["code_extras/bib_preset.yml"],llm_processor_graphics_resources_fs_data_dir:null,use_searchable_text_processor:null,zoo_object_permalink:af,zoo_graphics_resource_permalink:function(e){return"/fig/".concat(e.src_url)},zoo_graphics_resource_image_max_zoom_factor:2,resource_file_extensions:null},e),a.zoo_object_permalink=a.config.zoo_object_permalink,a.zoo_llm_environment=null,a.config.use_llm_environment&&(a.zoo_llm_environment=a.config.use_llm_environment(a)),a.zoodb_processors=[],a.config.use_relations_populator?(a.zoo_relations_populator=a.config.use_relations_populator(a),a.zoodb_processors.push(a.zoo_relations_populator)):a.zoo_relations_populator=null,a.llm_error_policy=a.config.continue_with_errors?"continue":"abort",uf("llm_error_policy = ".concat(a.llm_error_policy)),a.zoo_llm_processor=null,a.config.use_llm_processor&&(a.zoo_llm_processor=a.config.use_llm_processor(a),a.zoodb_processors.push(a.zoo_llm_processor)),a.searchable_text_processor=null,a.config.use_searchable_text_processor&&(a.searchable_text_processor=a.config.use_searchable_text_processor(a),a.zoodb_processors.push(a.searchable_text_processor)),n=t.call(this,{processors:a.zoodb_processors});var i=!0,o=!1,s=void 0;try{for(var l,_=Object.entries(a)[Symbol.iterator]();!(i=(l=_.next()).done);i=!0){var u=d(l.value,2),c=u[0],f=u[1];n[c]=f}}catch(e){o=!0,s=e}finally{try{i||null==_.return||_.return()}finally{if(o)throw s}}return n}return R(r,[{key:"user_earliest_contribution",value:function(e){if(!e.zoo_contributions||!e.zoo_contributions.code)return null;var t=null,r=!0,n=!1,a=void 0;try{for(var i,o=e.zoo_contributions.code[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value,l=new Date(s.date);(null===t||l-t<0)&&(t=l)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t}},{key:"code_short_name",value:function(e){if(null!=e.short_name&&""!==e.short_name)return e.short_name;var t=e.name,r=null;return this.config.use_llm_processor&&(t=t.llm_text),t.endsWith(" code")&&(r=t.slice(0,-5)),null!==r?this.config.use_llm_processor?this.zoo_llm_environment.make_fragment(r,this.$$kw({what:"".concat(e.name.what," (short)"),resource_info:e._zoodb.resource_info,standalone_mode:!0})):r:e.name}},{key:"code_visit_relations",value:function(e,t){var r=t.relation_properties,n=t.callback,a=t.only_first_relation,i=t.predicate_relation,o=[e],s={};for(s[e.code_id]=!0;o.length;){var l=o.shift();if(!0===n(l))return;var _=!0,u=!1,c=void 0;try{for(var f,d=r[Symbol.iterator]();!(_=(f=d.next()).done);_=!0){var h=f.value;if(l.relations&&l.relations[h]){var p=l.relations[h];a&&(p=p.slice(0,1));var g=!0,v=!1,m=void 0;try{for(var y,w=p[Symbol.iterator]();!(g=(y=w.next()).done);g=!0){var k=y.value;if(null==i||!i(l,k)){var b=k.code_id;s[b]||(s[b]=!0,o.push(this.objects.code[b]))}}}catch(e){v=!0,m=e}finally{try{g||null==w.return||w.return()}finally{if(v)throw m}}}}}catch(e){u=!0,c=e}finally{try{_||null==d.return||d.return()}finally{if(u)throw c}}}}},{key:"code_is_descendant_of",value:function(e,t){var r=!1;return this.code_visit_relations(e,{relation_properties:["parents"],callback:function(e){if(e.code_id===t)return r=!0,!0}}),r}},{key:"code_is_cousin_of",value:function(e,t){var r=!1;return this.code_visit_relations(e,{relation_properties:["cousins","cousin_of"],callback:function(e){if(e.code_id===t)return r=!0,!0}}),r}},{key:"code_parent_domains",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).find_domain_id,r=Object.fromEntries(Object.entries(this.objects.kingdom).map((function(e){var t=d(e,2),r=(t[0],t[1]);return[r.kingdom_code.code_id,r.parent_domain]})));return this.code_visit_relations(e,{relation_properties:["parents"],callback:function(e){var n=r[e.code_id];if(void 0!==n&&domains.push(n),null!=t&&n.domain_id===t)return!0}}),domains}},{key:"code_get_family_tree",value:function(e){var t=[];return this.code_visit_relations(e,{relation_properties:["parent_of"],callback:function(e){t.push(e)}}),t}}]),r}(_f);Cc=i("8XZMw");!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),sf=i("8vlNu"),of=sf.createRoot,sf.hydrateRoot;var ff=t(m)("eczoo_site.jscomponents.codegraph.setup");window.addEventListener("load",s((function(){var e,r,n,a,i,o,s,l,_,u,c,f,p,g,v,m,y;return h(this,(function(h){switch(h.label){case 0:return ff("setup code graph!"),(n=window.document.getElementById("main")).innerHTML="loading …",i=null!==(a=n.dataset.eczoodbDataUrl)&&void 0!==a?a:"/dat/eczoodata.json",s=null!==(o=n.dataset.eczoodbRefsDataUrl)&&void 0!==o?o:"/dat/eczoorefsdata.json",l=null===(e=window.eczData)||void 0===e?void 0:e.eczoodbData,_=null===(r=window.eczData)||void 0===r?void 0:r.eczoodbRefsData,l?[3,2]:(ff("Downloading the zoo graph data..."),u=fetch(i).then((function(e){return e.json()})),c=fetch(s).then((function(e){return e.json()})),[4,Promise.all([u,c])]);case 1:f=d.apply(void 0,[h.sent(),2]),l=f[0],_=f[1],h.label=2;case 2:return(p=new cf({use_relations_populator:tf,use_llm_environment:nf,use_llm_processor:!1,llm_allow_unresolved_references:!0,use_searchable_text_processor:!1,fs:null})).zoo_llm_environment.ref_resolver.load_database(_.refs),p.zoo_llm_environment.citations_provider.load_database(_.citations),[4,p.load_data(l.db)];case 3:return h.sent(),g={},v=window.location.hash,ff({hrefFragment:v}),null!=v&&t(D).merge(g,function(e){var t=null,r=/^#code_(.*)$/.exec(e);if(null!=r){var n=r[1];ff("Gonna highlight code ".concat(n)),t=wc.getNodeIdCode(n)}var a=/^#domain_(.*)$/.exec(e);if(null!=a){var i=a[1];ff("Gonna highlight domain ".concat(i)),t=wc.getNodeIdDomain(i)}if(null!=t)return{displayMode:"isolate-nodes",modeIsolateNodesOptions:{nodeIds:[t],redoLayout:!0,range:{parents:{primary:5,secondary:1},children:{primary:2,secondary:1}}}}}(v)),[4,(m=new wc({eczoodb:p,displayOptions:g})).initialize()];case 4:return h.sent(),window.eczCodeGraph=m,ff("Graph initialized."),y=of(n),[4,new Promise((function(e){y.render(t(Cc).createElement(ef,{eczCodeGraph:m,onLayoutDone:function(){return e()}},null))}))];case 5:return h.sent(),ff("Layout done."),[2]}}))})))}();
//# sourceMappingURL=setup.js.map
