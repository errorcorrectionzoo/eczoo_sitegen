"use strict";
!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,n){if("code"===e)return"/c/".concat(n);if("domain"===e)return"/domain/".concat(n);if("kingdom"===e)return"/kingdom/".concat(n);if("user"===e)return"/team#u-".concat(n);if("codelist"===e)return"all"===n?"/all":"/list/".concat(n);throw new Error("Unknown object type ‘".concat(e,"’"))}var o=function(){"use strict";function o(n){var t=n.container,a=n.random_codes_data_url,d=this;e(this,o),this.element_container=t,this.random_codes_data=null,fetch(a).then((function(e){return e.json()})).then((function(e){d.random_codes_data=e,d.pick_and_show_random_code()}))}var a,d,r;return a=o,(d=[{key:"pick_and_show_random_code",value:function(){if(null==this.random_codes_data)throw new Error("RandomCodeShower.pick_and_show_random_code() called before data was loaded");var e=Object.keys(this.random_codes_data.codes),n=e[parseInt(e.length*Math.random(),0)],t=this.random_codes_data.codes[n];this._show_code(n,t)}},{key:"_show_code",value:function(e,n){var o=this,a=n.description_html,d=t("code",e);this.element_container.innerHTML="";var r=document.createElement("h1");r.innerHTML="Your Random Code Pick: ".concat(n.name_html);var c=document.createElement("a");c.setAttribute("href",d),c.classList.add("random-code-quick-link"),c.classList.add("random-code-quick-link-go"),c.innerText="go →";var i=document.createElement("a");i.classList.add("random-code-quick-link"),i.classList.add("random-code-quick-link-refresh"),i.textContent="refresh",i.href="javascript:void(0);",i.addEventListener("click",(function(){return o.pick_and_show_random_code()}));var s=document.createElement("p");s.classList.add("random-code-content"),s.innerHTML=a,this.element_container.appendChild(r),this.element_container.appendChild(c),this.element_container.appendChild(i),this.element_container.appendChild(s),void 0!==(null===window||void 0===window?void 0:window.MathJax)&&window.MathJax.typesetPromise([this.element_container])}}])&&n(a.prototype,d),r&&n(a,r),o}();window.addEventListener("load",(function(){var e=document.getElementById("random-code-box");e&&(e._ecz_random_code_shower=new o({container:e,random_codes_data_url:"/dat/randomcodedata.json"}),console.log("RandomCodeShower attached to element = ",e))}))}();
//# sourceMappingURL=setup.js.map
