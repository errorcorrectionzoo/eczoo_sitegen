{"mappings":"YAAe,SAAAA,EAAyBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,oCAExB,CCJA,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,EAChD,CACF,CCHO,SAASO,EAAqBC,EAAaC,GAE9C,GAAoB,SAAhBD,EACA,MAAO,MAAgBE,OAAVD,GACV,GAAoB,WAAhBD,EACP,MAAO,WAAqBE,OAAVD,GACf,GAAoB,YAAhBD,EACP,MAAO,YAAsBE,OAAVD,GAChB,GAAoB,SAAhBD,EACP,MAAO,WAAqBE,OAAVD,GACf,GAAoB,aAAhBD,EAEP,MAAkB,QAAdC,EACQ,OAEL,SAAmBC,OAAVD,GAGpB,MAAM,IAAIE,MAAM,wBAAoCD,OAAZF,EAAY,KACxD,CAQO,ICtBAI,ECVP,W,sBDUaC,EAEGC,G,IAACC,EAADD,EAACC,UAAWC,EAAZF,EAAYE,sB,cAFfH,GAILI,KAAKC,kBAAoBH,EAEzBE,KAAKE,kBAAoB,KAEzBC,MAAMJ,GAAuBK,MACzB,SAACC,G,OAAaA,EAASC,M,IACzBF,MACE,SAACG,GACGC,EAAKN,kBAAoBK,EACzBC,EAAKC,2BACT,G,CFdG,IAAsBjC,EAAakC,EAAYC,E,OAAzBnC,EEAxBoB,GFAqCc,EEArC,C,CAmBTrB,IAAA,4B,MAAA,WAEI,GAA8B,MAA1BW,KAAKE,kBACL,MAAM,IAAIR,MAAM,8EAMpB,IAAMkB,EAAWzB,OAAO0B,KAAMb,KAAKE,kBAAkBY,OAE/CC,EAAiBH,EAAUI,SAASJ,EAAS9B,OAASmC,KAAKC,SAAU,IACrEC,EAAcnB,KAAKE,kBAAkBY,MAAMC,GAEjDf,KAAKoB,WAAWL,EAAgBI,EACpC,G,CAEA9B,IAAA,a,MAAA,SAAWgC,EAASC,G,WAEZC,EAAYD,EAAKE,iBAEfC,EAAWnC,EAAqB,OAAQ+B,GAE9CrB,KAAKC,kBAAkByB,UAAY,GAEnC,IAAMC,EAAKC,SAASC,cAAc,MAClCF,EAAGD,UAAY,0BAAyCjC,OAAf6B,EAAKQ,WAE9C,IAAMC,EAAOH,SAASC,cAAc,KACpCE,EAAKC,aAAa,OAAQP,GAC1BM,EAAKE,UAAUC,IAAI,0BACnBH,EAAKE,UAAUC,IAAI,6BACnBH,EAAKI,UAAY,OAEjB,IAAMC,EAAeR,SAASC,cAAc,KAC5CO,EAAaH,UAAUC,IAAI,0BAC3BE,EAAaH,UAAUC,IAAI,kCAC3BE,EAAaC,YAAc,UAC3BD,EAAaE,KAAO,sBACpBF,EAAaG,iBAAiB,SAAS,W,OAAM/B,EAAKC,2B,IAElD,IAAM+B,EAASZ,SAASC,cAAc,KACtCW,EAAOP,UAAUC,IAAI,uBACrBM,EAAOd,UAAYH,EAEnBvB,KAAKC,kBAAkBwC,YAAYd,GACnC3B,KAAKC,kBAAkBwC,YAAYV,GACnC/B,KAAKC,kBAAkBwC,YAAYL,GACnCpC,KAAKC,kBAAkBwC,YAAYD,QAEXE,KAApB,OAAAC,aAAA,IAAAA,YAAA,EAAAA,OAAQC,UACRD,OAAOC,QAAQC,eAAe,CAAC7C,KAAKC,mBAE5C,MFvEcvB,EAAkBF,EAAYsE,UAAWpC,GACrDC,GAAajC,EAAkBF,EAAamC,GEFrCf,C,CCVb,GCGA+C,OAAOJ,iBAAiB,QAAQ,WAE5B,IAAIQ,EAAsBnB,SAASoB,eAAe,mBAC9CD,IACAA,EAAoBE,wBAChB,IAAItD,EAAiB,CAACG,UAAWiD,EACXhD,sBAAuB,6BACjDmD,QAAQC,IAAI,0CAA2CJ,GAG/D,G","sources":["node_modules/@swc/helpers/src/_class_call_check.mjs","node_modules/@swc/helpers/src/_create_class.mjs","eczoodb/permalinks.js","jscomponents/randomcode/index.js","<<jsx-config-pragma.js>>","jscomponents/randomcode/setup.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","//\n// Map object types and object IDs to site permalinks for where to find their\n// corresponding information.\n//\n\nexport function zoo_object_permalink(object_type, object_id)\n{\n    if (object_type === 'code') {\n        return `/c/${object_id}`;\n    } else if (object_type === 'domain') {\n        return `/domain/${object_id}`;\n    } else if (object_type === 'kingdom') {\n        return `/kingdom/${object_id}`;\n    } else if (object_type === 'user') {\n        return `/team#u-${object_id}`;\n    } else if (object_type === 'codelist') {\n        // special treatment for the 'all' list:\n        if (object_id === 'all') {\n            return `/all`;\n        }\n        return `/list/${object_id}`;\n    }\n\n    throw new Error(`Unknown object type ‘${object_type}’`);\n}\n\nexport function zoo_graphics_resource_permalink(graphics_resource)\n{\n    return `/fig/${graphics_resource.src_url}`;\n}\n\n\nexport const zoo_permalinks = {\n    object: zoo_object_permalink,\n    graphics_resource: zoo_graphics_resource_permalink,\n};\n","// ### Let's avoid bloating modules on the home page -- don't use debug() here\n//\n// import debug_mod from 'debug';\n// const debug = debug_mod('eczoo_sitegen.jscomponents.randomcode');\n\nimport './randomcode.scss';\n\nimport { zoo_object_permalink } from '@errorcorrectionzoo/eczoodb/permalinks.js';\n\n\nexport class RandomCodeShower\n{\n    constructor({container, random_codes_data_url})\n    {\n        this.element_container = container;\n\n        this.random_codes_data = null;\n\n        fetch(random_codes_data_url).then(\n            (response) => response.json()\n        ).then(\n            (data) => {\n                this.random_codes_data = data;\n                this.pick_and_show_random_code();\n            }\n        )\n\n    }\n\n    pick_and_show_random_code()\n    {\n        if (this.random_codes_data == null) {\n            throw new Error(\"RandomCodeShower.pick_and_show_random_code() called before \"+\n                            \"data was loaded\");\n        }\n\n        //debug(\"Choosing a random code to show ... \");\n\n        const code_ids = Object.keys( this.random_codes_data.codes );\n\n        const random_code_id = code_ids[ parseInt(code_ids.length * Math.random(), 0) ];\n        const random_code = this.random_codes_data.codes[random_code_id];\n\n        this._show_code(random_code_id, random_code);\n    }\n\n    _show_code(code_id, code)\n    {\n        let desc_html = code.description_html;\n\n        const code_url = zoo_object_permalink('code', code_id);\n\n        this.element_container.innerHTML = '';\n\n        const h1 = document.createElement('h1');\n        h1.innerHTML = `Your Random Code Pick: ${code.name_html}`;\n\n        const a_go = document.createElement('a');\n        a_go.setAttribute('href', code_url);\n        a_go.classList.add('random-code-quick-link');\n        a_go.classList.add('random-code-quick-link-go');\n        a_go.innerText = 'go →';\n\n        const a_new_random = document.createElement('a');\n        a_new_random.classList.add('random-code-quick-link');\n        a_new_random.classList.add('random-code-quick-link-refresh');\n        a_new_random.textContent = 'refresh';\n        a_new_random.href = 'javascript:void(0);'\n        a_new_random.addEventListener('click', () => this.pick_and_show_random_code());\n\n        const p_desc = document.createElement('p');\n        p_desc.classList.add('random-code-content');\n        p_desc.innerHTML = desc_html;\n\n        this.element_container.appendChild(h1);\n        this.element_container.appendChild(a_go);\n        this.element_container.appendChild(a_new_random);\n        this.element_container.appendChild(p_desc);\n        \n        if (window?.MathJax !== undefined) {\n            window.MathJax.typesetPromise([this.element_container]);\n        }\n    }\n};\n\n\n",null,"import { RandomCodeShower } from './index.js'; //'eczjscomponents/randomcode';\n\n\nwindow.addEventListener('load', function () {\n\n    let random_code_element = document.getElementById('random-code-box');\n    if (random_code_element) {\n        random_code_element._ecz_random_code_shower =\n            new RandomCodeShower({container: random_code_element,\n                                  random_codes_data_url: '/dat/randomcodedata.json'});\n        console.log(\"RandomCodeShower attached to element = \", random_code_element);\n    }\n\n});\n"],"names":["$feb5fca39cde5b67$export$2e2bcd8739ae039","instance","Constructor","TypeError","$2fecc3900506bd28$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","$cc27ff9056f4145a$export$b43a89a53492e4ce","object_type","object_id","concat","Error","$b11ad7193faa487a$export$2e98c15ad798bbb0","RandomCodeShower","param","container","random_codes_data_url","this","element_container","random_codes_data","fetch","then","response","json","data","_this","pick_and_show_random_code","protoProps","staticProps","code_ids","keys","codes","random_code_id","parseInt","Math","random","random_code","_show_code","code_id","code","desc_html","description_html","code_url","innerHTML","h1","document","createElement","name_html","a_go","setAttribute","classList","add","innerText","a_new_random","textContent","href","addEventListener","p_desc","appendChild","undefined","window","MathJax","typesetPromise","prototype","random_code_element","getElementById","_ecz_random_code_shower","console","log"],"version":3,"file":"setup.js.map"}